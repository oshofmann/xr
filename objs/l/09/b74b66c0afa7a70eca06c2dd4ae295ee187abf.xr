var __xr_tmp = [
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_BUTTON_FILE_STATE\">ACPI_BUTTON_FILE_STATE</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_BUTTON_FILE_INFO\">ACPI_BUTTON_FILE_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>));", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#acpi_device_bid\">acpi_device_bid</a>(<a class=\"id\" href=\"#device\">device</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>)-><a class=\"id\" href=\"#parent\">parent</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>) = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/* --------------------------------------------------------------------------</span>", 
"<span class=\"comment\">                                Driver Interface</span>", 
"<span class=\"comment\">   -------------------------------------------------------------------------- */</span>", 
"int <a class=\"id\" href=\"#acpi_lid_notifier_register\">acpi_lid_notifier_register</a>(struct <a class=\"id\" href=\"#notifier_block\">notifier_block</a> *<a class=\"id\" href=\"#nb\">nb</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#blocking_notifier_chain_register\">blocking_notifier_chain_register</a>(&amp;<a class=\"id\" href=\"#acpi_lid_notifier\">acpi_lid_notifier</a>, <a class=\"id\" href=\"#nb\">nb</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_lid_notifier_register\">acpi_lid_notifier_register</a>);", 
"", 
"int <a class=\"id\" href=\"#acpi_lid_notifier_unregister\">acpi_lid_notifier_unregister</a>(struct <a class=\"id\" href=\"#notifier_block\">notifier_block</a> *<a class=\"id\" href=\"#nb\">nb</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#blocking_notifier_chain_unregister\">blocking_notifier_chain_unregister</a>(&amp;<a class=\"id\" href=\"#acpi_lid_notifier\">acpi_lid_notifier</a>, <a class=\"id\" href=\"#nb\">nb</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_lid_notifier_unregister\">acpi_lid_notifier_unregister</a>);", 
"", 
"int <a class=\"id\" href=\"#acpi_lid_open\">acpi_lid_open</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#state\">state</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#lid_device\">lid_device</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#lid_device\">lid_device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_LID\", <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       &amp;<a class=\"id\" href=\"#state\">state</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/>return !!<a class=\"id\" href=\"#state\">state</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_lid_open\">acpi_lid_open</a>);", 
"", 
"static int <a class=\"id\" href=\"#acpi_lid_send_state\">acpi_lid_send_state</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_button\">acpi_button</a> *<a class=\"id\" href=\"#button\">button</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#state\">state</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_LID\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#state\">state</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* input layer checks if event is redundant */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input_report_switch\">input_report_switch</a>(<a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#input\">input</a>, <a class=\"id\" href=\"#SW_LID\">SW_LID</a>, !<a class=\"id\" href=\"#state\">state</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input_sync\">input_sync</a>(<a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#input\">input</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#blocking_notifier_call_chain\">blocking_notifier_call_chain</a>(&amp;<a class=\"id\" href=\"#acpi_lid_notifier\">acpi_lid_notifier</a>, <a class=\"id\" href=\"#state\">state</a>, <a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == <a class=\"id\" href=\"#NOTIFY_DONE\">NOTIFY_DONE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#blocking_notifier_call_chain\">blocking_notifier_call_chain</a>(&amp;<a class=\"id\" href=\"#acpi_lid_notifier\">acpi_lid_notifier</a>, <a class=\"id\" href=\"#state\">state</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == <a class=\"id\" href=\"#NOTIFY_DONE\">NOTIFY_DONE</a> || <a class=\"id\" href=\"#ret\">ret</a> == <a class=\"id\" href=\"#NOTIFY_OK\">NOTIFY_OK</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * It is also regarded as success if the notifier_chain</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * returns NOTIFY_OK or NOTIFY_DONE.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_button_notify\">acpi_button_notify</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_button\">acpi_button</a> *<a class=\"id\" href=\"#button\">button</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#input_dev\">input_dev</a> *<a class=\"id\" href=\"#input\">input</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#event\">event</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_FIXED_HARDWARE_EVENT\">ACPI_FIXED_HARDWARE_EVENT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a> = <a class=\"id\" href=\"#ACPI_BUTTON_NOTIFY_STATUS\">ACPI_BUTTON_NOTIFY_STATUS</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* fall through */</span>", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUTTON_NOTIFY_STATUS\">ACPI_BUTTON_NOTIFY_STATUS</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#input\">input</a> = <a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#input\">input</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#ACPI_BUTTON_TYPE_LID\">ACPI_BUTTON_TYPE_LID</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_lid_send_state\">acpi_lid_send_state</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#keycode\">keycode</a> = <a class=\"id\" href=\"#test_bit\">test_bit</a>(<a class=\"id\" href=\"#KEY_SLEEP\">KEY_SLEEP</a>, <a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#keybit\">keybit</a>) ?", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#KEY_SLEEP\">KEY_SLEEP</a> : <a class=\"id\" href=\"#KEY_POWER\">KEY_POWER</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#input_report_key\">input_report_key</a>(<a class=\"id\" href=\"#input\">input</a>, <a class=\"id\" href=\"#keycode\">keycode</a>, 1);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#input_sync\">input_sync</a>(<a class=\"id\" href=\"#input\">input</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#input_report_key\">input_report_key</a>(<a class=\"id\" href=\"#input\">input</a>, <a class=\"id\" href=\"#keycode\">keycode</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#input_sync\">input_sync</a>(<a class=\"id\" href=\"#input\">input</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_proc_event\">acpi_bus_generate_proc_event</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#event\">event</a>, ++<a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#pushed\">pushed</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Unsupported event [0x%x]\\n\", <a class=\"id\" href=\"#event\">event</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_button_resume\">acpi_button_resume</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_button\">acpi_button</a> *<a class=\"id\" href=\"#button\">button</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#ACPI_BUTTON_TYPE_LID\">ACPI_BUTTON_TYPE_LID</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_lid_send_state\">acpi_lid_send_state</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_button_add\">acpi_button_add</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_button\">acpi_button</a> *<a class=\"id\" href=\"#button\">button</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#input_dev\">input_dev</a> *<a class=\"id\" href=\"#input\">input</a>;", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#hid\">hid</a>, *<a class=\"id\" href=\"#name\">name</a>, *<a class=\"id\" href=\"#class\">class</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#button\">button</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#acpi_button\">acpi_button</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#button\">button</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver_data\">driver_data</a> = <a class=\"id\" href=\"#button\">button</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#input\">input</a> = <a class=\"id\" href=\"#input\">input</a> = <a class=\"id\" href=\"#input_allocate_device\">input_allocate_device</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#input\">input</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_free_button\">err_free_button</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hid\">hid</a> = <a class=\"id\" href=\"#acpi_device_hid\">acpi_device_hid</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#name\">name</a> = <a class=\"id\" href=\"#acpi_device_name\">acpi_device_name</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#class\">class</a> = <a class=\"id\" href=\"#acpi_device_class\">acpi_device_class</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#hid\">hid</a>, <a class=\"id\" href=\"#ACPI_BUTTON_HID_POWER\">ACPI_BUTTON_HID_POWER</a>) ||", 
"<span class=\"ts\"/>    !<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#hid\">hid</a>, <a class=\"id\" href=\"#ACPI_BUTTON_HID_POWERF\">ACPI_BUTTON_HID_POWERF</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#ACPI_BUTTON_TYPE_POWER\">ACPI_BUTTON_TYPE_POWER</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#ACPI_BUTTON_DEVICE_NAME_POWER\">ACPI_BUTTON_DEVICE_NAME_POWER</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#class\">class</a>, \"%s/%s\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_BUTTON_CLASS\">ACPI_BUTTON_CLASS</a>, <a class=\"id\" href=\"#ACPI_BUTTON_SUBCLASS_POWER\">ACPI_BUTTON_SUBCLASS_POWER</a>);", 
"<span class=\"ts\"/>} else if (!<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#hid\">hid</a>, <a class=\"id\" href=\"#ACPI_BUTTON_HID_SLEEP\">ACPI_BUTTON_HID_SLEEP</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>   !<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#hid\">hid</a>, <a class=\"id\" href=\"#ACPI_BUTTON_HID_SLEEPF\">ACPI_BUTTON_HID_SLEEPF</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#ACPI_BUTTON_TYPE_SLEEP\">ACPI_BUTTON_TYPE_SLEEP</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#ACPI_BUTTON_DEVICE_NAME_SLEEP\">ACPI_BUTTON_DEVICE_NAME_SLEEP</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#class\">class</a>, \"%s/%s\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_BUTTON_CLASS\">ACPI_BUTTON_CLASS</a>, <a class=\"id\" href=\"#ACPI_BUTTON_SUBCLASS_SLEEP\">ACPI_BUTTON_SUBCLASS_SLEEP</a>);", 
"<span class=\"ts\"/>} else if (!<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#hid\">hid</a>, <a class=\"id\" href=\"#ACPI_BUTTON_HID_LID\">ACPI_BUTTON_HID_LID</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#ACPI_BUTTON_TYPE_LID\">ACPI_BUTTON_TYPE_LID</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#ACPI_BUTTON_DEVICE_NAME_LID\">ACPI_BUTTON_DEVICE_NAME_LID</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#class\">class</a>, \"%s/%s\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_BUTTON_CLASS\">ACPI_BUTTON_CLASS</a>, <a class=\"id\" href=\"#ACPI_BUTTON_SUBCLASS_LID\">ACPI_BUTTON_SUBCLASS_LID</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Unsupported hid [%s]\\n\", <a class=\"id\" href=\"#hid\">hid</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_free_input\">err_free_input</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#acpi_button_add_fs\">acpi_button_add_fs</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_free_input\">err_free_input</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#phys\">phys</a>, sizeof(<a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#phys\">phys</a>), \"%s/button/input0\", <a class=\"id\" href=\"#hid\">hid</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#name\">name</a> = <a class=\"id\" href=\"#name\">name</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#phys\">phys</a> = <a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#phys\">phys</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#id\">id</a>.<a class=\"id\" href=\"#bustype\">bustype</a> = <a class=\"id\" href=\"#BUS_HOST\">BUS_HOST</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#id\">id</a>.<a class=\"id\" href=\"#product\">product</a> = <a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#type\">type</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#parent\">parent</a> = &amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#type\">type</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUTTON_TYPE_POWER\">ACPI_BUTTON_TYPE_POWER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#evbit\">evbit</a>[0] = <a class=\"id\" href=\"#BIT_MASK\">BIT_MASK</a>(<a class=\"id\" href=\"#EV_KEY\">EV_KEY</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#KEY_POWER\">KEY_POWER</a>, <a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#keybit\">keybit</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUTTON_TYPE_SLEEP\">ACPI_BUTTON_TYPE_SLEEP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#evbit\">evbit</a>[0] = <a class=\"id\" href=\"#BIT_MASK\">BIT_MASK</a>(<a class=\"id\" href=\"#EV_KEY\">EV_KEY</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#KEY_SLEEP\">KEY_SLEEP</a>, <a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#keybit\">keybit</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUTTON_TYPE_LID\">ACPI_BUTTON_TYPE_LID</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#evbit\">evbit</a>[0] = <a class=\"id\" href=\"#BIT_MASK\">BIT_MASK</a>(<a class=\"id\" href=\"#EV_SW\">EV_SW</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#SW_LID\">SW_LID</a>, <a class=\"id\" href=\"#input\">input</a>-><a class=\"id\" href=\"#swbit\">swbit</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#input_register_device\">input_register_device</a>(<a class=\"id\" href=\"#input\">input</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_remove_fs\">err_remove_fs</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#ACPI_BUTTON_TYPE_LID\">ACPI_BUTTON_TYPE_LID</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_lid_send_state\">acpi_lid_send_state</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * This assumes there's only one lid device, or if there are</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * more we only care about the last one...</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#lid_device\">lid_device</a> = <a class=\"id\" href=\"#device\">device</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Button's GPE is run-wake GPE */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_enable_gpe\">acpi_enable_gpe</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_device\">gpe_device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_number\">gpe_number</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#run_wake_count\">run_wake_count</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#enabled\">enabled</a> = 1;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"%s [%s]\\n\", <a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#acpi_device_bid\">acpi_device_bid</a>(<a class=\"id\" href=\"#device\">device</a>));", 
"<span class=\"ts\"/>return 0;", 
"", 
" <a class=\"id\" href=\"#err_remove_fs\">err_remove_fs</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_button_remove_fs\">acpi_button_remove_fs</a>(<a class=\"id\" href=\"#device\">device</a>);", 
" <a class=\"id\" href=\"#err_free_input\">err_free_input</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input_free_device\">input_free_device</a>(<a class=\"id\" href=\"#input\">input</a>);", 
" <a class=\"id\" href=\"#err_free_button\">err_free_button</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#button\">button</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_button_remove\">acpi_button_remove</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_button\">acpi_button</a> *<a class=\"id\" href=\"#button\">button</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_disable_gpe\">acpi_disable_gpe</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_device\">gpe_device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_number\">gpe_number</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#run_wake_count\">run_wake_count</a>--;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#enabled\">enabled</a> = 0;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_button_remove_fs\">acpi_button_remove_fs</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input_unregister_device\">input_unregister_device</a>(<a class=\"id\" href=\"#button\">button</a>-><a class=\"id\" href=\"#input\">input</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#button\">button</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#acpi_button_init\">acpi_button_init</a>(void)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_button_dir\">acpi_button_dir</a> = <a class=\"id\" href=\"#proc_mkdir\">proc_mkdir</a>(<a class=\"id\" href=\"#ACPI_BUTTON_CLASS\">ACPI_BUTTON_CLASS</a>, <a class=\"id\" href=\"#acpi_root_dir\">acpi_root_dir</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_button_dir\">acpi_button_dir</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_bus_register_driver\">acpi_bus_register_driver</a>(&amp;<a class=\"id\" href=\"#acpi_button_driver\">acpi_button_driver</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_BUTTON_CLASS\">ACPI_BUTTON_CLASS</a>, <a class=\"id\" href=\"#acpi_root_dir\">acpi_root_dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a> <a class=\"id\" href=\"#acpi_button_exit\">acpi_button_exit</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_unregister_driver\">acpi_bus_unregister_driver</a>(&amp;<a class=\"id\" href=\"#acpi_button_driver\">acpi_button_driver</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_power_dir\">acpi_power_dir</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_BUTTON_SUBCLASS_POWER\">ACPI_BUTTON_SUBCLASS_POWER</a>, <a class=\"id\" href=\"#acpi_button_dir\">acpi_button_dir</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_sleep_dir\">acpi_sleep_dir</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_BUTTON_SUBCLASS_SLEEP\">ACPI_BUTTON_SUBCLASS_SLEEP</a>, <a class=\"id\" href=\"#acpi_button_dir\">acpi_button_dir</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_lid_dir\">acpi_lid_dir</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_BUTTON_SUBCLASS_LID\">ACPI_BUTTON_SUBCLASS_LID</a>, <a class=\"id\" href=\"#acpi_button_dir\">acpi_button_dir</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_BUTTON_CLASS\">ACPI_BUTTON_CLASS</a>, <a class=\"id\" href=\"#acpi_root_dir\">acpi_root_dir</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#acpi_button_init\">acpi_button_init</a>);", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#acpi_button_exit\">acpi_button_exit</a>);", 
];
xr_frag_insert('l/09/b74b66c0afa7a70eca06c2dd4ae295ee187abf.xr', __xr_tmp);
