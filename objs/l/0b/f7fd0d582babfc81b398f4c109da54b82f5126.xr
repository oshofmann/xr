var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * driver.c - device id matching, driver model, etc.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright 2002 Adam Belay &lt;ambx1@neo.rr.com&gt;</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#string\">string</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#list\">list</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#ctype\">ctype</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> \"base.h\"", 
"", 
"static int <a class=\"id\" href=\"#compare_func\">compare_func</a>(const char *<a class=\"id\" href=\"#ida\">ida</a>, const char *<a class=\"id\" href=\"#idb\">idb</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* we only need to compare the last 4 chars */</span>", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 3; <a class=\"id\" href=\"#i\">i</a> &lt; 7; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ida\">ida</a>[<a class=\"id\" href=\"#i\">i</a>] != 'X' &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#idb\">idb</a>[<a class=\"id\" href=\"#i\">i</a>] != 'X' && <a class=\"id\" href=\"#toupper\">toupper</a>(<a class=\"id\" href=\"#ida\">ida</a>[<a class=\"id\" href=\"#i\">i</a>]) != <a class=\"id\" href=\"#toupper\">toupper</a>(<a class=\"id\" href=\"#idb\">idb</a>[<a class=\"id\" href=\"#i\">i</a>]))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"int <a class=\"id\" href=\"#compare_pnp_id\">compare_pnp_id</a>(struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a> *<a class=\"id\" href=\"#pos\">pos</a>, const char *<a class=\"id\" href=\"#id\">id</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pos\">pos</a> || !<a class=\"id\" href=\"#id\">id</a> || (<a class=\"id\" href=\"#strlen\">strlen</a>(<a class=\"id\" href=\"#id\">id</a>) != 7))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#memcmp\">memcmp</a>(<a class=\"id\" href=\"#id\">id</a>, \"ANYDEVS\", 7) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#pos\">pos</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#memcmp\">memcmp</a>(<a class=\"id\" href=\"#pos\">pos</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#id\">id</a>, 3) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#compare_func\">compare_func</a>(<a class=\"id\" href=\"#pos\">pos</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#id\">id</a>) == 1)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pos\">pos</a> = <a class=\"id\" href=\"#pos\">pos</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static const struct <a class=\"id\" href=\"#pnp_device_id\">pnp_device_id</a> *<a class=\"id\" href=\"#match_device\">match_device</a>(struct <a class=\"id\" href=\"#pnp_driver\">pnp_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#pnp_device_id\">pnp_device_id</a> *<a class=\"id\" href=\"#drv_id\">drv_id</a> = <a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#id_table\">id_table</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#drv_id\">drv_id</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>while (*<a class=\"id\" href=\"#drv_id\">drv_id</a>-><a class=\"id\" href=\"#id\">id</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#compare_pnp_id\">compare_pnp_id</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#drv_id\">drv_id</a>-><a class=\"id\" href=\"#id\">id</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#drv_id\">drv_id</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drv_id\">drv_id</a>++;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#pnp_device_attach\">pnp_device_attach</a>(struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#status\">status</a> != <a class=\"id\" href=\"#PNP_READY\">PNP_READY</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EBUSY\">EBUSY</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#PNP_ATTACHED\">PNP_ATTACHED</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"void <a class=\"id\" href=\"#pnp_device_detach\">pnp_device_detach</a>(struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#status\">status</a> == <a class=\"id\" href=\"#PNP_ATTACHED\">PNP_ATTACHED</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#PNP_READY\">PNP_READY</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pnp_disable_dev\">pnp_disable_dev</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#pnp_device_probe\">pnp_device_probe</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_driver\">pnp_driver</a> *<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#pnp_device_id\">pnp_device_id</a> *<a class=\"id\" href=\"#dev_id\">dev_id</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> = <a class=\"id\" href=\"#to_pnp_dev\">to_pnp_dev</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pnp_drv\">pnp_drv</a> = <a class=\"id\" href=\"#to_pnp_driver\">to_pnp_driver</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#driver\">driver</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#pnp_device_attach\">pnp_device_attach</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#active\">active</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#PNP_DRIVER_RES_DO_NOT_CHANGE\">PNP_DRIVER_RES_DO_NOT_CHANGE</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#pnp_activate_dev\">pnp_activate_dev</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>} else if ((<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#PNP_DRIVER_RES_DISABLE\">PNP_DRIVER_RES_DISABLE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>   == <a class=\"id\" href=\"#PNP_DRIVER_RES_DISABLE\">PNP_DRIVER_RES_DISABLE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#pnp_disable_dev\">pnp_disable_dev</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>-><a class=\"id\" href=\"#probe\">probe</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a> = <a class=\"id\" href=\"#match_device\">match_device</a>(<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>, <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev_id\">dev_id</a> != <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>-><a class=\"id\" href=\"#probe\">probe</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>, <a class=\"id\" href=\"#dev_id\">dev_id</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a> >= 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#driver\">driver</a> = <a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = 0;", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#fail\">fail</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<a class=\"id\" href=\"#fail\">fail</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pnp_device_detach\">pnp_device_detach</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#pnp_device_remove\">pnp_device_remove</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> = <a class=\"id\" href=\"#to_pnp_dev\">to_pnp_dev</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_driver\">pnp_driver</a> *<a class=\"id\" href=\"#drv\">drv</a> = <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#driver\">driver</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#drv\">drv</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#remove\">remove</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#remove\">remove</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#driver\">driver</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pnp_device_detach\">pnp_device_detach</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#pnp_device_shutdown\">pnp_device_shutdown</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> = <a class=\"id\" href=\"#to_pnp_dev\">to_pnp_dev</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_driver\">pnp_driver</a> *<a class=\"id\" href=\"#drv\">drv</a> = <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#driver\">driver</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#drv\">drv</a> && <a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#shutdown\">shutdown</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#shutdown\">shutdown</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#pnp_bus_match\">pnp_bus_match</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#device_driver\">device_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> = <a class=\"id\" href=\"#to_pnp_dev\">to_pnp_dev</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_driver\">pnp_driver</a> *<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a> = <a class=\"id\" href=\"#to_pnp_driver\">to_pnp_driver</a>(<a class=\"id\" href=\"#drv\">drv</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#match_device\">match_device</a>(<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>, <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#pnp_bus_suspend\">pnp_bus_suspend</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#pm_message_t\">pm_message_t</a> <a class=\"id\" href=\"#state\">state</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> = <a class=\"id\" href=\"#to_pnp_dev\">to_pnp_dev</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_driver\">pnp_driver</a> *<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a> = <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#driver\">driver</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>-><a class=\"id\" href=\"#suspend\">suspend</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>-><a class=\"id\" href=\"#suspend\">suspend</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>, <a class=\"id\" href=\"#state\">state</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_can_disable\">pnp_can_disable</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#pnp_stop_dev\">pnp_stop_dev</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#protocol\">protocol</a>-><a class=\"id\" href=\"#suspend\">suspend</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#protocol\">protocol</a>-><a class=\"id\" href=\"#suspend\">suspend</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>, <a class=\"id\" href=\"#state\">state</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#pnp_bus_resume\">pnp_bus_resume</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> = <a class=\"id\" href=\"#to_pnp_dev\">to_pnp_dev</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_driver\">pnp_driver</a> *<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a> = <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#driver\">driver</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#protocol\">protocol</a>-><a class=\"id\" href=\"#resume\">resume</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>-><a class=\"id\" href=\"#protocol\">protocol</a>-><a class=\"id\" href=\"#resume\">resume</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_can_write\">pnp_can_write</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#pnp_start_dev\">pnp_start_dev</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>-><a class=\"id\" href=\"#resume\">resume</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#pnp_drv\">pnp_drv</a>-><a class=\"id\" href=\"#resume\">resume</a>(<a class=\"id\" href=\"#pnp_dev\">pnp_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"struct <a class=\"id\" href=\"#bus_type\">bus_type</a> <a class=\"id\" href=\"#pnp_bus_type\">pnp_bus_type</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a>    = \"pnp\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#match\">match</a>   = <a class=\"id\" href=\"#pnp_bus_match\">pnp_bus_match</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#probe\">probe</a>   = <a class=\"id\" href=\"#pnp_device_probe\">pnp_device_probe</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#remove\">remove</a>  = <a class=\"id\" href=\"#pnp_device_remove\">pnp_device_remove</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#shutdown\">shutdown</a> = <a class=\"id\" href=\"#pnp_device_shutdown\">pnp_device_shutdown</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#suspend\">suspend</a> = <a class=\"id\" href=\"#pnp_bus_suspend\">pnp_bus_suspend</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#resume\">resume</a>  = <a class=\"id\" href=\"#pnp_bus_resume\">pnp_bus_resume</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#dev_attrs\">dev_attrs</a> = <a class=\"id\" href=\"#pnp_interface_attrs\">pnp_interface_attrs</a>,", 
"};", 
"", 
"int <a class=\"id\" href=\"#pnp_register_driver\">pnp_register_driver</a>(struct <a class=\"id\" href=\"#pnp_driver\">pnp_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#driver\">driver</a>.<a class=\"id\" href=\"#name\">name</a> = <a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#name\">name</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#driver\">driver</a>.<a class=\"id\" href=\"#bus\">bus</a> = &amp;<a class=\"id\" href=\"#pnp_bus_type\">pnp_bus_type</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#driver_register\">driver_register</a>(&amp;<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#driver\">driver</a>);", 
"}", 
"", 
"void <a class=\"id\" href=\"#pnp_unregister_driver\">pnp_unregister_driver</a>(struct <a class=\"id\" href=\"#pnp_driver\">pnp_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#driver_unregister\">driver_unregister</a>(&amp;<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#driver\">driver</a>);", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pnp_add_id - adds an EISA id to the specified device</span>", 
"<span class=\"comment\"> * @dev: pointer to the desired device</span>", 
"<span class=\"comment\"> * @id: pointer to an EISA id string</span>", 
"<span class=\"comment\"> */</span>", 
"struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a> *<a class=\"id\" href=\"#pnp_add_id\">pnp_add_id</a>(struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>, char *<a class=\"id\" href=\"#id\">id</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a> *<a class=\"id\" href=\"#dev_id\">dev_id</a>, *<a class=\"id\" href=\"#ptr\">ptr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev_id\">dev_id</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[0] = <a class=\"id\" href=\"#id\">id</a>[0];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[1] = <a class=\"id\" href=\"#id\">id</a>[1];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[2] = <a class=\"id\" href=\"#id\">id</a>[2];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[3] = <a class=\"id\" href=\"#tolower\">tolower</a>(<a class=\"id\" href=\"#id\">id</a>[3]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[4] = <a class=\"id\" href=\"#tolower\">tolower</a>(<a class=\"id\" href=\"#id\">id</a>[4]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[5] = <a class=\"id\" href=\"#tolower\">tolower</a>(<a class=\"id\" href=\"#id\">id</a>[5]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[6] = <a class=\"id\" href=\"#tolower\">tolower</a>(<a class=\"id\" href=\"#id\">id</a>[6]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[7] = '\\0';", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ptr\">ptr</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#id\">id</a>;", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#ptr\">ptr</a> && <a class=\"id\" href=\"#ptr\">ptr</a>-><a class=\"id\" href=\"#next\">next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ptr\">ptr</a> = <a class=\"id\" href=\"#ptr\">ptr</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ptr\">ptr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ptr\">ptr</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#dev_id\">dev_id</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#dev_id\">dev_id</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#dev_id\">dev_id</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#pnp_register_driver\">pnp_register_driver</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#pnp_unregister_driver\">pnp_unregister_driver</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#pnp_device_attach\">pnp_device_attach</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#pnp_device_detach\">pnp_device_detach</a>);", 
];
xr_frag_insert('l/0b/f7fd0d582babfc81b398f4c109da54b82f5126.xr', __xr_tmp);
