var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * fbsysfs.c - framebuffer device class and attributes</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright (c) 2004 James Simmons &lt;jsimmons@infradead.org&gt;</span>", 
"<span class=\"comment\"> * </span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>This program is free software you can redistribute it and/or</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>modify it under the terms of the GNU General Public License</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>as published by the Free Software Foundation; either version</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>2 of the License, or (at your option) any later version.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Note:  currently there's only stubs for framebuffer_alloc and</span>", 
"<span class=\"comment\"> * framebuffer_release here.  The reson for that is that until all drivers</span>", 
"<span class=\"comment\"> * are converted to use it a sysfsification will open OOPSable races.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#fb\">fb</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#console\">console</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#FB_SYSFS_FLAG_ATTR\">FB_SYSFS_FLAG_ATTR</a> 1", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * framebuffer_alloc - creates a new frame buffer info structure</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * @size: size of driver private data, can be zero</span>", 
"<span class=\"comment\"> * @dev: pointer to the device for this fb, this can be NULL</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Creates a new frame buffer info structure. Also reserves @size bytes</span>", 
"<span class=\"comment\"> * for driver private data (info-&gt;par). info-&gt;par (if any) will be</span>", 
"<span class=\"comment\"> * aligned to sizeof(long).</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Returns the new structure, or NULL if an error occured.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#framebuffer_alloc\">framebuffer_alloc</a>(<a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#size\">size</a>, struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#BYTES_PER_LONG\">BYTES_PER_LONG</a> (<a class=\"id\" href=\"#BITS_PER_LONG\">BITS_PER_LONG</a>/8)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#PADDING\">PADDING</a> (<a class=\"id\" href=\"#BYTES_PER_LONG\">BYTES_PER_LONG</a> - (sizeof(struct <a class=\"id\" href=\"#fb_info\">fb_info</a>) % <a class=\"id\" href=\"#BYTES_PER_LONG\">BYTES_PER_LONG</a>))", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#fb_info_size\">fb_info_size</a> = sizeof(struct <a class=\"id\" href=\"#fb_info\">fb_info</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#p\">p</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info_size\">fb_info_size</a> += <a class=\"id\" href=\"#PADDING\">PADDING</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(<a class=\"id\" href=\"#fb_info_size\">fb_info_size</a> + <a class=\"id\" href=\"#size\">size</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#p\">p</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a> = (struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *) <a class=\"id\" href=\"#p\">p</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#par\">par</a> = <a class=\"id\" href=\"#p\">p</a> + <a class=\"id\" href=\"#fb_info_size\">fb_info_size</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_FB_BACKLIGHT\">CONFIG_FB_BACKLIGHT</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_init\">mutex_init</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#bl_curve_mutex\">bl_curve_mutex</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#info\">info</a>;", 
"#<a class=\"id\" href=\"#undef\">undef</a> <a class=\"id\" href=\"#PADDING\">PADDING</a>", 
"#<a class=\"id\" href=\"#undef\">undef</a> <a class=\"id\" href=\"#BYTES_PER_LONG\">BYTES_PER_LONG</a>", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#framebuffer_alloc\">framebuffer_alloc</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * framebuffer_release - marks the structure available for freeing</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * @info: frame buffer info structure</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Drop the reference count of the device embedded in the</span>", 
"<span class=\"comment\"> * framebuffer info structure.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#framebuffer_release\">framebuffer_release</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#apertures\">apertures</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#framebuffer_release\">framebuffer_release</a>);", 
"", 
"static int <a class=\"id\" href=\"#activate\">activate</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a>, struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> *<a class=\"id\" href=\"#var\">var</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#activate\">activate</a> |= <a class=\"id\" href=\"#FB_ACTIVATE_FORCE\">FB_ACTIVATE_FORCE</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acquire_console_sem\">acquire_console_sem</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#FBINFO_MISC_USEREVENT\">FBINFO_MISC_USEREVENT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#fb_set_var\">fb_set_var</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>, <a class=\"id\" href=\"#var\">var</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#flags\">flags</a> &= ~<a class=\"id\" href=\"#FBINFO_MISC_USEREVENT\">FBINFO_MISC_USEREVENT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#release_console_sem\">release_console_sem</a>();", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#mode_string\">mode_string</a>(char *<a class=\"id\" href=\"#buf\">buf</a>, unsigned int <a class=\"id\" href=\"#offset\">offset</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>       const struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#mode\">mode</a>)", 
"{", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#m\">m</a> = 'U';", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#v\">v</a> = 'p';", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#flag\">flag</a> &amp; <a class=\"id\" href=\"#FB_MODE_IS_DETAILED\">FB_MODE_IS_DETAILED</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = 'D';", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#flag\">flag</a> &amp; <a class=\"id\" href=\"#FB_MODE_IS_VESA\">FB_MODE_IS_VESA</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = 'V';", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#flag\">flag</a> &amp; <a class=\"id\" href=\"#FB_MODE_IS_STANDARD\">FB_MODE_IS_STANDARD</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = 'S';", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#vmode\">vmode</a> &amp; <a class=\"id\" href=\"#FB_VMODE_INTERLACED\">FB_VMODE_INTERLACED</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> = 'i';", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#vmode\">vmode</a> &amp; <a class=\"id\" href=\"#FB_VMODE_DOUBLE\">FB_VMODE_DOUBLE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> = 'd';", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#snprintf\">snprintf</a>(&amp;<a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#offset\">offset</a>], <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a> - <a class=\"id\" href=\"#offset\">offset</a>, \"%c:%dx%d%c-%d\\n\",", 
"<span class=\"ts\"/>                <a class=\"id\" href=\"#m\">m</a>, <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#xres\">xres</a>, <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#yres\">yres</a>, <a class=\"id\" href=\"#v\">v</a>, <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#refresh\">refresh</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_mode\">store_mode</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>, struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#mstr\">mstr</a>[100];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> <a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_modelist\">fb_modelist</a> *<a class=\"id\" href=\"#modelist\">modelist</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> *<a class=\"id\" href=\"#pos\">pos</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#var\">var</a>, 0, sizeof(<a class=\"id\" href=\"#var\">var</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each\">list_for_each</a>(<a class=\"id\" href=\"#pos\">pos</a>, &amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#modelist\">modelist</a> = <a class=\"id\" href=\"#list_entry\">list_entry</a>(<a class=\"id\" href=\"#pos\">pos</a>, struct <a class=\"id\" href=\"#fb_modelist\">fb_modelist</a>, <a class=\"id\" href=\"#list\">list</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a> = &amp;<a class=\"id\" href=\"#modelist\">modelist</a>-><a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#mode_string\">mode_string</a>(<a class=\"id\" href=\"#mstr\">mstr</a>, 0, <a class=\"id\" href=\"#mode\">mode</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#mstr\">mstr</a>, <a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#max\">max</a>(<a class=\"id\" href=\"#count\">count</a>, <a class=\"id\" href=\"#i\">i</a>)) == 0) {", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a> = <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_videomode_to_var\">fb_videomode_to_var</a>(&amp;<a class=\"id\" href=\"#var\">var</a>, <a class=\"id\" href=\"#mode\">mode</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#activate\">activate</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>, &amp;<a class=\"id\" href=\"#var\">var</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#mode\">mode</a> = <a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_mode\">show_mode</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>, struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#mode\">mode</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#mode_string\">mode_string</a>(<a class=\"id\" href=\"#buf\">buf</a>, 0, <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#mode\">mode</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_modes\">store_modes</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#LIST_HEAD\">LIST_HEAD</a>(<a class=\"id\" href=\"#old_list\">old_list</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#count\">count</a> / sizeof(struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#i\">i</a> * sizeof(struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a>) != <a class=\"id\" href=\"#count\">count</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acquire_console_sem\">acquire_console_sem</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_splice\">list_splice</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>, &amp;<a class=\"id\" href=\"#old_list\">old_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_videomode_to_modelist\">fb_videomode_to_modelist</a>((const struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *)<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#i\">i</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> &amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fb_new_modelist\">fb_new_modelist</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_destroy_modelist\">fb_destroy_modelist</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_splice\">list_splice</a>(&amp;<a class=\"id\" href=\"#old_list\">old_list</a>, &amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>);", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_destroy_modelist\">fb_destroy_modelist</a>(&amp;<a class=\"id\" href=\"#old_list\">old_list</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#release_console_sem\">release_console_sem</a>();", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_modes\">show_modes</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>, struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> *<a class=\"id\" href=\"#pos\">pos</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_modelist\">fb_modelist</a> *<a class=\"id\" href=\"#modelist\">modelist</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#mode\">mode</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each\">list_for_each</a>(<a class=\"id\" href=\"#pos\">pos</a>, &amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#modelist\">modelist</a> = <a class=\"id\" href=\"#list_entry\">list_entry</a>(<a class=\"id\" href=\"#pos\">pos</a>, struct <a class=\"id\" href=\"#fb_modelist\">fb_modelist</a>, <a class=\"id\" href=\"#list\">list</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a> = &amp;<a class=\"id\" href=\"#modelist\">modelist</a>-><a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> += <a class=\"id\" href=\"#mode_string\">mode_string</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#mode\">mode</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#i\">i</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_bpp\">store_bpp</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>, struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> <a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/>char ** <a class=\"id\" href=\"#last\">last</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a> = <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#bits_per_pixel\">bits_per_pixel</a> = <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#last\">last</a>, 0);", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#activate\">activate</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>, &amp;<a class=\"id\" href=\"#var\">var</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_bpp\">show_bpp</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>, struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>, \"%d\\n\", <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#bits_per_pixel\">bits_per_pixel</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_rotate\">store_rotate</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> <a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/>char **<a class=\"id\" href=\"#last\">last</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a> = <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#rotate\">rotate</a> = <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#last\">last</a>, 0);", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#activate\">activate</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>, &amp;<a class=\"id\" href=\"#var\">var</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_rotate\">show_rotate</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>, \"%d\\n\", <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#rotate\">rotate</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_virtual\">store_virtual</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> <a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#last\">last</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a> = <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#xres_virtual\">xres_virtual</a> = <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#buf\">buf</a>, &amp;<a class=\"id\" href=\"#last\">last</a>, 0);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#last\">last</a>++;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#last\">last</a> - <a class=\"id\" href=\"#buf\">buf</a> >= <a class=\"id\" href=\"#count\">count</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#yres_virtual\">yres_virtual</a> = <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#last\">last</a>, &amp;<a class=\"id\" href=\"#last\">last</a>, 0);", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#activate\">activate</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>, &amp;<a class=\"id\" href=\"#var\">var</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_virtual\">show_virtual</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>, \"%d,%d\\n\", <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#xres_virtual\">xres_virtual</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#yres_virtual\">yres_virtual</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_stride\">show_stride</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>, \"%d\\n\", <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#line_length\">line_length</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_blank\">store_blank</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#last\">last</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acquire_console_sem\">acquire_console_sem</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#FBINFO_MISC_USEREVENT\">FBINFO_MISC_USEREVENT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#fb_blank\">fb_blank</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>, <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#buf\">buf</a>, &amp;<a class=\"id\" href=\"#last\">last</a>, 0));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#flags\">flags</a> &= ~<a class=\"id\" href=\"#FBINFO_MISC_USEREVENT\">FBINFO_MISC_USEREVENT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#release_console_sem\">release_console_sem</a>();", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_blank\">show_blank</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"comment\">//<span class=\"ts\"/>struct fb_info *fb_info = dev_get_drvdata(device);</span>", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_console\">store_console</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"comment\">//<span class=\"ts\"/>struct fb_info *fb_info = dev_get_drvdata(device);</span>", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_console\">show_console</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"comment\">//<span class=\"ts\"/>struct fb_info *fb_info = dev_get_drvdata(device);</span>", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_cursor\">store_cursor</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"comment\">//<span class=\"ts\"/>struct fb_info *fb_info = dev_get_drvdata(device);</span>", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_cursor\">show_cursor</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"comment\">//<span class=\"ts\"/>struct fb_info *fb_info = dev_get_drvdata(device);</span>", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_pan\">store_pan</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> <a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#last\">last</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a> = <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#xoffset\">xoffset</a> = <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#buf\">buf</a>, &amp;<a class=\"id\" href=\"#last\">last</a>, 0);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#last\">last</a>++;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#last\">last</a> - <a class=\"id\" href=\"#buf\">buf</a> >= <a class=\"id\" href=\"#count\">count</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#yoffset\">yoffset</a> = <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#last\">last</a>, &amp;<a class=\"id\" href=\"#last\">last</a>, 0);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acquire_console_sem\">acquire_console_sem</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#fb_pan_display\">fb_pan_display</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>, &amp;<a class=\"id\" href=\"#var\">var</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#release_console_sem\">release_console_sem</a>();", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_pan\">show_pan</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>, \"%d,%d\\n\", <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#xoffset\">xoffset</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#yoffset\">yoffset</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_name\">show_name</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>, \"%s\\n\", <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#id\">id</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_fbstate\">store_fbstate</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#state\">state</a>;", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#last\">last</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#state\">state</a> = <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#buf\">buf</a>, &amp;<a class=\"id\" href=\"#last\">last</a>, 0);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acquire_console_sem\">acquire_console_sem</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_set_suspend\">fb_set_suspend</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>, (int)<a class=\"id\" href=\"#state\">state</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#release_console_sem\">release_console_sem</a>();", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_fbstate\">show_fbstate</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>, \"%d\\n\", <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#state\">state</a>);", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_FB_BACKLIGHT\">CONFIG_FB_BACKLIGHT</a>", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#store_bl_curve\">store_bl_curve</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#tmp_curve\">tmp_curve</a>[<a class=\"id\" href=\"#FB_BACKLIGHT_LEVELS\">FB_BACKLIGHT_LEVELS</a>];", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Some drivers don't use framebuffer_alloc(), but those also</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * don't have backlights.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#fb_info\">fb_info</a> || !<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_dev\">bl_dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#count\">count</a> != (<a class=\"id\" href=\"#FB_BACKLIGHT_LEVELS\">FB_BACKLIGHT_LEVELS</a> / 8 * 24))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; (<a class=\"id\" href=\"#FB_BACKLIGHT_LEVELS\">FB_BACKLIGHT_LEVELS</a> / 8); ++<a class=\"id\" href=\"#i\">i</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sscanf\">sscanf</a>(&amp;<a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#i\">i</a> * 24],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"%2hhx %2hhx %2hhx %2hhx %2hhx %2hhx %2hhx %2hhx\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#tmp_curve\">tmp_curve</a>[<a class=\"id\" href=\"#i\">i</a> * 8 + 0],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#tmp_curve\">tmp_curve</a>[<a class=\"id\" href=\"#i\">i</a> * 8 + 1],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#tmp_curve\">tmp_curve</a>[<a class=\"id\" href=\"#i\">i</a> * 8 + 2],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#tmp_curve\">tmp_curve</a>[<a class=\"id\" href=\"#i\">i</a> * 8 + 3],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#tmp_curve\">tmp_curve</a>[<a class=\"id\" href=\"#i\">i</a> * 8 + 4],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#tmp_curve\">tmp_curve</a>[<a class=\"id\" href=\"#i\">i</a> * 8 + 5],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#tmp_curve\">tmp_curve</a>[<a class=\"id\" href=\"#i\">i</a> * 8 + 6],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#tmp_curve\">tmp_curve</a>[<a class=\"id\" href=\"#i\">i</a> * 8 + 7]) != 8)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* If there has been an error in the input data, we won't</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * reach this loop.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve_mutex\">bl_curve_mutex</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#FB_BACKLIGHT_LEVELS\">FB_BACKLIGHT_LEVELS</a>; ++<a class=\"id\" href=\"#i\">i</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#i\">i</a>] = <a class=\"id\" href=\"#tmp_curve\">tmp_curve</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve_mutex\">bl_curve_mutex</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_bl_curve\">show_bl_curve</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#len\">len</a> = 0;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Some drivers don't use framebuffer_alloc(), but those also</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * don't have backlights.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#fb_info\">fb_info</a> || !<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_dev\">bl_dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve_mutex\">bl_curve_mutex</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#FB_BACKLIGHT_LEVELS\">FB_BACKLIGHT_LEVELS</a>; <a class=\"id\" href=\"#i\">i</a> += 8)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a> += <a class=\"id\" href=\"#snprintf\">snprintf</a>(&amp;<a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#len\">len</a>], <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"%02x %02x %02x %02x %02x %02x %02x %02x\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#i\">i</a> + 0],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#i\">i</a> + 1],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#i\">i</a> + 2],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#i\">i</a> + 3],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#i\">i</a> + 4],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#i\">i</a> + 5],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#i\">i</a> + 6],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#i\">i</a> + 7]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve_mutex\">bl_curve_mutex</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#len\">len</a>;", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/* When cmap is added back in it should be a binary attribute</span>", 
"<span class=\"comment\"> * not a text one. Consideration should also be given to converting</span>", 
"<span class=\"comment\"> * fbdev to use configfs instead of sysfs */</span>", 
"static struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> <a class=\"id\" href=\"#device_attrs\">device_attrs</a>[] = {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#bits_per_pixel\">bits_per_pixel</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_bpp\">show_bpp</a>, <a class=\"id\" href=\"#store_bpp\">store_bpp</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#blank\">blank</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_blank\">show_blank</a>, <a class=\"id\" href=\"#store_blank\">store_blank</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#console\">console</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_console\">show_console</a>, <a class=\"id\" href=\"#store_console\">store_console</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#cursor\">cursor</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_cursor\">show_cursor</a>, <a class=\"id\" href=\"#store_cursor\">store_cursor</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#mode\">mode</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_mode\">show_mode</a>, <a class=\"id\" href=\"#store_mode\">store_mode</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#modes\">modes</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_modes\">show_modes</a>, <a class=\"id\" href=\"#store_modes\">store_modes</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#pan\">pan</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_pan\">show_pan</a>, <a class=\"id\" href=\"#store_pan\">store_pan</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#virtual_size\">virtual_size</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_virtual\">show_virtual</a>, <a class=\"id\" href=\"#store_virtual\">store_virtual</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>, <a class=\"id\" href=\"#show_name\">show_name</a>, <a class=\"id\" href=\"#NULL\">NULL</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#stride\">stride</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>, <a class=\"id\" href=\"#show_stride\">show_stride</a>, <a class=\"id\" href=\"#NULL\">NULL</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#rotate\">rotate</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_rotate\">show_rotate</a>, <a class=\"id\" href=\"#store_rotate\">store_rotate</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#state\">state</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_fbstate\">show_fbstate</a>, <a class=\"id\" href=\"#store_fbstate\">store_fbstate</a>),", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_FB_BACKLIGHT\">CONFIG_FB_BACKLIGHT</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#bl_curve\">bl_curve</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#show_bl_curve\">show_bl_curve</a>, <a class=\"id\" href=\"#store_bl_curve\">store_bl_curve</a>),", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"};", 
"", 
"int <a class=\"id\" href=\"#fb_init_device\">fb_init_device</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#error\">error</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_set_drvdata\">dev_set_drvdata</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#fb_info\">fb_info</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#class_flag\">class_flag</a> |= <a class=\"id\" href=\"#FB_SYSFS_FLAG_ATTR\">FB_SYSFS_FLAG_ATTR</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#device_attrs\">device_attrs</a>); <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#device_create_file\">device_create_file</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#device_attrs\">device_attrs</a>[<a class=\"id\" href=\"#i\">i</a>]);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>while (--<a class=\"id\" href=\"#i\">i</a> >= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device_remove_file\">device_remove_file</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#device_attrs\">device_attrs</a>[<a class=\"id\" href=\"#i\">i</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#class_flag\">class_flag</a> &= ~<a class=\"id\" href=\"#FB_SYSFS_FLAG_ATTR\">FB_SYSFS_FLAG_ATTR</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"void <a class=\"id\" href=\"#fb_cleanup_device\">fb_cleanup_device</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a>)", 
"{", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#class_flag\">class_flag</a> &amp; <a class=\"id\" href=\"#FB_SYSFS_FLAG_ATTR\">FB_SYSFS_FLAG_ATTR</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#device_attrs\">device_attrs</a>); <a class=\"id\" href=\"#i\">i</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device_remove_file\">device_remove_file</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#device_attrs\">device_attrs</a>[<a class=\"id\" href=\"#i\">i</a>]);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#class_flag\">class_flag</a> &= ~<a class=\"id\" href=\"#FB_SYSFS_FLAG_ATTR\">FB_SYSFS_FLAG_ATTR</a>;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_FB_BACKLIGHT\">CONFIG_FB_BACKLIGHT</a>", 
"<span class=\"comment\">/* This function generates a linear backlight curve</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *     0: off</span>", 
"<span class=\"comment\"> *   1-7: min</span>", 
"<span class=\"comment\"> * 8-127: linear from min to max</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#fb_bl_default_curve\">fb_bl_default_curve</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#off\">off</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#min\">min</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#max\">max</a>)", 
"{", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#flat\">flat</a>, <a class=\"id\" href=\"#count\">count</a>, <a class=\"id\" href=\"#range\">range</a> = (<a class=\"id\" href=\"#max\">max</a> - <a class=\"id\" href=\"#min\">min</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve_mutex\">bl_curve_mutex</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[0] = <a class=\"id\" href=\"#off\">off</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#flat\">flat</a> = 1; <a class=\"id\" href=\"#flat\">flat</a> &lt; (<a class=\"id\" href=\"#FB_BACKLIGHT_LEVELS\">FB_BACKLIGHT_LEVELS</a> / 16); ++<a class=\"id\" href=\"#flat\">flat</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#flat\">flat</a>] = <a class=\"id\" href=\"#min\">min</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#count\">count</a> = <a class=\"id\" href=\"#FB_BACKLIGHT_LEVELS\">FB_BACKLIGHT_LEVELS</a> * 15 / 16;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#count\">count</a>; ++<a class=\"id\" href=\"#i\">i</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve\">bl_curve</a>[<a class=\"id\" href=\"#flat\">flat</a> + <a class=\"id\" href=\"#i\">i</a>] = <a class=\"id\" href=\"#min\">min</a> + (<a class=\"id\" href=\"#range\">range</a> * (<a class=\"id\" href=\"#i\">i</a> + 1) / <a class=\"id\" href=\"#count\">count</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#bl_curve_mutex\">bl_curve_mutex</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#fb_bl_default_curve\">fb_bl_default_curve</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
];
xr_frag_insert('l/0d/49e75a29896b678cdf63b26b6b5e8932bc1eea.xr', __xr_tmp);
