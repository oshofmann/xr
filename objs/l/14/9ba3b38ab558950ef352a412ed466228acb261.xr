var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * drivers/base/cpu.c - basic CPU class support</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#sysdev\">sysdev</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#sched\">sched</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#cpu\">cpu</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#topology\">topology</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#device\">device</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#node\">node</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#gfp\">gfp</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> \"base.h\"", 
"", 
"static struct <a class=\"id\" href=\"#sysdev_class_attribute\">sysdev_class_attribute</a> *<a class=\"id\" href=\"#cpu_sysdev_class_attrs\">cpu_sysdev_class_attrs</a>[];", 
"", 
"struct <a class=\"id\" href=\"#sysdev_class\">sysdev_class</a> <a class=\"id\" href=\"#cpu_sysdev_class\">cpu_sysdev_class</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a> = \"cpu\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#attrs\">attrs</a> = <a class=\"id\" href=\"#cpu_sysdev_class_attrs\">cpu_sysdev_class_attrs</a>,", 
"};", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#cpu_sysdev_class\">cpu_sysdev_class</a>);", 
"", 
"static <a class=\"id\" href=\"#DEFINE_PER_CPU\">DEFINE_PER_CPU</a>(struct <a class=\"id\" href=\"#sys_device\">sys_device</a> *, <a class=\"id\" href=\"#cpu_sys_devices\">cpu_sys_devices</a>);", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_HOTPLUG_CPU\">CONFIG_HOTPLUG_CPU</a>", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_online\">show_online</a>(struct <a class=\"id\" href=\"#sys_device\">sys_device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#sysdev_attribute\">sysdev_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpu\">cpu</a> *<a class=\"id\" href=\"#cpu\">cpu</a> = <a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#cpu\">cpu</a>, <a class=\"id\" href=\"#sysdev\">sysdev</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%u\\n\", !!<a class=\"id\" href=\"#cpu_online\">cpu_online</a>(<a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>.<a class=\"id\" href=\"#id\">id</a>));", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#__ref\">__ref</a> <a class=\"id\" href=\"#store_online\">store_online</a>(struct <a class=\"id\" href=\"#sys_device\">sys_device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#sysdev_attribute\">sysdev_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpu\">cpu</a> *<a class=\"id\" href=\"#cpu\">cpu</a> = <a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#cpu\">cpu</a>, <a class=\"id\" href=\"#sysdev\">sysdev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpu_hotplug_driver_lock\">cpu_hotplug_driver_lock</a>();", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#buf\">buf</a>[0]) {", 
"<span class=\"ts\"/>case '0':", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#cpu_down\">cpu_down</a>(<a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>.<a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kobject_uevent\">kobject_uevent</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#kobj\">kobj</a>, <a class=\"id\" href=\"#KOBJ_OFFLINE\">KOBJ_OFFLINE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case '1':", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#cpu_up\">cpu_up</a>(<a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>.<a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kobject_uevent\">kobject_uevent</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#kobj\">kobj</a>, <a class=\"id\" href=\"#KOBJ_ONLINE\">KOBJ_ONLINE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpu_hotplug_driver_unlock\">cpu_hotplug_driver_unlock</a>();", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> >= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#count\">count</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"static <a class=\"id\" href=\"#SYSDEV_ATTR\">SYSDEV_ATTR</a>(<a class=\"id\" href=\"#online\">online</a>, 0644, <a class=\"id\" href=\"#show_online\">show_online</a>, <a class=\"id\" href=\"#store_online\">store_online</a>);", 
"", 
"static void <a class=\"id\" href=\"#__cpuinit\">__cpuinit</a> <a class=\"id\" href=\"#register_cpu_control\">register_cpu_control</a>(struct <a class=\"id\" href=\"#cpu\">cpu</a> *<a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysdev_create_file\">sysdev_create_file</a>(&amp;<a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>, &amp;<a class=\"id\" href=\"#attr_online\">attr_online</a>);", 
"}", 
"void <a class=\"id\" href=\"#unregister_cpu\">unregister_cpu</a>(struct <a class=\"id\" href=\"#cpu\">cpu</a> *<a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#logical_cpu\">logical_cpu</a> = <a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>.<a class=\"id\" href=\"#id\">id</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unregister_cpu_under_node\">unregister_cpu_under_node</a>(<a class=\"id\" href=\"#logical_cpu\">logical_cpu</a>, <a class=\"id\" href=\"#cpu_to_node\">cpu_to_node</a>(<a class=\"id\" href=\"#logical_cpu\">logical_cpu</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysdev_remove_file\">sysdev_remove_file</a>(&amp;<a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>, &amp;<a class=\"id\" href=\"#attr_online\">attr_online</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysdev_unregister\">sysdev_unregister</a>(&amp;<a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpu_sys_devices\">cpu_sys_devices</a>, <a class=\"id\" href=\"#logical_cpu\">logical_cpu</a>) = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>return;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ARCH_CPU_PROBE_RELEASE\">CONFIG_ARCH_CPU_PROBE_RELEASE</a>", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#cpu_probe_store\">cpu_probe_store</a>(struct <a class=\"id\" href=\"#sysdev_class\">sysdev_class</a> *<a class=\"id\" href=\"#class\">class</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       struct <a class=\"id\" href=\"#sysdev_class_attribute\">sysdev_class_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       const char *<a class=\"id\" href=\"#buf\">buf</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#arch_cpu_probe\">arch_cpu_probe</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#count\">count</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#cpu_release_store\">cpu_release_store</a>(struct <a class=\"id\" href=\"#sysdev_class\">sysdev_class</a> *<a class=\"id\" href=\"#class\">class</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#sysdev_class_attribute\">sysdev_class_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> const char *<a class=\"id\" href=\"#buf\">buf</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#arch_cpu_release\">arch_cpu_release</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#count\">count</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#SYSDEV_CLASS_ATTR\">SYSDEV_CLASS_ATTR</a>(<a class=\"id\" href=\"#probe\">probe</a>, <a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#cpu_probe_store\">cpu_probe_store</a>);", 
"static <a class=\"id\" href=\"#SYSDEV_CLASS_ATTR\">SYSDEV_CLASS_ATTR</a>(<a class=\"id\" href=\"#release\">release</a>, <a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#cpu_release_store\">cpu_release_store</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* CONFIG_ARCH_CPU_PROBE_RELEASE */</span>", 
"", 
"#else <span class=\"comment\">/* ... !CONFIG_HOTPLUG_CPU */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#register_cpu_control\">register_cpu_control</a>(struct <a class=\"id\" href=\"#cpu\">cpu</a> *<a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* CONFIG_HOTPLUG_CPU */</span>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_KEXEC\">CONFIG_KEXEC</a>", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kexec\">kexec</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_crash_notes\">show_crash_notes</a>(struct <a class=\"id\" href=\"#sys_device\">sys_device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#sysdev_attribute\">sysdev_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpu\">cpu</a> *<a class=\"id\" href=\"#cpu\">cpu</a> = <a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#cpu\">cpu</a>, <a class=\"id\" href=\"#sysdev\">sysdev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#rc\">rc</a>;", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#addr\">addr</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#cpunum\">cpunum</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpunum\">cpunum</a> = <a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>.<a class=\"id\" href=\"#id\">id</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Might be reading other cpu's data based on which cpu read thread</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * has been scheduled. But cpu data (memory) is allocated once during</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * boot up and this data does not change there after. Hence this</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * operation should be safe. No locking required.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#addr\">addr</a> = <a class=\"id\" href=\"#per_cpu_ptr_to_phys\">per_cpu_ptr_to_phys</a>(<a class=\"id\" href=\"#per_cpu_ptr\">per_cpu_ptr</a>(<a class=\"id\" href=\"#crash_notes\">crash_notes</a>, <a class=\"id\" href=\"#cpunum\">cpunum</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%Lx\\n\", <a class=\"id\" href=\"#addr\">addr</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"}", 
"static <a class=\"id\" href=\"#SYSDEV_ATTR\">SYSDEV_ATTR</a>(<a class=\"id\" href=\"#crash_notes\">crash_notes</a>, 0400, <a class=\"id\" href=\"#show_crash_notes\">show_crash_notes</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Print cpu online, possible, present, and system maps</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"struct <a class=\"id\" href=\"#cpu_attr\">cpu_attr</a> {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sysdev_class_attribute\">sysdev_class_attribute</a> <a class=\"id\" href=\"#attr\">attr</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#cpumask\">cpumask</a> *const * const <a class=\"id\" href=\"#map\">map</a>;", 
"};", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#show_cpus_attr\">show_cpus_attr</a>(struct <a class=\"id\" href=\"#sysdev_class\">sysdev_class</a> *<a class=\"id\" href=\"#class\">class</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      struct <a class=\"id\" href=\"#sysdev_class_attribute\">sysdev_class_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpu_attr\">cpu_attr</a> *<a class=\"id\" href=\"#ca\">ca</a> = <a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#attr\">attr</a>, struct <a class=\"id\" href=\"#cpu_attr\">cpu_attr</a>, <a class=\"id\" href=\"#attr\">attr</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#n\">n</a> = <a class=\"id\" href=\"#cpulist_scnprintf\">cpulist_scnprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>-2, *(<a class=\"id\" href=\"#ca\">ca</a>-><a class=\"id\" href=\"#map\">map</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#n\">n</a>++] = '\\n';", 
"<span class=\"ts\"/><a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#n\">n</a>] = '\\0';", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#n\">n</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#_CPU_ATTR\">_CPU_ATTR</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#map\">map</a>)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>{ <a class=\"id\" href=\"#_SYSDEV_CLASS_ATTR\">_SYSDEV_CLASS_ATTR</a>(<a class=\"id\" href=\"#name\">name</a>, 0444, <a class=\"id\" href=\"#show_cpus_attr\">show_cpus_attr</a>, <a class=\"id\" href=\"#NULL\">NULL</a>), <a class=\"id\" href=\"#map\">map</a> }", 
"", 
"<span class=\"comment\">/* Keep in sync with cpu_sysdev_class_attrs */</span>", 
"static struct <a class=\"id\" href=\"#cpu_attr\">cpu_attr</a> <a class=\"id\" href=\"#cpu_attrs\">cpu_attrs</a>[] = {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#_CPU_ATTR\">_CPU_ATTR</a>(<a class=\"id\" href=\"#online\">online</a>, &amp;<a class=\"id\" href=\"#cpu_online_mask\">cpu_online_mask</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#_CPU_ATTR\">_CPU_ATTR</a>(<a class=\"id\" href=\"#possible\">possible</a>, &amp;<a class=\"id\" href=\"#cpu_possible_mask\">cpu_possible_mask</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#_CPU_ATTR\">_CPU_ATTR</a>(<a class=\"id\" href=\"#present\">present</a>, &amp;<a class=\"id\" href=\"#cpu_present_mask\">cpu_present_mask</a>),", 
"};", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Print values for NR_CPUS and offlined cpus</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#print_cpus_kernel_max\">print_cpus_kernel_max</a>(struct <a class=\"id\" href=\"#sysdev_class\">sysdev_class</a> *<a class=\"id\" href=\"#class\">class</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#sysdev_class_attribute\">sysdev_class_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#n\">n</a> = <a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>-2, \"%d\\n\", <a class=\"id\" href=\"#NR_CPUS\">NR_CPUS</a> - 1);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#n\">n</a>;", 
"}", 
"static <a class=\"id\" href=\"#SYSDEV_CLASS_ATTR\">SYSDEV_CLASS_ATTR</a>(<a class=\"id\" href=\"#kernel_max\">kernel_max</a>, 0444, <a class=\"id\" href=\"#print_cpus_kernel_max\">print_cpus_kernel_max</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"<span class=\"comment\">/* arch-optional setting to enable display of offline cpus &gt;= nr_cpu_ids */</span>", 
"unsigned int <a class=\"id\" href=\"#total_cpus\">total_cpus</a>;", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#print_cpus_offline\">print_cpus_offline</a>(struct <a class=\"id\" href=\"#sysdev_class\">sysdev_class</a> *<a class=\"id\" href=\"#class\">class</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#sysdev_class_attribute\">sysdev_class_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#n\">n</a> = 0, <a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>-2;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpumask_var_t\">cpumask_var_t</a> <a class=\"id\" href=\"#offline\">offline</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* display offline cpus &lt; nr_cpu_ids */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#alloc_cpumask_var\">alloc_cpumask_var</a>(&amp;<a class=\"id\" href=\"#offline\">offline</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpumask_andnot\">cpumask_andnot</a>(<a class=\"id\" href=\"#offline\">offline</a>, <a class=\"id\" href=\"#cpu_possible_mask\">cpu_possible_mask</a>, <a class=\"id\" href=\"#cpu_online_mask\">cpu_online_mask</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#n\">n</a> = <a class=\"id\" href=\"#cpulist_scnprintf\">cpulist_scnprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#len\">len</a>, <a class=\"id\" href=\"#offline\">offline</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#free_cpumask_var\">free_cpumask_var</a>(<a class=\"id\" href=\"#offline\">offline</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* display offline cpus &gt;= nr_cpu_ids */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#total_cpus\">total_cpus</a> && <a class=\"id\" href=\"#nr_cpu_ids\">nr_cpu_ids</a> &lt; <a class=\"id\" href=\"#total_cpus\">total_cpus</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a> && <a class=\"id\" href=\"#n\">n</a> &lt; <a class=\"id\" href=\"#len\">len</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#n\">n</a>++] = ',';", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nr_cpu_ids\">nr_cpu_ids</a> == <a class=\"id\" href=\"#total_cpus\">total_cpus</a>-1)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#n\">n</a> += <a class=\"id\" href=\"#snprintf\">snprintf</a>(&amp;<a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#n\">n</a>], <a class=\"id\" href=\"#len\">len</a> - <a class=\"id\" href=\"#n\">n</a>, \"%d\", <a class=\"id\" href=\"#nr_cpu_ids\">nr_cpu_ids</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#n\">n</a> += <a class=\"id\" href=\"#snprintf\">snprintf</a>(&amp;<a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#n\">n</a>], <a class=\"id\" href=\"#len\">len</a> - <a class=\"id\" href=\"#n\">n</a>, \"%d-%d\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#nr_cpu_ids\">nr_cpu_ids</a>, <a class=\"id\" href=\"#total_cpus\">total_cpus</a>-1);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#n\">n</a> += <a class=\"id\" href=\"#snprintf\">snprintf</a>(&amp;<a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#n\">n</a>], <a class=\"id\" href=\"#len\">len</a> - <a class=\"id\" href=\"#n\">n</a>, \"\\n\");", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#n\">n</a>;", 
"}", 
"static <a class=\"id\" href=\"#SYSDEV_CLASS_ATTR\">SYSDEV_CLASS_ATTR</a>(<a class=\"id\" href=\"#offline\">offline</a>, 0444, <a class=\"id\" href=\"#print_cpus_offline\">print_cpus_offline</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * register_cpu - Setup a sysfs device for a CPU.</span>", 
"<span class=\"comment\"> * @cpu - cpu-&gt;hotpluggable field set to 1 will generate a control file in</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>  sysfs for this CPU.</span>", 
"<span class=\"comment\"> * @num - CPU number to use when creating the device.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Initialize and register the CPU device.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#__cpuinit\">__cpuinit</a> <a class=\"id\" href=\"#register_cpu\">register_cpu</a>(struct <a class=\"id\" href=\"#cpu\">cpu</a> *<a class=\"id\" href=\"#cpu\">cpu</a>, int <a class=\"id\" href=\"#num\">num</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#node_id\">node_id</a> = <a class=\"id\" href=\"#cpu_to_node\">cpu_to_node</a>(<a class=\"id\" href=\"#num\">num</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>.<a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#num\">num</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>.<a class=\"id\" href=\"#cls\">cls</a> = &amp;<a class=\"id\" href=\"#cpu_sysdev_class\">cpu_sysdev_class</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#sysdev_register\">sysdev_register</a>(&amp;<a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a> && <a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#hotpluggable\">hotpluggable</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#register_cpu_control\">register_cpu_control</a>(<a class=\"id\" href=\"#cpu\">cpu</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpu_sys_devices\">cpu_sys_devices</a>, <a class=\"id\" href=\"#num\">num</a>) = &amp;<a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#register_cpu_under_node\">register_cpu_under_node</a>(<a class=\"id\" href=\"#num\">num</a>, <a class=\"id\" href=\"#cpu_to_node\">cpu_to_node</a>(<a class=\"id\" href=\"#num\">num</a>));", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_KEXEC\">CONFIG_KEXEC</a>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#sysdev_create_file\">sysdev_create_file</a>(&amp;<a class=\"id\" href=\"#cpu\">cpu</a>-><a class=\"id\" href=\"#sysdev\">sysdev</a>, &amp;<a class=\"id\" href=\"#attr_crash_notes\">attr_crash_notes</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"struct <a class=\"id\" href=\"#sys_device\">sys_device</a> *<a class=\"id\" href=\"#get_cpu_sysdev\">get_cpu_sysdev</a>(unsigned <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cpu\">cpu</a> &lt; <a class=\"id\" href=\"#nr_cpu_ids\">nr_cpu_ids</a> && <a class=\"id\" href=\"#cpu_possible\">cpu_possible</a>(<a class=\"id\" href=\"#cpu\">cpu</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpu_sys_devices\">cpu_sys_devices</a>, <a class=\"id\" href=\"#cpu\">cpu</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#get_cpu_sysdev\">get_cpu_sysdev</a>);", 
"", 
"int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#cpu_dev_init\">cpu_dev_init</a>(void)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sysdev_class_register\">sysdev_class_register</a>(&amp;<a class=\"id\" href=\"#cpu_sysdev_class\">cpu_sysdev_class</a>);", 
"#if <a class=\"id\" href=\"#defined\">defined</a>(<a class=\"id\" href=\"#CONFIG_SCHED_MC\">CONFIG_SCHED_MC</a>) || <a class=\"id\" href=\"#defined\">defined</a>(<a class=\"id\" href=\"#CONFIG_SCHED_SMT\">CONFIG_SCHED_SMT</a>)", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sched_create_sysfs_power_savings_entries\">sched_create_sysfs_power_savings_entries</a>(&amp;<a class=\"id\" href=\"#cpu_sysdev_class\">cpu_sysdev_class</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#sysdev_class_attribute\">sysdev_class_attribute</a> *<a class=\"id\" href=\"#cpu_sysdev_class_attrs\">cpu_sysdev_class_attrs</a>[] = {", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ARCH_CPU_PROBE_RELEASE\">CONFIG_ARCH_CPU_PROBE_RELEASE</a>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#attr_probe\">attr_probe</a>,", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#attr_release\">attr_release</a>,", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#cpu_attrs\">cpu_attrs</a>[0].<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#cpu_attrs\">cpu_attrs</a>[1].<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#cpu_attrs\">cpu_attrs</a>[2].<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#attr_kernel_max\">attr_kernel_max</a>,", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#attr_offline\">attr_offline</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>", 
"};", 
];
xr_frag_insert('l/14/9ba3b38ab558950ef352a412ed466228acb261.xr', __xr_tmp);
