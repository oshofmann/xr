var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * governor.c - governor support</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * (C) 2006-2007 Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;</span>", 
"<span class=\"comment\"> *               Shaohua Li &lt;shaohua.li@intel.com&gt;</span>", 
"<span class=\"comment\"> *               Adam Belay &lt;abelay@novell.com&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This code is licenced under the GPL.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#mutex\">mutex</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#cpuidle\">cpuidle</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> \"cpuidle.h\"", 
"", 
"<a class=\"id\" href=\"#LIST_HEAD\">LIST_HEAD</a>(<a class=\"id\" href=\"#cpuidle_governors\">cpuidle_governors</a>);", 
"struct <a class=\"id\" href=\"#cpuidle_governor\">cpuidle_governor</a> *<a class=\"id\" href=\"#cpuidle_curr_governor\">cpuidle_curr_governor</a>;", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * __cpuidle_find_governor - finds a governor of the specified name</span>", 
"<span class=\"comment\"> * @str: the name</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Must be called with cpuidle_lock acquired.</span>", 
"<span class=\"comment\"> */</span>", 
"static struct <a class=\"id\" href=\"#cpuidle_governor\">cpuidle_governor</a> * <a class=\"id\" href=\"#__cpuidle_find_governor\">__cpuidle_find_governor</a>(const char *<a class=\"id\" href=\"#str\">str</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpuidle_governor\">cpuidle_governor</a> *<a class=\"id\" href=\"#gov\">gov</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#gov\">gov</a>, &amp;<a class=\"id\" href=\"#cpuidle_governors\">cpuidle_governors</a>, <a class=\"id\" href=\"#governor_list\">governor_list</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#strnicmp\">strnicmp</a>(<a class=\"id\" href=\"#str\">str</a>, <a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#CPUIDLE_NAME_LEN\">CPUIDLE_NAME_LEN</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#gov\">gov</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * cpuidle_switch_governor - changes the governor</span>", 
"<span class=\"comment\"> * @gov: the new target governor</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * NOTE: \"gov\" can be NULL to specify disabled</span>", 
"<span class=\"comment\"> * Must be called with cpuidle_lock acquired.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#cpuidle_switch_governor\">cpuidle_switch_governor</a>(struct <a class=\"id\" href=\"#cpuidle_governor\">cpuidle_governor</a> *<a class=\"id\" href=\"#gov\">gov</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpuidle_device\">cpuidle_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gov\">gov</a> == <a class=\"id\" href=\"#cpuidle_curr_governor\">cpuidle_curr_governor</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_uninstall_idle_handler\">cpuidle_uninstall_idle_handler</a>();", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cpuidle_curr_governor\">cpuidle_curr_governor</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#cpuidle_detected_devices\">cpuidle_detected_devices</a>, <a class=\"id\" href=\"#device_list\">device_list</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_disable_device\">cpuidle_disable_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#module_put\">module_put</a>(<a class=\"id\" href=\"#cpuidle_curr_governor\">cpuidle_curr_governor</a>-><a class=\"id\" href=\"#owner\">owner</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_curr_governor\">cpuidle_curr_governor</a> = <a class=\"id\" href=\"#gov\">gov</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gov\">gov</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#try_module_get\">try_module_get</a>(<a class=\"id\" href=\"#cpuidle_curr_governor\">cpuidle_curr_governor</a>-><a class=\"id\" href=\"#owner\">owner</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#cpuidle_detected_devices\">cpuidle_detected_devices</a>, <a class=\"id\" href=\"#device_list\">device_list</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_enable_device\">cpuidle_enable_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_install_idle_handler\">cpuidle_install_idle_handler</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"cpuidle: using governor %s\\n\", <a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * cpuidle_register_governor - registers a governor</span>", 
"<span class=\"comment\"> * @gov: the governor</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#cpuidle_register_governor\">cpuidle_register_governor</a>(struct <a class=\"id\" href=\"#cpuidle_governor\">cpuidle_governor</a> *<a class=\"id\" href=\"#gov\">gov</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EEXIST\">EEXIST</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#gov\">gov</a> || !<a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#select\">select</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#cpuidle_lock\">cpuidle_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#__cpuidle_find_governor\">__cpuidle_find_governor</a>(<a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#name\">name</a>) == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#governor_list\">governor_list</a>, &amp;<a class=\"id\" href=\"#cpuidle_governors\">cpuidle_governors</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#cpuidle_curr_governor\">cpuidle_curr_governor</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#cpuidle_curr_governor\">cpuidle_curr_governor</a>-><a class=\"id\" href=\"#rating\">rating</a> &lt; <a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#rating\">rating</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_switch_governor\">cpuidle_switch_governor</a>(<a class=\"id\" href=\"#gov\">gov</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#cpuidle_lock\">cpuidle_lock</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * cpuidle_replace_governor - find a replacement governor</span>", 
"<span class=\"comment\"> * @exclude_rating: the rating that will be skipped while looking for</span>", 
"<span class=\"comment\"> * new governor.</span>", 
"<span class=\"comment\"> */</span>", 
"static struct <a class=\"id\" href=\"#cpuidle_governor\">cpuidle_governor</a> *<a class=\"id\" href=\"#cpuidle_replace_governor\">cpuidle_replace_governor</a>(int <a class=\"id\" href=\"#exclude_rating\">exclude_rating</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpuidle_governor\">cpuidle_governor</a> *<a class=\"id\" href=\"#gov\">gov</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpuidle_governor\">cpuidle_governor</a> *<a class=\"id\" href=\"#ret_gov\">ret_gov</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#max_rating\">max_rating</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#gov\">gov</a>, &amp;<a class=\"id\" href=\"#cpuidle_governors\">cpuidle_governors</a>, <a class=\"id\" href=\"#governor_list\">governor_list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#rating\">rating</a> == <a class=\"id\" href=\"#exclude_rating\">exclude_rating</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#rating\">rating</a> &gt; <a class=\"id\" href=\"#max_rating\">max_rating</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#max_rating\">max_rating</a> = <a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#rating\">rating</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret_gov\">ret_gov</a> = <a class=\"id\" href=\"#gov\">gov</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret_gov\">ret_gov</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * cpuidle_unregister_governor - unregisters a governor</span>", 
"<span class=\"comment\"> * @gov: the governor</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#cpuidle_unregister_governor\">cpuidle_unregister_governor</a>(struct <a class=\"id\" href=\"#cpuidle_governor\">cpuidle_governor</a> *<a class=\"id\" href=\"#gov\">gov</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#gov\">gov</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#cpuidle_lock\">cpuidle_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gov\">gov</a> == <a class=\"id\" href=\"#cpuidle_curr_governor\">cpuidle_curr_governor</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#cpuidle_governor\">cpuidle_governor</a> *<a class=\"id\" href=\"#new_gov\">new_gov</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new_gov\">new_gov</a> = <a class=\"id\" href=\"#cpuidle_replace_governor\">cpuidle_replace_governor</a>(<a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#rating\">rating</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_switch_governor\">cpuidle_switch_governor</a>(<a class=\"id\" href=\"#new_gov\">new_gov</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#gov\">gov</a>-><a class=\"id\" href=\"#governor_list\">governor_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#cpuidle_lock\">cpuidle_lock</a>);", 
"}", 
"", 
];
xr_frag_insert('l/16/021b77f4a82e8e4dcc005a0dd5f3c82b46d0ea.xr', __xr_tmp);
