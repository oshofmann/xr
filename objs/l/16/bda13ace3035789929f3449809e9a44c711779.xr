var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Copyright 2006 Andi Kleen, SUSE Labs.</span>", 
"<span class=\"comment\"> * Subject to the GNU Public License, v.2</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Fast user context implementation of clock_gettime and gettimeofday.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * The code should have no internal unresolved relocations.</span>", 
"<span class=\"comment\"> * Check with readelf after changing.</span>", 
"<span class=\"comment\"> * Also alternative() doesn't work.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"<span class=\"comment\">/* Disable profiling for userspace code: */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DISABLE_BRANCH_PROFILING\">DISABLE_BRANCH_PROFILING</a>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#posix\">posix</a>-<a class=\"id\" href=\"#timers\">timers</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#time\">time</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#string\">string</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#vsyscall\">vsyscall</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#vgtod\">vgtod</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#timex\">timex</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#hpet\">hpet</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#unistd\">unistd</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#io\">io</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> \"vextern.h\"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#gtod\">gtod</a> <a class=\"id\" href=\"#vdso_vsyscall_gtod_data\">vdso_vsyscall_gtod_data</a>", 
"", 
"<a class=\"id\" href=\"#notrace\">notrace</a> static long <a class=\"id\" href=\"#vdso_fallback_gettime\">vdso_fallback_gettime</a>(long <a class=\"id\" href=\"#clock\">clock</a>, struct <a class=\"id\" href=\"#timespec\">timespec</a> *<a class=\"id\" href=\"#ts\">ts</a>)", 
"{", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#asm\">asm</a>(\"syscall\" : \"=a\" (<a class=\"id\" href=\"#ret\">ret</a>) :", 
"<span class=\"ts\"/>    \"0\" (<a class=\"id\" href=\"#__NR_clock_gettime\">__NR_clock_gettime</a>),\"D\" (<a class=\"id\" href=\"#clock\">clock</a>), \"S\" (<a class=\"id\" href=\"#ts\">ts</a>) : \"memory\");", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#notrace\">notrace</a> static <a class=\"id\" href=\"#inline\">inline</a> long <a class=\"id\" href=\"#vgetns\">vgetns</a>(void)", 
"{", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#v\">v</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cycles_t\">cycles_t</a> (*<a class=\"id\" href=\"#vread\">vread</a>)(void);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vread\">vread</a> = <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#clock\">clock</a>.<a class=\"id\" href=\"#vread\">vread</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> = (<a class=\"id\" href=\"#vread\">vread</a>() - <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#clock\">clock</a>.<a class=\"id\" href=\"#cycle_last\">cycle_last</a>) &amp; <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#clock\">clock</a>.<a class=\"id\" href=\"#mask\">mask</a>;", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#v\">v</a> * <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#clock\">clock</a>.<a class=\"id\" href=\"#mult\">mult</a>) >> <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#clock\">clock</a>.<a class=\"id\" href=\"#shift\">shift</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#notrace\">notrace</a> static <a class=\"id\" href=\"#noinline\">noinline</a> int <a class=\"id\" href=\"#do_realtime\">do_realtime</a>(struct <a class=\"id\" href=\"#timespec\">timespec</a> *<a class=\"id\" href=\"#ts\">ts</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#seq\">seq</a>, <a class=\"id\" href=\"#ns\">ns</a>;", 
"<span class=\"ts\"/>do {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#seq\">seq</a> = <a class=\"id\" href=\"#read_seqbegin\">read_seqbegin</a>(&amp;<a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ts\">ts</a>-><a class=\"id\" href=\"#tv_sec\">tv_sec</a> = <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_time_sec\">wall_time_sec</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ts\">ts</a>-><a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> = <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_time_nsec\">wall_time_nsec</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ns\">ns</a> = <a class=\"id\" href=\"#vgetns\">vgetns</a>();", 
"<span class=\"ts\"/>} while (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#read_seqretry\">read_seqretry</a>(&amp;<a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#lock\">lock</a>, <a class=\"id\" href=\"#seq\">seq</a>)));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timespec_add_ns\">timespec_add_ns</a>(<a class=\"id\" href=\"#ts\">ts</a>, <a class=\"id\" href=\"#ns\">ns</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/* Copy of the version in kernel/time.c which we cannot directly access */</span>", 
"<a class=\"id\" href=\"#notrace\">notrace</a> static void", 
"<a class=\"id\" href=\"#vset_normalized_timespec\">vset_normalized_timespec</a>(struct <a class=\"id\" href=\"#timespec\">timespec</a> *<a class=\"id\" href=\"#ts\">ts</a>, long <a class=\"id\" href=\"#sec\">sec</a>, long <a class=\"id\" href=\"#nsec\">nsec</a>)", 
"{", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#nsec\">nsec</a> >= <a class=\"id\" href=\"#NSEC_PER_SEC\">NSEC_PER_SEC</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nsec\">nsec</a> -= <a class=\"id\" href=\"#NSEC_PER_SEC\">NSEC_PER_SEC</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>++<a class=\"id\" href=\"#sec\">sec</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#nsec\">nsec</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nsec\">nsec</a> += <a class=\"id\" href=\"#NSEC_PER_SEC\">NSEC_PER_SEC</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>--<a class=\"id\" href=\"#sec\">sec</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ts\">ts</a>-><a class=\"id\" href=\"#tv_sec\">tv_sec</a> = <a class=\"id\" href=\"#sec\">sec</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ts\">ts</a>-><a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> = <a class=\"id\" href=\"#nsec\">nsec</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#notrace\">notrace</a> static <a class=\"id\" href=\"#noinline\">noinline</a> int <a class=\"id\" href=\"#do_monotonic\">do_monotonic</a>(struct <a class=\"id\" href=\"#timespec\">timespec</a> *<a class=\"id\" href=\"#ts\">ts</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#seq\">seq</a>, <a class=\"id\" href=\"#ns\">ns</a>, <a class=\"id\" href=\"#secs\">secs</a>;", 
"<span class=\"ts\"/>do {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#seq\">seq</a> = <a class=\"id\" href=\"#read_seqbegin\">read_seqbegin</a>(&amp;<a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#secs\">secs</a> = <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_time_sec\">wall_time_sec</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ns\">ns</a> = <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_time_nsec\">wall_time_nsec</a> + <a class=\"id\" href=\"#vgetns\">vgetns</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#secs\">secs</a> += <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_to_monotonic\">wall_to_monotonic</a>.<a class=\"id\" href=\"#tv_sec\">tv_sec</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ns\">ns</a> += <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_to_monotonic\">wall_to_monotonic</a>.<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>;", 
"<span class=\"ts\"/>} while (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#read_seqretry\">read_seqretry</a>(&amp;<a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#lock\">lock</a>, <a class=\"id\" href=\"#seq\">seq</a>)));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vset_normalized_timespec\">vset_normalized_timespec</a>(<a class=\"id\" href=\"#ts\">ts</a>, <a class=\"id\" href=\"#secs\">secs</a>, <a class=\"id\" href=\"#ns\">ns</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#notrace\">notrace</a> static <a class=\"id\" href=\"#noinline\">noinline</a> int <a class=\"id\" href=\"#do_realtime_coarse\">do_realtime_coarse</a>(struct <a class=\"id\" href=\"#timespec\">timespec</a> *<a class=\"id\" href=\"#ts\">ts</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#seq\">seq</a>;", 
"<span class=\"ts\"/>do {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#seq\">seq</a> = <a class=\"id\" href=\"#read_seqbegin\">read_seqbegin</a>(&amp;<a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ts\">ts</a>-><a class=\"id\" href=\"#tv_sec\">tv_sec</a> = <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_time_coarse\">wall_time_coarse</a>.<a class=\"id\" href=\"#tv_sec\">tv_sec</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ts\">ts</a>-><a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> = <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_time_coarse\">wall_time_coarse</a>.<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>;", 
"<span class=\"ts\"/>} while (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#read_seqretry\">read_seqretry</a>(&amp;<a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#lock\">lock</a>, <a class=\"id\" href=\"#seq\">seq</a>)));", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#notrace\">notrace</a> static <a class=\"id\" href=\"#noinline\">noinline</a> int <a class=\"id\" href=\"#do_monotonic_coarse\">do_monotonic_coarse</a>(struct <a class=\"id\" href=\"#timespec\">timespec</a> *<a class=\"id\" href=\"#ts\">ts</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#seq\">seq</a>, <a class=\"id\" href=\"#ns\">ns</a>, <a class=\"id\" href=\"#secs\">secs</a>;", 
"<span class=\"ts\"/>do {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#seq\">seq</a> = <a class=\"id\" href=\"#read_seqbegin\">read_seqbegin</a>(&amp;<a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#secs\">secs</a> = <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_time_coarse\">wall_time_coarse</a>.<a class=\"id\" href=\"#tv_sec\">tv_sec</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ns\">ns</a> = <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_time_coarse\">wall_time_coarse</a>.<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#secs\">secs</a> += <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_to_monotonic\">wall_to_monotonic</a>.<a class=\"id\" href=\"#tv_sec\">tv_sec</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ns\">ns</a> += <a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#wall_to_monotonic\">wall_to_monotonic</a>.<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>;", 
"<span class=\"ts\"/>} while (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#read_seqretry\">read_seqretry</a>(&amp;<a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#lock\">lock</a>, <a class=\"id\" href=\"#seq\">seq</a>)));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vset_normalized_timespec\">vset_normalized_timespec</a>(<a class=\"id\" href=\"#ts\">ts</a>, <a class=\"id\" href=\"#secs\">secs</a>, <a class=\"id\" href=\"#ns\">ns</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#notrace\">notrace</a> int <a class=\"id\" href=\"#__vdso_clock_gettime\">__vdso_clock_gettime</a>(<a class=\"id\" href=\"#clockid_t\">clockid_t</a> <a class=\"id\" href=\"#clock\">clock</a>, struct <a class=\"id\" href=\"#timespec\">timespec</a> *<a class=\"id\" href=\"#ts\">ts</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#likely\">likely</a>(<a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#sysctl_enabled\">sysctl_enabled</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>switch (<a class=\"id\" href=\"#clock\">clock</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#CLOCK_REALTIME\">CLOCK_REALTIME</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#likely\">likely</a>(<a class=\"id\" href=\"#gtod\">gtod</a>-><a class=\"id\" href=\"#clock\">clock</a>.<a class=\"id\" href=\"#vread\">vread</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#do_realtime\">do_realtime</a>(<a class=\"id\" href=\"#ts\">ts</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
];
xr_frag_insert('l/16/bda13ace3035789929f3449809e9a44c711779.xr', __xr_tmp);
