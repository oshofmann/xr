var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *  linux/fs/compat.c</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Kernel compatibililty routines for e.g. 32 bit syscall support</span>", 
"<span class=\"comment\"> *  on 64 bit kernels.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Copyright (C) 2002       Stephen Rothwell, IBM Corporation</span>", 
"<span class=\"comment\"> *  Copyright (C) 1997-2000  Jakub Jelinek  (jakub@redhat.com)</span>", 
"<span class=\"comment\"> *  Copyright (C) 1998       Eddie C. Dost  (ecd@skynet.be)</span>", 
"<span class=\"comment\"> *  Copyright (C) 2001,2002  Andi Kleen, SuSE Labs </span>", 
"<span class=\"comment\"> *  Copyright (C) 2003       Pavel Machek (pavel@ucw.cz)</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is free software; you can redistribute it and/or modify</span>", 
"<span class=\"comment\"> *  it under the terms of the GNU General Public License version 2 as</span>", 
"<span class=\"comment\"> *  published by the Free Software Foundation.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#stddef\">stddef</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#linkage\">linkage</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#compat\">compat</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#errno\">errno</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#time\">time</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#fs\">fs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#fcntl\">fcntl</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#namei\">namei</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#file\">file</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#fdtable\">fdtable</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#vfs\">vfs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#ioctl\">ioctl</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#smb\">smb</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#smb_mount\">smb_mount</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#ncp_mount\">ncp_mount</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#nfs4_mount\">nfs4_mount</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#syscalls\">syscalls</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#ctype\">ctype</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#dirent\">dirent</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#fsnotify\">fsnotify</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#highuid\">highuid</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#nfsd\">nfsd</a>/<a class=\"id\" href=\"#syscall\">syscall</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#personality\">personality</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#rwsem\">rwsem</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#tsacct_kern\">tsacct_kern</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#security\">security</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#highmem\">highmem</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#signal\">signal</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#poll\">poll</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#mm\">mm</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#eventpoll\">eventpoll</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#fs_struct\">fs_struct</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#uaccess\">uaccess</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#mmu_context\">mmu_context</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#ioctls\">ioctls</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> \"internal.h\"", 
"", 
"int <a class=\"id\" href=\"#compat_log\">compat_log</a> = 1;", 
"", 
"int <a class=\"id\" href=\"#compat_printk\">compat_printk</a>(const char *<a class=\"id\" href=\"#fmt\">fmt</a>, ...)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#va_list\">va_list</a> <a class=\"id\" href=\"#ap\">ap</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#compat_log\">compat_log</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#va_start\">va_start</a>(<a class=\"id\" href=\"#ap\">ap</a>, <a class=\"id\" href=\"#fmt\">fmt</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#vprintk\">vprintk</a>(<a class=\"id\" href=\"#fmt\">fmt</a>, <a class=\"id\" href=\"#ap\">ap</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#va_end\">va_end</a>(<a class=\"id\" href=\"#ap\">ap</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> \"read_write.h\"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Not all architectures have sys_utime, so implement this in terms</span>", 
"<span class=\"comment\"> * of sys_utimes.</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_utime\">compat_sys_utime</a>(const char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#filename\">filename</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#compat_utimbuf\">compat_utimbuf</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#t\">t</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#tv\">tv</a>[2];", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#t\">t</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#tv\">tv</a>[0].<a class=\"id\" href=\"#tv_sec\">tv_sec</a>, &amp;<a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#actime\">actime</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#tv\">tv</a>[1].<a class=\"id\" href=\"#tv_sec\">tv_sec</a>, &amp;<a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#modtime\">modtime</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tv\">tv</a>[0].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tv\">tv</a>[1].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> = 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#do_utimes\">do_utimes</a>(<a class=\"id\" href=\"#AT_FDCWD\">AT_FDCWD</a>, <a class=\"id\" href=\"#filename\">filename</a>, <a class=\"id\" href=\"#t\">t</a> ? <a class=\"id\" href=\"#tv\">tv</a> : <a class=\"id\" href=\"#NULL\">NULL</a>, 0);", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_utimensat\">compat_sys_utimensat</a>(unsigned int <a class=\"id\" href=\"#dfd\">dfd</a>, const char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#filename\">filename</a>, struct <a class=\"id\" href=\"#compat_timespec\">compat_timespec</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#t\">t</a>, int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#tv\">tv</a>[2];", 
"", 
"<span class=\"ts\"/>if  (<a class=\"id\" href=\"#t\">t</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#get_compat_timespec\">get_compat_timespec</a>(&amp;<a class=\"id\" href=\"#tv\">tv</a>[0], &amp;<a class=\"id\" href=\"#t\">t</a>[0]) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#get_compat_timespec\">get_compat_timespec</a>(&amp;<a class=\"id\" href=\"#tv\">tv</a>[1], &amp;<a class=\"id\" href=\"#t\">t</a>[1]))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tv\">tv</a>[0].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> == <a class=\"id\" href=\"#UTIME_OMIT\">UTIME_OMIT</a> && <a class=\"id\" href=\"#tv\">tv</a>[1].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> == <a class=\"id\" href=\"#UTIME_OMIT\">UTIME_OMIT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#do_utimes\">do_utimes</a>(<a class=\"id\" href=\"#dfd\">dfd</a>, <a class=\"id\" href=\"#filename\">filename</a>, <a class=\"id\" href=\"#t\">t</a> ? <a class=\"id\" href=\"#tv\">tv</a> : <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_futimesat\">compat_sys_futimesat</a>(unsigned int <a class=\"id\" href=\"#dfd\">dfd</a>, const char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#filename\">filename</a>, struct <a class=\"id\" href=\"#compat_timeval\">compat_timeval</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#t\">t</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#tv\">tv</a>[2];", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#t\">t</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#tv\">tv</a>[0].<a class=\"id\" href=\"#tv_sec\">tv_sec</a>, &amp;<a class=\"id\" href=\"#t\">t</a>[0].<a class=\"id\" href=\"#tv_sec\">tv_sec</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#tv\">tv</a>[0].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>, &amp;<a class=\"id\" href=\"#t\">t</a>[0].<a class=\"id\" href=\"#tv_usec\">tv_usec</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#tv\">tv</a>[1].<a class=\"id\" href=\"#tv_sec\">tv_sec</a>, &amp;<a class=\"id\" href=\"#t\">t</a>[1].<a class=\"id\" href=\"#tv_sec\">tv_sec</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#tv\">tv</a>[1].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>, &amp;<a class=\"id\" href=\"#t\">t</a>[1].<a class=\"id\" href=\"#tv_usec\">tv_usec</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tv\">tv</a>[0].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> >= 1000000 || <a class=\"id\" href=\"#tv\">tv</a>[0].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> &lt; 0 ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#tv\">tv</a>[1].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> >= 1000000 || <a class=\"id\" href=\"#tv\">tv</a>[1].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tv\">tv</a>[0].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> *= 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tv\">tv</a>[1].<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> *= 1000;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#do_utimes\">do_utimes</a>(<a class=\"id\" href=\"#dfd\">dfd</a>, <a class=\"id\" href=\"#filename\">filename</a>, <a class=\"id\" href=\"#t\">t</a> ? <a class=\"id\" href=\"#tv\">tv</a> : <a class=\"id\" href=\"#NULL\">NULL</a>, 0);", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_utimes\">compat_sys_utimes</a>(const char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#filename\">filename</a>, struct <a class=\"id\" href=\"#compat_timeval\">compat_timeval</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#t\">t</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#compat_sys_futimesat\">compat_sys_futimesat</a>(<a class=\"id\" href=\"#AT_FDCWD\">AT_FDCWD</a>, <a class=\"id\" href=\"#filename\">filename</a>, <a class=\"id\" href=\"#t\">t</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#cp_compat_stat\">cp_compat_stat</a>(struct <a class=\"id\" href=\"#kstat\">kstat</a> *<a class=\"id\" href=\"#stat\">stat</a>, struct <a class=\"id\" href=\"#compat_stat\">compat_stat</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ubuf\">ubuf</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_ino_t\">compat_ino_t</a> <a class=\"id\" href=\"#ino\">ino</a> = <a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#ino\">ino</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#typeof\">typeof</a>(<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_uid\">st_uid</a>) <a class=\"id\" href=\"#uid\">uid</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#typeof\">typeof</a>(<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_gid\">st_gid</a>) <a class=\"id\" href=\"#gid\">gid</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SET_UID\">SET_UID</a>(<a class=\"id\" href=\"#uid\">uid</a>, <a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#uid\">uid</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SET_GID\">SET_GID</a>(<a class=\"id\" href=\"#gid\">gid</a>, <a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#gid\">gid</a>);", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#u64\">u64</a>) <a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#size\">size</a> &gt; <a class=\"id\" href=\"#MAX_NON_LFS\">MAX_NON_LFS</a> ||", 
"<span class=\"ts\"/>    !<a class=\"id\" href=\"#old_valid_dev\">old_valid_dev</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#dev\">dev</a>) ||", 
"<span class=\"ts\"/>    !<a class=\"id\" href=\"#old_valid_dev\">old_valid_dev</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#rdev\">rdev</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOVERFLOW\">EOVERFLOW</a>;", 
"<span class=\"ts\"/>if (sizeof(<a class=\"id\" href=\"#ino\">ino</a>) &lt; sizeof(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#ino\">ino</a>) && <a class=\"id\" href=\"#ino\">ino</a> != <a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#ino\">ino</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOVERFLOW\">EOVERFLOW</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#clear_user\">clear_user</a>(<a class=\"id\" href=\"#ubuf\">ubuf</a>, sizeof(*<a class=\"id\" href=\"#ubuf\">ubuf</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>  = <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#old_encode_dev\">old_encode_dev</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#dev\">dev</a>), &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_dev\">st_dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#ino\">ino</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_ino\">st_ino</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#mode\">mode</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_mode\">st_mode</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#nlink\">nlink</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_nlink\">st_nlink</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#uid\">uid</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_uid\">st_uid</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#gid\">gid</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_gid\">st_gid</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#old_encode_dev\">old_encode_dev</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#rdev\">rdev</a>), &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_rdev\">st_rdev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#size\">size</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_size\">st_size</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#atime\">atime</a>.<a class=\"id\" href=\"#tv_sec\">tv_sec</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_atime\">st_atime</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#atime\">atime</a>.<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_atime_nsec\">st_atime_nsec</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#mtime\">mtime</a>.<a class=\"id\" href=\"#tv_sec\">tv_sec</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_mtime\">st_mtime</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#mtime\">mtime</a>.<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_mtime_nsec\">st_mtime_nsec</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#ctime\">ctime</a>.<a class=\"id\" href=\"#tv_sec\">tv_sec</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_ctime\">st_ctime</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#ctime\">ctime</a>.<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_ctime_nsec\">st_ctime_nsec</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#blksize\">blksize</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_blksize\">st_blksize</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#stat\">stat</a>-><a class=\"id\" href=\"#blocks\">blocks</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#st_blocks\">st_blocks</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_newstat\">compat_sys_newstat</a>(const char <a class=\"id\" href=\"#__user\">__user</a> * <a class=\"id\" href=\"#filename\">filename</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_stat\">compat_stat</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#statbuf\">statbuf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#kstat\">kstat</a> <a class=\"id\" href=\"#stat\">stat</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#vfs_stat\">vfs_stat</a>(<a class=\"id\" href=\"#filename\">filename</a>, &amp;<a class=\"id\" href=\"#stat\">stat</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#cp_compat_stat\">cp_compat_stat</a>(&amp;<a class=\"id\" href=\"#stat\">stat</a>, <a class=\"id\" href=\"#statbuf\">statbuf</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_newlstat\">compat_sys_newlstat</a>(const char <a class=\"id\" href=\"#__user\">__user</a> * <a class=\"id\" href=\"#filename\">filename</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_stat\">compat_stat</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#statbuf\">statbuf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#kstat\">kstat</a> <a class=\"id\" href=\"#stat\">stat</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#vfs_lstat\">vfs_lstat</a>(<a class=\"id\" href=\"#filename\">filename</a>, &amp;<a class=\"id\" href=\"#stat\">stat</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#cp_compat_stat\">cp_compat_stat</a>(&amp;<a class=\"id\" href=\"#stat\">stat</a>, <a class=\"id\" href=\"#statbuf\">statbuf</a>);", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#__ARCH_WANT_STAT64\">__ARCH_WANT_STAT64</a>", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_newfstatat\">compat_sys_newfstatat</a>(unsigned int <a class=\"id\" href=\"#dfd\">dfd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>const char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#filename\">filename</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_stat\">compat_stat</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#statbuf\">statbuf</a>, int <a class=\"id\" href=\"#flag\">flag</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#kstat\">kstat</a> <a class=\"id\" href=\"#stat\">stat</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#vfs_fstatat\">vfs_fstatat</a>(<a class=\"id\" href=\"#dfd\">dfd</a>, <a class=\"id\" href=\"#filename\">filename</a>, &amp;<a class=\"id\" href=\"#stat\">stat</a>, <a class=\"id\" href=\"#flag\">flag</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#cp_compat_stat\">cp_compat_stat</a>(&amp;<a class=\"id\" href=\"#stat\">stat</a>, <a class=\"id\" href=\"#statbuf\">statbuf</a>);", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_newfstat\">compat_sys_newfstat</a>(unsigned int <a class=\"id\" href=\"#fd\">fd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_stat\">compat_stat</a> <a class=\"id\" href=\"#__user\">__user</a> * <a class=\"id\" href=\"#statbuf\">statbuf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#kstat\">kstat</a> <a class=\"id\" href=\"#stat\">stat</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#vfs_fstat\">vfs_fstat</a>(<a class=\"id\" href=\"#fd\">fd</a>, &amp;<a class=\"id\" href=\"#stat\">stat</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#cp_compat_stat\">cp_compat_stat</a>(&amp;<a class=\"id\" href=\"#stat\">stat</a>, <a class=\"id\" href=\"#statbuf\">statbuf</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#put_compat_statfs\">put_compat_statfs</a>(struct <a class=\"id\" href=\"#compat_statfs\">compat_statfs</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ubuf\">ubuf</a>, struct <a class=\"id\" href=\"#kstatfs\">kstatfs</a> *<a class=\"id\" href=\"#kbuf\">kbuf</a>)", 
"{", 
"<span class=\"ts\"/>", 
"<span class=\"ts\"/>if (sizeof <a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_blocks\">f_blocks</a> == 4) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_blocks\">f_blocks</a> | <a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bfree\">f_bfree</a> | <a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bavail\">f_bavail</a> |", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bsize\">f_bsize</a> | <a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_frsize\">f_frsize</a>) &amp; 0xffffffff00000000ULL)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOVERFLOW\">EOVERFLOW</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* f_files and f_ffree may be -1; it's okay</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * to stuff that into 32 bits */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_files\">f_files</a> != 0xffffffffffffffffULL", 
"<span class=\"ts\"/><span class=\"ts\"/> && (<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_files\">f_files</a> &amp; 0xffffffff00000000ULL))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOVERFLOW\">EOVERFLOW</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_ffree\">f_ffree</a> != 0xffffffffffffffffULL", 
"<span class=\"ts\"/><span class=\"ts\"/> && (<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_ffree\">f_ffree</a> &amp; 0xffffffff00000000ULL))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOVERFLOW\">EOVERFLOW</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#access_ok\">access_ok</a>(<a class=\"id\" href=\"#VERIFY_WRITE\">VERIFY_WRITE</a>, <a class=\"id\" href=\"#ubuf\">ubuf</a>, sizeof(*<a class=\"id\" href=\"#ubuf\">ubuf</a>)) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_type\">f_type</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_type\">f_type</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bsize\">f_bsize</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_bsize\">f_bsize</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_blocks\">f_blocks</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_blocks\">f_blocks</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bfree\">f_bfree</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_bfree\">f_bfree</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bavail\">f_bavail</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_bavail\">f_bavail</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_files\">f_files</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_files\">f_files</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_ffree\">f_ffree</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_ffree\">f_ffree</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_namelen\">f_namelen</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_namelen\">f_namelen</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_fsid\">f_fsid</a>.<a class=\"id\" href=\"#val\">val</a>[0], &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_fsid\">f_fsid</a>.<a class=\"id\" href=\"#val\">val</a>[0]) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_fsid\">f_fsid</a>.<a class=\"id\" href=\"#val\">val</a>[1], &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_fsid\">f_fsid</a>.<a class=\"id\" href=\"#val\">val</a>[1]) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_frsize\">f_frsize</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_frsize\">f_frsize</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(0, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_spare\">f_spare</a>[0]) || ", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(0, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_spare\">f_spare</a>[1]) || ", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(0, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_spare\">f_spare</a>[2]) || ", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(0, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_spare\">f_spare</a>[3]) || ", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(0, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_spare\">f_spare</a>[4]))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * The following statfs calls are copies of code from fs/open.c and</span>", 
"<span class=\"comment\"> * should be checked against those from time to time</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_statfs\">compat_sys_statfs</a>(const char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#pathname\">pathname</a>, struct <a class=\"id\" href=\"#compat_statfs\">compat_statfs</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#path\">path</a> <a class=\"id\" href=\"#path\">path</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#user_path\">user_path</a>(<a class=\"id\" href=\"#pathname\">pathname</a>, &amp;<a class=\"id\" href=\"#path\">path</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#kstatfs\">kstatfs</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#vfs_statfs\">vfs_statfs</a>(&amp;<a class=\"id\" href=\"#path\">path</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#put_compat_statfs\">put_compat_statfs</a>(<a class=\"id\" href=\"#buf\">buf</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#path_put\">path_put</a>(&amp;<a class=\"id\" href=\"#path\">path</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_fstatfs\">compat_sys_fstatfs</a>(unsigned int <a class=\"id\" href=\"#fd\">fd</a>, struct <a class=\"id\" href=\"#compat_statfs\">compat_statfs</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#file\">file</a> * <a class=\"id\" href=\"#file\">file</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#kstatfs\">kstatfs</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EBADF\">EBADF</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#file\">file</a> = <a class=\"id\" href=\"#fget\">fget</a>(<a class=\"id\" href=\"#fd\">fd</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#file\">file</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#vfs_statfs\">vfs_statfs</a>(&amp;<a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#f_path\">f_path</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#put_compat_statfs\">put_compat_statfs</a>(<a class=\"id\" href=\"#buf\">buf</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fput\">fput</a>(<a class=\"id\" href=\"#file\">file</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#put_compat_statfs64\">put_compat_statfs64</a>(struct <a class=\"id\" href=\"#compat_statfs64\">compat_statfs64</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ubuf\">ubuf</a>, struct <a class=\"id\" href=\"#kstatfs\">kstatfs</a> *<a class=\"id\" href=\"#kbuf\">kbuf</a>)", 
"{", 
"<span class=\"ts\"/>if (sizeof <a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_blocks\">f_blocks</a> == 4) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_blocks\">f_blocks</a> | <a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bfree\">f_bfree</a> | <a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bavail\">f_bavail</a> |", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bsize\">f_bsize</a> | <a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_frsize\">f_frsize</a>) &amp; 0xffffffff00000000ULL)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOVERFLOW\">EOVERFLOW</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* f_files and f_ffree may be -1; it's okay</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * to stuff that into 32 bits */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_files\">f_files</a> != 0xffffffffffffffffULL", 
"<span class=\"ts\"/><span class=\"ts\"/> && (<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_files\">f_files</a> &amp; 0xffffffff00000000ULL))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOVERFLOW\">EOVERFLOW</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_ffree\">f_ffree</a> != 0xffffffffffffffffULL", 
"<span class=\"ts\"/><span class=\"ts\"/> && (<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_ffree\">f_ffree</a> &amp; 0xffffffff00000000ULL))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOVERFLOW\">EOVERFLOW</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#access_ok\">access_ok</a>(<a class=\"id\" href=\"#VERIFY_WRITE\">VERIFY_WRITE</a>, <a class=\"id\" href=\"#ubuf\">ubuf</a>, sizeof(*<a class=\"id\" href=\"#ubuf\">ubuf</a>)) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_type\">f_type</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_type\">f_type</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bsize\">f_bsize</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_bsize\">f_bsize</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_blocks\">f_blocks</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_blocks\">f_blocks</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bfree\">f_bfree</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_bfree\">f_bfree</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_bavail\">f_bavail</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_bavail\">f_bavail</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_files\">f_files</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_files\">f_files</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_ffree\">f_ffree</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_ffree\">f_ffree</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_namelen\">f_namelen</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_namelen\">f_namelen</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_fsid\">f_fsid</a>.<a class=\"id\" href=\"#val\">val</a>[0], &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_fsid\">f_fsid</a>.<a class=\"id\" href=\"#val\">val</a>[0]) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_fsid\">f_fsid</a>.<a class=\"id\" href=\"#val\">val</a>[1], &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_fsid\">f_fsid</a>.<a class=\"id\" href=\"#val\">val</a>[1]) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kbuf\">kbuf</a>-><a class=\"id\" href=\"#f_frsize\">f_frsize</a>, &amp;<a class=\"id\" href=\"#ubuf\">ubuf</a>-><a class=\"id\" href=\"#f_frsize\">f_frsize</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_statfs64\">compat_sys_statfs64</a>(const char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#pathname\">pathname</a>, <a class=\"id\" href=\"#compat_size_t\">compat_size_t</a> <a class=\"id\" href=\"#sz\">sz</a>, struct <a class=\"id\" href=\"#compat_statfs64\">compat_statfs64</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#path\">path</a> <a class=\"id\" href=\"#path\">path</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sz\">sz</a> != sizeof(*<a class=\"id\" href=\"#buf\">buf</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#user_path\">user_path</a>(<a class=\"id\" href=\"#pathname\">pathname</a>, &amp;<a class=\"id\" href=\"#path\">path</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#kstatfs\">kstatfs</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#vfs_statfs\">vfs_statfs</a>(&amp;<a class=\"id\" href=\"#path\">path</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#put_compat_statfs64\">put_compat_statfs64</a>(<a class=\"id\" href=\"#buf\">buf</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#path_put\">path_put</a>(&amp;<a class=\"id\" href=\"#path\">path</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_fstatfs64\">compat_sys_fstatfs64</a>(unsigned int <a class=\"id\" href=\"#fd\">fd</a>, <a class=\"id\" href=\"#compat_size_t\">compat_size_t</a> <a class=\"id\" href=\"#sz\">sz</a>, struct <a class=\"id\" href=\"#compat_statfs64\">compat_statfs64</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#file\">file</a> * <a class=\"id\" href=\"#file\">file</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#kstatfs\">kstatfs</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sz\">sz</a> != sizeof(*<a class=\"id\" href=\"#buf\">buf</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EBADF\">EBADF</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#file\">file</a> = <a class=\"id\" href=\"#fget\">fget</a>(<a class=\"id\" href=\"#fd\">fd</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#file\">file</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#vfs_statfs\">vfs_statfs</a>(&amp;<a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#f_path\">f_path</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#put_compat_statfs64\">put_compat_statfs64</a>(<a class=\"id\" href=\"#buf\">buf</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fput\">fput</a>(<a class=\"id\" href=\"#file\">file</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * This is a copy of sys_ustat, just dealing with a structure layout.</span>", 
"<span class=\"comment\"> * Given how simple this syscall is that apporach is more maintainable</span>", 
"<span class=\"comment\"> * than the various conversion hacks.</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_ustat\">compat_sys_ustat</a>(unsigned <a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#compat_ustat\">compat_ustat</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#u\">u</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_ustat\">compat_ustat</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#kstatfs\">kstatfs</a> <a class=\"id\" href=\"#sbuf\">sbuf</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sb\">sb</a> = <a class=\"id\" href=\"#user_get_super\">user_get_super</a>(<a class=\"id\" href=\"#new_decode_dev\">new_decode_dev</a>(<a class=\"id\" href=\"#dev\">dev</a>));", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#sb\">sb</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#statfs_by_dentry\">statfs_by_dentry</a>(<a class=\"id\" href=\"#sb\">sb</a>-><a class=\"id\" href=\"#s_root\">s_root</a>, &amp;<a class=\"id\" href=\"#sbuf\">sbuf</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drop_super\">drop_super</a>(<a class=\"id\" href=\"#sb\">sb</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#tmp\">tmp</a>, 0, sizeof(struct <a class=\"id\" href=\"#compat_ustat\">compat_ustat</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a>.<a class=\"id\" href=\"#f_tfree\">f_tfree</a> = <a class=\"id\" href=\"#sbuf\">sbuf</a>.<a class=\"id\" href=\"#f_bfree\">f_bfree</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a>.<a class=\"id\" href=\"#f_tinode\">f_tinode</a> = <a class=\"id\" href=\"#sbuf\">sbuf</a>.<a class=\"id\" href=\"#f_ffree\">f_ffree</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#u\">u</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>, sizeof(struct <a class=\"id\" href=\"#compat_ustat\">compat_ustat</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#get_compat_flock\">get_compat_flock</a>(struct <a class=\"id\" href=\"#flock\">flock</a> *<a class=\"id\" href=\"#kfl\">kfl</a>, struct <a class=\"id\" href=\"#compat_flock\">compat_flock</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ufl\">ufl</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#access_ok\">access_ok</a>(<a class=\"id\" href=\"#VERIFY_READ\">VERIFY_READ</a>, <a class=\"id\" href=\"#ufl\">ufl</a>, sizeof(*<a class=\"id\" href=\"#ufl\">ufl</a>)) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_type\">l_type</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_type\">l_type</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_whence\">l_whence</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_whence\">l_whence</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_start\">l_start</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_start\">l_start</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_len\">l_len</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_len\">l_len</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_pid\">l_pid</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_pid\">l_pid</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#put_compat_flock\">put_compat_flock</a>(struct <a class=\"id\" href=\"#flock\">flock</a> *<a class=\"id\" href=\"#kfl\">kfl</a>, struct <a class=\"id\" href=\"#compat_flock\">compat_flock</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ufl\">ufl</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#access_ok\">access_ok</a>(<a class=\"id\" href=\"#VERIFY_WRITE\">VERIFY_WRITE</a>, <a class=\"id\" href=\"#ufl\">ufl</a>, sizeof(*<a class=\"id\" href=\"#ufl\">ufl</a>)) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_type\">l_type</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_type\">l_type</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_whence\">l_whence</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_whence\">l_whence</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_start\">l_start</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_start\">l_start</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_len\">l_len</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_len\">l_len</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_pid\">l_pid</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_pid\">l_pid</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#HAVE_ARCH_GET_COMPAT_FLOCK64\">HAVE_ARCH_GET_COMPAT_FLOCK64</a>", 
"static int <a class=\"id\" href=\"#get_compat_flock64\">get_compat_flock64</a>(struct <a class=\"id\" href=\"#flock\">flock</a> *<a class=\"id\" href=\"#kfl\">kfl</a>, struct <a class=\"id\" href=\"#compat_flock64\">compat_flock64</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ufl\">ufl</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#access_ok\">access_ok</a>(<a class=\"id\" href=\"#VERIFY_READ\">VERIFY_READ</a>, <a class=\"id\" href=\"#ufl\">ufl</a>, sizeof(*<a class=\"id\" href=\"#ufl\">ufl</a>)) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_type\">l_type</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_type\">l_type</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_whence\">l_whence</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_whence\">l_whence</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_start\">l_start</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_start\">l_start</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_len\">l_len</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_len\">l_len</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_pid\">l_pid</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_pid\">l_pid</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#HAVE_ARCH_PUT_COMPAT_FLOCK64\">HAVE_ARCH_PUT_COMPAT_FLOCK64</a>", 
"static int <a class=\"id\" href=\"#put_compat_flock64\">put_compat_flock64</a>(struct <a class=\"id\" href=\"#flock\">flock</a> *<a class=\"id\" href=\"#kfl\">kfl</a>, struct <a class=\"id\" href=\"#compat_flock64\">compat_flock64</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ufl\">ufl</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#access_ok\">access_ok</a>(<a class=\"id\" href=\"#VERIFY_WRITE\">VERIFY_WRITE</a>, <a class=\"id\" href=\"#ufl\">ufl</a>, sizeof(*<a class=\"id\" href=\"#ufl\">ufl</a>)) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_type\">l_type</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_type\">l_type</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_whence\">l_whence</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_whence\">l_whence</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_start\">l_start</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_start\">l_start</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_len\">l_len</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_len\">l_len</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kfl\">kfl</a>-><a class=\"id\" href=\"#l_pid\">l_pid</a>, &amp;<a class=\"id\" href=\"#ufl\">ufl</a>-><a class=\"id\" href=\"#l_pid\">l_pid</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_fcntl64\">compat_sys_fcntl64</a>(unsigned int <a class=\"id\" href=\"#fd\">fd</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#old_fs\">old_fs</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#flock\">flock</a> <a class=\"id\" href=\"#f\">f</a>;", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#cmd\">cmd</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#F_GETLK\">F_GETLK</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#F_SETLK\">F_SETLK</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#F_SETLKW\">F_SETLKW</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#get_compat_flock\">get_compat_flock</a>(&amp;<a class=\"id\" href=\"#f\">f</a>, <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#arg\">arg</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> != 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#old_fs\">old_fs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#sys_fcntl\">sys_fcntl</a>(<a class=\"id\" href=\"#fd\">fd</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, (unsigned long)&amp;<a class=\"id\" href=\"#f\">f</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#old_fs\">old_fs</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#F_GETLK\">F_GETLK</a> && <a class=\"id\" href=\"#ret\">ret</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* GETLK was successful and we need to return the data...</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * but it needs to fit in the compat structure.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * l_start shouldn't be too big, unless the original</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * start + end is greater than COMPAT_OFF_T_MAX, in which</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * case the app was asking for trouble, so we return</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * -EOVERFLOW in that case.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * l_len could be too big, in which case we just truncate it,</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * and only allow the app to see that part of the conflicting</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * lock that might make sense to it anyway</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#f\">f</a>.<a class=\"id\" href=\"#l_start\">l_start</a> &gt; <a class=\"id\" href=\"#COMPAT_OFF_T_MAX\">COMPAT_OFF_T_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EOVERFLOW\">EOVERFLOW</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#f\">f</a>.<a class=\"id\" href=\"#l_len\">l_len</a> &gt; <a class=\"id\" href=\"#COMPAT_OFF_T_MAX\">COMPAT_OFF_T_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#f\">f</a>.<a class=\"id\" href=\"#l_len\">l_len</a> = <a class=\"id\" href=\"#COMPAT_OFF_T_MAX\">COMPAT_OFF_T_MAX</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#put_compat_flock\">put_compat_flock</a>(&amp;<a class=\"id\" href=\"#f\">f</a>, <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#arg\">arg</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#F_GETLK64\">F_GETLK64</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#F_SETLK64\">F_SETLK64</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#F_SETLKW64\">F_SETLKW64</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#get_compat_flock64\">get_compat_flock64</a>(&amp;<a class=\"id\" href=\"#f\">f</a>, <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#arg\">arg</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> != 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#old_fs\">old_fs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#sys_fcntl\">sys_fcntl</a>(<a class=\"id\" href=\"#fd\">fd</a>, (<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#F_GETLK64\">F_GETLK64</a>) ? <a class=\"id\" href=\"#F_GETLK\">F_GETLK</a> :", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>((<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#F_SETLK64\">F_SETLK64</a>) ? <a class=\"id\" href=\"#F_SETLK\">F_SETLK</a> : <a class=\"id\" href=\"#F_SETLKW\">F_SETLKW</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(unsigned long)&amp;<a class=\"id\" href=\"#f\">f</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#old_fs\">old_fs</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#F_GETLK64\">F_GETLK64</a> && <a class=\"id\" href=\"#ret\">ret</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* need to return lock information - see above for commentary */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#f\">f</a>.<a class=\"id\" href=\"#l_start\">l_start</a> &gt; <a class=\"id\" href=\"#COMPAT_LOFF_T_MAX\">COMPAT_LOFF_T_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EOVERFLOW\">EOVERFLOW</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#f\">f</a>.<a class=\"id\" href=\"#l_len\">l_len</a> &gt; <a class=\"id\" href=\"#COMPAT_LOFF_T_MAX\">COMPAT_LOFF_T_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#f\">f</a>.<a class=\"id\" href=\"#l_len\">l_len</a> = <a class=\"id\" href=\"#COMPAT_LOFF_T_MAX\">COMPAT_LOFF_T_MAX</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#put_compat_flock64\">put_compat_flock64</a>(&amp;<a class=\"id\" href=\"#f\">f</a>, <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#arg\">arg</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#sys_fcntl\">sys_fcntl</a>(<a class=\"id\" href=\"#fd\">fd</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_fcntl\">compat_sys_fcntl</a>(unsigned int <a class=\"id\" href=\"#fd\">fd</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#F_GETLK64\">F_GETLK64</a>) || (<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#F_SETLK64\">F_SETLK64</a>) || (<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#F_SETLKW64\">F_SETLKW64</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#compat_sys_fcntl64\">compat_sys_fcntl64</a>(<a class=\"id\" href=\"#fd\">fd</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long", 
"<a class=\"id\" href=\"#compat_sys_io_setup\">compat_sys_io_setup</a>(unsigned <a class=\"id\" href=\"#nr_reqs\">nr_reqs</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ctx32p\">ctx32p</a>)", 
"{", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#aio_context_t\">aio_context_t</a> <a class=\"id\" href=\"#ctx64\">ctx64</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#oldfs\">oldfs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#ctx64\">ctx64</a>, <a class=\"id\" href=\"#ctx32p\">ctx32p</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/* The __user pointer cast is valid because of the set_fs() */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#sys_io_setup\">sys_io_setup</a>(<a class=\"id\" href=\"#nr_reqs\">nr_reqs</a>, (<a class=\"id\" href=\"#aio_context_t\">aio_context_t</a> <a class=\"id\" href=\"#__user\">__user</a> *) &amp;<a class=\"id\" href=\"#ctx64\">ctx64</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#oldfs\">oldfs</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/* truncating is ok because it's a user address */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#put_user\">put_user</a>((<a class=\"id\" href=\"#u32\">u32</a>) <a class=\"id\" href=\"#ctx64\">ctx64</a>, <a class=\"id\" href=\"#ctx32p\">ctx32p</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long", 
"<a class=\"id\" href=\"#compat_sys_io_getevents\">compat_sys_io_getevents</a>(<a class=\"id\" href=\"#aio_context_t\">aio_context_t</a> <a class=\"id\" href=\"#ctx_id\">ctx_id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> unsigned long <a class=\"id\" href=\"#min_nr\">min_nr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> unsigned long <a class=\"id\" href=\"#nr\">nr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#io_event\">io_event</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#events\">events</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#compat_timespec\">compat_timespec</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#timeout\">timeout</a>)", 
"{", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#t\">t</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ut\">ut</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(!<a class=\"id\" href=\"#access_ok\">access_ok</a>(<a class=\"id\" href=\"#VERIFY_WRITE\">VERIFY_WRITE</a>, <a class=\"id\" href=\"#events\">events</a>, ", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nr\">nr</a> * sizeof(struct <a class=\"id\" href=\"#io_event\">io_event</a>))))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#timeout\">timeout</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#get_compat_timespec\">get_compat_timespec</a>(&amp;<a class=\"id\" href=\"#t\">t</a>, <a class=\"id\" href=\"#timeout\">timeout</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ut\">ut</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(*<a class=\"id\" href=\"#ut\">ut</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#ut\">ut</a>, &amp;<a class=\"id\" href=\"#t\">t</a>, sizeof(<a class=\"id\" href=\"#t\">t</a>)) )", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>} ", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#sys_io_getevents\">sys_io_getevents</a>(<a class=\"id\" href=\"#ctx_id\">ctx_id</a>, <a class=\"id\" href=\"#min_nr\">min_nr</a>, <a class=\"id\" href=\"#nr\">nr</a>, <a class=\"id\" href=\"#events\">events</a>, <a class=\"id\" href=\"#ut\">ut</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<span class=\"comment\">/* A write operation does a read from user space and vice versa */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#vrfy_dir\">vrfy_dir</a>(<a class=\"id\" href=\"#type\">type</a>) ((<a class=\"id\" href=\"#type\">type</a>) == <a class=\"id\" href=\"#READ\">READ</a> ? <a class=\"id\" href=\"#VERIFY_WRITE\">VERIFY_WRITE</a> : <a class=\"id\" href=\"#VERIFY_READ\">VERIFY_READ</a>)", 
"", 
"<a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#compat_rw_copy_check_uvector\">compat_rw_copy_check_uvector</a>(int <a class=\"id\" href=\"#type\">type</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>const struct <a class=\"id\" href=\"#compat_iovec\">compat_iovec</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uvector\">uvector</a>, unsigned long <a class=\"id\" href=\"#nr_segs\">nr_segs</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#fast_segs\">fast_segs</a>, struct <a class=\"id\" href=\"#iovec\">iovec</a> *<a class=\"id\" href=\"#fast_pointer\">fast_pointer</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#iovec\">iovec</a> **<a class=\"id\" href=\"#ret_pointer\">ret_pointer</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_ssize_t\">compat_ssize_t</a> <a class=\"id\" href=\"#tot_len\">tot_len</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#iovec\">iovec</a> *<a class=\"id\" href=\"#iov\">iov</a> = *<a class=\"id\" href=\"#ret_pointer\">ret_pointer</a> = <a class=\"id\" href=\"#fast_pointer\">fast_pointer</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#seg\">seg</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * SuS says \"The readv() function *may* fail if the iovcnt argument</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * was less than or equal to 0, or greater than {IOV_MAX}.  Linux has</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * traditionally returned zero for zero segments, so...</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nr_segs\">nr_segs</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nr_segs\">nr_segs</a> &gt; <a class=\"id\" href=\"#UIO_MAXIOV\">UIO_MAXIOV</a> || <a class=\"id\" href=\"#nr_segs\">nr_segs</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nr_segs\">nr_segs</a> &gt; <a class=\"id\" href=\"#fast_segs\">fast_segs</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#iov\">iov</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#nr_segs\">nr_segs</a>*sizeof(struct <a class=\"id\" href=\"#iovec\">iovec</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#iov\">iov</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#ret_pointer\">ret_pointer</a> = <a class=\"id\" href=\"#fast_pointer\">fast_pointer</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#ret_pointer\">ret_pointer</a> = <a class=\"id\" href=\"#iov\">iov</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Single unix specification:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * We should -EINVAL if an element length is not &gt;= 0 and fitting an</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * ssize_t.  The total length is fitting an ssize_t</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Be careful here because iov_len is a size_t not an ssize_t</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tot_len\">tot_len</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#seg\">seg</a> = 0; <a class=\"id\" href=\"#seg\">seg</a> &lt; <a class=\"id\" href=\"#nr_segs\">nr_segs</a>; <a class=\"id\" href=\"#seg\">seg</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#compat_ssize_t\">compat_ssize_t</a> <a class=\"id\" href=\"#tmp\">tmp</a> = <a class=\"id\" href=\"#tot_len\">tot_len</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#compat_uptr_t\">compat_uptr_t</a> <a class=\"id\" href=\"#buf\">buf</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#compat_ssize_t\">compat_ssize_t</a> <a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#len\">len</a>, &amp;<a class=\"id\" href=\"#uvector\">uvector</a>-><a class=\"id\" href=\"#iov_len\">iov_len</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#buf\">buf</a>, &amp;<a class=\"id\" href=\"#uvector\">uvector</a>-><a class=\"id\" href=\"#iov_base\">iov_base</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> &lt; 0)<span class=\"ts\"/><span class=\"comment\">/* size_t not fitting in compat_ssize_t .. */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tot_len\">tot_len</a> += <a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tot_len\">tot_len</a> &lt; <a class=\"id\" href=\"#tmp\">tmp</a>) <span class=\"comment\">/* maths overflow on the compat_ssize_t */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#access_ok\">access_ok</a>(<a class=\"id\" href=\"#vrfy_dir\">vrfy_dir</a>(<a class=\"id\" href=\"#type\">type</a>), <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#buf\">buf</a>), <a class=\"id\" href=\"#len\">len</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#iov\">iov</a>-><a class=\"id\" href=\"#iov_base\">iov_base</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#buf\">buf</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#iov\">iov</a>-><a class=\"id\" href=\"#iov_len\">iov_len</a> = (<a class=\"id\" href=\"#compat_size_t\">compat_size_t</a>) <a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#uvector\">uvector</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#iov\">iov</a>++;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#tot_len\">tot_len</a>;", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> long", 
"<a class=\"id\" href=\"#copy_iocb\">copy_iocb</a>(long <a class=\"id\" href=\"#nr\">nr</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ptr32\">ptr32</a>, struct <a class=\"id\" href=\"#iocb\">iocb</a> <a class=\"id\" href=\"#__user\">__user</a> * <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ptr64\">ptr64</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_uptr_t\">compat_uptr_t</a> <a class=\"id\" href=\"#uptr\">uptr</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#nr\">nr</a>; ++<a class=\"id\" href=\"#i\">i</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#uptr\">uptr</a>, <a class=\"id\" href=\"#ptr32\">ptr32</a> + <a class=\"id\" href=\"#i\">i</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#uptr\">uptr</a>), <a class=\"id\" href=\"#ptr64\">ptr64</a> + <a class=\"id\" href=\"#i\">i</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#MAX_AIO_SUBMITS\">MAX_AIO_SUBMITS</a> <span class=\"ts\"/>(<a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>/sizeof(struct <a class=\"id\" href=\"#iocb\">iocb</a> *))", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long", 
"<a class=\"id\" href=\"#compat_sys_io_submit\">compat_sys_io_submit</a>(<a class=\"id\" href=\"#aio_context_t\">aio_context_t</a> <a class=\"id\" href=\"#ctx_id\">ctx_id</a>, int <a class=\"id\" href=\"#nr\">nr</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#iocb\">iocb</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#iocb\">iocb</a> <a class=\"id\" href=\"#__user\">__user</a> * <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#iocb64\">iocb64</a>; ", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#nr\">nr</a> &lt; 0))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nr\">nr</a> &gt; <a class=\"id\" href=\"#MAX_AIO_SUBMITS\">MAX_AIO_SUBMITS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nr\">nr</a> = <a class=\"id\" href=\"#MAX_AIO_SUBMITS\">MAX_AIO_SUBMITS</a>;", 
"<span class=\"ts\"/>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#iocb64\">iocb64</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(<a class=\"id\" href=\"#nr\">nr</a> * sizeof(*<a class=\"id\" href=\"#iocb64\">iocb64</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#copy_iocb\">copy_iocb</a>(<a class=\"id\" href=\"#nr\">nr</a>, <a class=\"id\" href=\"#iocb\">iocb</a>, <a class=\"id\" href=\"#iocb64\">iocb64</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#do_io_submit\">do_io_submit</a>(<a class=\"id\" href=\"#ctx_id\">ctx_id</a>, <a class=\"id\" href=\"#nr\">nr</a>, <a class=\"id\" href=\"#iocb64\">iocb64</a>, 1);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"struct <a class=\"id\" href=\"#compat_ncp_mount_data\">compat_ncp_mount_data</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_int_t\">compat_int_t</a> <a class=\"id\" href=\"#version\">version</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_uint_t\">compat_uint_t</a> <a class=\"id\" href=\"#ncp_fd\">ncp_fd</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__compat_uid_t\">__compat_uid_t</a> <a class=\"id\" href=\"#mounted_uid\">mounted_uid</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_pid_t\">compat_pid_t</a> <a class=\"id\" href=\"#wdog_pid\">wdog_pid</a>;", 
"<span class=\"ts\"/>unsigned char <a class=\"id\" href=\"#mounted_vol\">mounted_vol</a>[<a class=\"id\" href=\"#NCP_VOLNAME_LEN\">NCP_VOLNAME_LEN</a> + 1];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_uint_t\">compat_uint_t</a> <a class=\"id\" href=\"#time_out\">time_out</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_uint_t\">compat_uint_t</a> <a class=\"id\" href=\"#retry_count\">retry_count</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_uint_t\">compat_uint_t</a> <a class=\"id\" href=\"#flags\">flags</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__compat_uid_t\">__compat_uid_t</a> <a class=\"id\" href=\"#uid\">uid</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__compat_gid_t\">__compat_gid_t</a> <a class=\"id\" href=\"#gid\">gid</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_mode_t\">compat_mode_t</a> <a class=\"id\" href=\"#file_mode\">file_mode</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_mode_t\">compat_mode_t</a> <a class=\"id\" href=\"#dir_mode\">dir_mode</a>;", 
];
xr_frag_insert('l/18/03e90e16f8ecb4544924fc72e9ab9c674f6b62.xr', __xr_tmp);
