var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is free software; you can redistribute it and/or modify</span>", 
"<span class=\"comment\"> *  it under the terms of the GNU General Public License as published by</span>", 
"<span class=\"comment\"> *  the Free Software Foundation; either version 2 of the License, or (at</span>", 
"<span class=\"comment\"> *  your option) any later version.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is distributed in the hope that it will be useful, but</span>", 
"<span class=\"comment\"> *  WITHOUT ANY WARRANTY; without even the implied warranty of</span>", 
"<span class=\"comment\"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>", 
"<span class=\"comment\"> *  General Public License for more details.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  You should have received a copy of the GNU General Public License along</span>", 
"<span class=\"comment\"> *  with this program; if not, write to the Free Software Foundation, Inc.,</span>", 
"<span class=\"comment\"> *  59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#acpi\">acpi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#proc_fs\">proc_fs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#seq_file\">seq_file</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_bus\">acpi_bus</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_drivers\">acpi_drivers</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"ACPI: \"", 
"", 
"<a class=\"id\" href=\"#ACPI_MODULE_NAME\">ACPI_MODULE_NAME</a>(\"cm_sbs\");", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_AC_CLASS\">ACPI_AC_CLASS</a><span class=\"ts\"/><span class=\"ts\"/>\"ac_adapter\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_BATTERY_CLASS\">ACPI_BATTERY_CLASS</a><span class=\"ts\"/>\"battery\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#_COMPONENT\">_COMPONENT</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SBS_COMPONENT\">ACPI_SBS_COMPONENT</a>", 
"static struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>;", 
"static struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>;", 
"", 
"static <a class=\"id\" href=\"#DEFINE_MUTEX\">DEFINE_MUTEX</a>(<a class=\"id\" href=\"#cm_sbs_mutex\">cm_sbs_mutex</a>);", 
"", 
"static int <a class=\"id\" href=\"#lock_ac_dir_cnt\">lock_ac_dir_cnt</a>;", 
"static int <a class=\"id\" href=\"#lock_battery_dir_cnt\">lock_battery_dir_cnt</a>;", 
"", 
"struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_lock_ac_dir\">acpi_lock_ac_dir</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#cm_sbs_mutex\">cm_sbs_mutex</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a> = <a class=\"id\" href=\"#proc_mkdir\">proc_mkdir</a>(<a class=\"id\" href=\"#ACPI_AC_CLASS\">ACPI_AC_CLASS</a>, <a class=\"id\" href=\"#acpi_root_dir\">acpi_root_dir</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#lock_ac_dir_cnt\">lock_ac_dir_cnt</a>++;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Cannot create %s\\n\", <a class=\"id\" href=\"#ACPI_AC_CLASS\">ACPI_AC_CLASS</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#cm_sbs_mutex\">cm_sbs_mutex</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_lock_ac_dir\">acpi_lock_ac_dir</a>);", 
"", 
"void <a class=\"id\" href=\"#acpi_unlock_ac_dir\">acpi_unlock_ac_dir</a>(struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_ac_dir_param\">acpi_ac_dir_param</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#cm_sbs_mutex\">cm_sbs_mutex</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_ac_dir_param\">acpi_ac_dir_param</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#lock_ac_dir_cnt\">lock_ac_dir_cnt</a>--;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#lock_ac_dir_cnt\">lock_ac_dir_cnt</a> == 0 && <a class=\"id\" href=\"#acpi_ac_dir_param\">acpi_ac_dir_param</a> && <a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_AC_CLASS\">ACPI_AC_CLASS</a>, <a class=\"id\" href=\"#acpi_root_dir\">acpi_root_dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#cm_sbs_mutex\">cm_sbs_mutex</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_unlock_ac_dir\">acpi_unlock_ac_dir</a>);", 
"", 
"struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_lock_battery_dir\">acpi_lock_battery_dir</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#cm_sbs_mutex\">cm_sbs_mutex</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#proc_mkdir\">proc_mkdir</a>(<a class=\"id\" href=\"#ACPI_BATTERY_CLASS\">ACPI_BATTERY_CLASS</a>, <a class=\"id\" href=\"#acpi_root_dir\">acpi_root_dir</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#lock_battery_dir_cnt\">lock_battery_dir_cnt</a>++;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Cannot create %s\\n\", <a class=\"id\" href=\"#ACPI_BATTERY_CLASS\">ACPI_BATTERY_CLASS</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#cm_sbs_mutex\">cm_sbs_mutex</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_lock_battery_dir\">acpi_lock_battery_dir</a>);", 
"", 
"void <a class=\"id\" href=\"#acpi_unlock_battery_dir\">acpi_unlock_battery_dir</a>(struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_battery_dir_param\">acpi_battery_dir_param</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#cm_sbs_mutex\">cm_sbs_mutex</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_battery_dir_param\">acpi_battery_dir_param</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#lock_battery_dir_cnt\">lock_battery_dir_cnt</a>--;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#lock_battery_dir_cnt\">lock_battery_dir_cnt</a> == 0 && <a class=\"id\" href=\"#acpi_battery_dir_param\">acpi_battery_dir_param</a>", 
"<span class=\"ts\"/>    && <a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_BATTERY_CLASS\">ACPI_BATTERY_CLASS</a>, <a class=\"id\" href=\"#acpi_root_dir\">acpi_root_dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#cm_sbs_mutex\">cm_sbs_mutex</a>);", 
"<span class=\"ts\"/>return;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_unlock_battery_dir\">acpi_unlock_battery_dir</a>);", 
];
xr_frag_insert('l/18/1dc75ada9273d318428a7c70f87e48e180c008.xr', __xr_tmp);
