var __xr_tmp = [
"};", 
"<a class=\"id\" href=\"#MODULE_DEVICE_TABLE\">MODULE_DEVICE_TABLE</a>(<a class=\"id\" href=\"#acpi\">acpi</a>, <a class=\"id\" href=\"#dock_device_ids\">dock_device_ids</a>);", 
"", 
"struct <a class=\"id\" href=\"#dock_station\">dock_station</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#last_dock_time\">last_dock_time</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#flags\">flags</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spinlock_t\">spinlock_t</a> <a class=\"id\" href=\"#dd_lock\">dd_lock</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#mutex\">mutex</a> <a class=\"id\" href=\"#hp_lock\">hp_lock</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> <a class=\"id\" href=\"#dependent_devices\">dependent_devices</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> <a class=\"id\" href=\"#hotplug_devices\">hotplug_devices</a>;", 
"", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> <a class=\"id\" href=\"#sibling\">sibling</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#platform_device\">platform_device</a> *<a class=\"id\" href=\"#dock_device\">dock_device</a>;", 
"};", 
"static <a class=\"id\" href=\"#LIST_HEAD\">LIST_HEAD</a>(<a class=\"id\" href=\"#dock_stations\">dock_stations</a>);", 
"static int <a class=\"id\" href=\"#dock_station_count\">dock_station_count</a>;", 
"", 
"struct <a class=\"id\" href=\"#dock_dependent_device\">dock_dependent_device</a> {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> <a class=\"id\" href=\"#list\">list</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> <a class=\"id\" href=\"#hotplug_list\">hotplug_list</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_dock_ops\">acpi_dock_ops</a> *<a class=\"id\" href=\"#ops\">ops</a>;", 
"<span class=\"ts\"/>void *<a class=\"id\" href=\"#context\">context</a>;", 
"};", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DOCK_DOCKING\">DOCK_DOCKING</a><span class=\"ts\"/>0x00000001", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DOCK_UNDOCKING\">DOCK_UNDOCKING</a>  0x00000002", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DOCK_IS_DOCK\">DOCK_IS_DOCK</a><span class=\"ts\"/>0x00000010", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DOCK_IS_ATA\">DOCK_IS_ATA</a><span class=\"ts\"/>0x00000020", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DOCK_IS_BAT\">DOCK_IS_BAT</a><span class=\"ts\"/>0x00000040", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DOCK_EVENT\">DOCK_EVENT</a><span class=\"ts\"/>3", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#UNDOCK_EVENT\">UNDOCK_EVENT</a><span class=\"ts\"/>2", 
"", 
"<span class=\"comment\">/*****************************************************************************</span>", 
"<span class=\"comment\"> *                         Dock Dependent device functions                   *</span>", 
"<span class=\"comment\"> *****************************************************************************/</span>", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * add_dock_dependent_device - associate a device with the dock station</span>", 
"<span class=\"comment\"> * @ds: The dock station</span>", 
"<span class=\"comment\"> * @handle: handle of the dependent device</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Add the dependent device to the dock's dependent device list.</span>", 
"<span class=\"comment\"> */</span>", 
"static int", 
"<a class=\"id\" href=\"#add_dock_dependent_device\">add_dock_dependent_device</a>(struct <a class=\"id\" href=\"#dock_station\">dock_station</a> *<a class=\"id\" href=\"#ds\">ds</a>, <a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dock_dependent_device\">dock_dependent_device</a> *<a class=\"id\" href=\"#dd\">dd</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(*<a class=\"id\" href=\"#dd\">dd</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dd\">dd</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#handle\">handle</a> = <a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#list\">list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#hotplug_list\">hotplug_list</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#dd_lock\">dd_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#list\">list</a>, &amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#dependent_devices\">dependent_devices</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#dd_lock\">dd_lock</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * dock_add_hotplug_device - associate a hotplug handler with the dock station</span>", 
"<span class=\"comment\"> * @ds: The dock station</span>", 
"<span class=\"comment\"> * @dd: The dependent device struct</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Add the dependent device to the dock's hotplug device list</span>", 
"<span class=\"comment\"> */</span>", 
"static void", 
"<a class=\"id\" href=\"#dock_add_hotplug_device\">dock_add_hotplug_device</a>(struct <a class=\"id\" href=\"#dock_station\">dock_station</a> *<a class=\"id\" href=\"#ds\">ds</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#dock_dependent_device\">dock_dependent_device</a> *<a class=\"id\" href=\"#dd\">dd</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#hp_lock\">hp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#hotplug_list\">hotplug_list</a>, &amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#hotplug_devices\">hotplug_devices</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#hp_lock\">hp_lock</a>);", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * dock_del_hotplug_device - remove a hotplug handler from the dock station</span>", 
"<span class=\"comment\"> * @ds: The dock station</span>", 
"<span class=\"comment\"> * @dd: the dependent device struct</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Delete the dependent device from the dock's hotplug device list</span>", 
"<span class=\"comment\"> */</span>", 
"static void", 
"<a class=\"id\" href=\"#dock_del_hotplug_device\">dock_del_hotplug_device</a>(struct <a class=\"id\" href=\"#dock_station\">dock_station</a> *<a class=\"id\" href=\"#ds\">ds</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#dock_dependent_device\">dock_dependent_device</a> *<a class=\"id\" href=\"#dd\">dd</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#hp_lock\">hp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#hotplug_list\">hotplug_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#hp_lock\">hp_lock</a>);", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * find_dock_dependent_device - get a device dependent on this dock</span>", 
"<span class=\"comment\"> * @ds: the dock station</span>", 
"<span class=\"comment\"> * @handle: the acpi_handle of the device we want</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * iterate over the dependent device list for this dock.  If the</span>", 
"<span class=\"comment\"> * dependent device matches the handle, return.</span>", 
"<span class=\"comment\"> */</span>", 
"static struct <a class=\"id\" href=\"#dock_dependent_device\">dock_dependent_device</a> *", 
"<a class=\"id\" href=\"#find_dock_dependent_device\">find_dock_dependent_device</a>(struct <a class=\"id\" href=\"#dock_station\">dock_station</a> *<a class=\"id\" href=\"#ds\">ds</a>, <a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dock_dependent_device\">dock_dependent_device</a> *<a class=\"id\" href=\"#dd\">dd</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#dd_lock\">dd_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#dd\">dd</a>, &amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#dependent_devices\">dependent_devices</a>, <a class=\"id\" href=\"#list\">list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#handle\">handle</a> == <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#handle\">handle</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#dd_lock\">dd_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#dd\">dd</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#dd_lock\">dd_lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"<span class=\"comment\">/*****************************************************************************</span>", 
"<span class=\"comment\"> *                         Dock functions                                    *</span>", 
"<span class=\"comment\"> *****************************************************************************/</span>", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * is_dock - see if a device is a dock station</span>", 
"<span class=\"comment\"> * @handle: acpi handle of the device</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * If an acpi object has a _DCK method, then it is by definition a dock</span>", 
"<span class=\"comment\"> * station, so return true.</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#is_dock\">is_dock</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_DCK\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#is_ejectable\">is_ejectable</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_EJ0\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#is_ata\">is_ata</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_GTF\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))) ||", 
"<span class=\"ts\"/>   (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_GTM\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))) ||", 
"<span class=\"ts\"/>   (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_STM\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))) ||", 
"<span class=\"ts\"/>   (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_SDD\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#is_battery\">is_battery</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device_info\">acpi_device_info</a> *<a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = 1;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_object_info\">acpi_get_object_info</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#info\">info</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#valid\">valid</a> &amp; <a class=\"id\" href=\"#ACPI_VALID_HID\">ACPI_VALID_HID</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = !<a class=\"id\" href=\"#strcmp\">strcmp</a>(\"PNP0C0A\", <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#hardware_id\">hardware_id</a>.<a class=\"id\" href=\"#string\">string</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#is_ejectable_bay\">is_ejectable_bay</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#phandle\">phandle</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#is_ejectable\">is_ejectable</a>(<a class=\"id\" href=\"#handle\">handle</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#is_battery\">is_battery</a>(<a class=\"id\" href=\"#handle\">handle</a>) || <a class=\"id\" href=\"#is_ata\">is_ata</a>(<a class=\"id\" href=\"#handle\">handle</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_get_parent\">acpi_get_parent</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#phandle\">phandle</a>) && <a class=\"id\" href=\"#is_ata\">is_ata</a>(<a class=\"id\" href=\"#phandle\">phandle</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * is_dock_device - see if a device is on a dock station</span>", 
"<span class=\"comment\"> * @handle: acpi handle of the device</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * If this device is either the dock station itself,</span>", 
"<span class=\"comment\"> * or is a device dependent on the dock station, then it</span>", 
"<span class=\"comment\"> * is a dock device</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#is_dock_device\">is_dock_device</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dock_station\">dock_station</a> *<a class=\"id\" href=\"#dock_station\">dock_station</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dock_station_count\">dock_station_count</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#is_dock\">is_dock</a>(<a class=\"id\" href=\"#handle\">handle</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#dock_station\">dock_station</a>, &amp;<a class=\"id\" href=\"#dock_stations\">dock_stations</a>, <a class=\"id\" href=\"#sibling\">sibling</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#find_dock_dependent_device\">find_dock_dependent_device</a>(<a class=\"id\" href=\"#dock_station\">dock_station</a>, <a class=\"id\" href=\"#handle\">handle</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#is_dock_device\">is_dock_device</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * dock_present - see if the dock station is present.</span>", 
"<span class=\"comment\"> * @ds: the dock station</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * execute the _STA method.  note that present does not</span>", 
"<span class=\"comment\"> * imply that we are docked.</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#dock_present\">dock_present</a>(struct <a class=\"id\" href=\"#dock_station\">dock_station</a> *<a class=\"id\" href=\"#ds\">ds</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#sta\">sta</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ds\">ds</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_STA\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#sta\">sta</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>) && <a class=\"id\" href=\"#sta\">sta</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * dock_create_acpi_device - add new devices to acpi</span>", 
"<span class=\"comment\"> * @handle - handle of the device to add</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This function will create a new acpi_device for the given</span>", 
"<span class=\"comment\"> *  handle if one does not exist already.  This should cause</span>", 
"<span class=\"comment\"> *  acpi to scan for drivers for the given devices, and call</span>", 
"<span class=\"comment\"> *  matching driver's add routine.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Returns a pointer to the acpi_device corresponding to the handle.</span>", 
"<span class=\"comment\"> */</span>", 
"static struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> * <a class=\"id\" href=\"#dock_create_acpi_device\">dock_create_acpi_device</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#parent_device\">parent_device</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#parent\">parent</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_bus_get_device\">acpi_bus_get_device</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#device\">device</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * no device created for this object,</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * so we should create one.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_get_parent\">acpi_get_parent</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#parent\">parent</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_bus_get_device\">acpi_bus_get_device</a>(<a class=\"id\" href=\"#parent\">parent</a>, &amp;<a class=\"id\" href=\"#parent_device\">parent_device</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#parent_device\">parent_device</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#acpi_bus_add\">acpi_bus_add</a>(&amp;<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#parent_device\">parent_device</a>, <a class=\"id\" href=\"#handle\">handle</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_BUS_TYPE_DEVICE\">ACPI_BUS_TYPE_DEVICE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_debug\">pr_debug</a>(\"error adding bus, %x\\n\", -<a class=\"id\" href=\"#ret\">ret</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#device\">device</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * dock_remove_acpi_device - remove the acpi_device struct from acpi</span>", 
"<span class=\"comment\"> * @handle - the handle of the device to remove</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Tell acpi to remove the acpi_device.  This should cause any loaded</span>", 
"<span class=\"comment\"> *  driver to have it's remove routine called.</span>", 
];
xr_frag_insert('l/18/dd884a8b8b4ff9167b6c825715089166924263.xr', __xr_tmp);
