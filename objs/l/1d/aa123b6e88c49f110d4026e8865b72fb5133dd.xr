var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *  pci_slot.c - ACPI PCI Slot Driver</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  The code here is heavily leveraged from the acpiphp module.</span>", 
"<span class=\"comment\"> *  Thanks to Matthew Wilcox &lt;matthew@wil.cx&gt; for much guidance.</span>", 
"<span class=\"comment\"> *  Thanks to Kenji Kaneshige &lt;kaneshige.kenji@jp.fujitsu.com&gt; for code</span>", 
"<span class=\"comment\"> *  review and fixes.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Copyright (C) 2007-2008 Hewlett-Packard Development Company, L.P.</span>", 
"<span class=\"comment\"> *  <span class=\"ts\"/>Alex Chiang &lt;achiang@hp.com&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is free software; you can redistribute it and/or modify it</span>", 
"<span class=\"comment\"> *  under the terms and conditions of the GNU General Public License,</span>", 
"<span class=\"comment\"> *  version 2, as published by the Free Software Foundation.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is distributed in the hope that it will be useful, but</span>", 
"<span class=\"comment\"> *  WITHOUT ANY WARRANTY; without even the implied warranty of</span>", 
"<span class=\"comment\"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>", 
"<span class=\"comment\"> *  General Public License for more details.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  You should have received a copy of the GNU General Public License along</span>", 
"<span class=\"comment\"> *  with this program; if not, write to the Free Software Foundation, Inc.,</span>", 
"<span class=\"comment\"> *  51 Franklin St - Fifth Floor, Boston, MA 02110-1301 USA.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#pci\">pci</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#acpi\">acpi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_bus\">acpi_bus</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_drivers\">acpi_drivers</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#dmi\">dmi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"static int <a class=\"id\" href=\"#debug\">debug</a>;", 
"static int <a class=\"id\" href=\"#check_sta_before_sun\">check_sta_before_sun</a>;", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DRIVER_VERSION\">DRIVER_VERSION</a> <span class=\"ts\"/>\"0.1\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DRIVER_AUTHOR\">DRIVER_AUTHOR</a><span class=\"ts\"/>\"Alex Chiang <achiang@hp.com>\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DRIVER_DESC\">DRIVER_DESC</a><span class=\"ts\"/>\"ACPI PCI Slot Detection Driver\"", 
"<a class=\"id\" href=\"#MODULE_AUTHOR\">MODULE_AUTHOR</a>(<a class=\"id\" href=\"#DRIVER_AUTHOR\">DRIVER_AUTHOR</a>);", 
"<a class=\"id\" href=\"#MODULE_DESCRIPTION\">MODULE_DESCRIPTION</a>(<a class=\"id\" href=\"#DRIVER_DESC\">DRIVER_DESC</a>);", 
"<a class=\"id\" href=\"#MODULE_LICENSE\">MODULE_LICENSE</a>(\"GPL\");", 
"<a class=\"id\" href=\"#MODULE_PARM_DESC\">MODULE_PARM_DESC</a>(<a class=\"id\" href=\"#debug\">debug</a>, \"Debugging mode enabled or not\");", 
"<a class=\"id\" href=\"#module_param\">module_param</a>(<a class=\"id\" href=\"#debug\">debug</a>, <a class=\"id\" href=\"#bool\">bool</a>, 0644);", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#_COMPONENT\">_COMPONENT</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_PCI_COMPONENT\">ACPI_PCI_COMPONENT</a>", 
"<a class=\"id\" href=\"#ACPI_MODULE_NAME\">ACPI_MODULE_NAME</a>(\"pci_slot\");", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#MY_NAME\">MY_NAME</a> \"pci_slot\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#err\">err</a>(<a class=\"id\" href=\"#format\">format</a>, <a class=\"id\" href=\"#arg\">arg</a>...) <a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"%s: \" <a class=\"id\" href=\"#format\">format</a> , <a class=\"id\" href=\"#MY_NAME\">MY_NAME</a> , ## <a class=\"id\" href=\"#arg\">arg</a>)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#info\">info</a>(<a class=\"id\" href=\"#format\">format</a>, <a class=\"id\" href=\"#arg\">arg</a>...) <a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"%s: \" <a class=\"id\" href=\"#format\">format</a> , <a class=\"id\" href=\"#MY_NAME\">MY_NAME</a> , ## <a class=\"id\" href=\"#arg\">arg</a>)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#dbg\">dbg</a>(<a class=\"id\" href=\"#format\">format</a>, <a class=\"id\" href=\"#arg\">arg</a>...)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>do {<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#debug\">debug</a>)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_DEBUG\">KERN_DEBUG</a> \"%s: \" <a class=\"id\" href=\"#format\">format</a>,<span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#MY_NAME\">MY_NAME</a> , ## <a class=\"id\" href=\"#arg\">arg</a>);<span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>} while (0)", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SLOT_NAME_SIZE\">SLOT_NAME_SIZE</a> 21<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Inspired by #define in acpiphp.h */</span>", 
"", 
"struct <a class=\"id\" href=\"#acpi_pci_slot\">acpi_pci_slot</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#root_handle\">root_handle</a>;<span class=\"ts\"/><span class=\"comment\">/* handle of the root bridge */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_slot\">pci_slot</a> *<a class=\"id\" href=\"#pci_slot\">pci_slot</a>;<span class=\"ts\"/><span class=\"comment\">/* corresponding pci_slot */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> <a class=\"id\" href=\"#list\">list</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* node in the list of slots */</span>", 
"};", 
"", 
"static int <a class=\"id\" href=\"#acpi_pci_slot_add\">acpi_pci_slot_add</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>);", 
"static void <a class=\"id\" href=\"#acpi_pci_slot_remove\">acpi_pci_slot_remove</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>);", 
"", 
"static <a class=\"id\" href=\"#LIST_HEAD\">LIST_HEAD</a>(<a class=\"id\" href=\"#slot_list\">slot_list</a>);", 
"static <a class=\"id\" href=\"#DEFINE_MUTEX\">DEFINE_MUTEX</a>(<a class=\"id\" href=\"#slot_list_lock\">slot_list_lock</a>);", 
"static struct <a class=\"id\" href=\"#acpi_pci_driver\">acpi_pci_driver</a> <a class=\"id\" href=\"#acpi_pci_slot_driver\">acpi_pci_slot_driver</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#add\">add</a> = <a class=\"id\" href=\"#acpi_pci_slot_add\">acpi_pci_slot_add</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#remove\">remove</a> = <a class=\"id\" href=\"#acpi_pci_slot_remove\">acpi_pci_slot_remove</a>,", 
"};", 
"", 
"static int", 
"<a class=\"id\" href=\"#check_slot\">check_slot</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, unsigned long long *<a class=\"id\" href=\"#sun\">sun</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#device\">device</a> = -1;", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#adr\">adr</a>, <a class=\"id\" href=\"#sta\">sta</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_buffer\">acpi_buffer</a> <a class=\"id\" href=\"#buffer\">buffer</a> = { <a class=\"id\" href=\"#ACPI_ALLOCATE_BUFFER\">ACPI_ALLOCATE_BUFFER</a>, <a class=\"id\" href=\"#NULL\">NULL</a> };", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_get_name\">acpi_get_name</a>(<a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#ACPI_FULL_PATHNAME\">ACPI_FULL_PATHNAME</a>, &amp;<a class=\"id\" href=\"#buffer\">buffer</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"Checking slot on path: %s\\n\", (char *)<a class=\"id\" href=\"#buffer\">buffer</a>.<a class=\"id\" href=\"#pointer\">pointer</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#check_sta_before_sun\">check_sta_before_sun</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* If SxFy doesn't have _STA, we just assume it's there */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_STA\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#sta\">sta</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>) && !(<a class=\"id\" href=\"#sta\">sta</a> &amp; <a class=\"id\" href=\"#ACPI_STA_DEVICE_PRESENT\">ACPI_STA_DEVICE_PRESENT</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_ADR\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#adr\">adr</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"_ADR returned %d on %s\\n\", <a class=\"id\" href=\"#status\">status</a>, (char *)<a class=\"id\" href=\"#buffer\">buffer</a>.<a class=\"id\" href=\"#pointer\">pointer</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* No _SUN == not a slot == bail */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_SUN\", <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#sun\">sun</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"_SUN returned %d on %s\\n\", <a class=\"id\" href=\"#status\">status</a>, (char *)<a class=\"id\" href=\"#buffer\">buffer</a>.<a class=\"id\" href=\"#pointer\">pointer</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a> = (<a class=\"id\" href=\"#adr\">adr</a> >> 16) &amp; 0xffff;", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#buffer\">buffer</a>.<a class=\"id\" href=\"#pointer\">pointer</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#device\">device</a>;", 
"}", 
"", 
"struct <a class=\"id\" href=\"#callback_args\">callback_args</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_walk_callback\">acpi_walk_callback</a><span class=\"ts\"/><a class=\"id\" href=\"#user_function\">user_function</a>;<span class=\"ts\"/><span class=\"comment\">/* only for walk_p2p_bridge */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_bus\">pci_bus</a><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#pci_bus\">pci_bus</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#root_handle\">root_handle</a>;", 
"};", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * register_slot</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Called once for each SxFy object in the namespace. Don't worry about</span>", 
"<span class=\"comment\"> * calling pci_create_slot multiple times for the same pci_bus:device,</span>", 
"<span class=\"comment\"> * since each subsequent call simply bumps the refcount on the pci_slot.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * The number of calls to pci_destroy_slot from unregister_slot is</span>", 
"<span class=\"comment\"> * symmetrical.</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#acpi_status\">acpi_status</a>", 
"<a class=\"id\" href=\"#register_slot\">register_slot</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#lvl\">lvl</a>, void *<a class=\"id\" href=\"#context\">context</a>, void **<a class=\"id\" href=\"#rv\">rv</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#device\">device</a>;", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#sun\">sun</a>;", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#name\">name</a>[<a class=\"id\" href=\"#SLOT_NAME_SIZE\">SLOT_NAME_SIZE</a>];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_pci_slot\">acpi_pci_slot</a> *<a class=\"id\" href=\"#slot\">slot</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_slot\">pci_slot</a> *<a class=\"id\" href=\"#pci_slot\">pci_slot</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#callback_args\">callback_args</a> *<a class=\"id\" href=\"#parent_context\">parent_context</a> = <a class=\"id\" href=\"#context\">context</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_bus\">pci_bus</a> *<a class=\"id\" href=\"#pci_bus\">pci_bus</a> = <a class=\"id\" href=\"#parent_context\">parent_context</a>-><a class=\"id\" href=\"#pci_bus\">pci_bus</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#check_slot\">check_slot</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#sun\">sun</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#slot\">slot</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(sizeof(*<a class=\"id\" href=\"#slot\">slot</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#slot\">slot</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>(\"%s: cannot allocate memory\\n\", <a class=\"id\" href=\"#__func__\">__func__</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#name\">name</a>, sizeof(<a class=\"id\" href=\"#name\">name</a>), \"%llu\", <a class=\"id\" href=\"#sun\">sun</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_slot\">pci_slot</a> = <a class=\"id\" href=\"#pci_create_slot\">pci_create_slot</a>(<a class=\"id\" href=\"#pci_bus\">pci_bus</a>, <a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#pci_slot\">pci_slot</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>(\"pci_create_slot returned %ld\\n\", <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#pci_slot\">pci_slot</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#slot\">slot</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#root_handle\">root_handle</a> = <a class=\"id\" href=\"#parent_context\">parent_context</a>-><a class=\"id\" href=\"#root_handle\">root_handle</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#pci_slot\">pci_slot</a> = <a class=\"id\" href=\"#pci_slot\">pci_slot</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#list\">list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#slot_list_lock\">slot_list_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_add\">list_add</a>(&amp;<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#list\">list</a>, &amp;<a class=\"id\" href=\"#slot_list\">slot_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#slot_list_lock\">slot_list_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#get_device\">get_device</a>(&amp;<a class=\"id\" href=\"#pci_bus\">pci_bus</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"pci_slot: %p, pci_bus: %x, device: %d, name: %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_slot\">pci_slot</a>, <a class=\"id\" href=\"#pci_bus\">pci_bus</a>-><a class=\"id\" href=\"#number\">number</a>, <a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#name\">name</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * walk_p2p_bridge - discover and walk p2p bridges</span>", 
"<span class=\"comment\"> * @handle: points to an acpi_pci_root</span>", 
"<span class=\"comment\"> * @context: p2p_bridge_context pointer</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Note that when we call ourselves recursively, we pass a different</span>", 
"<span class=\"comment\"> * value of pci_bus in the child_context.</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#acpi_status\">acpi_status</a>", 
"<a class=\"id\" href=\"#walk_p2p_bridge\">walk_p2p_bridge</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#lvl\">lvl</a>, void *<a class=\"id\" href=\"#context\">context</a>, void **<a class=\"id\" href=\"#rv\">rv</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#function\">function</a>;", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#adr\">adr</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#dummy_handle\">dummy_handle</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_walk_callback\">acpi_walk_callback</a> <a class=\"id\" href=\"#user_function\">user_function</a>;", 
"", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_dev\">pci_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_bus\">pci_bus</a> *<a class=\"id\" href=\"#pci_bus\">pci_bus</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#callback_args\">callback_args</a> <a class=\"id\" href=\"#child_context\">child_context</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#callback_args\">callback_args</a> *<a class=\"id\" href=\"#parent_context\">parent_context</a> = <a class=\"id\" href=\"#context\">context</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_bus\">pci_bus</a> = <a class=\"id\" href=\"#parent_context\">parent_context</a>-><a class=\"id\" href=\"#pci_bus\">pci_bus</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#user_function\">user_function</a> = <a class=\"id\" href=\"#parent_context\">parent_context</a>-><a class=\"id\" href=\"#user_function\">user_function</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_ADR\", &amp;<a class=\"id\" href=\"#dummy_handle\">dummy_handle</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_ADR\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#adr\">adr</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a> = (<a class=\"id\" href=\"#adr\">adr</a> >> 16) &amp; 0xffff;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#function\">function</a> = <a class=\"id\" href=\"#adr\">adr</a> &amp; 0xffff;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#pci_get_slot\">pci_get_slot</a>(<a class=\"id\" href=\"#pci_bus\">pci_bus</a>, <a class=\"id\" href=\"#PCI_DEVFN\">PCI_DEVFN</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#function\">function</a>));", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev\">dev</a> || !<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#subordinate\">subordinate</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#child_context\">child_context</a>.<a class=\"id\" href=\"#pci_bus\">pci_bus</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#subordinate\">subordinate</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#child_context\">child_context</a>.<a class=\"id\" href=\"#user_function\">user_function</a> = <a class=\"id\" href=\"#user_function\">user_function</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#child_context\">child_context</a>.<a class=\"id\" href=\"#root_handle\">root_handle</a> = <a class=\"id\" href=\"#parent_context\">parent_context</a>-><a class=\"id\" href=\"#root_handle\">root_handle</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"p2p bridge walk, pci_bus = %x\\n\", <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#subordinate\">subordinate</a>-><a class=\"id\" href=\"#number\">number</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_walk_namespace\">acpi_walk_namespace</a>(<a class=\"id\" href=\"#ACPI_TYPE_DEVICE\">ACPI_TYPE_DEVICE</a>, <a class=\"id\" href=\"#handle\">handle</a>, (<a class=\"id\" href=\"#u32\">u32</a>)1,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#user_function\">user_function</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#child_context\">child_context</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_walk_namespace\">acpi_walk_namespace</a>(<a class=\"id\" href=\"#ACPI_TYPE_DEVICE\">ACPI_TYPE_DEVICE</a>, <a class=\"id\" href=\"#handle\">handle</a>, (<a class=\"id\" href=\"#u32\">u32</a>)1,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#walk_p2p_bridge\">walk_p2p_bridge</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#child_context\">child_context</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_dev_put\">pci_dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * walk_root_bridge - generic root bridge walker</span>", 
"<span class=\"comment\"> * @handle: points to an acpi_pci_root</span>", 
"<span class=\"comment\"> * @user_function: user callback for slot objects</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Call user_function for all objects underneath this root bridge.</span>", 
"<span class=\"comment\"> * Walk p2p bridges underneath us and call user_function on those too.</span>", 
"<span class=\"comment\"> */</span>", 
"static int", 
"<a class=\"id\" href=\"#walk_root_bridge\">walk_root_bridge</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#acpi_walk_callback\">acpi_walk_callback</a> <a class=\"id\" href=\"#user_function\">user_function</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#seg\">seg</a>, <a class=\"id\" href=\"#bus\">bus</a>;", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#dummy_handle\">dummy_handle</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_bus\">pci_bus</a> *<a class=\"id\" href=\"#pci_bus\">pci_bus</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#callback_args\">callback_args</a> <a class=\"id\" href=\"#context\">context</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* If the bridge doesn't have _STA, we assume it is always there */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_STA\", &amp;<a class=\"id\" href=\"#dummy_handle\">dummy_handle</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_STA\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>(\"%s: _STA evaluation failure\\n\", <a class=\"id\" href=\"#__func__\">__func__</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#tmp\">tmp</a> &amp; <a class=\"id\" href=\"#ACPI_STA_DEVICE_FUNCTIONING\">ACPI_STA_DEVICE_FUNCTIONING</a>) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* don't register this object */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_SEG\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seg\">seg</a> = <a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>) ? <a class=\"id\" href=\"#tmp\">tmp</a> : 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_BBN\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#bus\">bus</a> = <a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>) ? <a class=\"id\" href=\"#tmp\">tmp</a> : 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_bus\">pci_bus</a> = <a class=\"id\" href=\"#pci_find_bus\">pci_find_bus</a>(<a class=\"id\" href=\"#seg\">seg</a>, <a class=\"id\" href=\"#bus\">bus</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pci_bus\">pci_bus</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#context\">context</a>.<a class=\"id\" href=\"#pci_bus\">pci_bus</a> = <a class=\"id\" href=\"#pci_bus\">pci_bus</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#context\">context</a>.<a class=\"id\" href=\"#user_function\">user_function</a> = <a class=\"id\" href=\"#user_function\">user_function</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#context\">context</a>.<a class=\"id\" href=\"#root_handle\">root_handle</a> = <a class=\"id\" href=\"#handle\">handle</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"root bridge walk, pci_bus = %x\\n\", <a class=\"id\" href=\"#pci_bus\">pci_bus</a>-><a class=\"id\" href=\"#number\">number</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_walk_namespace\">acpi_walk_namespace</a>(<a class=\"id\" href=\"#ACPI_TYPE_DEVICE\">ACPI_TYPE_DEVICE</a>, <a class=\"id\" href=\"#handle\">handle</a>, (<a class=\"id\" href=\"#u32\">u32</a>)1,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#user_function\">user_function</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#context\">context</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#status\">status</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_walk_namespace\">acpi_walk_namespace</a>(<a class=\"id\" href=\"#ACPI_TYPE_DEVICE\">ACPI_TYPE_DEVICE</a>, <a class=\"id\" href=\"#handle\">handle</a>, (<a class=\"id\" href=\"#u32\">u32</a>)1,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#walk_p2p_bridge\">walk_p2p_bridge</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#context\">context</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>(\"%s: walk_p2p_bridge failure - %d\\n\", <a class=\"id\" href=\"#__func__\">__func__</a>, <a class=\"id\" href=\"#status\">status</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#status\">status</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * acpi_pci_slot_add</span>", 
"<span class=\"comment\"> * @handle: points to an acpi_pci_root</span>", 
"<span class=\"comment\"> */</span>", 
"static int", 
"<a class=\"id\" href=\"#acpi_pci_slot_add\">acpi_pci_slot_add</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#walk_root_bridge\">walk_root_bridge</a>(<a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#register_slot\">register_slot</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>(\"%s: register_slot failure - %d\\n\", <a class=\"id\" href=\"#__func__\">__func__</a>, <a class=\"id\" href=\"#status\">status</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#status\">status</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * acpi_pci_slot_remove</span>", 
"<span class=\"comment\"> * @handle: points to an acpi_pci_root</span>", 
"<span class=\"comment\"> */</span>", 
"static void", 
"<a class=\"id\" href=\"#acpi_pci_slot_remove\">acpi_pci_slot_remove</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_pci_slot\">acpi_pci_slot</a> *<a class=\"id\" href=\"#slot\">slot</a>, *<a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_bus\">pci_bus</a> *<a class=\"id\" href=\"#pbus\">pbus</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#slot_list_lock\">slot_list_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry_safe\">list_for_each_entry_safe</a>(<a class=\"id\" href=\"#slot\">slot</a>, <a class=\"id\" href=\"#tmp\">tmp</a>, &amp;<a class=\"id\" href=\"#slot_list\">slot_list</a>, <a class=\"id\" href=\"#list\">list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#root_handle\">root_handle</a> == <a class=\"id\" href=\"#handle\">handle</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#list\">list</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pbus\">pbus</a> = <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#pci_slot\">pci_slot</a>-><a class=\"id\" href=\"#bus\">bus</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_destroy_slot\">pci_destroy_slot</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#pci_slot\">pci_slot</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#put_device\">put_device</a>(&amp;<a class=\"id\" href=\"#pbus\">pbus</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#slot\">slot</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#slot_list_lock\">slot_list_lock</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#do_sta_before_sun\">do_sta_before_sun</a>(const struct <a class=\"id\" href=\"#dmi_system_id\">dmi_system_id</a> *<a class=\"id\" href=\"#d\">d</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>(\"%s detected: will evaluate _STA before calling _SUN\\n\", <a class=\"id\" href=\"#d\">d</a>-><a class=\"id\" href=\"#ident\">ident</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#check_sta_before_sun\">check_sta_before_sun</a> = 1;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#dmi_system_id\">dmi_system_id</a> <a class=\"id\" href=\"#acpi_pci_slot_dmi_table\">acpi_pci_slot_dmi_table</a>[] <a class=\"id\" href=\"#__initdata\">__initdata</a> = {", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Fujitsu Primequest machines will return 1023 to indicate an</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * error if the _SUN method is evaluated on SxFy objects that</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * are not present (as indicated by _STA), so for those machines,</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * we want to check _STA before evaluating _SUN.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/> .<a class=\"id\" href=\"#callback\">callback</a> = <a class=\"id\" href=\"#do_sta_before_sun\">do_sta_before_sun</a>,", 
"<span class=\"ts\"/> .<a class=\"id\" href=\"#ident\">ident</a> = \"Fujitsu PRIMEQUEST\",", 
"<span class=\"ts\"/> .<a class=\"id\" href=\"#matches\">matches</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DMI_MATCH\">DMI_MATCH</a>(<a class=\"id\" href=\"#DMI_BIOS_VENDOR\">DMI_BIOS_VENDOR</a>, \"FUJITSU LIMITED\"),", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DMI_MATCH\">DMI_MATCH</a>(<a class=\"id\" href=\"#DMI_BIOS_VERSION\">DMI_BIOS_VERSION</a>, \"PRIMEQUEST\"),", 
"<span class=\"ts\"/><span class=\"ts\"/>},", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{}", 
"};", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a>", 
"<a class=\"id\" href=\"#acpi_pci_slot_init\">acpi_pci_slot_init</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dmi_check_system\">dmi_check_system</a>(<a class=\"id\" href=\"#acpi_pci_slot_dmi_table\">acpi_pci_slot_dmi_table</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_pci_register_driver\">acpi_pci_register_driver</a>(&amp;<a class=\"id\" href=\"#acpi_pci_slot_driver\">acpi_pci_slot_driver</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a>", 
"<a class=\"id\" href=\"#acpi_pci_slot_exit\">acpi_pci_slot_exit</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_pci_unregister_driver\">acpi_pci_unregister_driver</a>(&amp;<a class=\"id\" href=\"#acpi_pci_slot_driver\">acpi_pci_slot_driver</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#acpi_pci_slot_init\">acpi_pci_slot_init</a>);", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#acpi_pci_slot_exit\">acpi_pci_slot_exit</a>);", 
];
xr_frag_insert('l/1d/aa123b6e88c49f110d4026e8865b72fb5133dd.xr', __xr_tmp);
