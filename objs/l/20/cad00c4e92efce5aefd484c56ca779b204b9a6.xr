var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *  linux/fs/ext2/dir.c</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright (C) 1992, 1993, 1994, 1995</span>", 
"<span class=\"comment\"> * Remy Card (card@masi.ibp.fr)</span>", 
"<span class=\"comment\"> * Laboratoire MASI - Institut Blaise Pascal</span>", 
"<span class=\"comment\"> * Universite Pierre et Marie Curie (Paris VI)</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  from</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  linux/fs/minix/dir.c</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Copyright (C) 1991, 1992  Linus Torvalds</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  ext2 directory handling functions</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Big-endian to little-endian byte-swapping/bitmaps by</span>", 
"<span class=\"comment\"> *        David S. Miller (davem@caip.rutgers.edu), 1995</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * All code that works with directory layout had been switched to pagecache</span>", 
"<span class=\"comment\"> * and moved here. AV</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> \"ext2.h\"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#buffer_head\">buffer_head</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#pagemap\">pagemap</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#swap\">swap</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"typedef struct <a class=\"id\" href=\"#ext2_dir_entry_2\">ext2_dir_entry_2</a> <a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a>;", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> unsigned <a class=\"id\" href=\"#ext2_rec_len_from_disk\">ext2_rec_len_from_disk</a>(<a class=\"id\" href=\"#__le16\">__le16</a> <a class=\"id\" href=\"#dlen\">dlen</a>)", 
"{", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#le16_to_cpu\">le16_to_cpu</a>(<a class=\"id\" href=\"#dlen\">dlen</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> == <a class=\"id\" href=\"#EXT2_MAX_REC_LEN\">EXT2_MAX_REC_LEN</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1 << 16;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#len\">len</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> <a class=\"id\" href=\"#__le16\">__le16</a> <a class=\"id\" href=\"#ext2_rec_len_to_disk\">ext2_rec_len_to_disk</a>(unsigned <a class=\"id\" href=\"#len\">len</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> == (1 << 16))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#cpu_to_le16\">cpu_to_le16</a>(<a class=\"id\" href=\"#EXT2_MAX_REC_LEN\">EXT2_MAX_REC_LEN</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>(<a class=\"id\" href=\"#len\">len</a> &gt; (1 << 16));", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#cpu_to_le16\">cpu_to_le16</a>(<a class=\"id\" href=\"#len\">len</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * ext2 uses block-sized chunks. Arguably, sector-sized ones would be</span>", 
"<span class=\"comment\"> * more robust, but we have what we have</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> unsigned <a class=\"id\" href=\"#ext2_chunk_size\">ext2_chunk_size</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_sb\">i_sb</a>-><a class=\"id\" href=\"#s_blocksize\">s_blocksize</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kunmap\">kunmap</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#page_cache_release\">page_cache_release</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> unsigned long <a class=\"id\" href=\"#dir_pages\">dir_pages</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>)", 
"{", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_size\">i_size</a>+<a class=\"id\" href=\"#PAGE_CACHE_SIZE\">PAGE_CACHE_SIZE</a>-1)>><a class=\"id\" href=\"#PAGE_CACHE_SHIFT\">PAGE_CACHE_SHIFT</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Return the offset into page `page_nr' of the last valid</span>", 
"<span class=\"comment\"> * byte in that page, plus one.</span>", 
"<span class=\"comment\"> */</span>", 
"static unsigned", 
"<a class=\"id\" href=\"#ext2_last_byte\">ext2_last_byte</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, unsigned long <a class=\"id\" href=\"#page_nr\">page_nr</a>)", 
"{", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#last_byte\">last_byte</a> = <a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_size\">i_size</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#last_byte\">last_byte</a> -= <a class=\"id\" href=\"#page_nr\">page_nr</a> << <a class=\"id\" href=\"#PAGE_CACHE_SHIFT\">PAGE_CACHE_SHIFT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#last_byte\">last_byte</a> &gt; <a class=\"id\" href=\"#PAGE_CACHE_SIZE\">PAGE_CACHE_SIZE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#last_byte\">last_byte</a> = <a class=\"id\" href=\"#PAGE_CACHE_SIZE\">PAGE_CACHE_SIZE</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#last_byte\">last_byte</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ext2_commit_chunk\">ext2_commit_chunk</a>(struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#loff_t\">loff_t</a> <a class=\"id\" href=\"#pos\">pos</a>, unsigned <a class=\"id\" href=\"#len\">len</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#address_space\">address_space</a> *<a class=\"id\" href=\"#mapping\">mapping</a> = <a class=\"id\" href=\"#page\">page</a>-><a class=\"id\" href=\"#mapping\">mapping</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#dir\">dir</a> = <a class=\"id\" href=\"#mapping\">mapping</a>-><a class=\"id\" href=\"#host\">host</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_version\">i_version</a>++;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#block_write_end\">block_write_end</a>(<a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#mapping\">mapping</a>, <a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#len\">len</a>, <a class=\"id\" href=\"#len\">len</a>, <a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pos\">pos</a>+<a class=\"id\" href=\"#len\">len</a> &gt; <a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_size\">i_size</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#i_size_write\">i_size_write</a>(<a class=\"id\" href=\"#dir\">dir</a>, <a class=\"id\" href=\"#pos\">pos</a>+<a class=\"id\" href=\"#len\">len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mark_inode_dirty\">mark_inode_dirty</a>(<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_DIRSYNC\">IS_DIRSYNC</a>(<a class=\"id\" href=\"#dir\">dir</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#write_one_page\">write_one_page</a>(<a class=\"id\" href=\"#page\">page</a>, 1);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ext2_sync_inode\">ext2_sync_inode</a>(<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_page\">unlock_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#ext2_check_page\">ext2_check_page</a>(struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a>, int <a class=\"id\" href=\"#quiet\">quiet</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#dir\">dir</a> = <a class=\"id\" href=\"#page\">page</a>-><a class=\"id\" href=\"#mapping\">mapping</a>-><a class=\"id\" href=\"#host\">host</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a> = <a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_sb\">i_sb</a>;", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#chunk_size\">chunk_size</a> = <a class=\"id\" href=\"#ext2_chunk_size\">ext2_chunk_size</a>(<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#kaddr\">kaddr</a> = <a class=\"id\" href=\"#page_address\">page_address</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#max_inumber\">max_inumber</a> = <a class=\"id\" href=\"#le32_to_cpu\">le32_to_cpu</a>(<a class=\"id\" href=\"#EXT2_SB\">EXT2_SB</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#s_es\">s_es</a>-><a class=\"id\" href=\"#s_inodes_count\">s_inodes_count</a>);", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#offs\">offs</a>, <a class=\"id\" href=\"#rec_len\">rec_len</a>;", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#limit\">limit</a> = <a class=\"id\" href=\"#PAGE_CACHE_SIZE\">PAGE_CACHE_SIZE</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *<a class=\"id\" href=\"#p\">p</a>;", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_size\">i_size</a> >> <a class=\"id\" href=\"#PAGE_CACHE_SHIFT\">PAGE_CACHE_SHIFT</a>) == <a class=\"id\" href=\"#page\">page</a>-><a class=\"id\" href=\"#index\">index</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#limit\">limit</a> = <a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_size\">i_size</a> &amp; ~<a class=\"id\" href=\"#PAGE_CACHE_MASK\">PAGE_CACHE_MASK</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#limit\">limit</a> &amp; (<a class=\"id\" href=\"#chunk_size\">chunk_size</a> - 1))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#Ebadsize\">Ebadsize</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#limit\">limit</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#offs\">offs</a> = 0; <a class=\"id\" href=\"#offs\">offs</a> <= <a class=\"id\" href=\"#limit\">limit</a> - <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(1); <a class=\"id\" href=\"#offs\">offs</a> += <a class=\"id\" href=\"#rec_len\">rec_len</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#p\">p</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *)(<a class=\"id\" href=\"#kaddr\">kaddr</a> + <a class=\"id\" href=\"#offs\">offs</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rec_len\">rec_len</a> = <a class=\"id\" href=\"#ext2_rec_len_from_disk\">ext2_rec_len_from_disk</a>(<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rec_len\">rec_len</a> &lt; <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(1))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#Eshort\">Eshort</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rec_len\">rec_len</a> &amp; 3)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#Ealign\">Ealign</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rec_len\">rec_len</a> &lt; <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#name_len\">name_len</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#Enamelen\">Enamelen</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (((<a class=\"id\" href=\"#offs\">offs</a> + <a class=\"id\" href=\"#rec_len\">rec_len</a> - 1) ^ <a class=\"id\" href=\"#offs\">offs</a>) &amp; ~(<a class=\"id\" href=\"#chunk_size\">chunk_size</a>-1))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#Espan\">Espan</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#le32_to_cpu\">le32_to_cpu</a>(<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#inode\">inode</a>) &gt; <a class=\"id\" href=\"#max_inumber\">max_inumber</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#Einumber\">Einumber</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#offs\">offs</a> != <a class=\"id\" href=\"#limit\">limit</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#Eend\">Eend</a>;", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SetPageChecked\">SetPageChecked</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Too bad, we had an error */</span>", 
"", 
"<a class=\"id\" href=\"#Ebadsize\">Ebadsize</a>:", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#quiet\">quiet</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_error\">ext2_error</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#__func__\">__func__</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"size of directory #%lu is not a multiple \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"of chunk size\", <a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_ino\">i_ino</a>);", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#fail\">fail</a>;", 
"<a class=\"id\" href=\"#Eshort\">Eshort</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = \"rec_len is smaller than minimal\";", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#bad_entry\">bad_entry</a>;", 
"<a class=\"id\" href=\"#Ealign\">Ealign</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = \"unaligned directory entry\";", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#bad_entry\">bad_entry</a>;", 
"<a class=\"id\" href=\"#Enamelen\">Enamelen</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = \"rec_len is too small for name_len\";", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#bad_entry\">bad_entry</a>;", 
"<a class=\"id\" href=\"#Espan\">Espan</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = \"directory entry across blocks\";", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#bad_entry\">bad_entry</a>;", 
"<a class=\"id\" href=\"#Einumber\">Einumber</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = \"inode out of bounds\";", 
"<a class=\"id\" href=\"#bad_entry\">bad_entry</a>:", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#quiet\">quiet</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_error\">ext2_error</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#__func__\">__func__</a>, \"bad entry in directory #%lu: : %s - \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"offset=%lu, inode=%lu, rec_len=%d, name_len=%d\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_ino\">i_ino</a>, <a class=\"id\" href=\"#error\">error</a>, (<a class=\"id\" href=\"#page\">page</a>-><a class=\"id\" href=\"#index\">index</a><<<a class=\"id\" href=\"#PAGE_CACHE_SHIFT\">PAGE_CACHE_SHIFT</a>)+<a class=\"id\" href=\"#offs\">offs</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(unsigned long) <a class=\"id\" href=\"#le32_to_cpu\">le32_to_cpu</a>(<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#inode\">inode</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rec_len\">rec_len</a>, <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#name_len\">name_len</a>);", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#fail\">fail</a>;", 
"<a class=\"id\" href=\"#Eend\">Eend</a>:", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#quiet\">quiet</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#p\">p</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *)(<a class=\"id\" href=\"#kaddr\">kaddr</a> + <a class=\"id\" href=\"#offs\">offs</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_error\">ext2_error</a>(<a class=\"id\" href=\"#sb\">sb</a>, \"ext2_check_page\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"entry in directory #%lu spans the page boundary\"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"offset=%lu, inode=%lu\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_ino\">i_ino</a>, (<a class=\"id\" href=\"#page\">page</a>-><a class=\"id\" href=\"#index\">index</a><<<a class=\"id\" href=\"#PAGE_CACHE_SHIFT\">PAGE_CACHE_SHIFT</a>)+<a class=\"id\" href=\"#offs\">offs</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(unsigned long) <a class=\"id\" href=\"#le32_to_cpu\">le32_to_cpu</a>(<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#inode\">inode</a>));", 
"<span class=\"ts\"/>}", 
"<a class=\"id\" href=\"#fail\">fail</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SetPageChecked\">SetPageChecked</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SetPageError\">SetPageError</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#page\">page</a> * <a class=\"id\" href=\"#ext2_get_page\">ext2_get_page</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#dir\">dir</a>, unsigned long <a class=\"id\" href=\"#n\">n</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   int <a class=\"id\" href=\"#quiet\">quiet</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#address_space\">address_space</a> *<a class=\"id\" href=\"#mapping\">mapping</a> = <a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_mapping\">i_mapping</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#read_mapping_page\">read_mapping_page</a>(<a class=\"id\" href=\"#mapping\">mapping</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#page\">page</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kmap\">kmap</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#PageChecked\">PageChecked</a>(<a class=\"id\" href=\"#page\">page</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_check_page\">ext2_check_page</a>(<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#quiet\">quiet</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#PageError\">PageError</a>(<a class=\"id\" href=\"#page\">page</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#fail\">fail</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#page\">page</a>;", 
"", 
"<a class=\"id\" href=\"#fail\">fail</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ERR_PTR\">ERR_PTR</a>(-<a class=\"id\" href=\"#EIO\">EIO</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * NOTE! unlike strncmp, ext2_match returns 1 for success, 0 for failure.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * len &lt;= EXT2_NAME_LEN and de != NULL are guaranteed by caller.</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#ext2_match\">ext2_match</a> (int <a class=\"id\" href=\"#len\">len</a>, const char * const <a class=\"id\" href=\"#name\">name</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#ext2_dir_entry_2\">ext2_dir_entry_2</a> * <a class=\"id\" href=\"#de\">de</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> != <a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name_len\">name_len</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>return !<a class=\"id\" href=\"#memcmp\">memcmp</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#len\">len</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * p is at least 6 bytes before the end of page</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> <a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *<a class=\"id\" href=\"#ext2_next_entry\">ext2_next_entry</a>(<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *<a class=\"id\" href=\"#p\">p</a>)", 
"{", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *)((char *)<a class=\"id\" href=\"#p\">p</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_rec_len_from_disk\">ext2_rec_len_from_disk</a>(<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a>));", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> unsigned ", 
"<a class=\"id\" href=\"#ext2_validate_entry\">ext2_validate_entry</a>(char *<a class=\"id\" href=\"#base\">base</a>, unsigned <a class=\"id\" href=\"#offset\">offset</a>, unsigned <a class=\"id\" href=\"#mask\">mask</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *<a class=\"id\" href=\"#de\">de</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a>*)(<a class=\"id\" href=\"#base\">base</a> + <a class=\"id\" href=\"#offset\">offset</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *<a class=\"id\" href=\"#p\">p</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a>*)(<a class=\"id\" href=\"#base\">base</a> + (<a class=\"id\" href=\"#offset\">offset</a>&amp;<a class=\"id\" href=\"#mask\">mask</a>));", 
"<span class=\"ts\"/>while ((char*)<a class=\"id\" href=\"#p\">p</a> &lt; (char*)<a class=\"id\" href=\"#de\">de</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#ext2_next_entry\">ext2_next_entry</a>(<a class=\"id\" href=\"#p\">p</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return (char *)<a class=\"id\" href=\"#p\">p</a> - <a class=\"id\" href=\"#base\">base</a>;", 
"}", 
"", 
"static unsigned char <a class=\"id\" href=\"#ext2_filetype_table\">ext2_filetype_table</a>[<a class=\"id\" href=\"#EXT2_FT_MAX\">EXT2_FT_MAX</a>] = {", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#EXT2_FT_UNKNOWN\">EXT2_FT_UNKNOWN</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#DT_UNKNOWN\">DT_UNKNOWN</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#EXT2_FT_REG_FILE\">EXT2_FT_REG_FILE</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#DT_REG\">DT_REG</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#EXT2_FT_DIR\">EXT2_FT_DIR</a>]<span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#DT_DIR\">DT_DIR</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#EXT2_FT_CHRDEV\">EXT2_FT_CHRDEV</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#DT_CHR\">DT_CHR</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#EXT2_FT_BLKDEV\">EXT2_FT_BLKDEV</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#DT_BLK\">DT_BLK</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#EXT2_FT_FIFO\">EXT2_FT_FIFO</a>]<span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#DT_FIFO\">DT_FIFO</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#EXT2_FT_SOCK\">EXT2_FT_SOCK</a>]<span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#DT_SOCK\">DT_SOCK</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#EXT2_FT_SYMLINK\">EXT2_FT_SYMLINK</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#DT_LNK\">DT_LNK</a>,", 
"};", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#S_SHIFT\">S_SHIFT</a> 12", 
"static unsigned char <a class=\"id\" href=\"#ext2_type_by_mode\">ext2_type_by_mode</a>[<a class=\"id\" href=\"#S_IFMT\">S_IFMT</a> >> <a class=\"id\" href=\"#S_SHIFT\">S_SHIFT</a>] = {", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#S_IFREG\">S_IFREG</a> >> <a class=\"id\" href=\"#S_SHIFT\">S_SHIFT</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#EXT2_FT_REG_FILE\">EXT2_FT_REG_FILE</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#S_IFDIR\">S_IFDIR</a> >> <a class=\"id\" href=\"#S_SHIFT\">S_SHIFT</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#EXT2_FT_DIR\">EXT2_FT_DIR</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#S_IFCHR\">S_IFCHR</a> >> <a class=\"id\" href=\"#S_SHIFT\">S_SHIFT</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#EXT2_FT_CHRDEV\">EXT2_FT_CHRDEV</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#S_IFBLK\">S_IFBLK</a> >> <a class=\"id\" href=\"#S_SHIFT\">S_SHIFT</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#EXT2_FT_BLKDEV\">EXT2_FT_BLKDEV</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#S_IFIFO\">S_IFIFO</a> >> <a class=\"id\" href=\"#S_SHIFT\">S_SHIFT</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#EXT2_FT_FIFO\">EXT2_FT_FIFO</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#S_IFSOCK\">S_IFSOCK</a> >> <a class=\"id\" href=\"#S_SHIFT\">S_SHIFT</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#EXT2_FT_SOCK\">EXT2_FT_SOCK</a>,", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#S_IFLNK\">S_IFLNK</a> >> <a class=\"id\" href=\"#S_SHIFT\">S_SHIFT</a>]<span class=\"ts\"/>= <a class=\"id\" href=\"#EXT2_FT_SYMLINK\">EXT2_FT_SYMLINK</a>,", 
"};", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#ext2_set_de_type\">ext2_set_de_type</a>(<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *<a class=\"id\" href=\"#de\">de</a>, struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode_t\">mode_t</a> <a class=\"id\" href=\"#mode\">mode</a> = <a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_mode\">i_mode</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#EXT2_HAS_INCOMPAT_FEATURE\">EXT2_HAS_INCOMPAT_FEATURE</a>(<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_sb\">i_sb</a>, <a class=\"id\" href=\"#EXT2_FEATURE_INCOMPAT_FILETYPE\">EXT2_FEATURE_INCOMPAT_FILETYPE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#file_type\">file_type</a> = <a class=\"id\" href=\"#ext2_type_by_mode\">ext2_type_by_mode</a>[(<a class=\"id\" href=\"#mode\">mode</a> &amp; <a class=\"id\" href=\"#S_IFMT\">S_IFMT</a>)>><a class=\"id\" href=\"#S_SHIFT\">S_SHIFT</a>];", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#file_type\">file_type</a> = 0;", 
"}", 
"", 
"static int", 
"<a class=\"id\" href=\"#ext2_readdir\">ext2_readdir</a> (struct <a class=\"id\" href=\"#file\">file</a> * <a class=\"id\" href=\"#filp\">filp</a>, void * <a class=\"id\" href=\"#dirent\">dirent</a>, <a class=\"id\" href=\"#filldir_t\">filldir_t</a> <a class=\"id\" href=\"#filldir\">filldir</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#loff_t\">loff_t</a> <a class=\"id\" href=\"#pos\">pos</a> = <a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#f_pos\">f_pos</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a> = <a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#f_path\">f_path</a>.<a class=\"id\" href=\"#dentry\">dentry</a>-><a class=\"id\" href=\"#d_inode\">d_inode</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a> = <a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_sb\">i_sb</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#offset\">offset</a> = <a class=\"id\" href=\"#pos\">pos</a> &amp; ~<a class=\"id\" href=\"#PAGE_CACHE_MASK\">PAGE_CACHE_MASK</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#n\">n</a> = <a class=\"id\" href=\"#pos\">pos</a> >> <a class=\"id\" href=\"#PAGE_CACHE_SHIFT\">PAGE_CACHE_SHIFT</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#npages\">npages</a> = <a class=\"id\" href=\"#dir_pages\">dir_pages</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#chunk_mask\">chunk_mask</a> = ~(<a class=\"id\" href=\"#ext2_chunk_size\">ext2_chunk_size</a>(<a class=\"id\" href=\"#inode\">inode</a>)-1);", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#types\">types</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#need_revalidate\">need_revalidate</a> = <a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#f_version\">f_version</a> != <a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_version\">i_version</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pos\">pos</a> &gt; <a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_size\">i_size</a> - <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(1))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#EXT2_HAS_INCOMPAT_FEATURE\">EXT2_HAS_INCOMPAT_FEATURE</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#EXT2_FEATURE_INCOMPAT_FILETYPE\">EXT2_FEATURE_INCOMPAT_FILETYPE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#types\">types</a> = <a class=\"id\" href=\"#ext2_filetype_table\">ext2_filetype_table</a>;", 
"", 
"<span class=\"ts\"/>for ( ; <a class=\"id\" href=\"#n\">n</a> &lt; <a class=\"id\" href=\"#npages\">npages</a>; <a class=\"id\" href=\"#n\">n</a>++, <a class=\"id\" href=\"#offset\">offset</a> = 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#kaddr\">kaddr</a>, *<a class=\"id\" href=\"#limit\">limit</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *<a class=\"id\" href=\"#de\">de</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#ext2_get_page\">ext2_get_page</a>(<a class=\"id\" href=\"#inode\">inode</a>, <a class=\"id\" href=\"#n\">n</a>, 0);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#page\">page</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_error\">ext2_error</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#__func__\">__func__</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   \"bad page in #%lu\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_ino\">i_ino</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#f_pos\">f_pos</a> += <a class=\"id\" href=\"#PAGE_CACHE_SIZE\">PAGE_CACHE_SIZE</a> - <a class=\"id\" href=\"#offset\">offset</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kaddr\">kaddr</a> = <a class=\"id\" href=\"#page_address\">page_address</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#need_revalidate\">need_revalidate</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#offset\">offset</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#offset\">offset</a> = <a class=\"id\" href=\"#ext2_validate_entry\">ext2_validate_entry</a>(<a class=\"id\" href=\"#kaddr\">kaddr</a>, <a class=\"id\" href=\"#offset\">offset</a>, <a class=\"id\" href=\"#chunk_mask\">chunk_mask</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#f_pos\">f_pos</a> = (<a class=\"id\" href=\"#n\">n</a><<<a class=\"id\" href=\"#PAGE_CACHE_SHIFT\">PAGE_CACHE_SHIFT</a>) + <a class=\"id\" href=\"#offset\">offset</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#f_version\">f_version</a> = <a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_version\">i_version</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#need_revalidate\">need_revalidate</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *)(<a class=\"id\" href=\"#kaddr\">kaddr</a>+<a class=\"id\" href=\"#offset\">offset</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#limit\">limit</a> = <a class=\"id\" href=\"#kaddr\">kaddr</a> + <a class=\"id\" href=\"#ext2_last_byte\">ext2_last_byte</a>(<a class=\"id\" href=\"#inode\">inode</a>, <a class=\"id\" href=\"#n\">n</a>) - <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(1);", 
"<span class=\"ts\"/><span class=\"ts\"/>for ( ;(char*)<a class=\"id\" href=\"#de\">de</a> <= <a class=\"id\" href=\"#limit\">limit</a>; <a class=\"id\" href=\"#de\">de</a> = <a class=\"id\" href=\"#ext2_next_entry\">ext2_next_entry</a>(<a class=\"id\" href=\"#de\">de</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_error\">ext2_error</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#__func__\">__func__</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"zero-length directory entry\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EIO\">EIO</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#over\">over</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>unsigned char <a class=\"id\" href=\"#d_type\">d_type</a> = <a class=\"id\" href=\"#DT_UNKNOWN\">DT_UNKNOWN</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#types\">types</a> && <a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#file_type\">file_type</a> &lt; <a class=\"id\" href=\"#EXT2_FT_MAX\">EXT2_FT_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#d_type\">d_type</a> = <a class=\"id\" href=\"#types\">types</a>[<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#file_type\">file_type</a>];", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#offset\">offset</a> = (char *)<a class=\"id\" href=\"#de\">de</a> - <a class=\"id\" href=\"#kaddr\">kaddr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#over\">over</a> = <a class=\"id\" href=\"#filldir\">filldir</a>(<a class=\"id\" href=\"#dirent\">dirent</a>, <a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name_len\">name_len</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#n\">n</a><<<a class=\"id\" href=\"#PAGE_CACHE_SHIFT\">PAGE_CACHE_SHIFT</a>) | <a class=\"id\" href=\"#offset\">offset</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#le32_to_cpu\">le32_to_cpu</a>(<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a>), <a class=\"id\" href=\"#d_type\">d_type</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#over\">over</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#f_pos\">f_pos</a> += <a class=\"id\" href=\"#ext2_rec_len_from_disk\">ext2_rec_len_from_disk</a>(<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>ext2_find_entry()</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * finds an entry in the specified directory with the wanted name. It</span>", 
"<span class=\"comment\"> * returns the page in which the entry was found (as a parameter - res_page),</span>", 
"<span class=\"comment\"> * and the entry itself. Page is returned mapped and unlocked.</span>", 
"<span class=\"comment\"> * Entry is guaranteed to be valid.</span>", 
"<span class=\"comment\"> */</span>", 
"struct <a class=\"id\" href=\"#ext2_dir_entry_2\">ext2_dir_entry_2</a> *<a class=\"id\" href=\"#ext2_find_entry\">ext2_find_entry</a> (struct <a class=\"id\" href=\"#inode\">inode</a> * <a class=\"id\" href=\"#dir\">dir</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#qstr\">qstr</a> *<a class=\"id\" href=\"#child\">child</a>, struct <a class=\"id\" href=\"#page\">page</a> ** <a class=\"id\" href=\"#res_page\">res_page</a>)", 
"{", 
"<span class=\"ts\"/>const char *<a class=\"id\" href=\"#name\">name</a> = <a class=\"id\" href=\"#child\">child</a>-><a class=\"id\" href=\"#name\">name</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#namelen\">namelen</a> = <a class=\"id\" href=\"#child\">child</a>-><a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#reclen\">reclen</a> = <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(<a class=\"id\" href=\"#namelen\">namelen</a>);", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#start\">start</a>, <a class=\"id\" href=\"#n\">n</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#npages\">npages</a> = <a class=\"id\" href=\"#dir_pages\">dir_pages</a>(<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ext2_inode_info\">ext2_inode_info</a> *<a class=\"id\" href=\"#ei\">ei</a> = <a class=\"id\" href=\"#EXT2_I\">EXT2_I</a>(<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> * <a class=\"id\" href=\"#de\">de</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#dir_has_error\">dir_has_error</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#npages\">npages</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* OFFSET_CACHE */</span>", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#res_page\">res_page</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#start\">start</a> = <a class=\"id\" href=\"#ei\">ei</a>-><a class=\"id\" href=\"#i_dir_start_lookup\">i_dir_start_lookup</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#start\">start</a> >= <a class=\"id\" href=\"#npages\">npages</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#start\">start</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#n\">n</a> = <a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/>do {", 
"<span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#kaddr\">kaddr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#ext2_get_page\">ext2_get_page</a>(<a class=\"id\" href=\"#dir\">dir</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#dir_has_error\">dir_has_error</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#page\">page</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kaddr\">kaddr</a> = <a class=\"id\" href=\"#page_address\">page_address</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *) <a class=\"id\" href=\"#kaddr\">kaddr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kaddr\">kaddr</a> += <a class=\"id\" href=\"#ext2_last_byte\">ext2_last_byte</a>(<a class=\"id\" href=\"#dir\">dir</a>, <a class=\"id\" href=\"#n\">n</a>) - <a class=\"id\" href=\"#reclen\">reclen</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>while ((char *) <a class=\"id\" href=\"#de\">de</a> <= <a class=\"id\" href=\"#kaddr\">kaddr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_error\">ext2_error</a>(<a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_sb\">i_sb</a>, <a class=\"id\" href=\"#__func__\">__func__</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"zero-length directory entry\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ext2_match\">ext2_match</a> (<a class=\"id\" href=\"#namelen\">namelen</a>, <a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#de\">de</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#found\">found</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = <a class=\"id\" href=\"#ext2_next_entry\">ext2_next_entry</a>(<a class=\"id\" href=\"#de\">de</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dir_has_error\">dir_has_error</a> = 1;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (++<a class=\"id\" href=\"#n\">n</a> >= <a class=\"id\" href=\"#npages\">npages</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#n\">n</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* next page is past the blocks we've got */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#n\">n</a> &gt; (<a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_blocks\">i_blocks</a> >> (<a class=\"id\" href=\"#PAGE_CACHE_SHIFT\">PAGE_CACHE_SHIFT</a> - 9)))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_error\">ext2_error</a>(<a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_sb\">i_sb</a>, <a class=\"id\" href=\"#__func__\">__func__</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"dir %lu size %lld exceeds block count %llu\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_ino\">i_ino</a>, <a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_size\">i_size</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(unsigned long long)<a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_blocks\">i_blocks</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>} while (<a class=\"id\" href=\"#n\">n</a> != <a class=\"id\" href=\"#start\">start</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<a class=\"id\" href=\"#found\">found</a>:", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#res_page\">res_page</a> = <a class=\"id\" href=\"#page\">page</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ei\">ei</a>-><a class=\"id\" href=\"#i_dir_start_lookup\">i_dir_start_lookup</a> = <a class=\"id\" href=\"#n\">n</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#de\">de</a>;", 
"}", 
"", 
"struct <a class=\"id\" href=\"#ext2_dir_entry_2\">ext2_dir_entry_2</a> * <a class=\"id\" href=\"#ext2_dotdot\">ext2_dotdot</a> (struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#dir\">dir</a>, struct <a class=\"id\" href=\"#page\">page</a> **<a class=\"id\" href=\"#p\">p</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#ext2_get_page\">ext2_get_page</a>(<a class=\"id\" href=\"#dir\">dir</a>, 0, 0);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *<a class=\"id\" href=\"#de\">de</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#page\">page</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = <a class=\"id\" href=\"#ext2_next_entry\">ext2_next_entry</a>((<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *) <a class=\"id\" href=\"#page_address\">page_address</a>(<a class=\"id\" href=\"#page\">page</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#page\">page</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#de\">de</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#ino_t\">ino_t</a> <a class=\"id\" href=\"#ext2_inode_by_name\">ext2_inode_by_name</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#dir\">dir</a>, struct <a class=\"id\" href=\"#qstr\">qstr</a> *<a class=\"id\" href=\"#child\">child</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ino_t\">ino_t</a> <a class=\"id\" href=\"#res\">res</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ext2_dir_entry_2\">ext2_dir_entry_2</a> *<a class=\"id\" href=\"#de\">de</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a>;", 
"<span class=\"ts\"/>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = <a class=\"id\" href=\"#ext2_find_entry\">ext2_find_entry</a> (<a class=\"id\" href=\"#dir\">dir</a>, <a class=\"id\" href=\"#child\">child</a>, &amp;<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#res\">res</a> = <a class=\"id\" href=\"#le32_to_cpu\">le32_to_cpu</a>(<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#res\">res</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ext2_prepare_chunk\">ext2_prepare_chunk</a>(struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#loff_t\">loff_t</a> <a class=\"id\" href=\"#pos\">pos</a>, unsigned <a class=\"id\" href=\"#len\">len</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#__block_write_begin\">__block_write_begin</a>(<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#len\">len</a>, <a class=\"id\" href=\"#ext2_get_block\">ext2_get_block</a>);", 
"}", 
"", 
"<span class=\"comment\">/* Releases the page */</span>", 
"void <a class=\"id\" href=\"#ext2_set_link\">ext2_set_link</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#dir\">dir</a>, struct <a class=\"id\" href=\"#ext2_dir_entry_2\">ext2_dir_entry_2</a> *<a class=\"id\" href=\"#de\">de</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a>, struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, int <a class=\"id\" href=\"#update_times\">update_times</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#loff_t\">loff_t</a> <a class=\"id\" href=\"#pos\">pos</a> = <a class=\"id\" href=\"#page_offset\">page_offset</a>(<a class=\"id\" href=\"#page\">page</a>) +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(char *) <a class=\"id\" href=\"#de\">de</a> - (char *) <a class=\"id\" href=\"#page_address\">page_address</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#ext2_rec_len_from_disk\">ext2_rec_len_from_disk</a>(<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#lock_page\">lock_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ext2_prepare_chunk\">ext2_prepare_chunk</a>(<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#len\">len</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>(<a class=\"id\" href=\"#err\">err</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a> = <a class=\"id\" href=\"#cpu_to_le32\">cpu_to_le32</a>(<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_ino\">i_ino</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_set_de_type\">ext2_set_de_type</a>(<a class=\"id\" href=\"#de\">de</a>, <a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ext2_commit_chunk\">ext2_commit_chunk</a>(<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#len\">len</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#update_times\">update_times</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_mtime\">i_mtime</a> = <a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_ctime\">i_ctime</a> = <a class=\"id\" href=\"#CURRENT_TIME_SEC\">CURRENT_TIME_SEC</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#EXT2_I\">EXT2_I</a>(<a class=\"id\" href=\"#dir\">dir</a>)-><a class=\"id\" href=\"#i_flags\">i_flags</a> &= ~<a class=\"id\" href=\"#EXT2_BTREE_FL\">EXT2_BTREE_FL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mark_inode_dirty\">mark_inode_dirty</a>(<a class=\"id\" href=\"#dir\">dir</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Parent is locked.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#ext2_add_link\">ext2_add_link</a> (struct <a class=\"id\" href=\"#dentry\">dentry</a> *<a class=\"id\" href=\"#dentry\">dentry</a>, struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#dir\">dir</a> = <a class=\"id\" href=\"#dentry\">dentry</a>-><a class=\"id\" href=\"#d_parent\">d_parent</a>-><a class=\"id\" href=\"#d_inode\">d_inode</a>;", 
"<span class=\"ts\"/>const char *<a class=\"id\" href=\"#name\">name</a> = <a class=\"id\" href=\"#dentry\">dentry</a>-><a class=\"id\" href=\"#d_name\">d_name</a>.<a class=\"id\" href=\"#name\">name</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#namelen\">namelen</a> = <a class=\"id\" href=\"#dentry\">dentry</a>-><a class=\"id\" href=\"#d_name\">d_name</a>.<a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#chunk_size\">chunk_size</a> = <a class=\"id\" href=\"#ext2_chunk_size\">ext2_chunk_size</a>(<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#reclen\">reclen</a> = <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(<a class=\"id\" href=\"#namelen\">namelen</a>);", 
"<span class=\"ts\"/>unsigned short <a class=\"id\" href=\"#rec_len\">rec_len</a>, <a class=\"id\" href=\"#name_len\">name_len</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> * <a class=\"id\" href=\"#de\">de</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#npages\">npages</a> = <a class=\"id\" href=\"#dir_pages\">dir_pages</a>(<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#n\">n</a>;", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#kaddr\">kaddr</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#loff_t\">loff_t</a> <a class=\"id\" href=\"#pos\">pos</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * We take care of directory expansion in the same loop.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * This code plays outside i_size, so it locks the page</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * to protect that region.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#n\">n</a> = 0; <a class=\"id\" href=\"#n\">n</a> <= <a class=\"id\" href=\"#npages\">npages</a>; <a class=\"id\" href=\"#n\">n</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#dir_end\">dir_end</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#ext2_get_page\">ext2_get_page</a>(<a class=\"id\" href=\"#dir\">dir</a>, <a class=\"id\" href=\"#n\">n</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#page\">page</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#lock_page\">lock_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kaddr\">kaddr</a> = <a class=\"id\" href=\"#page_address\">page_address</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dir_end\">dir_end</a> = <a class=\"id\" href=\"#kaddr\">kaddr</a> + <a class=\"id\" href=\"#ext2_last_byte\">ext2_last_byte</a>(<a class=\"id\" href=\"#dir\">dir</a>, <a class=\"id\" href=\"#n\">n</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *)<a class=\"id\" href=\"#kaddr\">kaddr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kaddr\">kaddr</a> += <a class=\"id\" href=\"#PAGE_CACHE_SIZE\">PAGE_CACHE_SIZE</a> - <a class=\"id\" href=\"#reclen\">reclen</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>while ((char *)<a class=\"id\" href=\"#de\">de</a> <= <a class=\"id\" href=\"#kaddr\">kaddr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((char *)<a class=\"id\" href=\"#de\">de</a> == <a class=\"id\" href=\"#dir_end\">dir_end</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* We hit i_size */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#name_len\">name_len</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rec_len\">rec_len</a> = <a class=\"id\" href=\"#chunk_size\">chunk_size</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> = <a class=\"id\" href=\"#ext2_rec_len_to_disk\">ext2_rec_len_to_disk</a>(<a class=\"id\" href=\"#chunk_size\">chunk_size</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#got_it\">got_it</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_error\">ext2_error</a>(<a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_sb\">i_sb</a>, <a class=\"id\" href=\"#__func__\">__func__</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"zero-length directory entry\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EIO\">EIO</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_unlock\">out_unlock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EEXIST\">EEXIST</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ext2_match\">ext2_match</a> (<a class=\"id\" href=\"#namelen\">namelen</a>, <a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#de\">de</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_unlock\">out_unlock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#name_len\">name_len</a> = <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name_len\">name_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rec_len\">rec_len</a> = <a class=\"id\" href=\"#ext2_rec_len_from_disk\">ext2_rec_len_from_disk</a>(<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a> && <a class=\"id\" href=\"#rec_len\">rec_len</a> >= <a class=\"id\" href=\"#reclen\">reclen</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#got_it\">got_it</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rec_len\">rec_len</a> >= <a class=\"id\" href=\"#name_len\">name_len</a> + <a class=\"id\" href=\"#reclen\">reclen</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#got_it\">got_it</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *) ((char *) <a class=\"id\" href=\"#de\">de</a> + <a class=\"id\" href=\"#rec_len\">rec_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_page\">unlock_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BUG\">BUG</a>();", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<a class=\"id\" href=\"#got_it\">got_it</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pos\">pos</a> = <a class=\"id\" href=\"#page_offset\">page_offset</a>(<a class=\"id\" href=\"#page\">page</a>) +", 
"<span class=\"ts\"/><span class=\"ts\"/>(char*)<a class=\"id\" href=\"#de\">de</a> - (char*)<a class=\"id\" href=\"#page_address\">page_address</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ext2_prepare_chunk\">ext2_prepare_chunk</a>(<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#rec_len\">rec_len</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_unlock\">out_unlock</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *<a class=\"id\" href=\"#de1\">de1</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *) ((char *) <a class=\"id\" href=\"#de\">de</a> + <a class=\"id\" href=\"#name_len\">name_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de1\">de1</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> = <a class=\"id\" href=\"#ext2_rec_len_to_disk\">ext2_rec_len_to_disk</a>(<a class=\"id\" href=\"#rec_len\">rec_len</a> - <a class=\"id\" href=\"#name_len\">name_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> = <a class=\"id\" href=\"#ext2_rec_len_to_disk\">ext2_rec_len_to_disk</a>(<a class=\"id\" href=\"#name_len\">name_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = <a class=\"id\" href=\"#de1\">de1</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name_len\">name_len</a> = <a class=\"id\" href=\"#namelen\">namelen</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#namelen\">namelen</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a> = <a class=\"id\" href=\"#cpu_to_le32\">cpu_to_le32</a>(<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_ino\">i_ino</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_set_de_type\">ext2_set_de_type</a> (<a class=\"id\" href=\"#de\">de</a>, <a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ext2_commit_chunk\">ext2_commit_chunk</a>(<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#rec_len\">rec_len</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_mtime\">i_mtime</a> = <a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#i_ctime\">i_ctime</a> = <a class=\"id\" href=\"#CURRENT_TIME_SEC\">CURRENT_TIME_SEC</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#EXT2_I\">EXT2_I</a>(<a class=\"id\" href=\"#dir\">dir</a>)-><a class=\"id\" href=\"#i_flags\">i_flags</a> &= ~<a class=\"id\" href=\"#EXT2_BTREE_FL\">EXT2_BTREE_FL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mark_inode_dirty\">mark_inode_dirty</a>(<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/* OFFSET_CACHE */</span>", 
"<a class=\"id\" href=\"#out_put\">out_put</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<a class=\"id\" href=\"#out_unlock\">out_unlock</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unlock_page\">unlock_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#out_put\">out_put</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * ext2_delete_entry deletes a directory entry by merging it with the</span>", 
"<span class=\"comment\"> * previous entry. Page is up-to-date. Releases the page.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#ext2_delete_entry\">ext2_delete_entry</a> (struct <a class=\"id\" href=\"#ext2_dir_entry_2\">ext2_dir_entry_2</a> * <a class=\"id\" href=\"#dir\">dir</a>, struct <a class=\"id\" href=\"#page\">page</a> * <a class=\"id\" href=\"#page\">page</a> )", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a> = <a class=\"id\" href=\"#page\">page</a>-><a class=\"id\" href=\"#mapping\">mapping</a>-><a class=\"id\" href=\"#host\">host</a>;", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#kaddr\">kaddr</a> = <a class=\"id\" href=\"#page_address\">page_address</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#from\">from</a> = ((char*)<a class=\"id\" href=\"#dir\">dir</a> - <a class=\"id\" href=\"#kaddr\">kaddr</a>) &amp; ~(<a class=\"id\" href=\"#ext2_chunk_size\">ext2_chunk_size</a>(<a class=\"id\" href=\"#inode\">inode</a>)-1);", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#to\">to</a> = ((char *)<a class=\"id\" href=\"#dir\">dir</a> - <a class=\"id\" href=\"#kaddr\">kaddr</a>) +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_rec_len_from_disk\">ext2_rec_len_from_disk</a>(<a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#loff_t\">loff_t</a> <a class=\"id\" href=\"#pos\">pos</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> * <a class=\"id\" href=\"#pde\">pde</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> * <a class=\"id\" href=\"#de\">de</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *) (<a class=\"id\" href=\"#kaddr\">kaddr</a> + <a class=\"id\" href=\"#from\">from</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>while ((char*)<a class=\"id\" href=\"#de\">de</a> &lt; (char*)<a class=\"id\" href=\"#dir\">dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_error\">ext2_error</a>(<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_sb\">i_sb</a>, <a class=\"id\" href=\"#__func__\">__func__</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"zero-length directory entry\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EIO\">EIO</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pde\">pde</a> = <a class=\"id\" href=\"#de\">de</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = <a class=\"id\" href=\"#ext2_next_entry\">ext2_next_entry</a>(<a class=\"id\" href=\"#de\">de</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pde\">pde</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#from\">from</a> = (char*)<a class=\"id\" href=\"#pde\">pde</a> - (char*)<a class=\"id\" href=\"#page_address\">page_address</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pos\">pos</a> = <a class=\"id\" href=\"#page_offset\">page_offset</a>(<a class=\"id\" href=\"#page\">page</a>) + <a class=\"id\" href=\"#from\">from</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#lock_page\">lock_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ext2_prepare_chunk\">ext2_prepare_chunk</a>(<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#to\">to</a> - <a class=\"id\" href=\"#from\">from</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>(<a class=\"id\" href=\"#err\">err</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pde\">pde</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pde\">pde</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> = <a class=\"id\" href=\"#ext2_rec_len_to_disk\">ext2_rec_len_to_disk</a>(<a class=\"id\" href=\"#to\">to</a> - <a class=\"id\" href=\"#from\">from</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dir\">dir</a>-><a class=\"id\" href=\"#inode\">inode</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ext2_commit_chunk\">ext2_commit_chunk</a>(<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#to\">to</a> - <a class=\"id\" href=\"#from\">from</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_ctime\">i_ctime</a> = <a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_mtime\">i_mtime</a> = <a class=\"id\" href=\"#CURRENT_TIME_SEC\">CURRENT_TIME_SEC</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#EXT2_I\">EXT2_I</a>(<a class=\"id\" href=\"#inode\">inode</a>)-><a class=\"id\" href=\"#i_flags\">i_flags</a> &= ~<a class=\"id\" href=\"#EXT2_BTREE_FL\">EXT2_BTREE_FL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mark_inode_dirty\">mark_inode_dirty</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Set the first fragment of directory.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#ext2_make_empty\">ext2_make_empty</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#parent\">parent</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#grab_cache_page\">grab_cache_page</a>(<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_mapping\">i_mapping</a>, 0);", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#chunk_size\">chunk_size</a> = <a class=\"id\" href=\"#ext2_chunk_size\">ext2_chunk_size</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ext2_dir_entry_2\">ext2_dir_entry_2</a> * <a class=\"id\" href=\"#de\">de</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>void *<a class=\"id\" href=\"#kaddr\">kaddr</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#page\">page</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ext2_prepare_chunk\">ext2_prepare_chunk</a>(<a class=\"id\" href=\"#page\">page</a>, 0, <a class=\"id\" href=\"#chunk_size\">chunk_size</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_page\">unlock_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#fail\">fail</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kaddr\">kaddr</a> = <a class=\"id\" href=\"#kmap_atomic\">kmap_atomic</a>(<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#KM_USER0\">KM_USER0</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(<a class=\"id\" href=\"#kaddr\">kaddr</a>, 0, <a class=\"id\" href=\"#chunk_size\">chunk_size</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = (struct <a class=\"id\" href=\"#ext2_dir_entry_2\">ext2_dir_entry_2</a> *)<a class=\"id\" href=\"#kaddr\">kaddr</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name_len\">name_len</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> = <a class=\"id\" href=\"#ext2_rec_len_to_disk\">ext2_rec_len_to_disk</a>(<a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(1));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a> (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name\">name</a>, \".\\0\\0\", 4);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a> = <a class=\"id\" href=\"#cpu_to_le32\">cpu_to_le32</a>(<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_ino\">i_ino</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_set_de_type\">ext2_set_de_type</a> (<a class=\"id\" href=\"#de\">de</a>, <a class=\"id\" href=\"#inode\">inode</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = (struct <a class=\"id\" href=\"#ext2_dir_entry_2\">ext2_dir_entry_2</a> *)(<a class=\"id\" href=\"#kaddr\">kaddr</a> + <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(1));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name_len\">name_len</a> = 2;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> = <a class=\"id\" href=\"#ext2_rec_len_to_disk\">ext2_rec_len_to_disk</a>(<a class=\"id\" href=\"#chunk_size\">chunk_size</a> - <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(1));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a> = <a class=\"id\" href=\"#cpu_to_le32\">cpu_to_le32</a>(<a class=\"id\" href=\"#parent\">parent</a>-><a class=\"id\" href=\"#i_ino\">i_ino</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a> (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name\">name</a>, \"..\\0\", 4);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_set_de_type\">ext2_set_de_type</a> (<a class=\"id\" href=\"#de\">de</a>, <a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kunmap_atomic\">kunmap_atomic</a>(<a class=\"id\" href=\"#kaddr\">kaddr</a>, <a class=\"id\" href=\"#KM_USER0\">KM_USER0</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ext2_commit_chunk\">ext2_commit_chunk</a>(<a class=\"id\" href=\"#page\">page</a>, 0, <a class=\"id\" href=\"#chunk_size\">chunk_size</a>);", 
"<a class=\"id\" href=\"#fail\">fail</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#page_cache_release\">page_cache_release</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * routine to check that the specified directory is empty (for rmdir)</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#ext2_empty_dir\">ext2_empty_dir</a> (struct <a class=\"id\" href=\"#inode\">inode</a> * <a class=\"id\" href=\"#inode\">inode</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#npages\">npages</a> = <a class=\"id\" href=\"#dir_pages\">dir_pages</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#dir_has_error\">dir_has_error</a> = 0;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#npages\">npages</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#kaddr\">kaddr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> * <a class=\"id\" href=\"#de\">de</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#ext2_get_page\">ext2_get_page</a>(<a class=\"id\" href=\"#inode\">inode</a>, <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#dir_has_error\">dir_has_error</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#page\">page</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dir_has_error\">dir_has_error</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kaddr\">kaddr</a> = <a class=\"id\" href=\"#page_address\">page_address</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = (<a class=\"id\" href=\"#ext2_dirent\">ext2_dirent</a> *)<a class=\"id\" href=\"#kaddr\">kaddr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kaddr\">kaddr</a> += <a class=\"id\" href=\"#ext2_last_byte\">ext2_last_byte</a>(<a class=\"id\" href=\"#inode\">inode</a>, <a class=\"id\" href=\"#i\">i</a>) - <a class=\"id\" href=\"#EXT2_DIR_REC_LEN\">EXT2_DIR_REC_LEN</a>(1);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>while ((char *)<a class=\"id\" href=\"#de\">de</a> <= <a class=\"id\" href=\"#kaddr\">kaddr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#rec_len\">rec_len</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_error\">ext2_error</a>(<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_sb\">i_sb</a>, <a class=\"id\" href=\"#__func__\">__func__</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"zero-length directory entry\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"kaddr=%p, de=%p\\n\", <a class=\"id\" href=\"#kaddr\">kaddr</a>, <a class=\"id\" href=\"#de\">de</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#not_empty\">not_empty</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a> != 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* check for . and .. */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name\">name</a>[0] != '.')", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#not_empty\">not_empty</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name_len\">name_len</a> &gt; 2)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#not_empty\">not_empty</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name_len\">name_len</a> &lt; 2) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#inode\">inode</a> !=", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#cpu_to_le32\">cpu_to_le32</a>(<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_ino\">i_ino</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#not_empty\">not_empty</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else if (<a class=\"id\" href=\"#de\">de</a>-><a class=\"id\" href=\"#name\">name</a>[1] != '.')", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#not_empty\">not_empty</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#de\">de</a> = <a class=\"id\" href=\"#ext2_next_entry\">ext2_next_entry</a>(<a class=\"id\" href=\"#de\">de</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 1;", 
"", 
"<a class=\"id\" href=\"#not_empty\">not_empty</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext2_put_page\">ext2_put_page</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> <a class=\"id\" href=\"#ext2_dir_operations\">ext2_dir_operations</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#llseek\">llseek</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#generic_file_llseek\">generic_file_llseek</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#read\">read</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#generic_read_dir\">generic_read_dir</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#readdir\">readdir</a><span class=\"ts\"/>= <a class=\"id\" href=\"#ext2_readdir\">ext2_readdir</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#unlocked_ioctl\">unlocked_ioctl</a> = <a class=\"id\" href=\"#ext2_ioctl\">ext2_ioctl</a>,", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_COMPAT\">CONFIG_COMPAT</a>", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#compat_ioctl\">compat_ioctl</a><span class=\"ts\"/>= <a class=\"id\" href=\"#ext2_compat_ioctl\">ext2_compat_ioctl</a>,", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#fsync\">fsync</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#ext2_fsync\">ext2_fsync</a>,", 
"};", 
];
xr_frag_insert('l/20/cad00c4e92efce5aefd484c56ca779b204b9a6.xr', __xr_tmp);
