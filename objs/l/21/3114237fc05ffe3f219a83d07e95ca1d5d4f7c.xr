var __xr_tmp = [
"<span class=\"ts\"/><a class=\"id\" href=\"#kiocb\">kiocb</a> = <a class=\"id\" href=\"#lookup_kiocb\">lookup_kiocb</a>(<a class=\"id\" href=\"#ctx\">ctx</a>, <a class=\"id\" href=\"#iocb\">iocb</a>, <a class=\"id\" href=\"#key\">key</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#kiocb\">kiocb</a> && <a class=\"id\" href=\"#kiocb\">kiocb</a>-><a class=\"id\" href=\"#ki_cancel\">ki_cancel</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cancel\">cancel</a> = <a class=\"id\" href=\"#kiocb\">kiocb</a>-><a class=\"id\" href=\"#ki_cancel\">ki_cancel</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kiocb\">kiocb</a>-><a class=\"id\" href=\"#ki_users\">ki_users</a> ++;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kiocbSetCancelled\">kiocbSetCancelled</a>(<a class=\"id\" href=\"#kiocb\">kiocb</a>);", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cancel\">cancel</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#ctx\">ctx</a>-><a class=\"id\" href=\"#ctx_lock\">ctx_lock</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#NULL\">NULL</a> != <a class=\"id\" href=\"#cancel\">cancel</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#io_event\">io_event</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_debug\">pr_debug</a>(\"calling cancel\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#tmp\">tmp</a>, 0, sizeof(<a class=\"id\" href=\"#tmp\">tmp</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a>.<a class=\"id\" href=\"#obj\">obj</a> = (<a class=\"id\" href=\"#u64\">u64</a>)(unsigned long)<a class=\"id\" href=\"#kiocb\">kiocb</a>-><a class=\"id\" href=\"#ki_obj\">ki_obj</a>.<a class=\"id\" href=\"#user\">user</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a>.<a class=\"id\" href=\"#data\">data</a> = <a class=\"id\" href=\"#kiocb\">kiocb</a>-><a class=\"id\" href=\"#ki_user_data\">ki_user_data</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#cancel\">cancel</a>(<a class=\"id\" href=\"#kiocb\">kiocb</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Cancellation succeeded -- copy the result</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * into the user's buffer.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#result\">result</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>, sizeof(<a class=\"id\" href=\"#tmp\">tmp</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#put_ioctx\">put_ioctx</a>(<a class=\"id\" href=\"#ctx\">ctx</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<span class=\"comment\">/* io_getevents:</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Attempts to read at least min_nr events and up to nr events from</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>the completion queue for the aio_context specified by ctx_id. If</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>it succeeds, the number of read events is returned. May fail with</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>-EINVAL if ctx_id is invalid, if min_nr is out of range, if nr is</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>out of range, if timeout is out of range.  May fail with -EFAULT</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>if any of the memory specified is invalid.  May return 0 or</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>&lt; min_nr if the timeout specified by timeout has elapsed</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>before sufficient events are available, where timeout == NULL</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>specifies an infinite timeout. Note that the timeout pointed to by</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>timeout is relative and will be updated if not NULL and the</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>operation blocks. Will fail with -ENOSYS if not implemented.</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE5\">SYSCALL_DEFINE5</a>(<a class=\"id\" href=\"#io_getevents\">io_getevents</a>, <a class=\"id\" href=\"#aio_context_t\">aio_context_t</a>, <a class=\"id\" href=\"#ctx_id\">ctx_id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>long, <a class=\"id\" href=\"#min_nr\">min_nr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>long, <a class=\"id\" href=\"#nr\">nr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#io_event\">io_event</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#events\">events</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#timeout\">timeout</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#kioctx\">kioctx</a> *<a class=\"id\" href=\"#ioctx\">ioctx</a> = <a class=\"id\" href=\"#lookup_ioctx\">lookup_ioctx</a>(<a class=\"id\" href=\"#ctx_id\">ctx_id</a>);", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#likely\">likely</a>(<a class=\"id\" href=\"#ioctx\">ioctx</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#likely\">likely</a>(<a class=\"id\" href=\"#min_nr\">min_nr</a> <= <a class=\"id\" href=\"#nr\">nr</a> && <a class=\"id\" href=\"#min_nr\">min_nr</a> >= 0 && <a class=\"id\" href=\"#nr\">nr</a> >= 0))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#read_events\">read_events</a>(<a class=\"id\" href=\"#ioctx\">ioctx</a>, <a class=\"id\" href=\"#min_nr\">min_nr</a>, <a class=\"id\" href=\"#nr\">nr</a>, <a class=\"id\" href=\"#events\">events</a>, <a class=\"id\" href=\"#timeout\">timeout</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#put_ioctx\">put_ioctx</a>(<a class=\"id\" href=\"#ioctx\">ioctx</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#asmlinkage_protect\">asmlinkage_protect</a>(5, <a class=\"id\" href=\"#ret\">ret</a>, <a class=\"id\" href=\"#ctx_id\">ctx_id</a>, <a class=\"id\" href=\"#min_nr\">min_nr</a>, <a class=\"id\" href=\"#nr\">nr</a>, <a class=\"id\" href=\"#events\">events</a>, <a class=\"id\" href=\"#timeout\">timeout</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
];
xr_frag_insert('l/21/3114237fc05ffe3f219a83d07e95ca1d5d4f7c.xr', __xr_tmp);
