var __xr_tmp = [
"};", 
"", 
"static void <a class=\"id\" href=\"#wake\">wake</a>(struct <a class=\"id\" href=\"#dm_kcopyd_client\">dm_kcopyd_client</a> *<a class=\"id\" href=\"#kc\">kc</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#queue_work\">queue_work</a>(<a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#kcopyd_wq\">kcopyd_wq</a>, &amp;<a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#kcopyd_work\">kcopyd_work</a>);", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#page_list\">page_list</a> *<a class=\"id\" href=\"#alloc_pl\">alloc_pl</a>(void)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page_list\">page_list</a> *<a class=\"id\" href=\"#pl\">pl</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pl\">pl</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(sizeof(*<a class=\"id\" href=\"#pl\">pl</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pl\">pl</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pl\">pl</a>-><a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#alloc_page\">alloc_page</a>(<a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pl\">pl</a>-><a class=\"id\" href=\"#page\">page</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#pl\">pl</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#pl\">pl</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#free_pl\">free_pl</a>(struct <a class=\"id\" href=\"#page_list\">page_list</a> *<a class=\"id\" href=\"#pl\">pl</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__free_page\">__free_page</a>(<a class=\"id\" href=\"#pl\">pl</a>-><a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#pl\">pl</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#kcopyd_get_pages\">kcopyd_get_pages</a>(struct <a class=\"id\" href=\"#dm_kcopyd_client\">dm_kcopyd_client</a> *<a class=\"id\" href=\"#kc\">kc</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    unsigned int <a class=\"id\" href=\"#nr\">nr</a>, struct <a class=\"id\" href=\"#page_list\">page_list</a> **<a class=\"id\" href=\"#pages\">pages</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page_list\">page_list</a> *<a class=\"id\" href=\"#pl\">pl</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#nr_free_pages\">nr_free_pages</a> &lt; <a class=\"id\" href=\"#nr\">nr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#nr_free_pages\">nr_free_pages</a> -= <a class=\"id\" href=\"#nr\">nr</a>;", 
"<span class=\"ts\"/>for (*<a class=\"id\" href=\"#pages\">pages</a> = <a class=\"id\" href=\"#pl\">pl</a> = <a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#pages\">pages</a>; --<a class=\"id\" href=\"#nr\">nr</a>; <a class=\"id\" href=\"#pl\">pl</a> = <a class=\"id\" href=\"#pl\">pl</a>-><a class=\"id\" href=\"#next\">next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#pages\">pages</a> = <a class=\"id\" href=\"#pl\">pl</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pl\">pl</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#kcopyd_put_pages\">kcopyd_put_pages</a>(struct <a class=\"id\" href=\"#dm_kcopyd_client\">dm_kcopyd_client</a> *<a class=\"id\" href=\"#kc\">kc</a>, struct <a class=\"id\" href=\"#page_list\">page_list</a> *<a class=\"id\" href=\"#pl\">pl</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page_list\">page_list</a> *<a class=\"id\" href=\"#cursor\">cursor</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#cursor\">cursor</a> = <a class=\"id\" href=\"#pl\">pl</a>; <a class=\"id\" href=\"#cursor\">cursor</a>-><a class=\"id\" href=\"#next\">next</a>; <a class=\"id\" href=\"#cursor\">cursor</a> = <a class=\"id\" href=\"#cursor\">cursor</a>-><a class=\"id\" href=\"#next\">next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#nr_free_pages\">nr_free_pages</a>++;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#nr_free_pages\">nr_free_pages</a>++;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cursor\">cursor</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#pages\">pages</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#pages\">pages</a> = <a class=\"id\" href=\"#pl\">pl</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#kc\">kc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * These three functions resize the page pool.</span>", 
"<span class=\"comment\"> */</span>", 
"static void <a class=\"id\" href=\"#drop_pages\">drop_pages</a>(struct <a class=\"id\" href=\"#page_list\">page_list</a> *<a class=\"id\" href=\"#pl\">pl</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page_list\">page_list</a> *<a class=\"id\" href=\"#next\">next</a>;", 
"", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#pl\">pl</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#pl\">pl</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#free_pl\">free_pl</a>(<a class=\"id\" href=\"#pl\">pl</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pl\">pl</a> = <a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static int <a class=\"id\" href=\"#client_alloc_pages\">client_alloc_pages</a>(struct <a class=\"id\" href=\"#dm_kcopyd_client\">dm_kcopyd_client</a> *<a class=\"id\" href=\"#kc\">kc</a>, unsigned int <a class=\"id\" href=\"#nr\">nr</a>)", 
"{", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page_list\">page_list</a> *<a class=\"id\" href=\"#pl\">pl</a> = <a class=\"id\" href=\"#NULL\">NULL</a>, *<a class=\"id\" href=\"#next\">next</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#nr\">nr</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#alloc_pl\">alloc_pl</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#next\">next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pl\">pl</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drop_pages\">drop_pages</a>(<a class=\"id\" href=\"#pl\">pl</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#next\">next</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#pl\">pl</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pl\">pl</a> = <a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>}", 
];
xr_frag_insert('l/2c/ae2c327a435acef207ce2f3ba5567a8ab568a8.xr', __xr_tmp);
