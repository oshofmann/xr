var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * net/sched/cls_api.c<span class=\"ts\"/>Packet classifier API.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>This program is free software; you can redistribute it and/or</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>modify it under the terms of the GNU General Public License</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>as published by the Free Software Foundation; either version</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>2 of the License, or (at your option) any later version.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Authors:<span class=\"ts\"/>Alexey Kuznetsov, &lt;kuznet@ms2.inr.ac.ru&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Changes:</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Eduardo J. Blanco &lt;ejbs@netlabs.com.uy&gt; :990222: kmod support</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#string\">string</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#errno\">errno</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#skbuff\">skbuff</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kmod\">kmod</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#netlink\">netlink</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#err\">err</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#net_namespace\">net_namespace</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#sock\">sock</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#netlink\">netlink</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#pkt_sched\">pkt_sched</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#pkt_cls\">pkt_cls</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"<span class=\"comment\">/* The list of all installed classifier types */</span>", 
"", 
"static struct <a class=\"id\" href=\"#tcf_proto_ops\">tcf_proto_ops</a> *<a class=\"id\" href=\"#tcf_proto_base\">tcf_proto_base</a> <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a>;", 
"", 
"<span class=\"comment\">/* Protects list of registered TC modules. It is pure SMP lock. */</span>", 
"static <a class=\"id\" href=\"#DEFINE_RWLOCK\">DEFINE_RWLOCK</a>(<a class=\"id\" href=\"#cls_mod_lock\">cls_mod_lock</a>);", 
"", 
"<span class=\"comment\">/* Find classifier type by string name */</span>", 
"", 
"static struct <a class=\"id\" href=\"#tcf_proto_ops\">tcf_proto_ops</a> *<a class=\"id\" href=\"#tcf_proto_lookup_ops\">tcf_proto_lookup_ops</a>(struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#kind\">kind</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_proto_ops\">tcf_proto_ops</a> *<a class=\"id\" href=\"#t\">t</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#kind\">kind</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#read_lock\">read_lock</a>(&amp;<a class=\"id\" href=\"#cls_mod_lock\">cls_mod_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#t\">t</a> = <a class=\"id\" href=\"#tcf_proto_base\">tcf_proto_base</a>; <a class=\"id\" href=\"#t\">t</a>; <a class=\"id\" href=\"#t\">t</a> = <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#next\">next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nla_strcmp\">nla_strcmp</a>(<a class=\"id\" href=\"#kind\">kind</a>, <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#kind\">kind</a>) == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#try_module_get\">try_module_get</a>(<a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#owner\">owner</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#t\">t</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#read_unlock\">read_unlock</a>(&amp;<a class=\"id\" href=\"#cls_mod_lock\">cls_mod_lock</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#t\">t</a>;", 
"}", 
"", 
"<span class=\"comment\">/* Register(unregister) new classifier type */</span>", 
"", 
"int <a class=\"id\" href=\"#register_tcf_proto_ops\">register_tcf_proto_ops</a>(struct <a class=\"id\" href=\"#tcf_proto_ops\">tcf_proto_ops</a> *<a class=\"id\" href=\"#ops\">ops</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_proto_ops\">tcf_proto_ops</a> *<a class=\"id\" href=\"#t\">t</a>, **<a class=\"id\" href=\"#tp\">tp</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#EEXIST\">EEXIST</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_lock\">write_lock</a>(&amp;<a class=\"id\" href=\"#cls_mod_lock\">cls_mod_lock</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#tp\">tp</a> = &amp;<a class=\"id\" href=\"#tcf_proto_base\">tcf_proto_base</a>; (<a class=\"id\" href=\"#t\">t</a> = *<a class=\"id\" href=\"#tp\">tp</a>) != <a class=\"id\" href=\"#NULL\">NULL</a>; <a class=\"id\" href=\"#tp\">tp</a> = &amp;<a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#next\">next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#kind\">kind</a>, <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#kind\">kind</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#tp\">tp</a> = <a class=\"id\" href=\"#ops\">ops</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = 0;", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_unlock\">write_unlock</a>(&amp;<a class=\"id\" href=\"#cls_mod_lock\">cls_mod_lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#register_tcf_proto_ops\">register_tcf_proto_ops</a>);", 
"", 
"int <a class=\"id\" href=\"#unregister_tcf_proto_ops\">unregister_tcf_proto_ops</a>(struct <a class=\"id\" href=\"#tcf_proto_ops\">tcf_proto_ops</a> *<a class=\"id\" href=\"#ops\">ops</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_proto_ops\">tcf_proto_ops</a> *<a class=\"id\" href=\"#t\">t</a>, **<a class=\"id\" href=\"#tp\">tp</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_lock\">write_lock</a>(&amp;<a class=\"id\" href=\"#cls_mod_lock\">cls_mod_lock</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#tp\">tp</a> = &amp;<a class=\"id\" href=\"#tcf_proto_base\">tcf_proto_base</a>; (<a class=\"id\" href=\"#t\">t</a>=*<a class=\"id\" href=\"#tp\">tp</a>) != <a class=\"id\" href=\"#NULL\">NULL</a>; <a class=\"id\" href=\"#tp\">tp</a> = &amp;<a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#next\">next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#t\">t</a> == <a class=\"id\" href=\"#ops\">ops</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#t\">t</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#tp\">tp</a> = <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = 0;", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_unlock\">write_unlock</a>(&amp;<a class=\"id\" href=\"#cls_mod_lock\">cls_mod_lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#unregister_tcf_proto_ops\">unregister_tcf_proto_ops</a>);", 
"", 
"static int <a class=\"id\" href=\"#tfilter_notify\">tfilter_notify</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#oskb\">oskb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#n\">n</a>, struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  unsigned long <a class=\"id\" href=\"#fh\">fh</a>, int <a class=\"id\" href=\"#event\">event</a>);", 
"", 
"", 
"<span class=\"comment\">/* Select new prio value from the range, managed by kernel. */</span>", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#tcf_auto_prio\">tcf_auto_prio</a>(struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#first\">first</a> = <a class=\"id\" href=\"#TC_H_MAKE\">TC_H_MAKE</a>(0xC0000000U, 0U);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tp\">tp</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#first\">first</a> = <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#prio\">prio</a>-1;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#first\">first</a>;", 
"}", 
"", 
"<span class=\"comment\">/* Add/change/delete/get a filter node */</span>", 
"", 
"static int <a class=\"id\" href=\"#tc_ctl_tfilter\">tc_ctl_tfilter</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#n\">n</a>, void *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_MAX\">TCA_MAX</a> + 1];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spinlock_t\">spinlock_t</a> *<a class=\"id\" href=\"#root_lock\">root_lock</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#t\">t</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#protocol\">protocol</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#prio\">prio</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#nprio\">nprio</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#parent\">parent</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a>  *<a class=\"id\" href=\"#q\">q</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> **<a class=\"id\" href=\"#back\">back</a>, **<a class=\"id\" href=\"#chain\">chain</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_proto_ops\">tcf_proto_ops</a> *<a class=\"id\" href=\"#tp_ops\">tp_ops</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#Qdisc_class_ops\">Qdisc_class_ops</a> *<a class=\"id\" href=\"#cops\">cops</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#cl\">cl</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#fh\">fh</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#tp_created\">tp_created</a> = 0;", 
"", 
"<a class=\"id\" href=\"#replay\">replay</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#t\">t</a> = <a class=\"id\" href=\"#NLMSG_DATA\">NLMSG_DATA</a>(<a class=\"id\" href=\"#n\">n</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#protocol\">protocol</a> = <a class=\"id\" href=\"#TC_H_MIN\">TC_H_MIN</a>(<a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#tcm_info\">tcm_info</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#prio\">prio</a> = <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#tcm_info\">tcm_info</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nprio\">nprio</a> = <a class=\"id\" href=\"#prio\">prio</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#parent\">parent</a> = <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cl\">cl</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#prio\">prio</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* If no priority is given, user wants we allocated it. */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_type\">nlmsg_type</a> != <a class=\"id\" href=\"#RTM_NEWTFILTER\">RTM_NEWTFILTER</a> || !(<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_CREATE\">NLM_F_CREATE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#prio\">prio</a> = <a class=\"id\" href=\"#TC_H_MAKE\">TC_H_MAKE</a>(0x80000000U, 0U);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Find head of filter chain. */</span>", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Find link */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#__dev_get_by_index\">__dev_get_by_index</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#tcm_ifindex\">tcm_ifindex</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#nlmsg_parse\">nlmsg_parse</a>(<a class=\"id\" href=\"#n\">n</a>, sizeof(*<a class=\"id\" href=\"#t\">t</a>), <a class=\"id\" href=\"#tca\">tca</a>, <a class=\"id\" href=\"#TCA_MAX\">TCA_MAX</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Find qdisc */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#parent\">parent</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#qdisc\">qdisc</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#parent\">parent</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#qdisc_lookup\">qdisc_lookup</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Is it classful? */</span>", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#cops\">cops</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#tcf_chain\">tcf_chain</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOPNOTSUPP\">EOPNOTSUPP</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Do we search for filter, attached to class? */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#TC_H_MIN\">TC_H_MIN</a>(<a class=\"id\" href=\"#parent\">parent</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cl\">cl</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#get\">get</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#parent\">parent</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cl\">cl</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* And the last stroke */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#chain\">chain</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#tcf_chain\">tcf_chain</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#chain\">chain</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Check the chain for existence of proto-tcf with this priority */</span>", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#back\">back</a> = <a class=\"id\" href=\"#chain\">chain</a>; (<a class=\"id\" href=\"#tp\">tp</a>=*<a class=\"id\" href=\"#back\">back</a>) != <a class=\"id\" href=\"#NULL\">NULL</a>; <a class=\"id\" href=\"#back\">back</a> = &amp;<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#next\">next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#prio\">prio</a> >= <a class=\"id\" href=\"#prio\">prio</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#prio\">prio</a> == <a class=\"id\" href=\"#prio\">prio</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#nprio\">nprio</a> || (<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#protocol\">protocol</a> != <a class=\"id\" href=\"#protocol\">protocol</a> && <a class=\"id\" href=\"#protocol\">protocol</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#root_lock\">root_lock</a> = <a class=\"id\" href=\"#qdisc_root_sleeping_lock\">qdisc_root_sleeping_lock</a>(<a class=\"id\" href=\"#q\">q</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tp\">tp</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Proto-tcf does not exist, create new one */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>] == <a class=\"id\" href=\"#NULL\">NULL</a> || !<a class=\"id\" href=\"#protocol\">protocol</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_type\">nlmsg_type</a> != <a class=\"id\" href=\"#RTM_NEWTFILTER\">RTM_NEWTFILTER</a> || !(<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_CREATE\">NLM_F_CREATE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Create new proto tcf */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOBUFS\">ENOBUFS</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(*<a class=\"id\" href=\"#tp\">tp</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tp\">tp</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a> = <a class=\"id\" href=\"#tcf_proto_lookup_ops\">tcf_proto_lookup_ops</a>(<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tp_ops\">tp_ops</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_MODULES\">CONFIG_MODULES</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#kind\">kind</a> = <a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>char <a class=\"id\" href=\"#name\">name</a>[<a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>];", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#kind\">kind</a> != <a class=\"id\" href=\"#NULL\">NULL</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#nla_strlcpy\">nla_strlcpy</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#kind\">kind</a>, <a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>) &lt; <a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtnl_unlock\">rtnl_unlock</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#request_module\">request_module</a>(\"cls_%s\", <a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtnl_lock\">rtnl_lock</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a> = <a class=\"id\" href=\"#tcf_proto_lookup_ops\">tcf_proto_lookup_ops</a>(<a class=\"id\" href=\"#kind\">kind</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* We dropped the RTNL semaphore in order to</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * perform the module load.  So, even if we</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * succeeded in loading the module we have to</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * replay the request.  We indicate this using</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * -EAGAIN.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tp_ops\">tp_ops</a> != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#module_put\">module_put</a>(<a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#owner\">owner</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EAGAIN\">EAGAIN</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a> = <a class=\"id\" href=\"#tp_ops\">tp_ops</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#protocol\">protocol</a> = <a class=\"id\" href=\"#protocol\">protocol</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#prio\">prio</a> = <a class=\"id\" href=\"#nprio\">nprio</a> ? : <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#tcf_auto_prio\">tcf_auto_prio</a>(*<a class=\"id\" href=\"#back\">back</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#q\">q</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#classify\">classify</a> = <a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#classify\">classify</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#classid\">classid</a> = <a class=\"id\" href=\"#parent\">parent</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#init\">init</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> != 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#module_put\">module_put</a>(<a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#owner\">owner</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp_created\">tp_created</a> = 1;", 
"", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>] && <a class=\"id\" href=\"#nla_strcmp\">nla_strcmp</a>(<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>], <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#kind\">kind</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fh\">fh</a> = <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#get\">get</a>(<a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fh\">fh</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_type\">nlmsg_type</a> == <a class=\"id\" href=\"#RTM_DELTFILTER\">RTM_DELTFILTER</a> && <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(<a class=\"id\" href=\"#root_lock\">root_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#back\">back</a> = <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(<a class=\"id\" href=\"#root_lock\">root_lock</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tfilter_notify\">tfilter_notify</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#fh\">fh</a>, <a class=\"id\" href=\"#RTM_DELTFILTER\">RTM_DELTFILTER</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tcf_destroy\">tcf_destroy</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_type\">nlmsg_type</a> != <a class=\"id\" href=\"#RTM_NEWTFILTER\">RTM_NEWTFILTER</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    !(<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a> &amp; <a class=\"id\" href=\"#NLM_F_CREATE\">NLM_F_CREATE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>switch (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_type\">nlmsg_type</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#RTM_NEWTFILTER\">RTM_NEWTFILTER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EEXIST\">EEXIST</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a> &amp; <a class=\"id\" href=\"#NLM_F_EXCL\">NLM_F_EXCL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tp_created\">tp_created</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tcf_destroy\">tcf_destroy</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#RTM_DELTFILTER\">RTM_DELTFILTER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#delete\">delete</a>(<a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#fh\">fh</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tfilter_notify\">tfilter_notify</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#fh\">fh</a>, <a class=\"id\" href=\"#RTM_DELTFILTER\">RTM_DELTFILTER</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#RTM_GETTFILTER\">RTM_GETTFILTER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#tfilter_notify\">tfilter_notify</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#fh\">fh</a>, <a class=\"id\" href=\"#RTM_NEWTFILTER\">RTM_NEWTFILTER</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#change\">change</a>(<a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#cl\">cl</a>, <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>, <a class=\"id\" href=\"#tca\">tca</a>, &amp;<a class=\"id\" href=\"#fh\">fh</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tp_created\">tp_created</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(<a class=\"id\" href=\"#root_lock\">root_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#next\">next</a> = *<a class=\"id\" href=\"#back\">back</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#back\">back</a> = <a class=\"id\" href=\"#tp\">tp</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(<a class=\"id\" href=\"#root_lock\">root_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tfilter_notify\">tfilter_notify</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#fh\">fh</a>, <a class=\"id\" href=\"#RTM_NEWTFILTER\">RTM_NEWTFILTER</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tp_created\">tp_created</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tcf_destroy\">tcf_destroy</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#errout\">errout</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cl\">cl</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#put\">put</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == -<a class=\"id\" href=\"#EAGAIN\">EAGAIN</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Replay the request. */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#replay\">replay</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#tcf_fill_node\">tcf_fill_node</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> unsigned long <a class=\"id\" href=\"#fh\">fh</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#seq\">seq</a>, <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#flags\">flags</a>, int <a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#tcm\">tcm</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a>  *<a class=\"id\" href=\"#nlh\">nlh</a>;", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#b\">b</a> = <a class=\"id\" href=\"#skb_tail_pointer\">skb_tail_pointer</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlh\">nlh</a> = <a class=\"id\" href=\"#NLMSG_NEW\">NLMSG_NEW</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#seq\">seq</a>, <a class=\"id\" href=\"#event\">event</a>, sizeof(*<a class=\"id\" href=\"#tcm\">tcm</a>), <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a> = <a class=\"id\" href=\"#NLMSG_DATA\">NLMSG_DATA</a>(<a class=\"id\" href=\"#nlh\">nlh</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_family\">tcm_family</a> = <a class=\"id\" href=\"#AF_UNSPEC\">AF_UNSPEC</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm__pad1\">tcm__pad1</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm__pad2\">tcm__pad2</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_ifindex\">tcm_ifindex</a> = <a class=\"id\" href=\"#qdisc_dev\">qdisc_dev</a>(<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#q\">q</a>)-><a class=\"id\" href=\"#ifindex\">ifindex</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a> = <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#classid\">classid</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_info\">tcm_info</a> = <a class=\"id\" href=\"#TC_H_MAKE\">TC_H_MAKE</a>(<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#prio\">prio</a>, <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#protocol\">protocol</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT_STRING\">NLA_PUT_STRING</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>, <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#kind\">kind</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a> = <a class=\"id\" href=\"#fh\">fh</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#RTM_DELTFILTER\">RTM_DELTFILTER</a> != <a class=\"id\" href=\"#event\">event</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#dump\">dump</a> && <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#dump\">dump</a>(<a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#fh\">fh</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tcm\">tcm</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_len\">nlmsg_len</a> = <a class=\"id\" href=\"#skb_tail_pointer\">skb_tail_pointer</a>(<a class=\"id\" href=\"#skb\">skb</a>) - <a class=\"id\" href=\"#b\">b</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<a class=\"id\" href=\"#nlmsg_failure\">nlmsg_failure</a>:", 
"<a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlmsg_trim\">nlmsg_trim</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#b\">b</a>);", 
"<span class=\"ts\"/>return -1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#tfilter_notify\">tfilter_notify</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#oskb\">oskb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#n\">n</a>, struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  unsigned long <a class=\"id\" href=\"#fh\">fh</a>, int <a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#pid\">pid</a> = <a class=\"id\" href=\"#oskb\">oskb</a> ? <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#oskb\">oskb</a>).<a class=\"id\" href=\"#pid\">pid</a> : 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb\">skb</a> = <a class=\"id\" href=\"#alloc_skb\">alloc_skb</a>(<a class=\"id\" href=\"#NLMSG_GOODSIZE\">NLMSG_GOODSIZE</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#skb\">skb</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOBUFS\">ENOBUFS</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tcf_fill_node\">tcf_fill_node</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#fh\">fh</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>, 0, <a class=\"id\" href=\"#event\">event</a>) <= 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree_skb\">kfree_skb</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rtnetlink_send\">rtnetlink_send</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#RTNLGRP_TC\">RTNLGRP_TC</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a> &amp; <a class=\"id\" href=\"#NLM_F_ECHO\">NLM_F_ECHO</a>);", 
"}", 
"", 
"struct <a class=\"id\" href=\"#tcf_dump_args\">tcf_dump_args</a> {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_walker\">tcf_walker</a> <a class=\"id\" href=\"#w\">w</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#netlink_callback\">netlink_callback</a> *<a class=\"id\" href=\"#cb\">cb</a>;", 
"};", 
"", 
"static int <a class=\"id\" href=\"#tcf_node_dump\">tcf_node_dump</a>(struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>, unsigned long <a class=\"id\" href=\"#n\">n</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#tcf_walker\">tcf_walker</a> *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_dump_args\">tcf_dump_args</a> *<a class=\"id\" href=\"#a\">a</a> = (void *)<a class=\"id\" href=\"#arg\">arg</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#tcf_fill_node\">tcf_fill_node</a>(<a class=\"id\" href=\"#a\">a</a>-><a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#a\">a</a>-><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#skb\">skb</a>).<a class=\"id\" href=\"#pid\">pid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#a\">a</a>-><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>, <a class=\"id\" href=\"#NLM_F_MULTI\">NLM_F_MULTI</a>, <a class=\"id\" href=\"#RTM_NEWTFILTER\">RTM_NEWTFILTER</a>);", 
"}", 
"", 
"<span class=\"comment\">/* called with RTNL */</span>", 
"static int <a class=\"id\" href=\"#tc_dump_tfilter\">tc_dump_tfilter</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#netlink_callback\">netlink_callback</a> *<a class=\"id\" href=\"#cb\">cb</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#t\">t</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#s_t\">s_t</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>, **<a class=\"id\" href=\"#chain\">chain</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#tcm\">tcm</a> = (struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *)<a class=\"id\" href=\"#NLMSG_DATA\">NLMSG_DATA</a>(<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>);", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#cl\">cl</a> = 0;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#Qdisc_class_ops\">Qdisc_class_ops</a> *<a class=\"id\" href=\"#cops\">cops</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_dump_args\">tcf_dump_args</a> <a class=\"id\" href=\"#arg\">arg</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_len\">nlmsg_len</a> &lt; <a class=\"id\" href=\"#NLMSG_LENGTH\">NLMSG_LENGTH</a>(sizeof(*<a class=\"id\" href=\"#tcm\">tcm</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#__dev_get_by_index\">__dev_get_by_index</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_ifindex\">tcm_ifindex</a>)) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#qdisc\">qdisc</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#qdisc_lookup\">qdisc_lookup</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>));", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#q\">q</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#cops\">cops</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#tcf_chain\">tcf_chain</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#TC_H_MIN\">TC_H_MIN</a>(<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cl\">cl</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#get\">get</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cl\">cl</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#chain\">chain</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#tcf_chain\">tcf_chain</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#chain\">chain</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#s_t\">s_t</a> = <a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[0];", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#tp\">tp</a>=*<a class=\"id\" href=\"#chain\">chain</a>, <a class=\"id\" href=\"#t\">t</a>=0; <a class=\"id\" href=\"#tp\">tp</a>; <a class=\"id\" href=\"#tp\">tp</a> = <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#next\">next</a>, <a class=\"id\" href=\"#t\">t</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#t\">t</a> &lt; <a class=\"id\" href=\"#s_t\">s_t</a>) continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_info\">tcm_info</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_info\">tcm_info</a>) != <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#prio\">prio</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#TC_H_MIN\">TC_H_MIN</a>(<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_info\">tcm_info</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#TC_H_MIN\">TC_H_MIN</a>(<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_info\">tcm_info</a>) != <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#protocol\">protocol</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#t\">t</a> &gt; <a class=\"id\" href=\"#s_t\">s_t</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[1], 0, sizeof(<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>)-sizeof(<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[0]));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[1] == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tcf_fill_node\">tcf_fill_node</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tp\">tp</a>, 0, <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#skb\">skb</a>).<a class=\"id\" href=\"#pid\">pid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>, <a class=\"id\" href=\"#NLM_F_MULTI\">NLM_F_MULTI</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#RTM_NEWTFILTER\">RTM_NEWTFILTER</a>) <= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[1] = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#walk\">walk</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#fn\">fn</a> = <a class=\"id\" href=\"#tcf_node_dump\">tcf_node_dump</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#skb\">skb</a> = <a class=\"id\" href=\"#skb\">skb</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#cb\">cb</a> = <a class=\"id\" href=\"#cb\">cb</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#stop\">stop</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#skip\">skip</a> = <a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[1]-1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#count\">count</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#walk\">walk</a>(<a class=\"id\" href=\"#tp\">tp</a>, &amp;<a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[1] = <a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#count\">count</a>+1;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#stop\">stop</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[0] = <a class=\"id\" href=\"#t\">t</a>;", 
"", 
"<a class=\"id\" href=\"#errout\">errout</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cl\">cl</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#put\">put</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#len\">len</a>;", 
"}", 
"", 
"void <a class=\"id\" href=\"#tcf_exts_destroy\">tcf_exts_destroy</a>(struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>, struct <a class=\"id\" href=\"#tcf_exts\">tcf_exts</a> *<a class=\"id\" href=\"#exts\">exts</a>)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_NET_CLS_ACT\">CONFIG_NET_CLS_ACT</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tcf_action_destroy\">tcf_action_destroy</a>(<a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a>, <a class=\"id\" href=\"#TCA_ACT_UNBIND\">TCA_ACT_UNBIND</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#tcf_exts_destroy\">tcf_exts_destroy</a>);", 
"", 
"int <a class=\"id\" href=\"#tcf_exts_validate\">tcf_exts_validate</a>(struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>, struct <a class=\"id\" href=\"#nlattr\">nlattr</a> **<a class=\"id\" href=\"#tb\">tb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#rate_tlv\">rate_tlv</a>, struct <a class=\"id\" href=\"#tcf_exts\">tcf_exts</a> *<a class=\"id\" href=\"#exts\">exts</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>  const struct <a class=\"id\" href=\"#tcf_ext_map\">tcf_ext_map</a> *<a class=\"id\" href=\"#map\">map</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(<a class=\"id\" href=\"#exts\">exts</a>, 0, sizeof(*<a class=\"id\" href=\"#exts\">exts</a>));", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_NET_CLS_ACT\">CONFIG_NET_CLS_ACT</a>", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#tc_action\">tc_action</a> *<a class=\"id\" href=\"#act\">act</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#police\">police</a> && <a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#police\">police</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#act\">act</a> = <a class=\"id\" href=\"#tcf_action_init_1\">tcf_action_init_1</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#police\">police</a>], <a class=\"id\" href=\"#rate_tlv\">rate_tlv</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"police\", <a class=\"id\" href=\"#TCA_ACT_NOREPLACE\">TCA_ACT_NOREPLACE</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#TCA_ACT_BIND\">TCA_ACT_BIND</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#act\">act</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#act\">act</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#act\">act</a>-><a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#TCA_OLD_COMPAT\">TCA_OLD_COMPAT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a> = <a class=\"id\" href=\"#act\">act</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#action\">action</a> && <a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#action\">action</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#act\">act</a> = <a class=\"id\" href=\"#tcf_action_init\">tcf_action_init</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#action\">action</a>], <a class=\"id\" href=\"#rate_tlv\">rate_tlv</a>, <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#TCA_ACT_NOREPLACE\">TCA_ACT_NOREPLACE</a>, <a class=\"id\" href=\"#TCA_ACT_BIND\">TCA_ACT_BIND</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#act\">act</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#act\">act</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a> = <a class=\"id\" href=\"#act\">act</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"#else", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#action\">action</a> && <a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#action\">action</a>]) ||", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#police\">police</a> && <a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#police\">police</a>]))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOPNOTSUPP\">EOPNOTSUPP</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#tcf_exts_validate\">tcf_exts_validate</a>);", 
"", 
"void <a class=\"id\" href=\"#tcf_exts_change\">tcf_exts_change</a>(struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>, struct <a class=\"id\" href=\"#tcf_exts\">tcf_exts</a> *<a class=\"id\" href=\"#dst\">dst</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#tcf_exts\">tcf_exts</a> *<a class=\"id\" href=\"#src\">src</a>)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_NET_CLS_ACT\">CONFIG_NET_CLS_ACT</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#src\">src</a>-><a class=\"id\" href=\"#action\">action</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#tc_action\">tc_action</a> *<a class=\"id\" href=\"#act\">act</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tcf_tree_lock\">tcf_tree_lock</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#act\">act</a> = <a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#action\">action</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#action\">action</a> = <a class=\"id\" href=\"#src\">src</a>-><a class=\"id\" href=\"#action\">action</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tcf_tree_unlock\">tcf_tree_unlock</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#act\">act</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tcf_action_destroy\">tcf_action_destroy</a>(<a class=\"id\" href=\"#act\">act</a>, <a class=\"id\" href=\"#TCA_ACT_UNBIND\">TCA_ACT_UNBIND</a>);", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#tcf_exts_change\">tcf_exts_change</a>);", 
"", 
"int <a class=\"id\" href=\"#tcf_exts_dump\">tcf_exts_dump</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#tcf_exts\">tcf_exts</a> *<a class=\"id\" href=\"#exts\">exts</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>  const struct <a class=\"id\" href=\"#tcf_ext_map\">tcf_ext_map</a> *<a class=\"id\" href=\"#map\">map</a>)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_NET_CLS_ACT\">CONFIG_NET_CLS_ACT</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#action\">action</a> && <a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * again for backward compatible mode - we want</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * to work with both old and new modes of entering</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * tc data even if iproute2  was newer - jhs</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#nest\">nest</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a>-><a class=\"id\" href=\"#type\">type</a> != <a class=\"id\" href=\"#TCA_OLD_COMPAT\">TCA_OLD_COMPAT</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nest\">nest</a> = <a class=\"id\" href=\"#nla_nest_start\">nla_nest_start</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#action\">action</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nest\">nest</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tcf_action_dump\">tcf_action_dump</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a>, 0, 0) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nla_nest_end\">nla_nest_end</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#nest\">nest</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (<a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#police\">police</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nest\">nest</a> = <a class=\"id\" href=\"#nla_nest_start\">nla_nest_start</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#map\">map</a>-><a class=\"id\" href=\"#police\">police</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nest\">nest</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tcf_action_dump_old\">tcf_action_dump_old</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a>, 0, 0) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nla_nest_end\">nla_nest_end</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#nest\">nest</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>return 0;", 
"<a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>: <a class=\"id\" href=\"#__attribute__\">__attribute__</a> ((<a class=\"id\" href=\"#unused\">unused</a>))", 
"<span class=\"ts\"/>return -1;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#tcf_exts_dump\">tcf_exts_dump</a>);", 
"", 
"", 
"int <a class=\"id\" href=\"#tcf_exts_dump_stats\">tcf_exts_dump_stats</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#tcf_exts\">tcf_exts</a> *<a class=\"id\" href=\"#exts\">exts</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>const struct <a class=\"id\" href=\"#tcf_ext_map\">tcf_ext_map</a> *<a class=\"id\" href=\"#map\">map</a>)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_NET_CLS_ACT\">CONFIG_NET_CLS_ACT</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tcf_action_copy_stats\">tcf_action_copy_stats</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#exts\">exts</a>-><a class=\"id\" href=\"#action\">action</a>, 1) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>return 0;", 
"<a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>: <a class=\"id\" href=\"#__attribute__\">__attribute__</a> ((<a class=\"id\" href=\"#unused\">unused</a>))", 
"<span class=\"ts\"/>return -1;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#tcf_exts_dump_stats\">tcf_exts_dump_stats</a>);", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#tc_filter_init\">tc_filter_init</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtnl_register\">rtnl_register</a>(<a class=\"id\" href=\"#PF_UNSPEC\">PF_UNSPEC</a>, <a class=\"id\" href=\"#RTM_NEWTFILTER\">RTM_NEWTFILTER</a>, <a class=\"id\" href=\"#tc_ctl_tfilter\">tc_ctl_tfilter</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtnl_register\">rtnl_register</a>(<a class=\"id\" href=\"#PF_UNSPEC\">PF_UNSPEC</a>, <a class=\"id\" href=\"#RTM_DELTFILTER\">RTM_DELTFILTER</a>, <a class=\"id\" href=\"#tc_ctl_tfilter\">tc_ctl_tfilter</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtnl_register\">rtnl_register</a>(<a class=\"id\" href=\"#PF_UNSPEC\">PF_UNSPEC</a>, <a class=\"id\" href=\"#RTM_GETTFILTER\">RTM_GETTFILTER</a>, <a class=\"id\" href=\"#tc_ctl_tfilter\">tc_ctl_tfilter</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#tc_dump_tfilter\">tc_dump_tfilter</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#subsys_initcall\">subsys_initcall</a>(<a class=\"id\" href=\"#tc_filter_init\">tc_filter_init</a>);", 
];
xr_frag_insert('l/38/62b07188fb4ae60a2685746b686dee18329069.xr', __xr_tmp);
