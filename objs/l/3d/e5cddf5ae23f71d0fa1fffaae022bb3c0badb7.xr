var __xr_tmp = [
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sock\">sock</a> = <a class=\"id\" href=\"#sockfd_lookup_light\">sockfd_lookup_light</a>(<a class=\"id\" href=\"#fd\">fd</a>, &amp;<a class=\"id\" href=\"#err\">err</a>, &amp;<a class=\"id\" href=\"#fput_needed\">fput_needed</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#sock\">sock</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* do not move before msg_sys is valid */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EMSGSIZE\">EMSGSIZE</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_iovlen\">msg_iovlen</a> &gt; <a class=\"id\" href=\"#UIO_MAXIOV\">UIO_MAXIOV</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_put\">out_put</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Check whether to allocate the iovec area */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#iov_size\">iov_size</a> = <a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_iovlen\">msg_iovlen</a> * sizeof(struct <a class=\"id\" href=\"#iovec\">iovec</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_iovlen\">msg_iovlen</a> &gt; <a class=\"id\" href=\"#UIO_FASTIOV\">UIO_FASTIOV</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#iov\">iov</a> = <a class=\"id\" href=\"#sock_kmalloc\">sock_kmalloc</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>, <a class=\"id\" href=\"#iov_size\">iov_size</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#iov\">iov</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_put\">out_put</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* This will also move the address data into kernel space */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#MSG_CMSG_COMPAT\">MSG_CMSG_COMPAT</a> &amp; <a class=\"id\" href=\"#flags\">flags</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#verify_compat_iovec\">verify_compat_iovec</a>(&amp;<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#iov\">iov</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> *)&amp;<a class=\"id\" href=\"#address\">address</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#VERIFY_READ\">VERIFY_READ</a>);", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#verify_iovec\">verify_iovec</a>(&amp;<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#iov\">iov</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> *)&amp;<a class=\"id\" href=\"#address\">address</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#VERIFY_READ\">VERIFY_READ</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#total_len\">total_len</a> = <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOBUFS\">ENOBUFS</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_controllen\">msg_controllen</a> &gt; <a class=\"id\" href=\"#INT_MAX\">INT_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ctl_len\">ctl_len</a> = <a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_controllen\">msg_controllen</a>;", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#MSG_CMSG_COMPAT\">MSG_CMSG_COMPAT</a> &amp; <a class=\"id\" href=\"#flags\">flags</a>) && <a class=\"id\" href=\"#ctl_len\">ctl_len</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#cmsghdr_from_user_compat_to_kern\">cmsghdr_from_user_compat_to_kern</a>(&amp;<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>, <a class=\"id\" href=\"#ctl\">ctl</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     sizeof(<a class=\"id\" href=\"#ctl\">ctl</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ctl_buf\">ctl_buf</a> = <a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_control\">msg_control</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ctl_len\">ctl_len</a> = <a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_controllen\">msg_controllen</a>;", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#ctl_len\">ctl_len</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ctl_len\">ctl_len</a> &gt; sizeof(<a class=\"id\" href=\"#ctl\">ctl</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ctl_buf\">ctl_buf</a> = <a class=\"id\" href=\"#sock_kmalloc\">sock_kmalloc</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>, <a class=\"id\" href=\"#ctl_len\">ctl_len</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ctl_buf\">ctl_buf</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Careful! Before this, msg_sys.msg_control contains a user pointer.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Afterwards, it will be a kernel pointer. Thus the compiler-assisted</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * checking falls down on this.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#ctl_buf\">ctl_buf</a>, (void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_control\">msg_control</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#ctl_len\">ctl_len</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_freectl\">out_freectl</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_control\">msg_control</a> = <a class=\"id\" href=\"#ctl_buf\">ctl_buf</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_flags\">msg_flags</a> = <a class=\"id\" href=\"#flags\">flags</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#f_flags\">f_flags</a> &amp; <a class=\"id\" href=\"#O_NONBLOCK\">O_NONBLOCK</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_flags\">msg_flags</a> |= <a class=\"id\" href=\"#MSG_DONTWAIT\">MSG_DONTWAIT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock_sendmsg\">sock_sendmsg</a>(<a class=\"id\" href=\"#sock\">sock</a>, &amp;<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#total_len\">total_len</a>);", 
"", 
"<a class=\"id\" href=\"#out_freectl\">out_freectl</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ctl_buf\">ctl_buf</a> != <a class=\"id\" href=\"#ctl\">ctl</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sock_kfree_s\">sock_kfree_s</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>, <a class=\"id\" href=\"#ctl_buf\">ctl_buf</a>, <a class=\"id\" href=\"#ctl_len\">ctl_len</a>);", 
"<a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#iov\">iov</a> != <a class=\"id\" href=\"#iovstack\">iovstack</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sock_kfree_s\">sock_kfree_s</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>, <a class=\"id\" href=\"#iov\">iov</a>, <a class=\"id\" href=\"#iov_size\">iov_size</a>);", 
"<a class=\"id\" href=\"#out_put\">out_put</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fput_light\">fput_light</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#fput_needed\">fput_needed</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__sys_recvmsg\">__sys_recvmsg</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, struct <a class=\"id\" href=\"#msghdr\">msghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#msg\">msg</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#msghdr\">msghdr</a> *<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, unsigned <a class=\"id\" href=\"#flags\">flags</a>, int <a class=\"id\" href=\"#nosec\">nosec</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_msghdr\">compat_msghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#msg_compat\">msg_compat</a> =", 
"<span class=\"ts\"/>    (struct <a class=\"id\" href=\"#compat_msghdr\">compat_msghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#msg\">msg</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#iovec\">iovec</a> <a class=\"id\" href=\"#iovstack\">iovstack</a>[<a class=\"id\" href=\"#UIO_FASTIOV\">UIO_FASTIOV</a>];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#iovec\">iovec</a> *<a class=\"id\" href=\"#iov\">iov</a> = <a class=\"id\" href=\"#iovstack\">iovstack</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#cmsg_ptr\">cmsg_ptr</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>, <a class=\"id\" href=\"#iov_size\">iov_size</a>, <a class=\"id\" href=\"#total_len\">total_len</a>, <a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* kernel mode address */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sockaddr_storage\">sockaddr_storage</a> <a class=\"id\" href=\"#addr\">addr</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* user mode address pointers */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uaddr\">uaddr</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uaddr_len\">uaddr_len</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#MSG_CMSG_COMPAT\">MSG_CMSG_COMPAT</a> &amp; <a class=\"id\" href=\"#flags\">flags</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#get_compat_msghdr\">get_compat_msghdr</a>(<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#msg_compat\">msg_compat</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#msg\">msg</a>, sizeof(struct <a class=\"id\" href=\"#msghdr\">msghdr</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EMSGSIZE\">EMSGSIZE</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#msg_sys\">msg_sys</a>-><a class=\"id\" href=\"#msg_iovlen\">msg_iovlen</a> &gt; <a class=\"id\" href=\"#UIO_MAXIOV\">UIO_MAXIOV</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Check whether to allocate the iovec area */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#iov_size\">iov_size</a> = <a class=\"id\" href=\"#msg_sys\">msg_sys</a>-><a class=\"id\" href=\"#msg_iovlen\">msg_iovlen</a> * sizeof(struct <a class=\"id\" href=\"#iovec\">iovec</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#msg_sys\">msg_sys</a>-><a class=\"id\" href=\"#msg_iovlen\">msg_iovlen</a> &gt; <a class=\"id\" href=\"#UIO_FASTIOV\">UIO_FASTIOV</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#iov\">iov</a> = <a class=\"id\" href=\"#sock_kmalloc\">sock_kmalloc</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>, <a class=\"id\" href=\"#iov_size\">iov_size</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#iov\">iov</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *      Save the user-mode address (verify_iovec will change the</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *      kernel msghdr to use the kernel address space)</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#uaddr\">uaddr</a> = (<a class=\"id\" href=\"#__force\">__force</a> void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#msg_sys\">msg_sys</a>-><a class=\"id\" href=\"#msg_name\">msg_name</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#uaddr_len\">uaddr_len</a> = <a class=\"id\" href=\"#COMPAT_NAMELEN\">COMPAT_NAMELEN</a>(<a class=\"id\" href=\"#msg\">msg</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#MSG_CMSG_COMPAT\">MSG_CMSG_COMPAT</a> &amp; <a class=\"id\" href=\"#flags\">flags</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#verify_compat_iovec\">verify_compat_iovec</a>(<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#iov\">iov</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> *)&amp;<a class=\"id\" href=\"#addr\">addr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#VERIFY_WRITE\">VERIFY_WRITE</a>);", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#verify_iovec\">verify_iovec</a>(<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#iov\">iov</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> *)&amp;<a class=\"id\" href=\"#addr\">addr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#VERIFY_WRITE\">VERIFY_WRITE</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#total_len\">total_len</a> = <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmsg_ptr\">cmsg_ptr</a> = (unsigned long)<a class=\"id\" href=\"#msg_sys\">msg_sys</a>-><a class=\"id\" href=\"#msg_control\">msg_control</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#msg_sys\">msg_sys</a>-><a class=\"id\" href=\"#msg_flags\">msg_flags</a> = <a class=\"id\" href=\"#flags\">flags</a> &amp; (<a class=\"id\" href=\"#MSG_CMSG_CLOEXEC\">MSG_CMSG_CLOEXEC</a>|<a class=\"id\" href=\"#MSG_CMSG_COMPAT\">MSG_CMSG_COMPAT</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#f_flags\">f_flags</a> &amp; <a class=\"id\" href=\"#O_NONBLOCK\">O_NONBLOCK</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#MSG_DONTWAIT\">MSG_DONTWAIT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = (<a class=\"id\" href=\"#nosec\">nosec</a> ? <a class=\"id\" href=\"#sock_recvmsg_nosec\">sock_recvmsg_nosec</a> : <a class=\"id\" href=\"#sock_recvmsg\">sock_recvmsg</a>)(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#msg_sys\">msg_sys</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#total_len\">total_len</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#uaddr\">uaddr</a> != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#move_addr_to_user\">move_addr_to_user</a>((struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> *)&amp;<a class=\"id\" href=\"#addr\">addr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#msg_sys\">msg_sys</a>-><a class=\"id\" href=\"#msg_namelen\">msg_namelen</a>, <a class=\"id\" href=\"#uaddr\">uaddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#uaddr_len\">uaddr_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#__put_user\">__put_user</a>((<a class=\"id\" href=\"#msg_sys\">msg_sys</a>-><a class=\"id\" href=\"#msg_flags\">msg_flags</a> &amp; ~<a class=\"id\" href=\"#MSG_CMSG_COMPAT\">MSG_CMSG_COMPAT</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#COMPAT_FLAGS\">COMPAT_FLAGS</a>(<a class=\"id\" href=\"#msg\">msg</a>));", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#MSG_CMSG_COMPAT\">MSG_CMSG_COMPAT</a> &amp; <a class=\"id\" href=\"#flags\">flags</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#__put_user\">__put_user</a>((unsigned long)<a class=\"id\" href=\"#msg_sys\">msg_sys</a>-><a class=\"id\" href=\"#msg_control\">msg_control</a> - <a class=\"id\" href=\"#cmsg_ptr\">cmsg_ptr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> &amp;<a class=\"id\" href=\"#msg_compat\">msg_compat</a>-><a class=\"id\" href=\"#msg_controllen\">msg_controllen</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#__put_user\">__put_user</a>((unsigned long)<a class=\"id\" href=\"#msg_sys\">msg_sys</a>-><a class=\"id\" href=\"#msg_control\">msg_control</a> - <a class=\"id\" href=\"#cmsg_ptr\">cmsg_ptr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> &amp;<a class=\"id\" href=\"#msg\">msg</a>-><a class=\"id\" href=\"#msg_controllen\">msg_controllen</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<a class=\"id\" href=\"#out_freeiov\">out_freeiov</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#iov\">iov</a> != <a class=\"id\" href=\"#iovstack\">iovstack</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sock_kfree_s\">sock_kfree_s</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>, <a class=\"id\" href=\"#iov\">iov</a>, <a class=\"id\" href=\"#iov_size\">iov_size</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>BSD recvmsg interface</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE3\">SYSCALL_DEFINE3</a>(<a class=\"id\" href=\"#recvmsg\">recvmsg</a>, int, <a class=\"id\" href=\"#fd\">fd</a>, struct <a class=\"id\" href=\"#msghdr\">msghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#msg\">msg</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned int, <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#fput_needed\">fput_needed</a>, <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#msghdr\">msghdr</a> <a class=\"id\" href=\"#msg_sys\">msg_sys</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a> = <a class=\"id\" href=\"#sockfd_lookup_light\">sockfd_lookup_light</a>(<a class=\"id\" href=\"#fd\">fd</a>, &amp;<a class=\"id\" href=\"#err\">err</a>, &amp;<a class=\"id\" href=\"#fput_needed\">fput_needed</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#sock\">sock</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#__sys_recvmsg\">__sys_recvmsg</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#msg\">msg</a>, &amp;<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#flags\">flags</a>, 0);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fput_light\">fput_light</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#fput_needed\">fput_needed</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *     Linux recvmmsg interface</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"int <a class=\"id\" href=\"#__sys_recvmmsg\">__sys_recvmmsg</a>(int <a class=\"id\" href=\"#fd\">fd</a>, struct <a class=\"id\" href=\"#mmsghdr\">mmsghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#mmsg\">mmsg</a>, unsigned int <a class=\"id\" href=\"#vlen\">vlen</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   unsigned int <a class=\"id\" href=\"#flags\">flags</a>, struct <a class=\"id\" href=\"#timespec\">timespec</a> *<a class=\"id\" href=\"#timeout\">timeout</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#fput_needed\">fput_needed</a>, <a class=\"id\" href=\"#err\">err</a>, <a class=\"id\" href=\"#datagrams\">datagrams</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#mmsghdr\">mmsghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#entry\">entry</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_mmsghdr\">compat_mmsghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#compat_entry\">compat_entry</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#msghdr\">msghdr</a> <a class=\"id\" href=\"#msg_sys\">msg_sys</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#end_time\">end_time</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#timeout\">timeout</a> &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#poll_select_set_timeout\">poll_select_set_timeout</a>(&amp;<a class=\"id\" href=\"#end_time\">end_time</a>, <a class=\"id\" href=\"#timeout\">timeout</a>-><a class=\"id\" href=\"#tv_sec\">tv_sec</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#timeout\">timeout</a>-><a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#datagrams\">datagrams</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sock\">sock</a> = <a class=\"id\" href=\"#sockfd_lookup_light\">sockfd_lookup_light</a>(<a class=\"id\" href=\"#fd\">fd</a>, &amp;<a class=\"id\" href=\"#err\">err</a>, &amp;<a class=\"id\" href=\"#fput_needed\">fput_needed</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#sock\">sock</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock_error\">sock_error</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_put\">out_put</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#entry\">entry</a> = <a class=\"id\" href=\"#mmsg\">mmsg</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_entry\">compat_entry</a> = (struct <a class=\"id\" href=\"#compat_mmsghdr\">compat_mmsghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#mmsg\">mmsg</a>;", 
"", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#datagrams\">datagrams</a> &lt; <a class=\"id\" href=\"#vlen\">vlen</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * No need to ask LSM for more than the first datagram.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#MSG_CMSG_COMPAT\">MSG_CMSG_COMPAT</a> &amp; <a class=\"id\" href=\"#flags\">flags</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#__sys_recvmsg\">__sys_recvmsg</a>(<a class=\"id\" href=\"#sock\">sock</a>, (struct <a class=\"id\" href=\"#msghdr\">msghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#compat_entry\">compat_entry</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    &amp;<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#datagrams\">datagrams</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#err\">err</a>, &amp;<a class=\"id\" href=\"#compat_entry\">compat_entry</a>-><a class=\"id\" href=\"#msg_len\">msg_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>++<a class=\"id\" href=\"#compat_entry\">compat_entry</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#__sys_recvmsg\">__sys_recvmsg</a>(<a class=\"id\" href=\"#sock\">sock</a>, (struct <a class=\"id\" href=\"#msghdr\">msghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#entry\">entry</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    &amp;<a class=\"id\" href=\"#msg_sys\">msg_sys</a>, <a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#datagrams\">datagrams</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#err\">err</a>, &amp;<a class=\"id\" href=\"#entry\">entry</a>-><a class=\"id\" href=\"#msg_len\">msg_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>++<a class=\"id\" href=\"#entry\">entry</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>++<a class=\"id\" href=\"#datagrams\">datagrams</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* MSG_WAITFORONE turns on MSG_DONTWAIT after one packet */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#MSG_WAITFORONE\">MSG_WAITFORONE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#MSG_DONTWAIT\">MSG_DONTWAIT</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#timeout\">timeout</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ktime_get_ts\">ktime_get_ts</a>(<a class=\"id\" href=\"#timeout\">timeout</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#timeout\">timeout</a> = <a class=\"id\" href=\"#timespec_sub\">timespec_sub</a>(<a class=\"id\" href=\"#end_time\">end_time</a>, *<a class=\"id\" href=\"#timeout\">timeout</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#timeout\">timeout</a>-><a class=\"id\" href=\"#tv_sec\">tv_sec</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#timeout\">timeout</a>-><a class=\"id\" href=\"#tv_sec\">tv_sec</a> = <a class=\"id\" href=\"#timeout\">timeout</a>-><a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Timeout, return less than vlen datagrams */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#timeout\">timeout</a>-><a class=\"id\" href=\"#tv_nsec\">tv_nsec</a> == 0 && <a class=\"id\" href=\"#timeout\">timeout</a>-><a class=\"id\" href=\"#tv_sec\">tv_sec</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Out of band data, return right away */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#msg_sys\">msg_sys</a>.<a class=\"id\" href=\"#msg_flags\">msg_flags</a> &amp; <a class=\"id\" href=\"#MSG_OOB\">MSG_OOB</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#out_put\">out_put</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fput_light\">fput_light</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#fput_needed\">fput_needed</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#datagrams\">datagrams</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#datagrams\">datagrams</a> != 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * We may return less entries than requested (vlen) if the</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * sock is non block and there aren't enough datagrams...</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> != -<a class=\"id\" href=\"#EAGAIN\">EAGAIN</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * ... or  if recvmsg returns an error after we</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * received some datagrams, where we record the</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * error to return on the next call or if the</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * app asks about it using getsockopt(SO_ERROR).</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>-><a class=\"id\" href=\"#sk_err\">sk_err</a> = -<a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#datagrams\">datagrams</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE5\">SYSCALL_DEFINE5</a>(<a class=\"id\" href=\"#recvmmsg\">recvmmsg</a>, int, <a class=\"id\" href=\"#fd\">fd</a>, struct <a class=\"id\" href=\"#mmsghdr\">mmsghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#mmsg\">mmsg</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned int, <a class=\"id\" href=\"#vlen\">vlen</a>, unsigned int, <a class=\"id\" href=\"#flags\">flags</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#timeout\">timeout</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#datagrams\">datagrams</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#timeout_sys\">timeout_sys</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#timeout\">timeout</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#__sys_recvmmsg\">__sys_recvmmsg</a>(<a class=\"id\" href=\"#fd\">fd</a>, <a class=\"id\" href=\"#mmsg\">mmsg</a>, <a class=\"id\" href=\"#vlen\">vlen</a>, <a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#timeout_sys\">timeout_sys</a>, <a class=\"id\" href=\"#timeout\">timeout</a>, sizeof(<a class=\"id\" href=\"#timeout_sys\">timeout_sys</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#datagrams\">datagrams</a> = <a class=\"id\" href=\"#__sys_recvmmsg\">__sys_recvmmsg</a>(<a class=\"id\" href=\"#fd\">fd</a>, <a class=\"id\" href=\"#mmsg\">mmsg</a>, <a class=\"id\" href=\"#vlen\">vlen</a>, <a class=\"id\" href=\"#flags\">flags</a>, &amp;<a class=\"id\" href=\"#timeout_sys\">timeout_sys</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#datagrams\">datagrams</a> &gt; 0 &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#timeout\">timeout</a>, &amp;<a class=\"id\" href=\"#timeout_sys\">timeout_sys</a>, sizeof(<a class=\"id\" href=\"#timeout_sys\">timeout_sys</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#datagrams\">datagrams</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#datagrams\">datagrams</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#__ARCH_WANT_SYS_SOCKETCALL\">__ARCH_WANT_SYS_SOCKETCALL</a>", 
"<span class=\"comment\">/* Argument list sizes for sys_socketcall */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#AL\">AL</a>(<a class=\"id\" href=\"#x\">x</a>) ((<a class=\"id\" href=\"#x\">x</a>) * sizeof(unsigned long))", 
"static const unsigned char <a class=\"id\" href=\"#nargs\">nargs</a>[20] = {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#AL\">AL</a>(0), <a class=\"id\" href=\"#AL\">AL</a>(3), <a class=\"id\" href=\"#AL\">AL</a>(3), <a class=\"id\" href=\"#AL\">AL</a>(3), <a class=\"id\" href=\"#AL\">AL</a>(2), <a class=\"id\" href=\"#AL\">AL</a>(3),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#AL\">AL</a>(3), <a class=\"id\" href=\"#AL\">AL</a>(3), <a class=\"id\" href=\"#AL\">AL</a>(4), <a class=\"id\" href=\"#AL\">AL</a>(4), <a class=\"id\" href=\"#AL\">AL</a>(4), <a class=\"id\" href=\"#AL\">AL</a>(6),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#AL\">AL</a>(6), <a class=\"id\" href=\"#AL\">AL</a>(2), <a class=\"id\" href=\"#AL\">AL</a>(5), <a class=\"id\" href=\"#AL\">AL</a>(5), <a class=\"id\" href=\"#AL\">AL</a>(3), <a class=\"id\" href=\"#AL\">AL</a>(3),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#AL\">AL</a>(4), <a class=\"id\" href=\"#AL\">AL</a>(5)", 
"};", 
"", 
"#<a class=\"id\" href=\"#undef\">undef</a> <a class=\"id\" href=\"#AL\">AL</a>", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>System call vectors.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Argument checking cleaned up. Saved 20% in size.</span>", 
"<span class=\"comment\"> *  This function doesn't need to set the kernel lock because</span>", 
"<span class=\"comment\"> *  it is set by the callees.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE2\">SYSCALL_DEFINE2</a>(<a class=\"id\" href=\"#socketcall\">socketcall</a>, int, <a class=\"id\" href=\"#call\">call</a>, unsigned long <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#args\">args</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#a\">a</a>[6];", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#a0\">a0</a>, <a class=\"id\" href=\"#a1\">a1</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#call\">call</a> &lt; 1 || <a class=\"id\" href=\"#call\">call</a> &gt; <a class=\"id\" href=\"#SYS_RECVMMSG\">SYS_RECVMMSG</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#nargs\">nargs</a>[<a class=\"id\" href=\"#call\">call</a>];", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> &gt; sizeof(<a class=\"id\" href=\"#a\">a</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* copy_from_user should be SMP safe. */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#a\">a</a>, <a class=\"id\" href=\"#args\">args</a>, <a class=\"id\" href=\"#len\">len</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#audit_socketcall\">audit_socketcall</a>(<a class=\"id\" href=\"#nargs\">nargs</a>[<a class=\"id\" href=\"#call\">call</a>] / sizeof(unsigned long), <a class=\"id\" href=\"#a\">a</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#a0\">a0</a> = <a class=\"id\" href=\"#a\">a</a>[0];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#a1\">a1</a> = <a class=\"id\" href=\"#a\">a</a>[1];", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#call\">call</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_SOCKET\">SYS_SOCKET</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_socket\">sys_socket</a>(<a class=\"id\" href=\"#a0\">a0</a>, <a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_BIND\">SYS_BIND</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_bind\">sys_bind</a>(<a class=\"id\" href=\"#a0\">a0</a>, (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_CONNECT\">SYS_CONNECT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_connect\">sys_connect</a>(<a class=\"id\" href=\"#a0\">a0</a>, (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_LISTEN\">SYS_LISTEN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_listen\">sys_listen</a>(<a class=\"id\" href=\"#a0\">a0</a>, <a class=\"id\" href=\"#a1\">a1</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_ACCEPT\">SYS_ACCEPT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_accept4\">sys_accept4</a>(<a class=\"id\" href=\"#a0\">a0</a>, (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  (int <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[2], 0);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_GETSOCKNAME\">SYS_GETSOCKNAME</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#sys_getsockname\">sys_getsockname</a>(<a class=\"id\" href=\"#a0\">a0</a>, (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (int <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[2]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_GETPEERNAME\">SYS_GETPEERNAME</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#sys_getpeername\">sys_getpeername</a>(<a class=\"id\" href=\"#a0\">a0</a>, (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (int <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[2]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_SOCKETPAIR\">SYS_SOCKETPAIR</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_socketpair\">sys_socketpair</a>(<a class=\"id\" href=\"#a0\">a0</a>, <a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2], (int <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[3]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_SEND\">SYS_SEND</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_send\">sys_send</a>(<a class=\"id\" href=\"#a0\">a0</a>, (void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2], <a class=\"id\" href=\"#a\">a</a>[3]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_SENDTO\">SYS_SENDTO</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_sendto\">sys_sendto</a>(<a class=\"id\" href=\"#a0\">a0</a>, (void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2], <a class=\"id\" href=\"#a\">a</a>[3],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[4], <a class=\"id\" href=\"#a\">a</a>[5]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_RECV\">SYS_RECV</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_recv\">sys_recv</a>(<a class=\"id\" href=\"#a0\">a0</a>, (void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2], <a class=\"id\" href=\"#a\">a</a>[3]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_RECVFROM\">SYS_RECVFROM</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_recvfrom\">sys_recvfrom</a>(<a class=\"id\" href=\"#a0\">a0</a>, (void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2], <a class=\"id\" href=\"#a\">a</a>[3],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[4],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   (int <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[5]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_SHUTDOWN\">SYS_SHUTDOWN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_shutdown\">sys_shutdown</a>(<a class=\"id\" href=\"#a0\">a0</a>, <a class=\"id\" href=\"#a1\">a1</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_SETSOCKOPT\">SYS_SETSOCKOPT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_setsockopt\">sys_setsockopt</a>(<a class=\"id\" href=\"#a0\">a0</a>, <a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2], (char <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[3], <a class=\"id\" href=\"#a\">a</a>[4]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_GETSOCKOPT\">SYS_GETSOCKOPT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#sys_getsockopt\">sys_getsockopt</a>(<a class=\"id\" href=\"#a0\">a0</a>, <a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2], (char <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[3],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   (int <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[4]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_SENDMSG\">SYS_SENDMSG</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_sendmsg\">sys_sendmsg</a>(<a class=\"id\" href=\"#a0\">a0</a>, (struct <a class=\"id\" href=\"#msghdr\">msghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_RECVMSG\">SYS_RECVMSG</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_recvmsg\">sys_recvmsg</a>(<a class=\"id\" href=\"#a0\">a0</a>, (struct <a class=\"id\" href=\"#msghdr\">msghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_RECVMMSG\">SYS_RECVMMSG</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_recvmmsg\">sys_recvmmsg</a>(<a class=\"id\" href=\"#a0\">a0</a>, (struct <a class=\"id\" href=\"#mmsghdr\">mmsghdr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>, <a class=\"id\" href=\"#a\">a</a>[2], <a class=\"id\" href=\"#a\">a</a>[3],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   (struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[4]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SYS_ACCEPT4\">SYS_ACCEPT4</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sys_accept4\">sys_accept4</a>(<a class=\"id\" href=\"#a0\">a0</a>, (struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a1\">a1</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  (int <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#a\">a</a>[2], <a class=\"id\" href=\"#a\">a</a>[3]);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* __ARCH_WANT_SYS_SOCKETCALL */</span>", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>sock_register - add a socket protocol handler</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@ops: description of protocol</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>This function is called by a protocol handler that wants to</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>advertise its address family, and have it linked into the</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>socket interface. The value ops-&gt;family coresponds to the</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>socket system call protocol family.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#sock_register\">sock_register</a>(const struct <a class=\"id\" href=\"#net_proto_family\">net_proto_family</a> *<a class=\"id\" href=\"#ops\">ops</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#family\">family</a> >= <a class=\"id\" href=\"#NPROTO\">NPROTO</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_CRIT\">KERN_CRIT</a> \"protocol %d >= NPROTO(%d)\\n\", <a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#family\">family</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#NPROTO\">NPROTO</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOBUFS\">ENOBUFS</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#net_family_lock\">net_family_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#net_families\">net_families</a>[<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#family\">family</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EEXIST\">EEXIST</a>;", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net_families\">net_families</a>[<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#family\">family</a>] = <a class=\"id\" href=\"#ops\">ops</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#net_family_lock\">net_family_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"NET: Registered protocol family %d\\n\", <a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#family\">family</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#sock_register\">sock_register</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>sock_unregister - remove a protocol handler</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@family: protocol family to remove</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>This function is called by a protocol handler that wants to</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>remove its address family, and have it unlinked from the</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>new socket creation.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>If protocol handler is a module, then it can use module reference</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>counts to protect against new references. If protocol handler is not</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>a module then it needs to provide its own protection in</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>the ops-&gt;create routine.</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#sock_unregister\">sock_unregister</a>(int <a class=\"id\" href=\"#family\">family</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>(<a class=\"id\" href=\"#family\">family</a> &lt; 0 || <a class=\"id\" href=\"#family\">family</a> >= <a class=\"id\" href=\"#NPROTO\">NPROTO</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#net_family_lock\">net_family_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net_families\">net_families</a>[<a class=\"id\" href=\"#family\">family</a>] = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#net_family_lock\">net_family_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#synchronize_rcu\">synchronize_rcu</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"NET: Unregistered protocol family %d\\n\", <a class=\"id\" href=\"#family\">family</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#sock_unregister\">sock_unregister</a>);", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#sock_init\">sock_init</a>(void)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *      Initialize sock SLAB cache.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sk_init\">sk_init</a>();", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *      Initialize skbuff SLAB cache</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb_init\">skb_init</a>();", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *      Initialize the protocols module.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#init_inodecache\">init_inodecache</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#register_filesystem\">register_filesystem</a>(&amp;<a class=\"id\" href=\"#sock_fs_type\">sock_fs_type</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sock_mnt\">sock_mnt</a> = <a class=\"id\" href=\"#kern_mount\">kern_mount</a>(&amp;<a class=\"id\" href=\"#sock_fs_type\">sock_fs_type</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* The real protocol initialization is performed in later initcalls.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_NETFILTER\">CONFIG_NETFILTER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#netfilter_init\">netfilter_init</a>();", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_NETWORK_PHY_TIMESTAMPING\">CONFIG_NETWORK_PHY_TIMESTAMPING</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb_timestamping_init\">skb_timestamping_init</a>();", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#core_initcall\">core_initcall</a>(<a class=\"id\" href=\"#sock_init\">sock_init</a>);<span class=\"ts\"/><span class=\"comment\">/* early initcall */</span>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_PROC_FS\">CONFIG_PROC_FS</a>", 
"void <a class=\"id\" href=\"#socket_seq_show\">socket_seq_show</a>(struct <a class=\"id\" href=\"#seq_file\">seq_file</a> *<a class=\"id\" href=\"#seq\">seq</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#cpu\">cpu</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#counter\">counter</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#for_each_possible_cpu\">for_each_possible_cpu</a>(<a class=\"id\" href=\"#cpu\">cpu</a>)", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#counter\">counter</a> += <a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#sockets_in_use\">sockets_in_use</a>, <a class=\"id\" href=\"#cpu\">cpu</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* It can be negative, by the way. 8) */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#counter\">counter</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#counter\">counter</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"sockets: used %d\\n\", <a class=\"id\" href=\"#counter\">counter</a>);", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* CONFIG_PROC_FS */</span>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_COMPAT\">CONFIG_COMPAT</a>", 
"static int <a class=\"id\" href=\"#do_siocgstamp\">do_siocgstamp</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>, struct <a class=\"id\" href=\"#compat_timeval\">compat_timeval</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#up\">up</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#old_fs\">old_fs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timeval\">timeval</a> <a class=\"id\" href=\"#ktv\">ktv</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock_do_ioctl\">sock_do_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, (unsigned long)&amp;<a class=\"id\" href=\"#ktv\">ktv</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#old_fs\">old_fs</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#err\">err</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#ktv\">ktv</a>.<a class=\"id\" href=\"#tv_sec\">tv_sec</a>, &amp;<a class=\"id\" href=\"#up\">up</a>-><a class=\"id\" href=\"#tv_sec\">tv_sec</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#ktv\">ktv</a>.<a class=\"id\" href=\"#tv_usec\">tv_usec</a>, &amp;<a class=\"id\" href=\"#up\">up</a>-><a class=\"id\" href=\"#tv_usec\">tv_usec</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#do_siocgstampns\">do_siocgstampns</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>, struct <a class=\"id\" href=\"#compat_timespec\">compat_timespec</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#up\">up</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#old_fs\">old_fs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#kts\">kts</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock_do_ioctl\">sock_do_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, (unsigned long)&amp;<a class=\"id\" href=\"#kts\">kts</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#old_fs\">old_fs</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#err\">err</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#kts\">kts</a>.<a class=\"id\" href=\"#tv_sec\">tv_sec</a>, &amp;<a class=\"id\" href=\"#up\">up</a>-><a class=\"id\" href=\"#tv_sec\">tv_sec</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#kts\">kts</a>.<a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>, &amp;<a class=\"id\" href=\"#up\">up</a>-><a class=\"id\" href=\"#tv_nsec\">tv_nsec</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#dev_ifname32\">dev_ifname32</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifr32\">uifr32</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifreq\">ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifr\">uifr</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#uifr\">uifr</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(struct <a class=\"id\" href=\"#ifreq\">ifreq</a>));", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(<a class=\"id\" href=\"#uifr\">uifr</a>, <a class=\"id\" href=\"#uifr32\">uifr32</a>, sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#dev_ioctl\">dev_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#SIOCGIFNAME\">SIOCGIFNAME</a>, <a class=\"id\" href=\"#uifr\">uifr</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(<a class=\"id\" href=\"#uifr32\">uifr32</a>, <a class=\"id\" href=\"#uifr\">uifr</a>, sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#dev_ifconf\">dev_ifconf</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#compat_ifconf\">compat_ifconf</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifc32\">uifc32</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_ifconf\">compat_ifconf</a> <a class=\"id\" href=\"#ifc32\">ifc32</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifconf\">ifconf</a> <a class=\"id\" href=\"#ifc\">ifc</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifconf\">ifconf</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifc\">uifc</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ifr32\">ifr32</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifreq\">ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ifr\">ifr</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#j\">j</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#ifc32\">ifc32</a>, <a class=\"id\" href=\"#uifc32\">uifc32</a>, sizeof(struct <a class=\"id\" href=\"#compat_ifconf\">compat_ifconf</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ifc32\">ifc32</a>.<a class=\"id\" href=\"#ifcbuf\">ifcbuf</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifc32\">ifc32</a>.<a class=\"id\" href=\"#ifc_len\">ifc_len</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifc\">ifc</a>.<a class=\"id\" href=\"#ifc_len\">ifc_len</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifc\">ifc</a>.<a class=\"id\" href=\"#ifc_req\">ifc_req</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#uifc\">uifc</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(struct <a class=\"id\" href=\"#ifconf\">ifconf</a>));", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#len\">len</a> = ((<a class=\"id\" href=\"#ifc32\">ifc32</a>.<a class=\"id\" href=\"#ifc_len\">ifc_len</a> / sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>)) + 1) *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>sizeof(struct <a class=\"id\" href=\"#ifreq\">ifreq</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#uifc\">uifc</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(struct <a class=\"id\" href=\"#ifconf\">ifconf</a>) + <a class=\"id\" href=\"#len\">len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifc\">ifc</a>.<a class=\"id\" href=\"#ifc_len\">ifc_len</a> = <a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifr\">ifr</a> = <a class=\"id\" href=\"#ifc\">ifc</a>.<a class=\"id\" href=\"#ifc_req\">ifc_req</a> = (void <a class=\"id\" href=\"#__user\">__user</a> *)(<a class=\"id\" href=\"#uifc\">uifc</a> + 1);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifr32\">ifr32</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#ifc32\">ifc32</a>.<a class=\"id\" href=\"#ifcbuf\">ifcbuf</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ifc32\">ifc32</a>.<a class=\"id\" href=\"#ifc_len\">ifc_len</a>; <a class=\"id\" href=\"#i\">i</a> += sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>, <a class=\"id\" href=\"#ifr32\">ifr32</a>, sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifr\">ifr</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifr32\">ifr32</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#uifc\">uifc</a>, &amp;<a class=\"id\" href=\"#ifc\">ifc</a>, sizeof(struct <a class=\"id\" href=\"#ifconf\">ifconf</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#dev_ioctl\">dev_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#SIOCGIFCONF\">SIOCGIFCONF</a>, <a class=\"id\" href=\"#uifc\">uifc</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#ifc\">ifc</a>, <a class=\"id\" href=\"#uifc\">uifc</a>, sizeof(struct <a class=\"id\" href=\"#ifconf\">ifconf</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ifr\">ifr</a> = <a class=\"id\" href=\"#ifc\">ifc</a>.<a class=\"id\" href=\"#ifc_req\">ifc_req</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ifr32\">ifr32</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#ifc32\">ifc32</a>.<a class=\"id\" href=\"#ifcbuf\">ifcbuf</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0, <a class=\"id\" href=\"#j\">j</a> = 0;", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#i\">i</a> + sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>) <= <a class=\"id\" href=\"#ifc32\">ifc32</a>.<a class=\"id\" href=\"#ifc_len\">ifc_len</a> && <a class=\"id\" href=\"#j\">j</a> &lt; <a class=\"id\" href=\"#ifc\">ifc</a>.<a class=\"id\" href=\"#ifc_len\">ifc_len</a>;", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#i\">i</a> += sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>), <a class=\"id\" href=\"#j\">j</a> += sizeof(struct <a class=\"id\" href=\"#ifreq\">ifreq</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(<a class=\"id\" href=\"#ifr32\">ifr32</a>, <a class=\"id\" href=\"#ifr\">ifr</a>, sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifr32\">ifr32</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifr\">ifr</a>++;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ifc32\">ifc32</a>.<a class=\"id\" href=\"#ifcbuf\">ifcbuf</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Translate from 64-bit structure multiple to</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * a 32-bit one.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#ifc\">ifc</a>.<a class=\"id\" href=\"#ifc_len\">ifc_len</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = ((<a class=\"id\" href=\"#i\">i</a> / sizeof(struct <a class=\"id\" href=\"#ifreq\">ifreq</a>)) * sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifc32\">ifc32</a>.<a class=\"id\" href=\"#ifc_len\">ifc_len</a> = <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ifc32\">ifc32</a>.<a class=\"id\" href=\"#ifc_len\">ifc_len</a> = <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#uifc32\">uifc32</a>, &amp;<a class=\"id\" href=\"#ifc32\">ifc32</a>, sizeof(struct <a class=\"id\" href=\"#compat_ifconf\">compat_ifconf</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ethtool_ioctl\">ethtool_ioctl</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ifr32\">ifr32</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifreq\">ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ifr\">ifr</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#data\">data</a>;", 
"<span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#datap\">datap</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ifr\">ifr</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(*<a class=\"id\" href=\"#ifr\">ifr</a>));", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(&amp;<a class=\"id\" href=\"#ifr\">ifr</a>-><a class=\"id\" href=\"#ifr_name\">ifr_name</a>, &amp;<a class=\"id\" href=\"#ifr32\">ifr32</a>-><a class=\"id\" href=\"#ifr_name\">ifr_name</a>, <a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#data\">data</a>, &amp;<a class=\"id\" href=\"#ifr32\">ifr32</a>-><a class=\"id\" href=\"#ifr_ifru\">ifr_ifru</a>.<a class=\"id\" href=\"#ifru_data\">ifru_data</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#datap\">datap</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#data\">data</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#datap\">datap</a>, &amp;<a class=\"id\" href=\"#ifr\">ifr</a>-><a class=\"id\" href=\"#ifr_ifru\">ifr_ifru</a>.<a class=\"id\" href=\"#ifru_data\">ifru_data</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#dev_ioctl\">dev_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#SIOCETHTOOL\">SIOCETHTOOL</a>, <a class=\"id\" href=\"#ifr\">ifr</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#compat_siocwandev\">compat_siocwandev</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifr32\">uifr32</a>)", 
"{", 
"<span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uptr\">uptr</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_uptr_t\">compat_uptr_t</a> <a class=\"id\" href=\"#uptr32\">uptr32</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifreq\">ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifr\">uifr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#uifr\">uifr</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(*<a class=\"id\" href=\"#uifr\">uifr</a>));", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(<a class=\"id\" href=\"#uifr\">uifr</a>, <a class=\"id\" href=\"#uifr32\">uifr32</a>, sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#uptr32\">uptr32</a>, &amp;<a class=\"id\" href=\"#uifr32\">uifr32</a>-><a class=\"id\" href=\"#ifr_settings\">ifr_settings</a>.<a class=\"id\" href=\"#ifs_ifsu\">ifs_ifsu</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#uptr\">uptr</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#uptr32\">uptr32</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#uptr\">uptr</a>, &amp;<a class=\"id\" href=\"#uifr\">uifr</a>-><a class=\"id\" href=\"#ifr_settings\">ifr_settings</a>.<a class=\"id\" href=\"#ifs_ifsu\">ifs_ifsu</a>.<a class=\"id\" href=\"#raw_hdlc\">raw_hdlc</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#dev_ioctl\">dev_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#SIOCWANDEV\">SIOCWANDEV</a>, <a class=\"id\" href=\"#uifr\">uifr</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#bond_ioctl\">bond_ioctl</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ifr32\">ifr32</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifreq\">ifreq</a> <a class=\"id\" href=\"#kifr\">kifr</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifreq\">ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifr\">uifr</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#old_fs\">old_fs</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#data\">data</a>;", 
"<span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#datap\">datap</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#cmd\">cmd</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDENSLAVE\">SIOCBONDENSLAVE</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDRELEASE\">SIOCBONDRELEASE</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDSETHWADDR\">SIOCBONDSETHWADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDCHANGEACTIVE\">SIOCBONDCHANGEACTIVE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#kifr\">kifr</a>, <a class=\"id\" href=\"#ifr32\">ifr32</a>, sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#old_fs\">old_fs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#dev_ioctl\">dev_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, &amp;<a class=\"id\" href=\"#kifr\">kifr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#old_fs\">old_fs</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDSLAVEINFOQUERY\">SIOCBONDSLAVEINFOQUERY</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDINFOQUERY\">SIOCBONDINFOQUERY</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#uifr\">uifr</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(*<a class=\"id\" href=\"#uifr\">uifr</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(&amp;<a class=\"id\" href=\"#uifr\">uifr</a>-><a class=\"id\" href=\"#ifr_name\">ifr_name</a>, &amp;<a class=\"id\" href=\"#ifr32\">ifr32</a>-><a class=\"id\" href=\"#ifr_name\">ifr_name</a>, <a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#data\">data</a>, &amp;<a class=\"id\" href=\"#ifr32\">ifr32</a>-><a class=\"id\" href=\"#ifr_ifru\">ifr_ifru</a>.<a class=\"id\" href=\"#ifru_data\">ifru_data</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#datap\">datap</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#data\">data</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#datap\">datap</a>, &amp;<a class=\"id\" href=\"#uifr\">uifr</a>-><a class=\"id\" href=\"#ifr_ifru\">ifr_ifru</a>.<a class=\"id\" href=\"#ifru_data\">ifru_data</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#dev_ioctl\">dev_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#uifr\">uifr</a>);", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static int <a class=\"id\" href=\"#siocdevprivate_ioctl\">siocdevprivate_ioctl</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#u_ifreq32\">u_ifreq32</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifreq\">ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#u_ifreq64\">u_ifreq64</a>;", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#tmp_buf\">tmp_buf</a>[<a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>];", 
"<span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#data64\">data64</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#data32\">data32</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#tmp_buf\">tmp_buf</a>[0], &amp;(<a class=\"id\" href=\"#u_ifreq32\">u_ifreq32</a>-><a class=\"id\" href=\"#ifr_ifrn\">ifr_ifrn</a>.<a class=\"id\" href=\"#ifrn_name\">ifrn_name</a>[0]),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#data32\">data32</a>, &amp;<a class=\"id\" href=\"#u_ifreq32\">u_ifreq32</a>-><a class=\"id\" href=\"#ifr_ifru\">ifr_ifru</a>.<a class=\"id\" href=\"#ifru_data\">ifru_data</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#data64\">data64</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#data32\">data32</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u_ifreq64\">u_ifreq64</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(*<a class=\"id\" href=\"#u_ifreq64\">u_ifreq64</a>));", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Don't check these user accesses, just let that get trapped</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * in the ioctl handler instead.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(&amp;<a class=\"id\" href=\"#u_ifreq64\">u_ifreq64</a>-><a class=\"id\" href=\"#ifr_ifrn\">ifr_ifrn</a>.<a class=\"id\" href=\"#ifrn_name\">ifrn_name</a>[0], &amp;<a class=\"id\" href=\"#tmp_buf\">tmp_buf</a>[0],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#data64\">data64</a>, &amp;<a class=\"id\" href=\"#u_ifreq64\">u_ifreq64</a>-><a class=\"id\" href=\"#ifr_ifru\">ifr_ifru</a>.<a class=\"id\" href=\"#ifru_data\">ifru_data</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#dev_ioctl\">dev_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#u_ifreq64\">u_ifreq64</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#dev_ifsioc\">dev_ifsioc</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>, struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifr32\">uifr32</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifreq\">ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifr\">uifr</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#uifr\">uifr</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(*<a class=\"id\" href=\"#uifr\">uifr</a>));", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(<a class=\"id\" href=\"#uifr\">uifr</a>, <a class=\"id\" href=\"#uifr32\">uifr32</a>, sizeof(*<a class=\"id\" href=\"#uifr32\">uifr32</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock_do_ioctl\">sock_do_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, (unsigned long)<a class=\"id\" href=\"#uifr\">uifr</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#err\">err</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>switch (<a class=\"id\" href=\"#cmd\">cmd</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFFLAGS\">SIOCGIFFLAGS</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFMETRIC\">SIOCGIFMETRIC</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFMTU\">SIOCGIFMTU</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFMEM\">SIOCGIFMEM</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFHWADDR\">SIOCGIFHWADDR</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFINDEX\">SIOCGIFINDEX</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFADDR\">SIOCGIFADDR</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFBRDADDR\">SIOCGIFBRDADDR</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFDSTADDR\">SIOCGIFDSTADDR</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFNETMASK\">SIOCGIFNETMASK</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFPFLAGS\">SIOCGIFPFLAGS</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFTXQLEN\">SIOCGIFTXQLEN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGMIIPHY\">SIOCGMIIPHY</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGMIIREG\">SIOCGMIIREG</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(<a class=\"id\" href=\"#uifr32\">uifr32</a>, <a class=\"id\" href=\"#uifr\">uifr</a>, sizeof(*<a class=\"id\" href=\"#uifr32\">uifr32</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#compat_sioc_ifmap\">compat_sioc_ifmap</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifr32\">uifr32</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifreq\">ifreq</a> <a class=\"id\" href=\"#ifr\">ifr</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_ifmap\">compat_ifmap</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifmap32\">uifmap32</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#old_fs\">old_fs</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#uifmap32\">uifmap32</a> = &amp;<a class=\"id\" href=\"#uifr32\">uifr32</a>-><a class=\"id\" href=\"#ifr_ifru\">ifr_ifru</a>.<a class=\"id\" href=\"#ifru_map\">ifru_map</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#ifr\">ifr</a>, <a class=\"id\" href=\"#uifr32\">uifr32</a>, sizeof(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_name\">ifr_name</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#mem_start\">mem_start</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#mem_start\">mem_start</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#mem_end\">mem_end</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#mem_end\">mem_end</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#base_addr\">base_addr</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#base_addr\">base_addr</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#irq\">irq</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#irq\">irq</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#dma\">dma</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#dma\">dma</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#port\">port</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#port\">port</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#old_fs\">old_fs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#dev_ioctl\">dev_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, (void <a class=\"id\" href=\"#__user\">__user</a> *)&amp;<a class=\"id\" href=\"#ifr\">ifr</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#old_fs\">old_fs</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#SIOCGIFMAP\">SIOCGIFMAP</a> && !<a class=\"id\" href=\"#err\">err</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#uifr32\">uifr32</a>, &amp;<a class=\"id\" href=\"#ifr\">ifr</a>, sizeof(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_name\">ifr_name</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#mem_start\">mem_start</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#mem_start\">mem_start</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#mem_end\">mem_end</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#mem_end\">mem_end</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#base_addr\">base_addr</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#base_addr\">base_addr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#irq\">irq</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#irq\">irq</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#dma\">dma</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#dma\">dma</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(<a class=\"id\" href=\"#ifr\">ifr</a>.<a class=\"id\" href=\"#ifr_map\">ifr_map</a>.<a class=\"id\" href=\"#port\">port</a>, &amp;<a class=\"id\" href=\"#uifmap32\">uifmap32</a>-><a class=\"id\" href=\"#port\">port</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#compat_siocshwtstamp\">compat_siocshwtstamp</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifr32\">uifr32</a>)", 
"{", 
"<span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uptr\">uptr</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_uptr_t\">compat_uptr_t</a> <a class=\"id\" href=\"#uptr32\">uptr32</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ifreq\">ifreq</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uifr\">uifr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#uifr\">uifr</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(*<a class=\"id\" href=\"#uifr\">uifr</a>));", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(<a class=\"id\" href=\"#uifr\">uifr</a>, <a class=\"id\" href=\"#uifr32\">uifr32</a>, sizeof(struct <a class=\"id\" href=\"#compat_ifreq\">compat_ifreq</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#uptr32\">uptr32</a>, &amp;<a class=\"id\" href=\"#uifr32\">uifr32</a>-><a class=\"id\" href=\"#ifr_data\">ifr_data</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#uptr\">uptr</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#uptr32\">uptr32</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#uptr\">uptr</a>, &amp;<a class=\"id\" href=\"#uifr\">uifr</a>-><a class=\"id\" href=\"#ifr_data\">ifr_data</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#dev_ioctl\">dev_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#SIOCSHWTSTAMP\">SIOCSHWTSTAMP</a>, <a class=\"id\" href=\"#uifr\">uifr</a>);", 
"}", 
"", 
"struct <a class=\"id\" href=\"#rtentry32\">rtentry32</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt_pad1\">rt_pad1</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#rt_dst\">rt_dst</a>;         <span class=\"comment\">/* target address               */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#rt_gateway\">rt_gateway</a>;     <span class=\"comment\">/* gateway addr (RTF_GATEWAY)   */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> <a class=\"id\" href=\"#rt_genmask\">rt_genmask</a>;     <span class=\"comment\">/* target network mask (IP)     */</span>", 
"<span class=\"ts\"/>unsigned short<span class=\"ts\"/><a class=\"id\" href=\"#rt_flags\">rt_flags</a>;", 
"<span class=\"ts\"/>short<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt_pad2\">rt_pad2</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt_pad3\">rt_pad3</a>;", 
"<span class=\"ts\"/>unsigned char<span class=\"ts\"/><a class=\"id\" href=\"#rt_tos\">rt_tos</a>;", 
"<span class=\"ts\"/>unsigned char<span class=\"ts\"/><a class=\"id\" href=\"#rt_class\">rt_class</a>;", 
"<span class=\"ts\"/>short<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt_pad4\">rt_pad4</a>;", 
"<span class=\"ts\"/>short<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt_metric\">rt_metric</a>;      <span class=\"comment\">/* +1 for binary compatibility! */</span>", 
"<span class=\"ts\"/><span class=\"comment\">/* char * */</span> <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#rt_dev\">rt_dev</a>;        <span class=\"comment\">/* forcing the device at add    */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt_mtu\">rt_mtu</a>;         <span class=\"comment\">/* per route MTU/Window         */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt_window\">rt_window</a>;      <span class=\"comment\">/* Window clamping              */</span>", 
"<span class=\"ts\"/>unsigned short  <a class=\"id\" href=\"#rt_irtt\">rt_irtt</a>;        <span class=\"comment\">/* Initial RTT                  */</span>", 
"};", 
"", 
"struct <a class=\"id\" href=\"#in6_rtmsg32\">in6_rtmsg32</a> {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_dst\">rtmsg_dst</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_src\">rtmsg_src</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_gateway\">rtmsg_gateway</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_type\">rtmsg_type</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_dst_len\">rtmsg_dst_len</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_src_len\">rtmsg_src_len</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_metric\">rtmsg_metric</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_info\">rtmsg_info</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_flags\">rtmsg_flags</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#s32\">s32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_ifindex\">rtmsg_ifindex</a>;", 
"};", 
"", 
"static int <a class=\"id\" href=\"#routing_ioctl\">routing_ioctl</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>, void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#argp\">argp</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>void *<a class=\"id\" href=\"#r\">r</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_rtmsg\">in6_rtmsg</a> <a class=\"id\" href=\"#r6\">r6</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rtentry\">rtentry</a> <a class=\"id\" href=\"#r4\">r4</a>;", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#devname\">devname</a>[16];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#rtdev\">rtdev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#old_fs\">old_fs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sock\">sock</a> && <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a> && <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>-><a class=\"id\" href=\"#sk_family\">sk_family</a> == <a class=\"id\" href=\"#AF_INET6\">AF_INET6</a>) { <span class=\"comment\">/* ipv6 */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_rtmsg32\">in6_rtmsg32</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ur6\">ur6</a> = <a class=\"id\" href=\"#argp\">argp</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#r6\">r6</a>.<a class=\"id\" href=\"#rtmsg_dst\">rtmsg_dst</a>, &amp;(<a class=\"id\" href=\"#ur6\">ur6</a>-><a class=\"id\" href=\"#rtmsg_dst\">rtmsg_dst</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>3 * sizeof(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r6\">r6</a>.<a class=\"id\" href=\"#rtmsg_type\">rtmsg_type</a>, &amp;(<a class=\"id\" href=\"#ur6\">ur6</a>-><a class=\"id\" href=\"#rtmsg_type\">rtmsg_type</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r6\">r6</a>.<a class=\"id\" href=\"#rtmsg_dst_len\">rtmsg_dst_len</a>, &amp;(<a class=\"id\" href=\"#ur6\">ur6</a>-><a class=\"id\" href=\"#rtmsg_dst_len\">rtmsg_dst_len</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r6\">r6</a>.<a class=\"id\" href=\"#rtmsg_src_len\">rtmsg_src_len</a>, &amp;(<a class=\"id\" href=\"#ur6\">ur6</a>-><a class=\"id\" href=\"#rtmsg_src_len\">rtmsg_src_len</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r6\">r6</a>.<a class=\"id\" href=\"#rtmsg_metric\">rtmsg_metric</a>, &amp;(<a class=\"id\" href=\"#ur6\">ur6</a>-><a class=\"id\" href=\"#rtmsg_metric\">rtmsg_metric</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r6\">r6</a>.<a class=\"id\" href=\"#rtmsg_info\">rtmsg_info</a>, &amp;(<a class=\"id\" href=\"#ur6\">ur6</a>-><a class=\"id\" href=\"#rtmsg_info\">rtmsg_info</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r6\">r6</a>.<a class=\"id\" href=\"#rtmsg_flags\">rtmsg_flags</a>, &amp;(<a class=\"id\" href=\"#ur6\">ur6</a>-><a class=\"id\" href=\"#rtmsg_flags\">rtmsg_flags</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r6\">r6</a>.<a class=\"id\" href=\"#rtmsg_ifindex\">rtmsg_ifindex</a>, &amp;(<a class=\"id\" href=\"#ur6\">ur6</a>-><a class=\"id\" href=\"#rtmsg_ifindex\">rtmsg_ifindex</a>));", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a> = (void *) &amp;<a class=\"id\" href=\"#r6\">r6</a>;", 
"<span class=\"ts\"/>} else { <span class=\"comment\">/* ipv4 */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#rtentry32\">rtentry32</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ur4\">ur4</a> = <a class=\"id\" href=\"#argp\">argp</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#r4\">r4</a>.<a class=\"id\" href=\"#rt_dst\">rt_dst</a>, &amp;(<a class=\"id\" href=\"#ur4\">ur4</a>-><a class=\"id\" href=\"#rt_dst\">rt_dst</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>3 * sizeof(struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r4\">r4</a>.<a class=\"id\" href=\"#rt_flags\">rt_flags</a>, &amp;(<a class=\"id\" href=\"#ur4\">ur4</a>-><a class=\"id\" href=\"#rt_flags\">rt_flags</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r4\">r4</a>.<a class=\"id\" href=\"#rt_metric\">rt_metric</a>, &amp;(<a class=\"id\" href=\"#ur4\">ur4</a>-><a class=\"id\" href=\"#rt_metric\">rt_metric</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r4\">r4</a>.<a class=\"id\" href=\"#rt_mtu\">rt_mtu</a>, &amp;(<a class=\"id\" href=\"#ur4\">ur4</a>-><a class=\"id\" href=\"#rt_mtu\">rt_mtu</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r4\">r4</a>.<a class=\"id\" href=\"#rt_window\">rt_window</a>, &amp;(<a class=\"id\" href=\"#ur4\">ur4</a>-><a class=\"id\" href=\"#rt_window\">rt_window</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#r4\">r4</a>.<a class=\"id\" href=\"#rt_irtt\">rt_irtt</a>, &amp;(<a class=\"id\" href=\"#ur4\">ur4</a>-><a class=\"id\" href=\"#rt_irtt\">rt_irtt</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#__get_user\">__get_user</a>(<a class=\"id\" href=\"#rtdev\">rtdev</a>, &amp;(<a class=\"id\" href=\"#ur4\">ur4</a>-><a class=\"id\" href=\"#rt_dev\">rt_dev</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rtdev\">rtdev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> |= <a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#devname\">devname</a>, <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#rtdev\">rtdev</a>), 15);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r4\">r4</a>.<a class=\"id\" href=\"#rt_dev\">rt_dev</a> = <a class=\"id\" href=\"#devname\">devname</a>; <a class=\"id\" href=\"#devname\">devname</a>[15] = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r4\">r4</a>.<a class=\"id\" href=\"#rt_dev\">rt_dev</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a> = (void *) &amp;<a class=\"id\" href=\"#r4\">r4</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#sock_do_ioctl\">sock_do_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, (unsigned long) <a class=\"id\" href=\"#r\">r</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#old_fs\">old_fs</a>);", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<span class=\"comment\">/* Since old style bridge ioctl's endup using SIOCDEVPRIVATE</span>", 
"<span class=\"comment\"> * for some operations; this forces use of the newer bridge-utils that</span>", 
"<span class=\"comment\"> * use compatiable ioctls</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#old_bridge_ioctl\">old_bridge_ioctl</a>(<a class=\"id\" href=\"#compat_ulong_t\">compat_ulong_t</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#argp\">argp</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_ulong_t\">compat_ulong_t</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#tmp\">tmp</a>, <a class=\"id\" href=\"#argp\">argp</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tmp\">tmp</a> == <a class=\"id\" href=\"#BRCTL_GET_VERSION\">BRCTL_GET_VERSION</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#BRCTL_VERSION\">BRCTL_VERSION</a> + 1;", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#compat_sock_ioctl_trans\">compat_sock_ioctl_trans</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>, unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#argp\">argp</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sock\">sock</a> *<a class=\"id\" href=\"#sk\">sk</a> = <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#sk\">sk</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a> >= <a class=\"id\" href=\"#SIOCDEVPRIVATE\">SIOCDEVPRIVATE</a> && <a class=\"id\" href=\"#cmd\">cmd</a> <= (<a class=\"id\" href=\"#SIOCDEVPRIVATE\">SIOCDEVPRIVATE</a> + 15))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#siocdevprivate_ioctl\">siocdevprivate_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#cmd\">cmd</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFBR\">SIOCSIFBR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFBR\">SIOCGIFBR</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#old_bridge_ioctl\">old_bridge_ioctl</a>(<a class=\"id\" href=\"#argp\">argp</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFNAME\">SIOCGIFNAME</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#dev_ifname32\">dev_ifname32</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFCONF\">SIOCGIFCONF</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#dev_ifconf\">dev_ifconf</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCETHTOOL\">SIOCETHTOOL</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ethtool_ioctl\">ethtool_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCWANDEV\">SIOCWANDEV</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#compat_siocwandev\">compat_siocwandev</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFMAP\">SIOCGIFMAP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFMAP\">SIOCSIFMAP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#compat_sioc_ifmap\">compat_sioc_ifmap</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDENSLAVE\">SIOCBONDENSLAVE</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDRELEASE\">SIOCBONDRELEASE</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDSETHWADDR\">SIOCBONDSETHWADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDSLAVEINFOQUERY\">SIOCBONDSLAVEINFOQUERY</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDINFOQUERY\">SIOCBONDINFOQUERY</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBONDCHANGEACTIVE\">SIOCBONDCHANGEACTIVE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#bond_ioctl\">bond_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCADDRT\">SIOCADDRT</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCDELRT\">SIOCDELRT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#routing_ioctl\">routing_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGSTAMP\">SIOCGSTAMP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#do_siocgstamp\">do_siocgstamp</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGSTAMPNS\">SIOCGSTAMPNS</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#do_siocgstampns\">do_siocgstampns</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSHWTSTAMP\">SIOCSHWTSTAMP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#compat_siocshwtstamp\">compat_siocshwtstamp</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FIOSETOWN\">FIOSETOWN</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSPGRP\">SIOCSPGRP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FIOGETOWN\">FIOGETOWN</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGPGRP\">SIOCGPGRP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBRADDBR\">SIOCBRADDBR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBRDELBR\">SIOCBRDELBR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFVLAN\">SIOCGIFVLAN</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFVLAN\">SIOCSIFVLAN</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCADDDLCI\">SIOCADDDLCI</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCDELDLCI\">SIOCDELDLCI</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sock_ioctl\">sock_ioctl</a>(<a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFFLAGS\">SIOCGIFFLAGS</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFFLAGS\">SIOCSIFFLAGS</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFMETRIC\">SIOCGIFMETRIC</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFMETRIC\">SIOCSIFMETRIC</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFMTU\">SIOCGIFMTU</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFMTU\">SIOCSIFMTU</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFMEM\">SIOCGIFMEM</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFMEM\">SIOCSIFMEM</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFHWADDR\">SIOCGIFHWADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFHWADDR\">SIOCSIFHWADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCADDMULTI\">SIOCADDMULTI</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCDELMULTI\">SIOCDELMULTI</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFINDEX\">SIOCGIFINDEX</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFADDR\">SIOCGIFADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFADDR\">SIOCSIFADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFHWBROADCAST\">SIOCSIFHWBROADCAST</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCDIFADDR\">SIOCDIFADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFBRDADDR\">SIOCGIFBRDADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFBRDADDR\">SIOCSIFBRDADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFDSTADDR\">SIOCGIFDSTADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFDSTADDR\">SIOCSIFDSTADDR</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFNETMASK\">SIOCGIFNETMASK</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFNETMASK\">SIOCSIFNETMASK</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFPFLAGS\">SIOCSIFPFLAGS</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFPFLAGS\">SIOCGIFPFLAGS</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFTXQLEN\">SIOCGIFTXQLEN</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFTXQLEN\">SIOCSIFTXQLEN</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBRADDIF\">SIOCBRADDIF</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCBRDELIF\">SIOCBRDELIF</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFNAME\">SIOCSIFNAME</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGMIIPHY\">SIOCGMIIPHY</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGMIIREG\">SIOCGMIIREG</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSMIIREG\">SIOCSMIIREG</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#dev_ifsioc\">dev_ifsioc</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#argp\">argp</a>);", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSARP\">SIOCSARP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGARP\">SIOCGARP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCDARP\">SIOCDARP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCATMARK\">SIOCATMARK</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sock_do_ioctl\">sock_do_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Prevent warning from compat_sys_ioctl, these always</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * result in -EINVAL in the native case anyway. */</span>", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#cmd\">cmd</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCRTMSG\">SIOCRTMSG</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFCOUNT\">SIOCGIFCOUNT</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSRARP\">SIOCSRARP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGRARP\">SIOCGRARP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCDRARP\">SIOCDRARP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFLINK\">SIOCSIFLINK</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCGIFSLAVE\">SIOCGIFSLAVE</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCSIFSLAVE\">SIOCSIFSLAVE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOIOCTLCMD\">ENOIOCTLCMD</a>;", 
"}", 
"", 
"static long <a class=\"id\" href=\"#compat_sock_ioctl\">compat_sock_ioctl</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, unsigned <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a> = <a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#private_data\">private_data</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENOIOCTLCMD\">ENOIOCTLCMD</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sock\">sock</a> *<a class=\"id\" href=\"#sk\">sk</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sk\">sk</a> = <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#sk\">sk</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#compat_ioctl\">compat_ioctl</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#compat_ioctl\">compat_ioctl</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == -<a class=\"id\" href=\"#ENOIOCTLCMD\">ENOIOCTLCMD</a> &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#cmd\">cmd</a> >= <a class=\"id\" href=\"#SIOCIWFIRST\">SIOCIWFIRST</a> && <a class=\"id\" href=\"#cmd\">cmd</a> <= <a class=\"id\" href=\"#SIOCIWLAST\">SIOCIWLAST</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#compat_wext_handle_ioctl\">compat_wext_handle_ioctl</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == -<a class=\"id\" href=\"#ENOIOCTLCMD\">ENOIOCTLCMD</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#compat_sock_ioctl_trans\">compat_sock_ioctl_trans</a>(<a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"int <a class=\"id\" href=\"#kernel_bind\">kernel_bind</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> *<a class=\"id\" href=\"#addr\">addr</a>, int <a class=\"id\" href=\"#addrlen\">addrlen</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#bind\">bind</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#addrlen\">addrlen</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_bind\">kernel_bind</a>);", 
"", 
"int <a class=\"id\" href=\"#kernel_listen\">kernel_listen</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, int <a class=\"id\" href=\"#backlog\">backlog</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#listen\">listen</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#backlog\">backlog</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_listen\">kernel_listen</a>);", 
"", 
"int <a class=\"id\" href=\"#kernel_accept\">kernel_accept</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, struct <a class=\"id\" href=\"#socket\">socket</a> **<a class=\"id\" href=\"#newsock\">newsock</a>, int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sock\">sock</a> *<a class=\"id\" href=\"#sk\">sk</a> = <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock_create_lite\">sock_create_lite</a>(<a class=\"id\" href=\"#sk\">sk</a>-><a class=\"id\" href=\"#sk_family\">sk_family</a>, <a class=\"id\" href=\"#sk\">sk</a>-><a class=\"id\" href=\"#sk_type\">sk_type</a>, <a class=\"id\" href=\"#sk\">sk</a>-><a class=\"id\" href=\"#sk_protocol\">sk_protocol</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#newsock\">newsock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#accept\">accept</a>(<a class=\"id\" href=\"#sock\">sock</a>, *<a class=\"id\" href=\"#newsock\">newsock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sock_release\">sock_release</a>(*<a class=\"id\" href=\"#newsock\">newsock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#newsock\">newsock</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>(*<a class=\"id\" href=\"#newsock\">newsock</a>)-><a class=\"id\" href=\"#ops\">ops</a> = <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__module_get\">__module_get</a>((*<a class=\"id\" href=\"#newsock\">newsock</a>)-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#owner\">owner</a>);", 
"", 
"<a class=\"id\" href=\"#done\">done</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_accept\">kernel_accept</a>);", 
"", 
"int <a class=\"id\" href=\"#kernel_connect\">kernel_connect</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> *<a class=\"id\" href=\"#addr\">addr</a>, int <a class=\"id\" href=\"#addrlen\">addrlen</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#connect\">connect</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#addrlen\">addrlen</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_connect\">kernel_connect</a>);", 
"", 
"int <a class=\"id\" href=\"#kernel_getsockname\">kernel_getsockname</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> *<a class=\"id\" href=\"#addr\">addr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> int *<a class=\"id\" href=\"#addrlen\">addrlen</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#getname\">getname</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#addrlen\">addrlen</a>, 0);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_getsockname\">kernel_getsockname</a>);", 
"", 
"int <a class=\"id\" href=\"#kernel_getpeername\">kernel_getpeername</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, struct <a class=\"id\" href=\"#sockaddr\">sockaddr</a> *<a class=\"id\" href=\"#addr\">addr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> int *<a class=\"id\" href=\"#addrlen\">addrlen</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#getname\">getname</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#addrlen\">addrlen</a>, 1);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_getpeername\">kernel_getpeername</a>);", 
"", 
"int <a class=\"id\" href=\"#kernel_getsockopt\">kernel_getsockopt</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, int <a class=\"id\" href=\"#level\">level</a>, int <a class=\"id\" href=\"#optname\">optname</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#optval\">optval</a>, int *<a class=\"id\" href=\"#optlen\">optlen</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#oldfs\">oldfs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#level\">level</a> == <a class=\"id\" href=\"#SOL_SOCKET\">SOL_SOCKET</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock_getsockopt\">sock_getsockopt</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#level\">level</a>, <a class=\"id\" href=\"#optname\">optname</a>, <a class=\"id\" href=\"#optval\">optval</a>, <a class=\"id\" href=\"#optlen\">optlen</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#getsockopt\">getsockopt</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#level\">level</a>, <a class=\"id\" href=\"#optname\">optname</a>, <a class=\"id\" href=\"#optval\">optval</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#optlen\">optlen</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#oldfs\">oldfs</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_getsockopt\">kernel_getsockopt</a>);", 
"", 
"int <a class=\"id\" href=\"#kernel_setsockopt\">kernel_setsockopt</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, int <a class=\"id\" href=\"#level\">level</a>, int <a class=\"id\" href=\"#optname\">optname</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#optval\">optval</a>, unsigned int <a class=\"id\" href=\"#optlen\">optlen</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#oldfs\">oldfs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#level\">level</a> == <a class=\"id\" href=\"#SOL_SOCKET\">SOL_SOCKET</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock_setsockopt\">sock_setsockopt</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#level\">level</a>, <a class=\"id\" href=\"#optname\">optname</a>, <a class=\"id\" href=\"#optval\">optval</a>, <a class=\"id\" href=\"#optlen\">optlen</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#setsockopt\">setsockopt</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#level\">level</a>, <a class=\"id\" href=\"#optname\">optname</a>, <a class=\"id\" href=\"#optval\">optval</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#optlen\">optlen</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#oldfs\">oldfs</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_setsockopt\">kernel_setsockopt</a>);", 
"", 
"int <a class=\"id\" href=\"#kernel_sendpage\">kernel_sendpage</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a>, int <a class=\"id\" href=\"#offset\">offset</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#size\">size</a>, int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sock_update_classid\">sock_update_classid</a>(<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#sendpage\">sendpage</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#sendpage\">sendpage</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#offset\">offset</a>, <a class=\"id\" href=\"#size\">size</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sock_no_sendpage\">sock_no_sendpage</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#offset\">offset</a>, <a class=\"id\" href=\"#size\">size</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_sendpage\">kernel_sendpage</a>);", 
"", 
"int <a class=\"id\" href=\"#kernel_sock_ioctl\">kernel_sock_ioctl</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, int <a class=\"id\" href=\"#cmd\">cmd</a>, unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#oldfs\">oldfs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#ioctl\">ioctl</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#oldfs\">oldfs</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_sock_ioctl\">kernel_sock_ioctl</a>);", 
"", 
"int <a class=\"id\" href=\"#kernel_sock_shutdown\">kernel_sock_shutdown</a>(struct <a class=\"id\" href=\"#socket\">socket</a> *<a class=\"id\" href=\"#sock\">sock</a>, enum <a class=\"id\" href=\"#sock_shutdown_cmd\">sock_shutdown_cmd</a> <a class=\"id\" href=\"#how\">how</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sock\">sock</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#shutdown\">shutdown</a>(<a class=\"id\" href=\"#sock\">sock</a>, <a class=\"id\" href=\"#how\">how</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#kernel_sock_shutdown\">kernel_sock_shutdown</a>);", 
];
xr_frag_insert('l/3d/e5cddf5ae23f71d0fa1fffaae022bb3c0badb7.xr', __xr_tmp);
