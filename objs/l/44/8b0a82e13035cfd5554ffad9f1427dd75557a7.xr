var __xr_tmp = [
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#_ASM_X86_GART_H\">_ASM_X86_GART_H</a>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#_ASM_X86_GART_H\">_ASM_X86_GART_H</a>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#e820\">e820</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"extern void <a class=\"id\" href=\"#set_up_gart_resume\">set_up_gart_resume</a>(<a class=\"id\" href=\"#u32\">u32</a>, <a class=\"id\" href=\"#u32\">u32</a>);", 
"", 
"extern int <a class=\"id\" href=\"#fallback_aper_order\">fallback_aper_order</a>;", 
"extern int <a class=\"id\" href=\"#fallback_aper_force\">fallback_aper_force</a>;", 
"extern int <a class=\"id\" href=\"#fix_aperture\">fix_aperture</a>;", 
"", 
"<span class=\"comment\">/* PTE bits. */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#GPTE_VALID\">GPTE_VALID</a><span class=\"ts\"/>1", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#GPTE_COHERENT\">GPTE_COHERENT</a><span class=\"ts\"/>2", 
"", 
"<span class=\"comment\">/* Aperture control register bits. */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#GARTEN\">GARTEN</a><span class=\"ts\"/><span class=\"ts\"/>(1<<0)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DISGARTCPU\">DISGARTCPU</a><span class=\"ts\"/>(1<<4)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DISGARTIO\">DISGARTIO</a><span class=\"ts\"/>(1<<5)", 
"", 
"<span class=\"comment\">/* GART cache control register bits. */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#INVGART\">INVGART</a><span class=\"ts\"/><span class=\"ts\"/>(1<<0)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#GARTPTEERR\">GARTPTEERR</a><span class=\"ts\"/>(1<<1)", 
"", 
"<span class=\"comment\">/* K8 On-cpu GART registers */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#AMD64_GARTAPERTURECTL\">AMD64_GARTAPERTURECTL</a><span class=\"ts\"/>0x90", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#AMD64_GARTAPERTUREBASE\">AMD64_GARTAPERTUREBASE</a><span class=\"ts\"/>0x94", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#AMD64_GARTTABLEBASE\">AMD64_GARTTABLEBASE</a><span class=\"ts\"/>0x98", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#AMD64_GARTCACHECTL\">AMD64_GARTCACHECTL</a><span class=\"ts\"/>0x9c", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#AMD64_GARTEN\">AMD64_GARTEN</a><span class=\"ts\"/><span class=\"ts\"/>(1<<0)", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_GART_IOMMU\">CONFIG_GART_IOMMU</a>", 
"extern int <a class=\"id\" href=\"#gart_iommu_aperture\">gart_iommu_aperture</a>;", 
"extern int <a class=\"id\" href=\"#gart_iommu_aperture_allowed\">gart_iommu_aperture_allowed</a>;", 
"extern int <a class=\"id\" href=\"#gart_iommu_aperture_disabled\">gart_iommu_aperture_disabled</a>;", 
"", 
"extern void <a class=\"id\" href=\"#early_gart_iommu_check\">early_gart_iommu_check</a>(void);", 
"extern int <a class=\"id\" href=\"#gart_iommu_init\">gart_iommu_init</a>(void);", 
"extern void <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#gart_parse_options\">gart_parse_options</a>(char *);", 
"extern void <a class=\"id\" href=\"#gart_iommu_hole_init\">gart_iommu_hole_init</a>(void);", 
"", 
"#else", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#gart_iommu_aperture\">gart_iommu_aperture</a>            0", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#gart_iommu_aperture_allowed\">gart_iommu_aperture_allowed</a>    0", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#gart_iommu_aperture_disabled\">gart_iommu_aperture_disabled</a>   1", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#early_gart_iommu_check\">early_gart_iommu_check</a>(void)", 
"{", 
"}", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#gart_parse_options\">gart_parse_options</a>(char *<a class=\"id\" href=\"#options\">options</a>)", 
"{", 
"}", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#gart_iommu_hole_init\">gart_iommu_hole_init</a>(void)", 
"{", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"extern int <a class=\"id\" href=\"#agp_amd64_init\">agp_amd64_init</a>(void);", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#enable_gart_translation\">enable_gart_translation</a>(struct <a class=\"id\" href=\"#pci_dev\">pci_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#addr\">addr</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#tmp\">tmp</a>, <a class=\"id\" href=\"#ctl\">ctl</a>;", 
"", 
"        <span class=\"comment\">/* address of the mappings table */</span>", 
"        <a class=\"id\" href=\"#addr\">addr</a> >>= 12;", 
"        <a class=\"id\" href=\"#tmp\">tmp</a> = (<a class=\"id\" href=\"#u32\">u32</a>) <a class=\"id\" href=\"#addr\">addr</a><<4;", 
"        <a class=\"id\" href=\"#tmp\">tmp</a> &= ~0xf;", 
"        <a class=\"id\" href=\"#pci_write_config_dword\">pci_write_config_dword</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#AMD64_GARTTABLEBASE\">AMD64_GARTTABLEBASE</a>, <a class=\"id\" href=\"#tmp\">tmp</a>);", 
"", 
"        <span class=\"comment\">/* Enable GART translation for this hammer. */</span>", 
"        <a class=\"id\" href=\"#pci_read_config_dword\">pci_read_config_dword</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#AMD64_GARTAPERTURECTL\">AMD64_GARTAPERTURECTL</a>, &amp;<a class=\"id\" href=\"#ctl\">ctl</a>);", 
"        <a class=\"id\" href=\"#ctl\">ctl</a> |= <a class=\"id\" href=\"#GARTEN\">GARTEN</a>;", 
"        <a class=\"id\" href=\"#ctl\">ctl</a> &= ~(<a class=\"id\" href=\"#DISGARTCPU\">DISGARTCPU</a> | <a class=\"id\" href=\"#DISGARTIO\">DISGARTIO</a>);", 
"        <a class=\"id\" href=\"#pci_write_config_dword\">pci_write_config_dword</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#AMD64_GARTAPERTURECTL\">AMD64_GARTAPERTURECTL</a>, <a class=\"id\" href=\"#ctl\">ctl</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#aperture_valid\">aperture_valid</a>(<a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#aper_base\">aper_base</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#aper_size\">aper_size</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#min_size\">min_size</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#aper_base\">aper_base</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#aper_base\">aper_base</a> + <a class=\"id\" href=\"#aper_size\">aper_size</a> &gt; 0x100000000ULL) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"Aperture beyond 4GB. Ignoring.\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#e820_any_mapped\">e820_any_mapped</a>(<a class=\"id\" href=\"#aper_base\">aper_base</a>, <a class=\"id\" href=\"#aper_base\">aper_base</a> + <a class=\"id\" href=\"#aper_size\">aper_size</a>, <a class=\"id\" href=\"#E820_RAM\">E820_RAM</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"Aperture pointing to e820 RAM. Ignoring.\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#aper_size\">aper_size</a> &lt; <a class=\"id\" href=\"#min_size\">min_size</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"Aperture too small (%d MB) than (%d MB)\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#aper_size\">aper_size</a>>>20, <a class=\"id\" href=\"#min_size\">min_size</a>>>20);", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* _ASM_X86_GART_H */</span>", 
];
xr_frag_insert('l/44/8b0a82e13035cfd5554ffad9f1427dd75557a7.xr', __xr_tmp);
