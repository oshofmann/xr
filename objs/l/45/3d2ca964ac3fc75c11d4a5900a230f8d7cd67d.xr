var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Intel &amp; MS High Precision Event Timer Implementation.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright (C) 2003 Intel Corporation</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Venki Pallipadi</span>", 
"<span class=\"comment\"> * (c) Copyright 2004 Hewlett-Packard Development Company, L.P.</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Bob Picco &lt;robert.picco@hp.com&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This program is free software; you can redistribute it and/or modify</span>", 
"<span class=\"comment\"> * it under the terms of the GNU General Public License version 2 as</span>", 
"<span class=\"comment\"> * published by the Free Software Foundation.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#interrupt\">interrupt</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#smp_lock\">smp_lock</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#miscdevice\">miscdevice</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#major\">major</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#ioport\">ioport</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#fcntl\">fcntl</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#poll\">poll</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#mm\">mm</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#proc_fs\">proc_fs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#spinlock\">spinlock</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#wait\">wait</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#bcd\">bcd</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#seq_file\">seq_file</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#bitops\">bitops</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#clocksource\">clocksource</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#current\">current</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#uaccess\">uaccess</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#system\">system</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#io\">io</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#irq\">irq</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#div64\">div64</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#acpi\">acpi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_bus\">acpi_bus</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#hpet\">hpet</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * The High Precision Event Timer driver.</span>", 
"<span class=\"comment\"> * This driver is closely modelled after the rtc.c driver.</span>", 
"<span class=\"comment\"> * http://www.intel.com/hardwaredesign/hpetspec_1.pdf</span>", 
"<span class=\"comment\"> */</span>", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#HPET_USER_FREQ\">HPET_USER_FREQ</a><span class=\"ts\"/>(64)", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#HPET_DRIFT\">HPET_DRIFT</a><span class=\"ts\"/>(500)", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#HPET_RANGE_SIZE\">HPET_RANGE_SIZE</a><span class=\"ts\"/><span class=\"ts\"/>1024<span class=\"ts\"/><span class=\"comment\">/* from HPET spec */</span>", 
"", 
"", 
"<span class=\"comment\">/* WARNING -- don't get confused.  These macros are never used</span>", 
"<span class=\"comment\"> * to write the (single) counter, and rarely to read it.</span>", 
"<span class=\"comment\"> * They're badly named; to fix, someday.</span>", 
"<span class=\"comment\"> */</span>", 
"#if <a class=\"id\" href=\"#BITS_PER_LONG\">BITS_PER_LONG</a> == 64", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#write_counter\">write_counter</a>(<a class=\"id\" href=\"#V\">V</a>, <a class=\"id\" href=\"#MC\">MC</a>)<span class=\"ts\"/><a class=\"id\" href=\"#writeq\">writeq</a>(<a class=\"id\" href=\"#V\">V</a>, <a class=\"id\" href=\"#MC\">MC</a>)", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#read_counter\">read_counter</a>(<a class=\"id\" href=\"#MC\">MC</a>)<span class=\"ts\"/><a class=\"id\" href=\"#readq\">readq</a>(<a class=\"id\" href=\"#MC\">MC</a>)", 
"#else", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#write_counter\">write_counter</a>(<a class=\"id\" href=\"#V\">V</a>, <a class=\"id\" href=\"#MC\">MC</a>)<span class=\"ts\"/><a class=\"id\" href=\"#writel\">writel</a>(<a class=\"id\" href=\"#V\">V</a>, <a class=\"id\" href=\"#MC\">MC</a>)", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#read_counter\">read_counter</a>(<a class=\"id\" href=\"#MC\">MC</a>)<span class=\"ts\"/><a class=\"id\" href=\"#readl\">readl</a>(<a class=\"id\" href=\"#MC\">MC</a>)", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#hpet_nhpet\">hpet_nhpet</a>, <a class=\"id\" href=\"#hpet_max_freq\">hpet_max_freq</a> = <a class=\"id\" href=\"#HPET_USER_FREQ\">HPET_USER_FREQ</a>;", 
"", 
"<span class=\"comment\">/* This clocksource driver currently only works on ia64 */</span>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IA64\">CONFIG_IA64</a>", 
"static void <a class=\"id\" href=\"#__iomem\">__iomem</a> *<a class=\"id\" href=\"#hpet_mctr\">hpet_mctr</a>;", 
"", 
"static <a class=\"id\" href=\"#cycle_t\">cycle_t</a> <a class=\"id\" href=\"#read_hpet\">read_hpet</a>(struct <a class=\"id\" href=\"#clocksource\">clocksource</a> *<a class=\"id\" href=\"#cs\">cs</a>)", 
"{", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#cycle_t\">cycle_t</a>)<a class=\"id\" href=\"#read_counter\">read_counter</a>((void <a class=\"id\" href=\"#__iomem\">__iomem</a> *)<a class=\"id\" href=\"#hpet_mctr\">hpet_mctr</a>);", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#clocksource\">clocksource</a> <a class=\"id\" href=\"#clocksource_hpet\">clocksource_hpet</a> = {", 
"        .<a class=\"id\" href=\"#name\">name</a>           = \"hpet\",", 
"        .<a class=\"id\" href=\"#rating\">rating</a>         = 250,", 
"        .<a class=\"id\" href=\"#read\">read</a>           = <a class=\"id\" href=\"#read_hpet\">read_hpet</a>,", 
"        .<a class=\"id\" href=\"#mask\">mask</a>           = <a class=\"id\" href=\"#CLOCKSOURCE_MASK\">CLOCKSOURCE_MASK</a>(64),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#mult\">mult</a><span class=\"ts\"/><span class=\"ts\"/>= 0, <span class=\"comment\">/* to be calculated */</span>", 
"        .<a class=\"id\" href=\"#shift\">shift</a>          = 10,", 
"        .<a class=\"id\" href=\"#flags\">flags</a>          = <a class=\"id\" href=\"#CLOCK_SOURCE_IS_CONTINUOUS\">CLOCK_SOURCE_IS_CONTINUOUS</a>,", 
"};", 
"static struct <a class=\"id\" href=\"#clocksource\">clocksource</a> *<a class=\"id\" href=\"#hpet_clocksource\">hpet_clocksource</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/* A lock for concurrent access by app and isr hpet activity. */</span>", 
"static <a class=\"id\" href=\"#DEFINE_SPINLOCK\">DEFINE_SPINLOCK</a>(<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#HPET_DEV_NAME\">HPET_DEV_NAME</a><span class=\"ts\"/>(7)", 
"", 
"struct <a class=\"id\" href=\"#hpet_dev\">hpet_dev</a> {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpets\">hpets</a> *<a class=\"id\" href=\"#hd_hpets\">hd_hpets</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet\">hpet</a> <a class=\"id\" href=\"#__iomem\">__iomem</a> *<a class=\"id\" href=\"#hd_hpet\">hd_hpet</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_timer\">hpet_timer</a> <a class=\"id\" href=\"#__iomem\">__iomem</a> *<a class=\"id\" href=\"#hd_timer\">hd_timer</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#hd_ireqfreq\">hd_ireqfreq</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#hd_irqdata\">hd_irqdata</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wait_queue_head_t\">wait_queue_head_t</a> <a class=\"id\" href=\"#hd_waitqueue\">hd_waitqueue</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fasync_struct\">fasync_struct</a> *<a class=\"id\" href=\"#hd_async_queue\">hd_async_queue</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#hd_flags\">hd_flags</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#hd_irq\">hd_irq</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#hd_hdwirq\">hd_hdwirq</a>;", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#hd_name\">hd_name</a>[<a class=\"id\" href=\"#HPET_DEV_NAME\">HPET_DEV_NAME</a>];", 
"};", 
"", 
"struct <a class=\"id\" href=\"#hpets\">hpets</a> {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpets\">hpets</a> *<a class=\"id\" href=\"#hp_next\">hp_next</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet\">hpet</a> <a class=\"id\" href=\"#__iomem\">__iomem</a> *<a class=\"id\" href=\"#hp_hpet\">hp_hpet</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#hp_hpet_phys\">hp_hpet_phys</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#clocksource\">clocksource</a> *<a class=\"id\" href=\"#hp_clocksource\">hp_clocksource</a>;", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#hp_tick_freq\">hp_tick_freq</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#hp_delta\">hp_delta</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#hp_ntimer\">hp_ntimer</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#hp_which\">hp_which</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_dev\">hpet_dev</a> <a class=\"id\" href=\"#hp_dev\">hp_dev</a>[1];", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#hpets\">hpets</a> *<a class=\"id\" href=\"#hpets\">hpets</a>;", 
"", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#HPET_OPEN\">HPET_OPEN</a><span class=\"ts\"/><span class=\"ts\"/>0x0001", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#HPET_IE\">HPET_IE</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>0x0002<span class=\"ts\"/><span class=\"comment\">/* interrupt enabled */</span>", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#HPET_PERIODIC\">HPET_PERIODIC</a><span class=\"ts\"/><span class=\"ts\"/>0x0004", 
"#<a class=\"id\" href=\"#define\">define</a><span class=\"ts\"/><a class=\"id\" href=\"#HPET_SHARED_IRQ\">HPET_SHARED_IRQ</a><span class=\"ts\"/><span class=\"ts\"/>0x0008", 
"", 
"", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#readq\">readq</a>", 
"static <a class=\"id\" href=\"#inline\">inline</a> unsigned long long <a class=\"id\" href=\"#readq\">readq</a>(void <a class=\"id\" href=\"#__iomem\">__iomem</a> *<a class=\"id\" href=\"#addr\">addr</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#readl\">readl</a>(<a class=\"id\" href=\"#addr\">addr</a>) | (((unsigned long long)<a class=\"id\" href=\"#readl\">readl</a>(<a class=\"id\" href=\"#addr\">addr</a> + 4)) << 32LL);", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#writeq\">writeq</a>", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#writeq\">writeq</a>(unsigned long long <a class=\"id\" href=\"#v\">v</a>, void <a class=\"id\" href=\"#__iomem\">__iomem</a> *<a class=\"id\" href=\"#addr\">addr</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#writel\">writel</a>(<a class=\"id\" href=\"#v\">v</a> &amp; 0xffffffff, <a class=\"id\" href=\"#addr\">addr</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#writel\">writel</a>(<a class=\"id\" href=\"#v\">v</a> >> 32, <a class=\"id\" href=\"#addr\">addr</a> + 4);", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static <a class=\"id\" href=\"#irqreturn_t\">irqreturn_t</a> <a class=\"id\" href=\"#hpet_interrupt\">hpet_interrupt</a>(int <a class=\"id\" href=\"#irq\">irq</a>, void *<a class=\"id\" href=\"#data\">data</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_dev\">hpet_dev</a> *<a class=\"id\" href=\"#devp\">devp</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#isr\">isr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a> = <a class=\"id\" href=\"#data\">data</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#isr\">isr</a> = 1 << (<a class=\"id\" href=\"#devp\">devp</a> - <a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_hpets\">hd_hpets</a>-><a class=\"id\" href=\"#hp_dev\">hp_dev</a>);", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_flags\">hd_flags</a> &amp; <a class=\"id\" href=\"#HPET_SHARED_IRQ\">HPET_SHARED_IRQ</a>) &&", 
"<span class=\"ts\"/>    !(<a class=\"id\" href=\"#isr\">isr</a> &amp; <a class=\"id\" href=\"#readl\">readl</a>(&amp;<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_hpet\">hd_hpet</a>-><a class=\"id\" href=\"#hpet_isr\">hpet_isr</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#IRQ_NONE\">IRQ_NONE</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_irqdata\">hd_irqdata</a>++;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * For non-periodic timers, increment the accumulator.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * This has the effect of treating non-periodic like periodic.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_flags\">hd_flags</a> &amp; (<a class=\"id\" href=\"#HPET_IE\">HPET_IE</a> | <a class=\"id\" href=\"#HPET_PERIODIC\">HPET_PERIODIC</a>)) == <a class=\"id\" href=\"#HPET_IE\">HPET_IE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#m\">m</a>, <a class=\"id\" href=\"#t\">t</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#t\">t</a> = <a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_ireqfreq\">hd_ireqfreq</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = <a class=\"id\" href=\"#read_counter\">read_counter</a>(&amp;<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_timer\">hd_timer</a>-><a class=\"id\" href=\"#hpet_compare\">hpet_compare</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#write_counter\">write_counter</a>(<a class=\"id\" href=\"#t\">t</a> + <a class=\"id\" href=\"#m\">m</a>, &amp;<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_timer\">hd_timer</a>-><a class=\"id\" href=\"#hpet_compare\">hpet_compare</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_flags\">hd_flags</a> &amp; <a class=\"id\" href=\"#HPET_SHARED_IRQ\">HPET_SHARED_IRQ</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#writel\">writel</a>(<a class=\"id\" href=\"#isr\">isr</a>, &amp;<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_hpet\">hd_hpet</a>-><a class=\"id\" href=\"#hpet_isr\">hpet_isr</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wake_up_interruptible\">wake_up_interruptible</a>(&amp;<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_waitqueue\">hd_waitqueue</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kill_fasync\">kill_fasync</a>(&amp;<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_async_queue\">hd_async_queue</a>, <a class=\"id\" href=\"#SIGIO\">SIGIO</a>, <a class=\"id\" href=\"#POLL_IN\">POLL_IN</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#IRQ_HANDLED\">IRQ_HANDLED</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#hpet_timer_set_irq\">hpet_timer_set_irq</a>(struct <a class=\"id\" href=\"#hpet_dev\">hpet_dev</a> *<a class=\"id\" href=\"#devp\">devp</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#v\">v</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#irq\">irq</a>, <a class=\"id\" href=\"#gsi\">gsi</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_timer\">hpet_timer</a> <a class=\"id\" href=\"#__iomem\">__iomem</a> *<a class=\"id\" href=\"#timer\">timer</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irq\">spin_lock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_hdwirq\">hd_hdwirq</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timer\">timer</a> = <a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_timer\">hd_timer</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* we prefer level triggered mode */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> = <a class=\"id\" href=\"#readl\">readl</a>(&amp;<a class=\"id\" href=\"#timer\">timer</a>-><a class=\"id\" href=\"#hpet_config\">hpet_config</a>);", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#v\">v</a> &amp; <a class=\"id\" href=\"#Tn_INT_TYPE_CNF_MASK\">Tn_INT_TYPE_CNF_MASK</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> |= <a class=\"id\" href=\"#Tn_INT_TYPE_CNF_MASK\">Tn_INT_TYPE_CNF_MASK</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#writel\">writel</a>(<a class=\"id\" href=\"#v\">v</a>, &amp;<a class=\"id\" href=\"#timer\">timer</a>-><a class=\"id\" href=\"#hpet_config\">hpet_config</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> = (<a class=\"id\" href=\"#readq\">readq</a>(&amp;<a class=\"id\" href=\"#timer\">timer</a>-><a class=\"id\" href=\"#hpet_config\">hpet_config</a>) &amp; <a class=\"id\" href=\"#Tn_INT_ROUTE_CAP_MASK\">Tn_INT_ROUTE_CAP_MASK</a>) >>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#Tn_INT_ROUTE_CAP_SHIFT\">Tn_INT_ROUTE_CAP_SHIFT</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * In PIC mode, skip IRQ0-4, IRQ6-9, IRQ12-15 which is always used by</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * legacy device. In IO APIC mode, we skip all the legacy IRQS.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_irq_model\">acpi_irq_model</a> == <a class=\"id\" href=\"#ACPI_IRQ_MODEL_PIC\">ACPI_IRQ_MODEL_PIC</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> &= ~0xf3df;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> &= ~0xffff;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#for_each_set_bit\">for_each_set_bit</a>(<a class=\"id\" href=\"#irq\">irq</a>, &amp;<a class=\"id\" href=\"#v\">v</a>, <a class=\"id\" href=\"#HPET_MAX_IRQ\">HPET_MAX_IRQ</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#irq\">irq</a> >= <a class=\"id\" href=\"#nr_irqs\">nr_irqs</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#irq\">irq</a> = <a class=\"id\" href=\"#HPET_MAX_IRQ\">HPET_MAX_IRQ</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#gsi\">gsi</a> = <a class=\"id\" href=\"#acpi_register_gsi\">acpi_register_gsi</a>(<a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#irq\">irq</a>, <a class=\"id\" href=\"#ACPI_LEVEL_SENSITIVE\">ACPI_LEVEL_SENSITIVE</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_ACTIVE_LOW\">ACPI_ACTIVE_LOW</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#gsi\">gsi</a> &gt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* FIXME: Setup interrupt source table */</span>", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#irq\">irq</a> &lt; <a class=\"id\" href=\"#HPET_MAX_IRQ\">HPET_MAX_IRQ</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irq\">spin_lock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> = <a class=\"id\" href=\"#readl\">readl</a>(&amp;<a class=\"id\" href=\"#timer\">timer</a>-><a class=\"id\" href=\"#hpet_config\">hpet_config</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> |= <a class=\"id\" href=\"#irq\">irq</a> << <a class=\"id\" href=\"#Tn_INT_ROUTE_CNF_SHIFT\">Tn_INT_ROUTE_CNF_SHIFT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#writel\">writel</a>(<a class=\"id\" href=\"#v\">v</a>, &amp;<a class=\"id\" href=\"#timer\">timer</a>-><a class=\"id\" href=\"#hpet_config\">hpet_config</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_hdwirq\">hd_hdwirq</a> = <a class=\"id\" href=\"#gsi\">gsi</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#hpet_open\">hpet_open</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_dev\">hpet_dev</a> *<a class=\"id\" href=\"#devp\">devp</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpets\">hpets</a> *<a class=\"id\" href=\"#hpetp\">hpetp</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#f_mode\">f_mode</a> &amp; <a class=\"id\" href=\"#FMODE_WRITE\">FMODE_WRITE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#lock_kernel\">lock_kernel</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irq\">spin_lock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#devp\">devp</a> = <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#hpetp\">hpetp</a> = <a class=\"id\" href=\"#hpets\">hpets</a>; <a class=\"id\" href=\"#hpetp\">hpetp</a> && !<a class=\"id\" href=\"#devp\">devp</a>; <a class=\"id\" href=\"#hpetp\">hpetp</a> = <a class=\"id\" href=\"#hpetp\">hpetp</a>-><a class=\"id\" href=\"#hp_next\">hp_next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#hpetp\">hpetp</a>-><a class=\"id\" href=\"#hp_ntimer\">hp_ntimer</a>; <a class=\"id\" href=\"#i\">i</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#hpetp\">hpetp</a>-><a class=\"id\" href=\"#hp_dev\">hp_dev</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#hd_flags\">hd_flags</a> &amp; <a class=\"id\" href=\"#HPET_OPEN\">HPET_OPEN</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a> = &amp;<a class=\"id\" href=\"#hpetp\">hpetp</a>-><a class=\"id\" href=\"#hp_dev\">hp_dev</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#devp\">devp</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_kernel\">unlock_kernel</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EBUSY\">EBUSY</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#private_data\">private_data</a> = <a class=\"id\" href=\"#devp\">devp</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_irqdata\">hd_irqdata</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_flags\">hd_flags</a> |= <a class=\"id\" href=\"#HPET_OPEN\">HPET_OPEN</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unlock_kernel\">unlock_kernel</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hpet_timer_set_irq\">hpet_timer_set_irq</a>(<a class=\"id\" href=\"#devp\">devp</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a>", 
"<a class=\"id\" href=\"#hpet_read\">hpet_read</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>, <a class=\"id\" href=\"#loff_t\">loff_t</a> * <a class=\"id\" href=\"#ppos\">ppos</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DECLARE_WAITQUEUE\">DECLARE_WAITQUEUE</a>(<a class=\"id\" href=\"#wait\">wait</a>, <a class=\"id\" href=\"#current\">current</a>);", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#data\">data</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#retval\">retval</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_dev\">hpet_dev</a> *<a class=\"id\" href=\"#devp\">devp</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a> = <a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#private_data\">private_data</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_ireqfreq\">hd_ireqfreq</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EIO\">EIO</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#count\">count</a> &lt; sizeof(unsigned long))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#add_wait_queue\">add_wait_queue</a>(&amp;<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_waitqueue\">hd_waitqueue</a>, &amp;<a class=\"id\" href=\"#wait\">wait</a>);", 
"", 
"<span class=\"ts\"/>for ( ; ; ) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_current_state\">set_current_state</a>(<a class=\"id\" href=\"#TASK_INTERRUPTIBLE\">TASK_INTERRUPTIBLE</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irq\">spin_lock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#data\">data</a> = <a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_irqdata\">hd_irqdata</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_irqdata\">hd_irqdata</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#data\">data</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#f_flags\">f_flags</a> &amp; <a class=\"id\" href=\"#O_NONBLOCK\">O_NONBLOCK</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = -<a class=\"id\" href=\"#EAGAIN\">EAGAIN</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (<a class=\"id\" href=\"#signal_pending\">signal_pending</a>(<a class=\"id\" href=\"#current\">current</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = -<a class=\"id\" href=\"#ERESTARTSYS\">ERESTARTSYS</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#schedule\">schedule</a>();", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#data\">data</a>, (unsigned long <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#buf\">buf</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#retval\">retval</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = sizeof(unsigned long);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__set_current_state\">__set_current_state</a>(<a class=\"id\" href=\"#TASK_RUNNING\">TASK_RUNNING</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#remove_wait_queue\">remove_wait_queue</a>(&amp;<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_waitqueue\">hd_waitqueue</a>, &amp;<a class=\"id\" href=\"#wait\">wait</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"static unsigned int <a class=\"id\" href=\"#hpet_poll\">hpet_poll</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#poll_table\">poll_table</a> * <a class=\"id\" href=\"#wait\">wait</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#v\">v</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_dev\">hpet_dev</a> *<a class=\"id\" href=\"#devp\">devp</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a> = <a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#private_data\">private_data</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_ireqfreq\">hd_ireqfreq</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#poll_wait\">poll_wait</a>(<a class=\"id\" href=\"#file\">file</a>, &amp;<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_waitqueue\">hd_waitqueue</a>, <a class=\"id\" href=\"#wait\">wait</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irq\">spin_lock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> = <a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_irqdata\">hd_irqdata</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#v\">v</a> != 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#POLLIN\">POLLIN</a> | <a class=\"id\" href=\"#POLLRDNORM\">POLLRDNORM</a>;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#hpet_mmap\">hpet_mmap</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, struct <a class=\"id\" href=\"#vm_area_struct\">vm_area_struct</a> *<a class=\"id\" href=\"#vma\">vma</a>)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a><span class=\"ts\"/><a class=\"id\" href=\"#CONFIG_HPET_MMAP\">CONFIG_HPET_MMAP</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_dev\">hpet_dev</a> *<a class=\"id\" href=\"#devp\">devp</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#addr\">addr</a>;", 
"", 
"<span class=\"ts\"/>if (((<a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_end\">vm_end</a> - <a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_start\">vm_start</a>) != <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>) || <a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_pgoff\">vm_pgoff</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a> = <a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#private_data\">private_data</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#addr\">addr</a> = <a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_hpets\">hd_hpets</a>-><a class=\"id\" href=\"#hp_hpet_phys\">hp_hpet_phys</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#addr\">addr</a> &amp; (<a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a> - 1))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOSYS\">ENOSYS</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_flags\">vm_flags</a> |= <a class=\"id\" href=\"#VM_IO\">VM_IO</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_page_prot\">vm_page_prot</a> = <a class=\"id\" href=\"#pgprot_noncached\">pgprot_noncached</a>(<a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_page_prot\">vm_page_prot</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#io_remap_pfn_range\">io_remap_pfn_range</a>(<a class=\"id\" href=\"#vma\">vma</a>, <a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_start\">vm_start</a>, <a class=\"id\" href=\"#addr\">addr</a> >> <a class=\"id\" href=\"#PAGE_SHIFT\">PAGE_SHIFT</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>, <a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_page_prot\">vm_page_prot</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"%s: io_remap_pfn_range failed\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__func__\">__func__</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EAGAIN\">EAGAIN</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"#else", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOSYS\">ENOSYS</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"static int <a class=\"id\" href=\"#hpet_fasync\">hpet_fasync</a>(int <a class=\"id\" href=\"#fd\">fd</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, int <a class=\"id\" href=\"#on\">on</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_dev\">hpet_dev</a> *<a class=\"id\" href=\"#devp\">devp</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a> = <a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#private_data\">private_data</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fasync_helper\">fasync_helper</a>(<a class=\"id\" href=\"#fd\">fd</a>, <a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#on\">on</a>, &amp;<a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_async_queue\">hd_async_queue</a>) >= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EIO\">EIO</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#hpet_release\">hpet_release</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_dev\">hpet_dev</a> *<a class=\"id\" href=\"#devp\">devp</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hpet_timer\">hpet_timer</a> <a class=\"id\" href=\"#__iomem\">__iomem</a> *<a class=\"id\" href=\"#timer\">timer</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#irq\">irq</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#devp\">devp</a> = <a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#private_data\">private_data</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timer\">timer</a> = <a class=\"id\" href=\"#devp\">devp</a>-><a class=\"id\" href=\"#hd_timer\">hd_timer</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irq\">spin_lock_irq</a>(&amp;<a class=\"id\" href=\"#hpet_lock\">hpet_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#writeq\">writeq</a>((<a class=\"id\" href=\"#readq\">readq</a>(&amp;<a class=\"id\" href=\"#timer\">timer</a>-><a class=\"id\" href=\"#hpet_config\">hpet_config</a>) &amp; ~<a class=\"id\" href=\"#Tn_INT_ENB_CNF_MASK\">Tn_INT_ENB_CNF_MASK</a>),", 
"<span class=\"ts\"/>       &amp;<a class=\"id\" href=\"#timer\">timer</a>-><a class=\"id\" href=\"#hpet_config\">hpet_config</a>);", 
];
xr_frag_insert('l/45/3d2ca964ac3fc75c11d4a5900a230f8d7cd67d.xr', __xr_tmp);
