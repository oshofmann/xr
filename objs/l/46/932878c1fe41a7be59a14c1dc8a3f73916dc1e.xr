var __xr_tmp = [
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#freezer\">freezer</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cgroup_unlock\">cgroup_unlock</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_puts\">seq_puts</a>(<a class=\"id\" href=\"#m\">m</a>, <a class=\"id\" href=\"#freezer_state_strs\">freezer_state_strs</a>[<a class=\"id\" href=\"#state\">state</a>]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_putc\">seq_putc</a>(<a class=\"id\" href=\"#m\">m</a>, '\\n');", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#try_to_freeze_cgroup\">try_to_freeze_cgroup</a>(struct <a class=\"id\" href=\"#cgroup\">cgroup</a> *<a class=\"id\" href=\"#cgroup\">cgroup</a>, struct <a class=\"id\" href=\"#freezer\">freezer</a> *<a class=\"id\" href=\"#freezer\">freezer</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cgroup_iter\">cgroup_iter</a> <a class=\"id\" href=\"#it\">it</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#task\">task</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#num_cant_freeze_now\">num_cant_freeze_now</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#freezer\">freezer</a>-><a class=\"id\" href=\"#state\">state</a> = <a class=\"id\" href=\"#CGROUP_FREEZING\">CGROUP_FREEZING</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cgroup_iter_start\">cgroup_iter_start</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, &amp;<a class=\"id\" href=\"#it\">it</a>);", 
"<span class=\"ts\"/>while ((<a class=\"id\" href=\"#task\">task</a> = <a class=\"id\" href=\"#cgroup_iter_next\">cgroup_iter_next</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, &amp;<a class=\"id\" href=\"#it\">it</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#freeze_task\">freeze_task</a>(<a class=\"id\" href=\"#task\">task</a>, <a class=\"id\" href=\"#true\">true</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#is_task_frozen_enough\">is_task_frozen_enough</a>(<a class=\"id\" href=\"#task\">task</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#freezing\">freezing</a>(<a class=\"id\" href=\"#task\">task</a>) && !<a class=\"id\" href=\"#freezer_should_skip\">freezer_should_skip</a>(<a class=\"id\" href=\"#task\">task</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num_cant_freeze_now\">num_cant_freeze_now</a>++;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cgroup_iter_end\">cgroup_iter_end</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, &amp;<a class=\"id\" href=\"#it\">it</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#num_cant_freeze_now\">num_cant_freeze_now</a> ? -<a class=\"id\" href=\"#EBUSY\">EBUSY</a> : 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#unfreeze_cgroup\">unfreeze_cgroup</a>(struct <a class=\"id\" href=\"#cgroup\">cgroup</a> *<a class=\"id\" href=\"#cgroup\">cgroup</a>, struct <a class=\"id\" href=\"#freezer\">freezer</a> *<a class=\"id\" href=\"#freezer\">freezer</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cgroup_iter\">cgroup_iter</a> <a class=\"id\" href=\"#it\">it</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#task\">task</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cgroup_iter_start\">cgroup_iter_start</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, &amp;<a class=\"id\" href=\"#it\">it</a>);", 
"<span class=\"ts\"/>while ((<a class=\"id\" href=\"#task\">task</a> = <a class=\"id\" href=\"#cgroup_iter_next\">cgroup_iter_next</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, &amp;<a class=\"id\" href=\"#it\">it</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#thaw_process\">thaw_process</a>(<a class=\"id\" href=\"#task\">task</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cgroup_iter_end\">cgroup_iter_end</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, &amp;<a class=\"id\" href=\"#it\">it</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#freezer\">freezer</a>-><a class=\"id\" href=\"#state\">state</a> = <a class=\"id\" href=\"#CGROUP_THAWED\">CGROUP_THAWED</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#freezer_change_state\">freezer_change_state</a>(struct <a class=\"id\" href=\"#cgroup\">cgroup</a> *<a class=\"id\" href=\"#cgroup\">cgroup</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>enum <a class=\"id\" href=\"#freezer_state\">freezer_state</a> <a class=\"id\" href=\"#goal_state\">goal_state</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#freezer\">freezer</a> *<a class=\"id\" href=\"#freezer\">freezer</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#freezer\">freezer</a> = <a class=\"id\" href=\"#cgroup_freezer\">cgroup_freezer</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irq\">spin_lock_irq</a>(&amp;<a class=\"id\" href=\"#freezer\">freezer</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#update_freezer_state\">update_freezer_state</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, <a class=\"id\" href=\"#freezer\">freezer</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#goal_state\">goal_state</a> == <a class=\"id\" href=\"#freezer\">freezer</a>-><a class=\"id\" href=\"#state\">state</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#goal_state\">goal_state</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#CGROUP_THAWED\">CGROUP_THAWED</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unfreeze_cgroup\">unfreeze_cgroup</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, <a class=\"id\" href=\"#freezer\">freezer</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#CGROUP_FROZEN\">CGROUP_FROZEN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#try_to_freeze_cgroup\">try_to_freeze_cgroup</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, <a class=\"id\" href=\"#freezer\">freezer</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#BUG\">BUG</a>();", 
"<span class=\"ts\"/>}", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#freezer\">freezer</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#freezer_write\">freezer_write</a>(struct <a class=\"id\" href=\"#cgroup\">cgroup</a> *<a class=\"id\" href=\"#cgroup\">cgroup</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#cftype\">cftype</a> *<a class=\"id\" href=\"#cft\">cft</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> const char *<a class=\"id\" href=\"#buffer\">buffer</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a>;", 
"<span class=\"ts\"/>enum <a class=\"id\" href=\"#freezer_state\">freezer_state</a> <a class=\"id\" href=\"#goal_state\">goal_state</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#buffer\">buffer</a>, <a class=\"id\" href=\"#freezer_state_strs\">freezer_state_strs</a>[<a class=\"id\" href=\"#CGROUP_THAWED\">CGROUP_THAWED</a>]) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#goal_state\">goal_state</a> = <a class=\"id\" href=\"#CGROUP_THAWED\">CGROUP_THAWED</a>;", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#buffer\">buffer</a>, <a class=\"id\" href=\"#freezer_state_strs\">freezer_state_strs</a>[<a class=\"id\" href=\"#CGROUP_FROZEN\">CGROUP_FROZEN</a>]) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#goal_state\">goal_state</a> = <a class=\"id\" href=\"#CGROUP_FROZEN\">CGROUP_FROZEN</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#cgroup_lock_live_group\">cgroup_lock_live_group</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#freezer_change_state\">freezer_change_state</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, <a class=\"id\" href=\"#goal_state\">goal_state</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cgroup_unlock\">cgroup_unlock</a>();", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#cftype\">cftype</a> <a class=\"id\" href=\"#files\">files</a>[] = {", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a> = \"state\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#read_seq_string\">read_seq_string</a> = <a class=\"id\" href=\"#freezer_read\">freezer_read</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#write_string\">write_string</a> = <a class=\"id\" href=\"#freezer_write\">freezer_write</a>,", 
"<span class=\"ts\"/>},", 
"};", 
"", 
"static int <a class=\"id\" href=\"#freezer_populate\">freezer_populate</a>(struct <a class=\"id\" href=\"#cgroup_subsys\">cgroup_subsys</a> *<a class=\"id\" href=\"#ss\">ss</a>, struct <a class=\"id\" href=\"#cgroup\">cgroup</a> *<a class=\"id\" href=\"#cgroup\">cgroup</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#cgroup\">cgroup</a>-><a class=\"id\" href=\"#parent\">parent</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#cgroup_add_files\">cgroup_add_files</a>(<a class=\"id\" href=\"#cgroup\">cgroup</a>, <a class=\"id\" href=\"#ss\">ss</a>, <a class=\"id\" href=\"#files\">files</a>, <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#files\">files</a>));", 
"}", 
"", 
"struct <a class=\"id\" href=\"#cgroup_subsys\">cgroup_subsys</a> <a class=\"id\" href=\"#freezer_subsys\">freezer_subsys</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a><span class=\"ts\"/><span class=\"ts\"/>= \"freezer\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#create\">create</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#freezer_create\">freezer_create</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#destroy\">destroy</a><span class=\"ts\"/>= <a class=\"id\" href=\"#freezer_destroy\">freezer_destroy</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#populate\">populate</a><span class=\"ts\"/>= <a class=\"id\" href=\"#freezer_populate\">freezer_populate</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#subsys_id\">subsys_id</a><span class=\"ts\"/>= <a class=\"id\" href=\"#freezer_subsys_id\">freezer_subsys_id</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#can_attach\">can_attach</a><span class=\"ts\"/>= <a class=\"id\" href=\"#freezer_can_attach\">freezer_can_attach</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#attach\">attach</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#fork\">fork</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#freezer_fork\">freezer_fork</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#exit\">exit</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"};", 
];
xr_frag_insert('l/46/932878c1fe41a7be59a14c1dc8a3f73916dc1e.xr', __xr_tmp);
