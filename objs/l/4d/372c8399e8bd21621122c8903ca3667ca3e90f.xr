var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *  sbs.c - ACPI Smart Battery System Driver ($Revision: 2.0 $)</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Copyright (c) 2007 Alexey Starikovskiy &lt;astarikovskiy@suse.de&gt;</span>", 
"<span class=\"comment\"> *  Copyright (c) 2005-2007 Vladimir Lebedev &lt;vladimir.p.lebedev@intel.com&gt;</span>", 
"<span class=\"comment\"> *  Copyright (c) 2005 Rich Townsend &lt;rhdt@bartol.udel.edu&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is free software; you can redistribute it and/or modify</span>", 
"<span class=\"comment\"> *  it under the terms of the GNU General Public License as published by</span>", 
"<span class=\"comment\"> *  the Free Software Foundation; either version 2 of the License, or (at</span>", 
"<span class=\"comment\"> *  your option) any later version.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is distributed in the hope that it will be useful, but</span>", 
"<span class=\"comment\"> *  WITHOUT ANY WARRANTY; without even the implied warranty of</span>", 
"<span class=\"comment\"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>", 
"<span class=\"comment\"> *  General Public License for more details.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  You should have received a copy of the GNU General Public License along</span>", 
"<span class=\"comment\"> *  with this program; if not, write to the Free Software Foundation, Inc.,</span>", 
"<span class=\"comment\"> *  59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#moduleparam\">moduleparam</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#proc_fs\">proc_fs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#seq_file\">seq_file</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#uaccess\">uaccess</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#acpi\">acpi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#timer\">timer</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#jiffies\">jiffies</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#delay\">delay</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#power_supply\">power_supply</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> \"sbshc.h\"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"ACPI: \"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_SBS_CLASS\">ACPI_SBS_CLASS</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"sbs\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_AC_CLASS\">ACPI_AC_CLASS</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"ac_adapter\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_BATTERY_CLASS\">ACPI_BATTERY_CLASS</a><span class=\"ts\"/><span class=\"ts\"/>\"battery\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_SBS_DEVICE_NAME\">ACPI_SBS_DEVICE_NAME</a><span class=\"ts\"/><span class=\"ts\"/>\"Smart Battery System\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_SBS_FILE_INFO\">ACPI_SBS_FILE_INFO</a><span class=\"ts\"/><span class=\"ts\"/>\"info\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_SBS_FILE_STATE\">ACPI_SBS_FILE_STATE</a><span class=\"ts\"/><span class=\"ts\"/>\"state\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_SBS_FILE_ALARM\">ACPI_SBS_FILE_ALARM</a><span class=\"ts\"/><span class=\"ts\"/>\"alarm\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_BATTERY_DIR_NAME\">ACPI_BATTERY_DIR_NAME</a><span class=\"ts\"/><span class=\"ts\"/>\"BAT%i\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_AC_DIR_NAME\">ACPI_AC_DIR_NAME</a><span class=\"ts\"/><span class=\"ts\"/>\"AC0\"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_SBS_NOTIFY_STATUS\">ACPI_SBS_NOTIFY_STATUS</a><span class=\"ts\"/><span class=\"ts\"/>0x80", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_SBS_NOTIFY_INFO\">ACPI_SBS_NOTIFY_INFO</a><span class=\"ts\"/><span class=\"ts\"/>0x81", 
"", 
"<a class=\"id\" href=\"#MODULE_AUTHOR\">MODULE_AUTHOR</a>(\"Alexey Starikovskiy <astarikovskiy@suse.de>\");", 
"<a class=\"id\" href=\"#MODULE_DESCRIPTION\">MODULE_DESCRIPTION</a>(\"Smart Battery System ACPI interface driver\");", 
"<a class=\"id\" href=\"#MODULE_LICENSE\">MODULE_LICENSE</a>(\"GPL\");", 
"", 
"static unsigned int <a class=\"id\" href=\"#cache_time\">cache_time</a> = 1000;", 
"<a class=\"id\" href=\"#module_param\">module_param</a>(<a class=\"id\" href=\"#cache_time\">cache_time</a>, <a class=\"id\" href=\"#uint\">uint</a>, 0644);", 
"<a class=\"id\" href=\"#MODULE_PARM_DESC\">MODULE_PARM_DESC</a>(<a class=\"id\" href=\"#cache_time\">cache_time</a>, \"cache time in milliseconds\");", 
"", 
"extern struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_lock_ac_dir\">acpi_lock_ac_dir</a>(void);", 
"extern struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_lock_battery_dir\">acpi_lock_battery_dir</a>(void);", 
"extern void <a class=\"id\" href=\"#acpi_unlock_ac_dir\">acpi_unlock_ac_dir</a>(struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>);", 
"extern void <a class=\"id\" href=\"#acpi_unlock_battery_dir\">acpi_unlock_battery_dir</a>(struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>);", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#MAX_SBS_BAT\">MAX_SBS_BAT</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>4", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_SBS_BLOCK_MAX\">ACPI_SBS_BLOCK_MAX</a><span class=\"ts\"/><span class=\"ts\"/>32", 
"", 
"static const struct <a class=\"id\" href=\"#acpi_device_id\">acpi_device_id</a> <a class=\"id\" href=\"#sbs_device_ids\">sbs_device_ids</a>[] = {", 
"<span class=\"ts\"/>{\"ACPI0002\", 0},", 
"<span class=\"ts\"/>{\"\", 0},", 
"};", 
"<a class=\"id\" href=\"#MODULE_DEVICE_TABLE\">MODULE_DEVICE_TABLE</a>(<a class=\"id\" href=\"#acpi\">acpi</a>, <a class=\"id\" href=\"#sbs_device_ids\">sbs_device_ids</a>);", 
"", 
"struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> {", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#power_supply\">power_supply</a> <a class=\"id\" href=\"#bat\">bat</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a>;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#proc_entry\">proc_entry</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#update_time\">update_time</a>;", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#name\">name</a>[8];", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#manufacturer_name\">manufacturer_name</a>[<a class=\"id\" href=\"#ACPI_SBS_BLOCK_MAX\">ACPI_SBS_BLOCK_MAX</a>];", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#device_name\">device_name</a>[<a class=\"id\" href=\"#ACPI_SBS_BLOCK_MAX\">ACPI_SBS_BLOCK_MAX</a>];", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#device_chemistry\">device_chemistry</a>[<a class=\"id\" href=\"#ACPI_SBS_BLOCK_MAX\">ACPI_SBS_BLOCK_MAX</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#alarm_capacity\">alarm_capacity</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#full_charge_capacity\">full_charge_capacity</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#design_capacity\">design_capacity</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#design_voltage\">design_voltage</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#serial_number\">serial_number</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#cycle_count\">cycle_count</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#temp_now\">temp_now</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#voltage_now\">voltage_now</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#s16\">s16</a> <a class=\"id\" href=\"#rate_now\">rate_now</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#s16\">s16</a> <a class=\"id\" href=\"#rate_avg\">rate_avg</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#capacity_now\">capacity_now</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#state_of_charge\">state_of_charge</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#state\">state</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#spec\">spec</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#id\">id</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#present\">present</a>:1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#have_sysfs_alarm\">have_sysfs_alarm</a>:1;", 
"};", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#to_acpi_battery\">to_acpi_battery</a>(<a class=\"id\" href=\"#x\">x</a>) <a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#x\">x</a>, struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#bat\">bat</a>);", 
"", 
"struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> {", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#power_supply\">power_supply</a> <a class=\"id\" href=\"#charger\">charger</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#mutex\">mutex</a> <a class=\"id\" href=\"#lock\">lock</a>;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#charger_entry\">charger_entry</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> <a class=\"id\" href=\"#battery\">battery</a>[<a class=\"id\" href=\"#MAX_SBS_BAT\">MAX_SBS_BAT</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#batteries_supported\">batteries_supported</a>:4;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#manager_present\">manager_present</a>:1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#charger_present\">charger_present</a>:1;", 
"};", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#to_acpi_sbs\">to_acpi_sbs</a>(<a class=\"id\" href=\"#x\">x</a>) <a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#x\">x</a>, struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a>, <a class=\"id\" href=\"#charger\">charger</a>)", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#battery_scale\">battery_scale</a>(int <a class=\"id\" href=\"#log\">log</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#scale\">scale</a> = 1;", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#log\">log</a>--)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#scale\">scale</a> *= 10;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#scale\">scale</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#acpi_battery_vscale\">acpi_battery_vscale</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#battery_scale\">battery_scale</a>((<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#spec\">spec</a> &amp; 0x0f00) >> 8);", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#acpi_battery_ipscale\">acpi_battery_ipscale</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#battery_scale\">battery_scale</a>((<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#spec\">spec</a> &amp; 0xf000) >> 12);", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#acpi_battery_mode\">acpi_battery_mode</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#mode\">mode</a> &amp; 0x8000);", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#acpi_battery_mode\">acpi_battery_mode</a>(<a class=\"id\" href=\"#battery\">battery</a>) ? 10 : 1) *", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#acpi_battery_ipscale\">acpi_battery_ipscale</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"static int <a class=\"id\" href=\"#sbs_get_ac_property\">sbs_get_ac_property</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       enum <a class=\"id\" href=\"#power_supply_property\">power_supply_property</a> <a class=\"id\" href=\"#psp\">psp</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       union <a class=\"id\" href=\"#power_supply_propval\">power_supply_propval</a> *<a class=\"id\" href=\"#val\">val</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#to_acpi_sbs\">to_acpi_sbs</a>(<a class=\"id\" href=\"#psy\">psy</a>);", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#psp\">psp</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_ONLINE\">POWER_SUPPLY_PROP_ONLINE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger_present\">charger_present</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_technology\">acpi_battery_technology</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#strcasecmp\">strcasecmp</a>(\"NiCd\", <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#device_chemistry\">device_chemistry</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#POWER_SUPPLY_TECHNOLOGY_NiCd\">POWER_SUPPLY_TECHNOLOGY_NiCd</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#strcasecmp\">strcasecmp</a>(\"NiMH\", <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#device_chemistry\">device_chemistry</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#POWER_SUPPLY_TECHNOLOGY_NiMH\">POWER_SUPPLY_TECHNOLOGY_NiMH</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#strcasecmp\">strcasecmp</a>(\"LION\", <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#device_chemistry\">device_chemistry</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#POWER_SUPPLY_TECHNOLOGY_LION\">POWER_SUPPLY_TECHNOLOGY_LION</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#strcasecmp\">strcasecmp</a>(\"LiP\", <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#device_chemistry\">device_chemistry</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#POWER_SUPPLY_TECHNOLOGY_LIPO\">POWER_SUPPLY_TECHNOLOGY_LIPO</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#POWER_SUPPLY_TECHNOLOGY_UNKNOWN\">POWER_SUPPLY_TECHNOLOGY_UNKNOWN</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_sbs_battery_get_property\">acpi_sbs_battery_get_property</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> enum <a class=\"id\" href=\"#power_supply_property\">power_supply_property</a> <a class=\"id\" href=\"#psp\">psp</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> union <a class=\"id\" href=\"#power_supply_propval\">power_supply_propval</a> *<a class=\"id\" href=\"#val\">val</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#to_acpi_battery\">to_acpi_battery</a>(<a class=\"id\" href=\"#psy\">psy</a>);", 
"", 
"<span class=\"ts\"/>if ((!<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>) && <a class=\"id\" href=\"#psp\">psp</a> != <a class=\"id\" href=\"#POWER_SUPPLY_PROP_PRESENT\">POWER_SUPPLY_PROP_PRESENT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#psp\">psp</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_STATUS\">POWER_SUPPLY_PROP_STATUS</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#rate_now\">rate_now</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#POWER_SUPPLY_STATUS_DISCHARGING\">POWER_SUPPLY_STATUS_DISCHARGING</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#rate_now\">rate_now</a> &gt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#POWER_SUPPLY_STATUS_CHARGING\">POWER_SUPPLY_STATUS_CHARGING</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#POWER_SUPPLY_STATUS_FULL\">POWER_SUPPLY_STATUS_FULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_PRESENT\">POWER_SUPPLY_PROP_PRESENT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_TECHNOLOGY\">POWER_SUPPLY_PROP_TECHNOLOGY</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#acpi_battery_technology\">acpi_battery_technology</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_CYCLE_COUNT\">POWER_SUPPLY_PROP_CYCLE_COUNT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#cycle_count\">cycle_count</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_VOLTAGE_MIN_DESIGN\">POWER_SUPPLY_PROP_VOLTAGE_MIN_DESIGN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#design_voltage\">design_voltage</a> *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_vscale\">acpi_battery_vscale</a>(<a class=\"id\" href=\"#battery\">battery</a>) * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_VOLTAGE_NOW\">POWER_SUPPLY_PROP_VOLTAGE_NOW</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#voltage_now\">voltage_now</a> *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_vscale\">acpi_battery_vscale</a>(<a class=\"id\" href=\"#battery\">battery</a>) * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_CURRENT_NOW\">POWER_SUPPLY_PROP_CURRENT_NOW</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_POWER_NOW\">POWER_SUPPLY_PROP_POWER_NOW</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#abs\">abs</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#rate_now\">rate_now</a>) *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_ipscale\">acpi_battery_ipscale</a>(<a class=\"id\" href=\"#battery\">battery</a>) * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_CURRENT_AVG\">POWER_SUPPLY_PROP_CURRENT_AVG</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_POWER_AVG\">POWER_SUPPLY_PROP_POWER_AVG</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#abs\">abs</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#rate_avg\">rate_avg</a>) *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_ipscale\">acpi_battery_ipscale</a>(<a class=\"id\" href=\"#battery\">battery</a>) * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_CAPACITY\">POWER_SUPPLY_PROP_CAPACITY</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#state_of_charge\">state_of_charge</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_CHARGE_FULL_DESIGN\">POWER_SUPPLY_PROP_CHARGE_FULL_DESIGN</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_ENERGY_FULL_DESIGN\">POWER_SUPPLY_PROP_ENERGY_FULL_DESIGN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#design_capacity\">design_capacity</a> *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(<a class=\"id\" href=\"#battery\">battery</a>) * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_CHARGE_FULL\">POWER_SUPPLY_PROP_CHARGE_FULL</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_ENERGY_FULL\">POWER_SUPPLY_PROP_ENERGY_FULL</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#full_charge_capacity\">full_charge_capacity</a> *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(<a class=\"id\" href=\"#battery\">battery</a>) * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_CHARGE_NOW\">POWER_SUPPLY_PROP_CHARGE_NOW</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_ENERGY_NOW\">POWER_SUPPLY_PROP_ENERGY_NOW</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#capacity_now\">capacity_now</a> *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(<a class=\"id\" href=\"#battery\">battery</a>) * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_TEMP\">POWER_SUPPLY_PROP_TEMP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#temp_now\">temp_now</a> - 2730;<span class=\"ts\"/><span class=\"comment\">// dK -&gt; dC</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_MODEL_NAME\">POWER_SUPPLY_PROP_MODEL_NAME</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#strval\">strval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#device_name\">device_name</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_PROP_MANUFACTURER\">POWER_SUPPLY_PROP_MANUFACTURER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val\">val</a>-><a class=\"id\" href=\"#strval\">strval</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#manufacturer_name\">manufacturer_name</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static enum <a class=\"id\" href=\"#power_supply_property\">power_supply_property</a> <a class=\"id\" href=\"#sbs_ac_props\">sbs_ac_props</a>[] = {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_ONLINE\">POWER_SUPPLY_PROP_ONLINE</a>,", 
"};", 
"", 
"static enum <a class=\"id\" href=\"#power_supply_property\">power_supply_property</a> <a class=\"id\" href=\"#sbs_charge_battery_props\">sbs_charge_battery_props</a>[] = {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_STATUS\">POWER_SUPPLY_PROP_STATUS</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_PRESENT\">POWER_SUPPLY_PROP_PRESENT</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_TECHNOLOGY\">POWER_SUPPLY_PROP_TECHNOLOGY</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_CYCLE_COUNT\">POWER_SUPPLY_PROP_CYCLE_COUNT</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_VOLTAGE_MIN_DESIGN\">POWER_SUPPLY_PROP_VOLTAGE_MIN_DESIGN</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_VOLTAGE_NOW\">POWER_SUPPLY_PROP_VOLTAGE_NOW</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_CURRENT_NOW\">POWER_SUPPLY_PROP_CURRENT_NOW</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_CURRENT_AVG\">POWER_SUPPLY_PROP_CURRENT_AVG</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_CAPACITY\">POWER_SUPPLY_PROP_CAPACITY</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_CHARGE_FULL_DESIGN\">POWER_SUPPLY_PROP_CHARGE_FULL_DESIGN</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_CHARGE_FULL\">POWER_SUPPLY_PROP_CHARGE_FULL</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_CHARGE_NOW\">POWER_SUPPLY_PROP_CHARGE_NOW</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_TEMP\">POWER_SUPPLY_PROP_TEMP</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_MODEL_NAME\">POWER_SUPPLY_PROP_MODEL_NAME</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_MANUFACTURER\">POWER_SUPPLY_PROP_MANUFACTURER</a>,", 
"};", 
"", 
"static enum <a class=\"id\" href=\"#power_supply_property\">power_supply_property</a> <a class=\"id\" href=\"#sbs_energy_battery_props\">sbs_energy_battery_props</a>[] = {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_STATUS\">POWER_SUPPLY_PROP_STATUS</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_PRESENT\">POWER_SUPPLY_PROP_PRESENT</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_TECHNOLOGY\">POWER_SUPPLY_PROP_TECHNOLOGY</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_VOLTAGE_MIN_DESIGN\">POWER_SUPPLY_PROP_VOLTAGE_MIN_DESIGN</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_VOLTAGE_NOW\">POWER_SUPPLY_PROP_VOLTAGE_NOW</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_CURRENT_NOW\">POWER_SUPPLY_PROP_CURRENT_NOW</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_CURRENT_AVG\">POWER_SUPPLY_PROP_CURRENT_AVG</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_POWER_NOW\">POWER_SUPPLY_PROP_POWER_NOW</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_POWER_AVG\">POWER_SUPPLY_PROP_POWER_AVG</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_CAPACITY\">POWER_SUPPLY_PROP_CAPACITY</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_ENERGY_FULL_DESIGN\">POWER_SUPPLY_PROP_ENERGY_FULL_DESIGN</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_ENERGY_FULL\">POWER_SUPPLY_PROP_ENERGY_FULL</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_ENERGY_NOW\">POWER_SUPPLY_PROP_ENERGY_NOW</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_TEMP\">POWER_SUPPLY_PROP_TEMP</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_MODEL_NAME\">POWER_SUPPLY_PROP_MODEL_NAME</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_PROP_MANUFACTURER\">POWER_SUPPLY_PROP_MANUFACTURER</a>,", 
"};", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/* --------------------------------------------------------------------------</span>", 
"<span class=\"comment\">                            Smart Battery System Management</span>", 
"<span class=\"comment\">   -------------------------------------------------------------------------- */</span>", 
"", 
"struct <a class=\"id\" href=\"#acpi_battery_reader\">acpi_battery_reader</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#command\">command</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* command for battery */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#mode\">mode</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* word or block? */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#offset\">offset</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* offset inside struct acpi_sbs_battery */</span>", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#acpi_battery_reader\">acpi_battery_reader</a> <a class=\"id\" href=\"#info_readers\">info_readers</a>[] = {", 
"<span class=\"ts\"/>{0x01, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#alarm_capacity\">alarm_capacity</a>)},", 
"<span class=\"ts\"/>{0x03, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#mode\">mode</a>)},", 
"<span class=\"ts\"/>{0x10, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#full_charge_capacity\">full_charge_capacity</a>)},", 
"<span class=\"ts\"/>{0x17, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#cycle_count\">cycle_count</a>)},", 
"<span class=\"ts\"/>{0x18, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#design_capacity\">design_capacity</a>)},", 
"<span class=\"ts\"/>{0x19, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#design_voltage\">design_voltage</a>)},", 
"<span class=\"ts\"/>{0x1a, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#spec\">spec</a>)},", 
"<span class=\"ts\"/>{0x1c, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#serial_number\">serial_number</a>)},", 
"<span class=\"ts\"/>{0x20, <a class=\"id\" href=\"#SMBUS_READ_BLOCK\">SMBUS_READ_BLOCK</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#manufacturer_name\">manufacturer_name</a>)},", 
"<span class=\"ts\"/>{0x21, <a class=\"id\" href=\"#SMBUS_READ_BLOCK\">SMBUS_READ_BLOCK</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#device_name\">device_name</a>)},", 
"<span class=\"ts\"/>{0x22, <a class=\"id\" href=\"#SMBUS_READ_BLOCK\">SMBUS_READ_BLOCK</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#device_chemistry\">device_chemistry</a>)},", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#acpi_battery_reader\">acpi_battery_reader</a> <a class=\"id\" href=\"#state_readers\">state_readers</a>[] = {", 
"<span class=\"ts\"/>{0x08, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#temp_now\">temp_now</a>)},", 
"<span class=\"ts\"/>{0x09, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#voltage_now\">voltage_now</a>)},", 
"<span class=\"ts\"/>{0x0a, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#rate_now\">rate_now</a>)},", 
"<span class=\"ts\"/>{0x0b, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#rate_avg\">rate_avg</a>)},", 
"<span class=\"ts\"/>{0x0f, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#capacity_now\">capacity_now</a>)},", 
"<span class=\"ts\"/>{0x0e, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#state_of_charge\">state_of_charge</a>)},", 
"<span class=\"ts\"/>{0x16, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#offsetof\">offsetof</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>, <a class=\"id\" href=\"#state\">state</a>)},", 
"};", 
"", 
"static int <a class=\"id\" href=\"#acpi_manager_get_info\">acpi_manager_get_info</a>(struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#battery_system_info\">battery_system_info</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_smbus_read\">acpi_smbus_read</a>(<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#ACPI_SBS_MANAGER\">ACPI_SBS_MANAGER</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> 0x04, (<a class=\"id\" href=\"#u8\">u8</a> *)&amp;<a class=\"id\" href=\"#battery_system_info\">battery_system_info</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#batteries_supported\">batteries_supported</a> = <a class=\"id\" href=\"#battery_system_info\">battery_system_info</a> &amp; 0x000f;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_get_info\">acpi_battery_get_info</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#result\">result</a> = 0;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#info_readers\">info_readers</a>); ++<a class=\"id\" href=\"#i\">i</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_smbus_read\">acpi_smbus_read</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#info_readers\">info_readers</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#mode\">mode</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#ACPI_SBS_BATTERY\">ACPI_SBS_BATTERY</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#info_readers\">info_readers</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#command\">command</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> (<a class=\"id\" href=\"#u8\">u8</a> *) <a class=\"id\" href=\"#battery\">battery</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info_readers\">info_readers</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#offset\">offset</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_get_state\">acpi_battery_get_state</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#result\">result</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#update_time\">update_time</a> &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#time_before\">time_before</a>(<a class=\"id\" href=\"#jiffies\">jiffies</a>, <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#update_time\">update_time</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#msecs_to_jiffies\">msecs_to_jiffies</a>(<a class=\"id\" href=\"#cache_time\">cache_time</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#state_readers\">state_readers</a>); ++<a class=\"id\" href=\"#i\">i</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_smbus_read\">acpi_smbus_read</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#state_readers\">state_readers</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#mode\">mode</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#ACPI_SBS_BATTERY\">ACPI_SBS_BATTERY</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#state_readers\">state_readers</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#command\">command</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>         (<a class=\"id\" href=\"#u8\">u8</a> *)<a class=\"id\" href=\"#battery\">battery</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#state_readers\">state_readers</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#offset\">offset</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#update_time\">update_time</a> = <a class=\"id\" href=\"#jiffies\">jiffies</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_get_alarm\">acpi_battery_get_alarm</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_smbus_read\">acpi_smbus_read</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#ACPI_SBS_BATTERY\">ACPI_SBS_BATTERY</a>, 0x01,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> (<a class=\"id\" href=\"#u8\">u8</a> *)&amp;<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#alarm_capacity\">alarm_capacity</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_set_alarm\">acpi_battery_set_alarm</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#value\">value</a>, <a class=\"id\" href=\"#sel\">sel</a> = 1 << (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#id\">id</a> + 12);", 
"", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#manager_present\">manager_present</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#acpi_smbus_read\">acpi_smbus_read</a>(<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#ACPI_SBS_MANAGER\">ACPI_SBS_MANAGER</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>0x01, (<a class=\"id\" href=\"#u8\">u8</a> *)&amp;<a class=\"id\" href=\"#value\">value</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#value\">value</a> &amp; 0xf000) != <a class=\"id\" href=\"#sel\">sel</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#value\">value</a> &= 0x0fff;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#value\">value</a> |= <a class=\"id\" href=\"#sel\">sel</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#acpi_smbus_write\">acpi_smbus_write</a>(<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#SMBUS_WRITE_WORD\">SMBUS_WRITE_WORD</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#ACPI_SBS_MANAGER\">ACPI_SBS_MANAGER</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> 0x01, (<a class=\"id\" href=\"#u8\">u8</a> *)&amp;<a class=\"id\" href=\"#value\">value</a>, 2);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#acpi_smbus_write\">acpi_smbus_write</a>(<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#SMBUS_WRITE_WORD\">SMBUS_WRITE_WORD</a>, <a class=\"id\" href=\"#ACPI_SBS_BATTERY\">ACPI_SBS_BATTERY</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>0x01, (<a class=\"id\" href=\"#u8\">u8</a> *)&amp;<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#alarm_capacity\">alarm_capacity</a>, 2);", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_ac_get_present\">acpi_ac_get_present</a>(struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#status\">status</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_smbus_read\">acpi_smbus_read</a>(<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>, <a class=\"id\" href=\"#ACPI_SBS_CHARGER\">ACPI_SBS_CHARGER</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> 0x13, (<a class=\"id\" href=\"#u8\">u8</a> *) &amp; <a class=\"id\" href=\"#status\">status</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger_present\">charger_present</a> = (<a class=\"id\" href=\"#status\">status</a> >> 15) &amp; 0x1;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#acpi_battery_alarm_show\">acpi_battery_alarm_show</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#to_acpi_battery\">to_acpi_battery</a>(<a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#dev\">dev</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_get_alarm\">acpi_battery_get_alarm</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%d\\n\", <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#alarm_capacity\">alarm_capacity</a> *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(<a class=\"id\" href=\"#battery\">battery</a>) * 1000);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#acpi_battery_alarm_store\">acpi_battery_alarm_store</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#x\">x</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#to_acpi_battery\">to_acpi_battery</a>(<a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#dev\">dev</a>));", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sscanf\">sscanf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%ld\\n\", &amp;<a class=\"id\" href=\"#x\">x</a>) == 1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#alarm_capacity\">alarm_capacity</a> = <a class=\"id\" href=\"#x\">x</a> /", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(1000 * <a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(<a class=\"id\" href=\"#battery\">battery</a>));", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_set_alarm\">acpi_battery_set_alarm</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> <a class=\"id\" href=\"#alarm_attr\">alarm_attr</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#attr\">attr</a> = {.<a class=\"id\" href=\"#name\">name</a> = \"alarm\", .<a class=\"id\" href=\"#mode\">mode</a> = 0644},", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#show\">show</a> = <a class=\"id\" href=\"#acpi_battery_alarm_show\">acpi_battery_alarm_show</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#store\">store</a> = <a class=\"id\" href=\"#acpi_battery_alarm_store\">acpi_battery_alarm_store</a>,", 
"};", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/* --------------------------------------------------------------------------</span>", 
"<span class=\"comment\">                              FS Interface (/proc/acpi)</span>", 
"<span class=\"comment\">   -------------------------------------------------------------------------- */</span>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"comment\">/* Generic Routines */</span>", 
"static int", 
"<a class=\"id\" href=\"#acpi_sbs_add_fs\">acpi_sbs_add_fs</a>(struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> **<a class=\"id\" href=\"#dir\">dir</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#parent_dir\">parent_dir</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#dir_name\">dir_name</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> *<a class=\"id\" href=\"#info_fops\">info_fops</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> *<a class=\"id\" href=\"#state_fops\">state_fops</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> *<a class=\"id\" href=\"#alarm_fops\">alarm_fops</a>, void *<a class=\"id\" href=\"#data\">data</a>)", 
"{", 
"<span class=\"ts\"/>if (!*<a class=\"id\" href=\"#dir\">dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#dir\">dir</a> = <a class=\"id\" href=\"#proc_mkdir\">proc_mkdir</a>(<a class=\"id\" href=\"#dir_name\">dir_name</a>, <a class=\"id\" href=\"#parent_dir\">parent_dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!*<a class=\"id\" href=\"#dir\">dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* 'info' [R] */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#info_fops\">info_fops</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#proc_create_data\">proc_create_data</a>(<a class=\"id\" href=\"#ACPI_SBS_FILE_INFO\">ACPI_SBS_FILE_INFO</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>, *<a class=\"id\" href=\"#dir\">dir</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#info_fops\">info_fops</a>, <a class=\"id\" href=\"#data\">data</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* 'state' [R] */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#state_fops\">state_fops</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#proc_create_data\">proc_create_data</a>(<a class=\"id\" href=\"#ACPI_SBS_FILE_STATE\">ACPI_SBS_FILE_STATE</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>, *<a class=\"id\" href=\"#dir\">dir</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#state_fops\">state_fops</a>, <a class=\"id\" href=\"#data\">data</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* 'alarm' [R/W] */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#alarm_fops\">alarm_fops</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#proc_create_data\">proc_create_data</a>(<a class=\"id\" href=\"#ACPI_SBS_FILE_ALARM\">ACPI_SBS_FILE_ALARM</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>, *<a class=\"id\" href=\"#dir\">dir</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#alarm_fops\">alarm_fops</a>, <a class=\"id\" href=\"#data\">data</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void", 
"<a class=\"id\" href=\"#acpi_sbs_remove_fs\">acpi_sbs_remove_fs</a>(struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> **<a class=\"id\" href=\"#dir\">dir</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#parent_dir\">parent_dir</a>)", 
"{", 
"<span class=\"ts\"/>if (*<a class=\"id\" href=\"#dir\">dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_SBS_FILE_INFO\">ACPI_SBS_FILE_INFO</a>, *<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_SBS_FILE_STATE\">ACPI_SBS_FILE_STATE</a>, *<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_SBS_FILE_ALARM\">ACPI_SBS_FILE_ALARM</a>, *<a class=\"id\" href=\"#dir\">dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>((*<a class=\"id\" href=\"#dir\">dir</a>)-><a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#parent_dir\">parent_dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#dir\">dir</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"<span class=\"comment\">/* Smart Battery Interface */</span>", 
"static struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> char *<a class=\"id\" href=\"#acpi_battery_units\">acpi_battery_units</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_battery_mode\">acpi_battery_mode</a>(<a class=\"id\" href=\"#battery\">battery</a>) ? \" mW\" : \" mA\";", 
"}", 
"", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_read_info\">acpi_battery_read_info</a>(struct <a class=\"id\" href=\"#seq_file\">seq_file</a> *<a class=\"id\" href=\"#seq\">seq</a>, void *<a class=\"id\" href=\"#offset\">offset</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#seq\">seq</a>-><a class=\"id\" href=\"#private\">private</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"present:                 %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>) ? \"yes\" : \"no\");", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"design capacity:         %i%sh\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#design_capacity\">design_capacity</a> * <a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(<a class=\"id\" href=\"#battery\">battery</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#acpi_battery_units\">acpi_battery_units</a>(<a class=\"id\" href=\"#battery\">battery</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"last full capacity:      %i%sh\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#full_charge_capacity\">full_charge_capacity</a> * <a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(<a class=\"id\" href=\"#battery\">battery</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#acpi_battery_units\">acpi_battery_units</a>(<a class=\"id\" href=\"#battery\">battery</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"battery technology:      rechargeable\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"design voltage:          %i mV\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#design_voltage\">design_voltage</a> * <a class=\"id\" href=\"#acpi_battery_vscale\">acpi_battery_vscale</a>(<a class=\"id\" href=\"#battery\">battery</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"design capacity warning: unknown\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"design capacity low:     unknown\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"cycle count:    %i\\n\", <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#cycle_count\">cycle_count</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"capacity granularity 1:  unknown\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"capacity granularity 2:  unknown\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"model number:            %s\\n\", <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#device_name\">device_name</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"serial number:           %i\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#serial_number\">serial_number</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"battery type:            %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#device_chemistry\">device_chemistry</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"OEM info:                %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#manufacturer_name\">manufacturer_name</a>);", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_info_open_fs\">acpi_battery_info_open_fs</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#single_open\">single_open</a>(<a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#acpi_battery_read_info\">acpi_battery_read_info</a>, <a class=\"id\" href=\"#PDE\">PDE</a>(<a class=\"id\" href=\"#inode\">inode</a>)-><a class=\"id\" href=\"#data\">data</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_read_state\">acpi_battery_read_state</a>(struct <a class=\"id\" href=\"#seq_file\">seq_file</a> *<a class=\"id\" href=\"#seq\">seq</a>, void *<a class=\"id\" href=\"#offset\">offset</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#seq\">seq</a>-><a class=\"id\" href=\"#private\">private</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rate\">rate</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"present:                 %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>) ? \"yes\" : \"no\");", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_get_state\">acpi_battery_get_state</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"capacity state:          %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#state\">state</a> &amp; 0x0010) ? \"critical\" : \"ok\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"charging state:          %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#rate_now\">rate_now</a> &lt; 0) ? \"discharging\" :", 
"<span class=\"ts\"/><span class=\"ts\"/>   ((<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#rate_now\">rate_now</a> &gt; 0) ? \"charging\" : \"charged\"));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rate\">rate</a> = <a class=\"id\" href=\"#abs\">abs</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#rate_now\">rate_now</a>) * <a class=\"id\" href=\"#acpi_battery_ipscale\">acpi_battery_ipscale</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rate\">rate</a> *= (<a class=\"id\" href=\"#acpi_battery_mode\">acpi_battery_mode</a>(<a class=\"id\" href=\"#battery\">battery</a>))?(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#voltage_now\">voltage_now</a> *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_vscale\">acpi_battery_vscale</a>(<a class=\"id\" href=\"#battery\">battery</a>)/1000):1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"present rate:            %d%s\\n\", <a class=\"id\" href=\"#rate\">rate</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#acpi_battery_units\">acpi_battery_units</a>(<a class=\"id\" href=\"#battery\">battery</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"remaining capacity:      %i%sh\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#capacity_now\">capacity_now</a> * <a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(<a class=\"id\" href=\"#battery\">battery</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#acpi_battery_units\">acpi_battery_units</a>(<a class=\"id\" href=\"#battery\">battery</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"present voltage:         %i mV\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#voltage_now\">voltage_now</a> * <a class=\"id\" href=\"#acpi_battery_vscale\">acpi_battery_vscale</a>(<a class=\"id\" href=\"#battery\">battery</a>));", 
"", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_state_open_fs\">acpi_battery_state_open_fs</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#single_open\">single_open</a>(<a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#acpi_battery_read_state\">acpi_battery_read_state</a>, <a class=\"id\" href=\"#PDE\">PDE</a>(<a class=\"id\" href=\"#inode\">inode</a>)-><a class=\"id\" href=\"#data\">data</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_read_alarm\">acpi_battery_read_alarm</a>(struct <a class=\"id\" href=\"#seq_file\">seq_file</a> *<a class=\"id\" href=\"#seq\">seq</a>, void *<a class=\"id\" href=\"#offset\">offset</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#seq\">seq</a>-><a class=\"id\" href=\"#private\">private</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"present:                 no\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_get_alarm\">acpi_battery_get_alarm</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"alarm:                   \");", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#alarm_capacity\">alarm_capacity</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"%i%sh\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#alarm_capacity\">alarm_capacity</a> *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(<a class=\"id\" href=\"#battery\">battery</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#acpi_battery_units\">acpi_battery_units</a>(<a class=\"id\" href=\"#battery\">battery</a>));", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"disabled\\n\");", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a>", 
"<a class=\"id\" href=\"#acpi_battery_write_alarm\">acpi_battery_write_alarm</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, const char <a class=\"id\" href=\"#__user\">__user</a> * <a class=\"id\" href=\"#buffer\">buffer</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>, <a class=\"id\" href=\"#loff_t\">loff_t</a> * <a class=\"id\" href=\"#ppos\">ppos</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#seq_file\">seq_file</a> *<a class=\"id\" href=\"#seq\">seq</a> = <a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#private_data\">private_data</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#seq\">seq</a>-><a class=\"id\" href=\"#private\">private</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>;", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#alarm_string\">alarm_string</a>[12] = { '\\0' };", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#count\">count</a> &gt; sizeof(<a class=\"id\" href=\"#alarm_string\">alarm_string</a>) - 1) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#alarm_string\">alarm_string</a>, <a class=\"id\" href=\"#buffer\">buffer</a>, <a class=\"id\" href=\"#count\">count</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#alarm_string\">alarm_string</a>[<a class=\"id\" href=\"#count\">count</a>] = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#alarm_capacity\">alarm_capacity</a> = <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#alarm_string\">alarm_string</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, 0) /", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_scale\">acpi_battery_scale</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_set_alarm\">acpi_battery_set_alarm</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_alarm_open_fs\">acpi_battery_alarm_open_fs</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#single_open\">single_open</a>(<a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#acpi_battery_read_alarm\">acpi_battery_read_alarm</a>, <a class=\"id\" href=\"#PDE\">PDE</a>(<a class=\"id\" href=\"#inode\">inode</a>)-><a class=\"id\" href=\"#data\">data</a>);", 
"}", 
"", 
"static const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> <a class=\"id\" href=\"#acpi_battery_info_fops\">acpi_battery_info_fops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#open\">open</a> = <a class=\"id\" href=\"#acpi_battery_info_open_fs\">acpi_battery_info_open_fs</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#read\">read</a> = <a class=\"id\" href=\"#seq_read\">seq_read</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#llseek\">llseek</a> = <a class=\"id\" href=\"#seq_lseek\">seq_lseek</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#release\">release</a> = <a class=\"id\" href=\"#single_release\">single_release</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#owner\">owner</a> = <a class=\"id\" href=\"#THIS_MODULE\">THIS_MODULE</a>,", 
"};", 
"", 
"static const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> <a class=\"id\" href=\"#acpi_battery_state_fops\">acpi_battery_state_fops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#open\">open</a> = <a class=\"id\" href=\"#acpi_battery_state_open_fs\">acpi_battery_state_open_fs</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#read\">read</a> = <a class=\"id\" href=\"#seq_read\">seq_read</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#llseek\">llseek</a> = <a class=\"id\" href=\"#seq_lseek\">seq_lseek</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#release\">release</a> = <a class=\"id\" href=\"#single_release\">single_release</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#owner\">owner</a> = <a class=\"id\" href=\"#THIS_MODULE\">THIS_MODULE</a>,", 
"};", 
"", 
"static const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> <a class=\"id\" href=\"#acpi_battery_alarm_fops\">acpi_battery_alarm_fops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#open\">open</a> = <a class=\"id\" href=\"#acpi_battery_alarm_open_fs\">acpi_battery_alarm_open_fs</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#read\">read</a> = <a class=\"id\" href=\"#seq_read\">seq_read</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#write\">write</a> = <a class=\"id\" href=\"#acpi_battery_write_alarm\">acpi_battery_write_alarm</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#llseek\">llseek</a> = <a class=\"id\" href=\"#seq_lseek\">seq_lseek</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#release\">release</a> = <a class=\"id\" href=\"#single_release\">single_release</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#owner\">owner</a> = <a class=\"id\" href=\"#THIS_MODULE\">THIS_MODULE</a>,", 
"};", 
"", 
"<span class=\"comment\">/* Legacy AC Adapter Interface */</span>", 
"", 
"static struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"static int <a class=\"id\" href=\"#acpi_ac_read_state\">acpi_ac_read_state</a>(struct <a class=\"id\" href=\"#seq_file\">seq_file</a> *<a class=\"id\" href=\"#seq\">seq</a>, void *<a class=\"id\" href=\"#offset\">offset</a>)", 
"{", 
"", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#seq\">seq</a>-><a class=\"id\" href=\"#private\">private</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"state:                   %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger_present\">charger_present</a> ? \"on-line\" : \"off-line\");", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_ac_state_open_fs\">acpi_ac_state_open_fs</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#single_open\">single_open</a>(<a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#acpi_ac_read_state\">acpi_ac_read_state</a>, <a class=\"id\" href=\"#PDE\">PDE</a>(<a class=\"id\" href=\"#inode\">inode</a>)-><a class=\"id\" href=\"#data\">data</a>);", 
"}", 
"", 
"static const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> <a class=\"id\" href=\"#acpi_ac_state_fops\">acpi_ac_state_fops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#open\">open</a> = <a class=\"id\" href=\"#acpi_ac_state_open_fs\">acpi_ac_state_open_fs</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#read\">read</a> = <a class=\"id\" href=\"#seq_read\">seq_read</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#llseek\">llseek</a> = <a class=\"id\" href=\"#seq_lseek\">seq_lseek</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#release\">release</a> = <a class=\"id\" href=\"#single_release\">single_release</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#owner\">owner</a> = <a class=\"id\" href=\"#THIS_MODULE\">THIS_MODULE</a>,", 
"};", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/* --------------------------------------------------------------------------</span>", 
"<span class=\"comment\">                                 Driver Interface</span>", 
"<span class=\"comment\">   -------------------------------------------------------------------------- */</span>", 
"static int <a class=\"id\" href=\"#acpi_battery_read\">acpi_battery_read</a>(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0, <a class=\"id\" href=\"#saved_present\">saved_present</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#state\">state</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#manager_present\">manager_present</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_smbus_read\">acpi_smbus_read</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SBS_MANAGER\">ACPI_SBS_MANAGER</a>, 0x01, (<a class=\"id\" href=\"#u8\">u8</a> *)&amp;<a class=\"id\" href=\"#state\">state</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a> = <a class=\"id\" href=\"#state\">state</a> &amp; (1 << <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#state\">state</a> &= 0x0fff;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#state\">state</a> |= 1 << (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#id\">id</a> + 12);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_smbus_write\">acpi_smbus_write</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#SMBUS_WRITE_WORD\">SMBUS_WRITE_WORD</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#ACPI_SBS_MANAGER\">ACPI_SBS_MANAGER</a>, 0x01, (<a class=\"id\" href=\"#u8\">u8</a> *)&amp;<a class=\"id\" href=\"#state\">state</a>, 2);", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#id\">id</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a> = 1;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a> || !<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#saved_present\">saved_present</a> != <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#update_time\">update_time</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_battery_get_info\">acpi_battery_get_info</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_battery_get_state\">acpi_battery_get_state</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"<span class=\"comment\">/* Smart Battery */</span>", 
"static int <a class=\"id\" href=\"#acpi_battery_add\">acpi_battery_add</a>(struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a>, int <a class=\"id\" href=\"#id\">id</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = &amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#battery\">battery</a>[<a class=\"id\" href=\"#id\">id</a>];", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#id\">id</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#sbs\">sbs</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_battery_read\">acpi_battery_read</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#ACPI_BATTERY_DIR_NAME\">ACPI_BATTERY_DIR_NAME</a>, <a class=\"id\" href=\"#id\">id</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_sbs_add_fs\">acpi_sbs_add_fs</a>(&amp;<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#proc_entry\">proc_entry</a>, <a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#name\">name</a>, &amp;<a class=\"id\" href=\"#acpi_battery_info_fops\">acpi_battery_info_fops</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#acpi_battery_state_fops\">acpi_battery_state_fops</a>, &amp;<a class=\"id\" href=\"#acpi_battery_alarm_fops\">acpi_battery_alarm_fops</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#name\">name</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#name\">name</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#POWER_SUPPLY_TYPE_BATTERY\">POWER_SUPPLY_TYPE_BATTERY</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_battery_mode\">acpi_battery_mode</a>(<a class=\"id\" href=\"#battery\">battery</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#properties\">properties</a> = <a class=\"id\" href=\"#sbs_charge_battery_props\">sbs_charge_battery_props</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#num_properties\">num_properties</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#sbs_charge_battery_props\">sbs_charge_battery_props</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#properties\">properties</a> = <a class=\"id\" href=\"#sbs_energy_battery_props\">sbs_energy_battery_props</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#num_properties\">num_properties</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#sbs_energy_battery_props\">sbs_energy_battery_props</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#get_property\">get_property</a> = <a class=\"id\" href=\"#acpi_sbs_battery_get_property\">acpi_sbs_battery_get_property</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#power_supply_register\">power_supply_register</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#device_create_file\">device_create_file</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#alarm_attr\">alarm_attr</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#have_sysfs_alarm\">have_sysfs_alarm</a> = 1;", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"%s [%s]: Battery Slot [%s] (battery %s)\\n\",", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#ACPI_SBS_DEVICE_NAME\">ACPI_SBS_DEVICE_NAME</a>, <a class=\"id\" href=\"#acpi_device_bid\">acpi_device_bid</a>(<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#device\">device</a>),", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#present\">present</a> ? \"present\" : \"absent\");", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_battery_remove\">acpi_battery_remove</a>(struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a>, int <a class=\"id\" href=\"#id\">id</a>)", 
"{", 
"#if <a class=\"id\" href=\"#defined\">defined</a>(<a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>) || <a class=\"id\" href=\"#defined\">defined</a>(<a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>)", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = &amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#battery\">battery</a>[<a class=\"id\" href=\"#id\">id</a>];", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#have_sysfs_alarm\">have_sysfs_alarm</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device_remove_file\">device_remove_file</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#alarm_attr\">alarm_attr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#power_supply_unregister\">power_supply_unregister</a>(&amp;<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>);", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#proc_entry\">proc_entry</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_sbs_remove_fs\">acpi_sbs_remove_fs</a>(&amp;<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#proc_entry\">proc_entry</a>, <a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_charger_add\">acpi_charger_add</a>(struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_ac_get_present\">acpi_ac_get_present</a>(<a class=\"id\" href=\"#sbs\">sbs</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_sbs_add_fs\">acpi_sbs_add_fs</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger_entry\">charger_entry</a>, <a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#ACPI_AC_DIR_NAME\">ACPI_AC_DIR_NAME</a>, <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> &amp;<a class=\"id\" href=\"#acpi_ac_state_fops\">acpi_ac_state_fops</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#sbs\">sbs</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger\">charger</a>.<a class=\"id\" href=\"#name\">name</a> = \"sbs-charger\";", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger\">charger</a>.<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#POWER_SUPPLY_TYPE_MAINS\">POWER_SUPPLY_TYPE_MAINS</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger\">charger</a>.<a class=\"id\" href=\"#properties\">properties</a> = <a class=\"id\" href=\"#sbs_ac_props\">sbs_ac_props</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger\">charger</a>.<a class=\"id\" href=\"#num_properties\">num_properties</a> = <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#sbs_ac_props\">sbs_ac_props</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger\">charger</a>.<a class=\"id\" href=\"#get_property\">get_property</a> = <a class=\"id\" href=\"#sbs_get_ac_property\">sbs_get_ac_property</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#power_supply_register\">power_supply_register</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger\">charger</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"%s [%s]: AC Adapter [%s] (%s)\\n\",", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#ACPI_SBS_DEVICE_NAME\">ACPI_SBS_DEVICE_NAME</a>, <a class=\"id\" href=\"#acpi_device_bid\">acpi_device_bid</a>(<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#device\">device</a>),", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#ACPI_AC_DIR_NAME\">ACPI_AC_DIR_NAME</a>, <a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger_present\">charger_present</a> ? \"on-line\" : \"off-line\");", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_charger_remove\">acpi_charger_remove</a>(struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a>)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger\">charger</a>.<a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#power_supply_unregister\">power_supply_unregister</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger\">charger</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger_entry\">charger_entry</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_sbs_remove_fs\">acpi_sbs_remove_fs</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger_entry\">charger_entry</a>, <a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_sbs_callback\">acpi_sbs_callback</a>(void *<a class=\"id\" href=\"#context\">context</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#id\">id</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#context\">context</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#bat\">bat</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#saved_charger_state\">saved_charger_state</a> = <a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger_present\">charger_present</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#saved_battery_state\">saved_battery_state</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_ac_get_present\">acpi_ac_get_present</a>(<a class=\"id\" href=\"#sbs\">sbs</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger_present\">charger_present</a> != <a class=\"id\" href=\"#saved_charger_state\">saved_charger_state</a>) {", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROC_EVENT\">CONFIG_ACPI_PROC_EVENT</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_proc_event4\">acpi_bus_generate_proc_event4</a>(<a class=\"id\" href=\"#ACPI_AC_CLASS\">ACPI_AC_CLASS</a>, <a class=\"id\" href=\"#ACPI_AC_DIR_NAME\">ACPI_AC_DIR_NAME</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#ACPI_SBS_NOTIFY_STATUS\">ACPI_SBS_NOTIFY_STATUS</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger_present\">charger_present</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kobject_uevent\">kobject_uevent</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#charger\">charger</a>.<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#kobj\">kobj</a>, <a class=\"id\" href=\"#KOBJ_CHANGE\">KOBJ_CHANGE</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#manager_present\">manager_present</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#id\">id</a> = 0; <a class=\"id\" href=\"#id\">id</a> &lt; <a class=\"id\" href=\"#MAX_SBS_BAT\">MAX_SBS_BAT</a>; ++<a class=\"id\" href=\"#id\">id</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#batteries_supported\">batteries_supported</a> &amp; (1 << <a class=\"id\" href=\"#id\">id</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#bat\">bat</a> = &amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#battery\">battery</a>[<a class=\"id\" href=\"#id\">id</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#saved_battery_state\">saved_battery_state</a> = <a class=\"id\" href=\"#bat\">bat</a>-><a class=\"id\" href=\"#present\">present</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_read\">acpi_battery_read</a>(<a class=\"id\" href=\"#bat\">bat</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#saved_battery_state\">saved_battery_state</a> == <a class=\"id\" href=\"#bat\">bat</a>-><a class=\"id\" href=\"#present\">present</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROC_EVENT\">CONFIG_ACPI_PROC_EVENT</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_proc_event4\">acpi_bus_generate_proc_event4</a>(<a class=\"id\" href=\"#ACPI_BATTERY_CLASS\">ACPI_BATTERY_CLASS</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#bat\">bat</a>-><a class=\"id\" href=\"#name\">name</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#ACPI_SBS_NOTIFY_STATUS\">ACPI_SBS_NOTIFY_STATUS</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#bat\">bat</a>-><a class=\"id\" href=\"#present\">present</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kobject_uevent\">kobject_uevent</a>(&amp;<a class=\"id\" href=\"#bat\">bat</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#kobj\">kobj</a>, <a class=\"id\" href=\"#KOBJ_CHANGE\">KOBJ_CHANGE</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_sbs_remove\">acpi_sbs_remove</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, int <a class=\"id\" href=\"#type\">type</a>);", 
"", 
"static int <a class=\"id\" href=\"#acpi_sbs_add\">acpi_sbs_add</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#id\">id</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#sbs\">sbs</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_init\">mutex_init</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#parent\">parent</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#device\">device</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#acpi_device_name\">acpi_device_name</a>(<a class=\"id\" href=\"#device\">device</a>), <a class=\"id\" href=\"#ACPI_SBS_DEVICE_NAME\">ACPI_SBS_DEVICE_NAME</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#acpi_device_class\">acpi_device_class</a>(<a class=\"id\" href=\"#device\">device</a>), <a class=\"id\" href=\"#ACPI_SBS_CLASS\">ACPI_SBS_CLASS</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver_data\">driver_data</a> = <a class=\"id\" href=\"#sbs\">sbs</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_charger_add\">acpi_charger_add</a>(<a class=\"id\" href=\"#sbs\">sbs</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_manager_get_info\">acpi_manager_get_info</a>(<a class=\"id\" href=\"#sbs\">sbs</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#result\">result</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#manager_present\">manager_present</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#id\">id</a> = 0; <a class=\"id\" href=\"#id\">id</a> &lt; <a class=\"id\" href=\"#MAX_SBS_BAT\">MAX_SBS_BAT</a>; ++<a class=\"id\" href=\"#id\">id</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#batteries_supported\">batteries_supported</a> &amp; (1 << <a class=\"id\" href=\"#id\">id</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_add\">acpi_battery_add</a>(<a class=\"id\" href=\"#sbs\">sbs</a>, <a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_add\">acpi_battery_add</a>(<a class=\"id\" href=\"#sbs\">sbs</a>, 0);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_smbus_register_callback\">acpi_smbus_register_callback</a>(<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#acpi_sbs_callback\">acpi_sbs_callback</a>, <a class=\"id\" href=\"#sbs\">sbs</a>);", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_sbs_remove\">acpi_sbs_remove</a>(<a class=\"id\" href=\"#device\">device</a>, 0);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_sbs_remove\">acpi_sbs_remove</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#id\">id</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#sbs\">sbs</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_smbus_unregister_callback\">acpi_smbus_unregister_callback</a>(<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#hc\">hc</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#id\">id</a> = 0; <a class=\"id\" href=\"#id\">id</a> &lt; <a class=\"id\" href=\"#MAX_SBS_BAT\">MAX_SBS_BAT</a>; ++<a class=\"id\" href=\"#id\">id</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_remove\">acpi_battery_remove</a>(<a class=\"id\" href=\"#sbs\">sbs</a>, <a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_charger_remove\">acpi_charger_remove</a>(<a class=\"id\" href=\"#sbs\">sbs</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_destroy\">mutex_destroy</a>(&amp;<a class=\"id\" href=\"#sbs\">sbs</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#sbs\">sbs</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_sbs_rmdirs\">acpi_sbs_rmdirs</a>(void)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_unlock_ac_dir\">acpi_unlock_ac_dir</a>(<a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_unlock_battery_dir\">acpi_unlock_battery_dir</a>(<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_sbs_resume\">acpi_sbs_resume</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_sbs\">acpi_sbs</a> *<a class=\"id\" href=\"#sbs\">sbs</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbs\">sbs</a> = <a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver_data\">driver_data</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_sbs_callback\">acpi_sbs_callback</a>(<a class=\"id\" href=\"#sbs\">sbs</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> <a class=\"id\" href=\"#acpi_sbs_driver\">acpi_sbs_driver</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a> = \"sbs\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#class\">class</a> = <a class=\"id\" href=\"#ACPI_SBS_CLASS\">ACPI_SBS_CLASS</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ids\">ids</a> = <a class=\"id\" href=\"#sbs_device_ids\">sbs_device_ids</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ops\">ops</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#add\">add</a> = <a class=\"id\" href=\"#acpi_sbs_add\">acpi_sbs_add</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#remove\">remove</a> = <a class=\"id\" href=\"#acpi_sbs_remove\">acpi_sbs_remove</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#resume\">resume</a> = <a class=\"id\" href=\"#acpi_sbs_resume\">acpi_sbs_resume</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>},", 
"};", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#acpi_sbs_init\">acpi_sbs_init</a>(void)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_disabled\">acpi_disabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a> = <a class=\"id\" href=\"#acpi_lock_ac_dir\">acpi_lock_ac_dir</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_ac_dir\">acpi_ac_dir</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a> = <a class=\"id\" href=\"#acpi_lock_battery_dir\">acpi_lock_battery_dir</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_sbs_rmdirs\">acpi_sbs_rmdirs</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_bus_register_driver\">acpi_bus_register_driver</a>(&amp;<a class=\"id\" href=\"#acpi_sbs_driver\">acpi_sbs_driver</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_sbs_rmdirs\">acpi_sbs_rmdirs</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a> <a class=\"id\" href=\"#acpi_sbs_exit\">acpi_sbs_exit</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_unregister_driver\">acpi_bus_unregister_driver</a>(&amp;<a class=\"id\" href=\"#acpi_sbs_driver\">acpi_sbs_driver</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_sbs_rmdirs\">acpi_sbs_rmdirs</a>();", 
"<span class=\"ts\"/>return;", 
"}", 
"", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#acpi_sbs_init\">acpi_sbs_init</a>);", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#acpi_sbs_exit\">acpi_sbs_exit</a>);", 
];
xr_frag_insert('l/4d/372c8399e8bd21621122c8903ca3667ca3e90f.xr', __xr_tmp);
