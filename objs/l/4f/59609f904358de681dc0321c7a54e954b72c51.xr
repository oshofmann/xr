var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Linux Magic System Request Key Hacks</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>(c) 1997 Martin Mares &lt;mj@atrey.karlin.mff.cuni.cz&gt;</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>based on ideas by Pavel Machek &lt;pavel@atrey.karlin.mff.cuni.cz&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>(c) 2000 Crutcher Dunnavant &lt;crutcher+kernel@datastacks.com&gt;</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>overhauled to use key registration</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>based upon discusions in irc://irc.openprojects.net/#kernelnewbies</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Copyright (c) 2010 Dmitry Torokhov</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Input handler conversion</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#pr_fmt\">pr_fmt</a>(<a class=\"id\" href=\"#fmt\">fmt</a>) <a class=\"id\" href=\"#KBUILD_MODNAME\">KBUILD_MODNAME</a> \": \" <a class=\"id\" href=\"#fmt\">fmt</a>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#sched\">sched</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#interrupt\">interrupt</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#mm\">mm</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#fs\">fs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#mount\">mount</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kdev_t\">kdev_t</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#major\">major</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#reboot\">reboot</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#sysrq\">sysrq</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kbd_kern\">kbd_kern</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#proc_fs\">proc_fs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#nmi\">nmi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#quotaops\">quotaops</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#perf_event\">perf_event</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#suspend\">suspend</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#writeback\">writeback</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#buffer_head\">buffer_head</a>.<a class=\"id\" href=\"#h\">h</a>&gt;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* for fsync_bdev() */</span>", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#swap\">swap</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#spinlock\">spinlock</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#vt_kern\">vt_kern</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#workqueue\">workqueue</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#hrtimer\">hrtimer</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#oom\">oom</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#input\">input</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#ptrace\">ptrace</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#irq_regs\">irq_regs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"<span class=\"comment\">/* Whether we react on sysrq keys or just ignore them */</span>", 
"static int <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> <a class=\"id\" href=\"#sysrq_enabled\">sysrq_enabled</a> = 1;", 
"static <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> <a class=\"id\" href=\"#sysrq_always_enabled\">sysrq_always_enabled</a>;", 
"", 
"static <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#sysrq_on\">sysrq_on</a>(void)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sysrq_enabled\">sysrq_enabled</a> || <a class=\"id\" href=\"#sysrq_always_enabled\">sysrq_always_enabled</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * A value of 1 means 'all', other nonzero values are an op mask:</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#sysrq_on_mask\">sysrq_on_mask</a>(int <a class=\"id\" href=\"#mask\">mask</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sysrq_always_enabled\">sysrq_always_enabled</a> ||", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#sysrq_enabled\">sysrq_enabled</a> == 1 ||", 
"<span class=\"ts\"/>       (<a class=\"id\" href=\"#sysrq_enabled\">sysrq_enabled</a> &amp; <a class=\"id\" href=\"#mask\">mask</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#sysrq_always_enabled_setup\">sysrq_always_enabled_setup</a>(char *<a class=\"id\" href=\"#str\">str</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysrq_always_enabled\">sysrq_always_enabled</a> = <a class=\"id\" href=\"#true\">true</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pr_info\">pr_info</a>(\"sysrq always enabled.\\n\");", 
"", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"<a class=\"id\" href=\"#__setup\">__setup</a>(\"sysrq_always_enabled\", <a class=\"id\" href=\"#sysrq_always_enabled_setup\">sysrq_always_enabled_setup</a>);", 
"", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_loglevel\">sysrq_handle_loglevel</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#key\">key</a> - '0';", 
"<span class=\"ts\"/><a class=\"id\" href=\"#console_loglevel\">console_loglevel</a> = 7;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"Loglevel set to %d\\n\", <a class=\"id\" href=\"#i\">i</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#console_loglevel\">console_loglevel</a> = <a class=\"id\" href=\"#i\">i</a>;", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_loglevel\">sysrq_handle_loglevel</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"loglevel(0-9)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Changing Loglevel\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_LOG\">SYSRQ_ENABLE_LOG</a>,", 
"};", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_VT\">CONFIG_VT</a>", 
"static void <a class=\"id\" href=\"#sysrq_handle_SAK\">sysrq_handle_SAK</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#work_struct\">work_struct</a> *<a class=\"id\" href=\"#SAK_work\">SAK_work</a> = &amp;<a class=\"id\" href=\"#vc_cons\">vc_cons</a>[<a class=\"id\" href=\"#fg_console\">fg_console</a>].<a class=\"id\" href=\"#SAK_work\">SAK_work</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#schedule_work\">schedule_work</a>(<a class=\"id\" href=\"#SAK_work\">SAK_work</a>);", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_SAK_op\">sysrq_SAK_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_SAK\">sysrq_handle_SAK</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"saK\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"SAK\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_KEYBOARD\">SYSRQ_ENABLE_KEYBOARD</a>,", 
"};", 
"#else", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#sysrq_SAK_op\">sysrq_SAK_op</a> (*(struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *)<a class=\"id\" href=\"#NULL\">NULL</a>)", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_VT\">CONFIG_VT</a>", 
"static void <a class=\"id\" href=\"#sysrq_handle_unraw\">sysrq_handle_unraw</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#kbd_struct\">kbd_struct</a> *<a class=\"id\" href=\"#kbd\">kbd</a> = &amp;<a class=\"id\" href=\"#kbd_table\">kbd_table</a>[<a class=\"id\" href=\"#fg_console\">fg_console</a>];", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#kbd\">kbd</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kbd\">kbd</a>-><a class=\"id\" href=\"#kbdmode\">kbdmode</a> = <a class=\"id\" href=\"#default_utf8\">default_utf8</a> ? <a class=\"id\" href=\"#VC_UNICODE\">VC_UNICODE</a> : <a class=\"id\" href=\"#VC_XLATE\">VC_XLATE</a>;", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_unraw_op\">sysrq_unraw_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_unraw\">sysrq_handle_unraw</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"unRaw\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Keyboard mode set to system default\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_KEYBOARD\">SYSRQ_ENABLE_KEYBOARD</a>,", 
"};", 
"#else", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#sysrq_unraw_op\">sysrq_unraw_op</a> (*(struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *)<a class=\"id\" href=\"#NULL\">NULL</a>)", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* CONFIG_VT */</span>", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_crash\">sysrq_handle_crash</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#killer\">killer</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#panic_on_oops\">panic_on_oops</a> = 1;<span class=\"ts\"/><span class=\"comment\">/* force panic */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wmb\">wmb</a>();", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#killer\">killer</a> = 1;", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_crash_op\">sysrq_crash_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_crash\">sysrq_handle_crash</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"Crash\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Trigger a crash\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_DUMP\">SYSRQ_ENABLE_DUMP</a>,", 
"};", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_reboot\">sysrq_handle_reboot</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#lockdep_off\">lockdep_off</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#local_irq_enable\">local_irq_enable</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#emergency_restart\">emergency_restart</a>();", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_reboot_op\">sysrq_reboot_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_reboot\">sysrq_handle_reboot</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"reBoot\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Resetting\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_BOOT\">SYSRQ_ENABLE_BOOT</a>,", 
"};", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_sync\">sysrq_handle_sync</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#emergency_sync\">emergency_sync</a>();", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_sync_op\">sysrq_sync_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_sync\">sysrq_handle_sync</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"Sync\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Emergency Sync\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_SYNC\">SYSRQ_ENABLE_SYNC</a>,", 
"};", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_show_timers\">sysrq_handle_show_timers</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysrq_timer_list_show\">sysrq_timer_list_show</a>();", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_show_timers_op\">sysrq_show_timers_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_show_timers\">sysrq_handle_show_timers</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"show-all-timers(Q)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Show clockevent devices & pending hrtimers (no others)\",", 
"};", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_mountro\">sysrq_handle_mountro</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#emergency_remount\">emergency_remount</a>();", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_mountro_op\">sysrq_mountro_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_mountro\">sysrq_handle_mountro</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"Unmount\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Emergency Remount R/O\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_REMOUNT\">SYSRQ_ENABLE_REMOUNT</a>,", 
"};", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_LOCKDEP\">CONFIG_LOCKDEP</a>", 
"static void <a class=\"id\" href=\"#sysrq_handle_showlocks\">sysrq_handle_showlocks</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#debug_show_all_locks\">debug_show_all_locks</a>();", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_showlocks_op\">sysrq_showlocks_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_showlocks\">sysrq_handle_showlocks</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"show-all-locks(D)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Show Locks Held\",", 
"};", 
"#else", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#sysrq_showlocks_op\">sysrq_showlocks_op</a> (*(struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *)<a class=\"id\" href=\"#NULL\">NULL</a>)", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_SMP\">CONFIG_SMP</a>", 
"static <a class=\"id\" href=\"#DEFINE_SPINLOCK\">DEFINE_SPINLOCK</a>(<a class=\"id\" href=\"#show_lock\">show_lock</a>);", 
"", 
"static void <a class=\"id\" href=\"#showacpu\">showacpu</a>(void *<a class=\"id\" href=\"#dummy\">dummy</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#flags\">flags</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Idle CPUs have no interesting backtrace. */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#idle_cpu\">idle_cpu</a>(<a class=\"id\" href=\"#smp_processor_id\">smp_processor_id</a>()))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irqsave\">spin_lock_irqsave</a>(&amp;<a class=\"id\" href=\"#show_lock\">show_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"CPU%d:\\n\", <a class=\"id\" href=\"#smp_processor_id\">smp_processor_id</a>());", 
"<span class=\"ts\"/><a class=\"id\" href=\"#show_stack\">show_stack</a>(<a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irqrestore\">spin_unlock_irqrestore</a>(&amp;<a class=\"id\" href=\"#show_lock\">show_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#sysrq_showregs_othercpus\">sysrq_showregs_othercpus</a>(struct <a class=\"id\" href=\"#work_struct\">work_struct</a> *<a class=\"id\" href=\"#dummy\">dummy</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#smp_call_function\">smp_call_function</a>(<a class=\"id\" href=\"#showacpu\">showacpu</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, 0);", 
"}", 
"", 
"static <a class=\"id\" href=\"#DECLARE_WORK\">DECLARE_WORK</a>(<a class=\"id\" href=\"#sysrq_showallcpus\">sysrq_showallcpus</a>, <a class=\"id\" href=\"#sysrq_showregs_othercpus\">sysrq_showregs_othercpus</a>);", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_showallcpus\">sysrq_handle_showallcpus</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Fall back to the workqueue based printing if the</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * backtrace printing did not succeed or the</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * architecture has no support for it:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#trigger_all_cpu_backtrace\">trigger_all_cpu_backtrace</a>()) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#pt_regs\">pt_regs</a> *<a class=\"id\" href=\"#regs\">regs</a> = <a class=\"id\" href=\"#get_irq_regs\">get_irq_regs</a>();", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#regs\">regs</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"CPU%d:\\n\", <a class=\"id\" href=\"#smp_processor_id\">smp_processor_id</a>());", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#show_regs\">show_regs</a>(<a class=\"id\" href=\"#regs\">regs</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#schedule_work\">schedule_work</a>(&amp;<a class=\"id\" href=\"#sysrq_showallcpus\">sysrq_showallcpus</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_showallcpus_op\">sysrq_showallcpus_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_showallcpus\">sysrq_handle_showallcpus</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"show-backtrace-all-active-cpus(L)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Show backtrace of all active CPUs\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_DUMP\">SYSRQ_ENABLE_DUMP</a>,", 
"};", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_showregs\">sysrq_handle_showregs</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pt_regs\">pt_regs</a> *<a class=\"id\" href=\"#regs\">regs</a> = <a class=\"id\" href=\"#get_irq_regs\">get_irq_regs</a>();", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#regs\">regs</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#show_regs\">show_regs</a>(<a class=\"id\" href=\"#regs\">regs</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#perf_event_print_debug\">perf_event_print_debug</a>();", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_showregs_op\">sysrq_showregs_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_showregs\">sysrq_handle_showregs</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"show-registers(P)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Show Regs\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_DUMP\">SYSRQ_ENABLE_DUMP</a>,", 
"};", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_showstate\">sysrq_handle_showstate</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#show_state\">show_state</a>();", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_showstate_op\">sysrq_showstate_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_showstate\">sysrq_handle_showstate</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"show-task-states(T)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Show State\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_DUMP\">SYSRQ_ENABLE_DUMP</a>,", 
"};", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_showstate_blocked\">sysrq_handle_showstate_blocked</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#show_state_filter\">show_state_filter</a>(<a class=\"id\" href=\"#TASK_UNINTERRUPTIBLE\">TASK_UNINTERRUPTIBLE</a>);", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_showstate_blocked_op\">sysrq_showstate_blocked_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_showstate_blocked\">sysrq_handle_showstate_blocked</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"show-blocked-tasks(W)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Show Blocked State\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_DUMP\">SYSRQ_ENABLE_DUMP</a>,", 
"};", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_TRACING\">CONFIG_TRACING</a>", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#ftrace\">ftrace</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"static void <a class=\"id\" href=\"#sysrq_ftrace_dump\">sysrq_ftrace_dump</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ftrace_dump\">ftrace_dump</a>(<a class=\"id\" href=\"#DUMP_ALL\">DUMP_ALL</a>);", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_ftrace_dump_op\">sysrq_ftrace_dump_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_ftrace_dump\">sysrq_ftrace_dump</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"dump-ftrace-buffer(Z)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Dump ftrace buffer\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_DUMP\">SYSRQ_ENABLE_DUMP</a>,", 
"};", 
"#else", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#sysrq_ftrace_dump_op\">sysrq_ftrace_dump_op</a> (*(struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *)<a class=\"id\" href=\"#NULL\">NULL</a>)", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_showmem\">sysrq_handle_showmem</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#show_mem\">show_mem</a>();", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_showmem_op\">sysrq_showmem_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_showmem\">sysrq_handle_showmem</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"show-memory-usage(M)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Show Memory\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_DUMP\">SYSRQ_ENABLE_DUMP</a>,", 
"};", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Signal sysrq helper function.  Sends a signal to all user processes.</span>", 
"<span class=\"comment\"> */</span>", 
"static void <a class=\"id\" href=\"#send_sig_all\">send_sig_all</a>(int <a class=\"id\" href=\"#sig\">sig</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#p\">p</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#for_each_process\">for_each_process</a>(<a class=\"id\" href=\"#p\">p</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#mm\">mm</a> && !<a class=\"id\" href=\"#is_global_init\">is_global_init</a>(<a class=\"id\" href=\"#p\">p</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Not swapper, init nor kernel thread */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#force_sig\">force_sig</a>(<a class=\"id\" href=\"#sig\">sig</a>, <a class=\"id\" href=\"#p\">p</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_term\">sysrq_handle_term</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#send_sig_all\">send_sig_all</a>(<a class=\"id\" href=\"#SIGTERM\">SIGTERM</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#console_loglevel\">console_loglevel</a> = 8;", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_term_op\">sysrq_term_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_term\">sysrq_handle_term</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"terminate-all-tasks(E)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Terminate All Tasks\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_SIGNAL\">SYSRQ_ENABLE_SIGNAL</a>,", 
"};", 
"", 
"static void <a class=\"id\" href=\"#moom_callback\">moom_callback</a>(struct <a class=\"id\" href=\"#work_struct\">work_struct</a> *<a class=\"id\" href=\"#ignored\">ignored</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#out_of_memory\">out_of_memory</a>(<a class=\"id\" href=\"#node_zonelist\">node_zonelist</a>(0, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>, 0, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#DECLARE_WORK\">DECLARE_WORK</a>(<a class=\"id\" href=\"#moom_work\">moom_work</a>, <a class=\"id\" href=\"#moom_callback\">moom_callback</a>);", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_moom\">sysrq_handle_moom</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#schedule_work\">schedule_work</a>(&amp;<a class=\"id\" href=\"#moom_work\">moom_work</a>);", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_moom_op\">sysrq_moom_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_moom\">sysrq_handle_moom</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"memory-full-oom-kill(F)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Manual OOM execution\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_SIGNAL\">SYSRQ_ENABLE_SIGNAL</a>,", 
"};", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_BLOCK\">CONFIG_BLOCK</a>", 
"static void <a class=\"id\" href=\"#sysrq_handle_thaw\">sysrq_handle_thaw</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#emergency_thaw_all\">emergency_thaw_all</a>();", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_thaw_op\">sysrq_thaw_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_thaw\">sysrq_handle_thaw</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"thaw-filesystems(J)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Emergency Thaw of all frozen filesystems\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_SIGNAL\">SYSRQ_ENABLE_SIGNAL</a>,", 
"};", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_kill\">sysrq_handle_kill</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#send_sig_all\">send_sig_all</a>(<a class=\"id\" href=\"#SIGKILL\">SIGKILL</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#console_loglevel\">console_loglevel</a> = 8;", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_kill_op\">sysrq_kill_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_kill\">sysrq_handle_kill</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"kill-all-tasks(I)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Kill All Tasks\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_SIGNAL\">SYSRQ_ENABLE_SIGNAL</a>,", 
"};", 
"", 
"static void <a class=\"id\" href=\"#sysrq_handle_unrt\">sysrq_handle_unrt</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#normalize_rt_tasks\">normalize_rt_tasks</a>();", 
"}", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> <a class=\"id\" href=\"#sysrq_unrt_op\">sysrq_unrt_op</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handler\">handler</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_handle_unrt\">sysrq_handle_unrt</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#help_msg\">help_msg</a><span class=\"ts\"/>= \"nice-all-RT-tasks(N)\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#action_msg\">action_msg</a><span class=\"ts\"/>= \"Nice All RT Tasks\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_mask\">enable_mask</a><span class=\"ts\"/>= <a class=\"id\" href=\"#SYSRQ_ENABLE_RTNICE\">SYSRQ_ENABLE_RTNICE</a>,", 
"};", 
"", 
"<span class=\"comment\">/* Key Operations table and lock */</span>", 
"static <a class=\"id\" href=\"#DEFINE_SPINLOCK\">DEFINE_SPINLOCK</a>(<a class=\"id\" href=\"#sysrq_key_table_lock\">sysrq_key_table_lock</a>);", 
"", 
"static struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *<a class=\"id\" href=\"#sysrq_key_table\">sysrq_key_table</a>[36] = {", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* 0 */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* 1 */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* 2 */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* 3 */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* 4 */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* 5 */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* 6 */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* 7 */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* 8 */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_loglevel_op\">sysrq_loglevel_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* 9 */</span>", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * a: Don't use for system provided sysrqs, it is handled specially on</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * sparc and will never arrive.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* a */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_reboot_op\">sysrq_reboot_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* b */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_crash_op\">sysrq_crash_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* c &amp; ibm_emac driver debug */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_showlocks_op\">sysrq_showlocks_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* d */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_term_op\">sysrq_term_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* e */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_moom_op\">sysrq_moom_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* f */</span>", 
"<span class=\"ts\"/><span class=\"comment\">/* g: May be registered for the kernel debugger */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* g */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* h - reserved for help */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_kill_op\">sysrq_kill_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* i */</span>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_BLOCK\">CONFIG_BLOCK</a>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_thaw_op\">sysrq_thaw_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* j */</span>", 
"#else", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* j */</span>", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_SAK_op\">sysrq_SAK_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* k */</span>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_SMP\">CONFIG_SMP</a>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_showallcpus_op\">sysrq_showallcpus_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* l */</span>", 
"#else", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* l */</span>", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_showmem_op\">sysrq_showmem_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* m */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_unrt_op\">sysrq_unrt_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* n */</span>", 
"<span class=\"ts\"/><span class=\"comment\">/* o: This will often be registered as 'Off' at init time */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* o */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_showregs_op\">sysrq_showregs_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* p */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_show_timers_op\">sysrq_show_timers_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* q */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_unraw_op\">sysrq_unraw_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* r */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_sync_op\">sysrq_sync_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* s */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_showstate_op\">sysrq_showstate_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* t */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_mountro_op\">sysrq_mountro_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* u */</span>", 
"<span class=\"ts\"/><span class=\"comment\">/* v: May be registered for frame buffer console restore */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* v */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_showstate_blocked_op\">sysrq_showstate_blocked_op</a>,<span class=\"ts\"/><span class=\"comment\">/* w */</span>", 
"<span class=\"ts\"/><span class=\"comment\">/* x: May be registered on ppc/powerpc for xmon */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* x */</span>", 
"<span class=\"ts\"/><span class=\"comment\">/* y: May be registered on sparc64 for global register dump */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* y */</span>", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#sysrq_ftrace_dump_op\">sysrq_ftrace_dump_op</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* z */</span>", 
"};", 
"", 
"<span class=\"comment\">/* key2index calculation, -1 on invalid index */</span>", 
"static int <a class=\"id\" href=\"#sysrq_key_table_key2index\">sysrq_key_table_key2index</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#key\">key</a> >= '0') && (<a class=\"id\" href=\"#key\">key</a> <= '9'))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#key\">key</a> - '0';", 
"<span class=\"ts\"/>else if ((<a class=\"id\" href=\"#key\">key</a> >= 'a') && (<a class=\"id\" href=\"#key\">key</a> <= 'z'))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#key\">key</a> + 10 - 'a';", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = -1;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * get and put functions for the table, exposed to modules.</span>", 
"<span class=\"comment\"> */</span>", 
"struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *<a class=\"id\" href=\"#__sysrq_get_key_op\">__sysrq_get_key_op</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"        struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *<a class=\"id\" href=\"#op_p\">op_p</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"        int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#sysrq_key_table_key2index\">sysrq_key_table_key2index</a>(<a class=\"id\" href=\"#key\">key</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#i\">i</a> != -1)", 
"<span class=\"ts\"/>        <a class=\"id\" href=\"#op_p\">op_p</a> = <a class=\"id\" href=\"#sysrq_key_table\">sysrq_key_table</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"", 
"        return <a class=\"id\" href=\"#op_p\">op_p</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__sysrq_put_key_op\">__sysrq_put_key_op</a>(int <a class=\"id\" href=\"#key\">key</a>, struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *<a class=\"id\" href=\"#op_p\">op_p</a>)", 
"{", 
"        int <a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#sysrq_key_table_key2index\">sysrq_key_table_key2index</a>(<a class=\"id\" href=\"#key\">key</a>);", 
"", 
"        if (<a class=\"id\" href=\"#i\">i</a> != -1)", 
"                <a class=\"id\" href=\"#sysrq_key_table\">sysrq_key_table</a>[<a class=\"id\" href=\"#i\">i</a>] = <a class=\"id\" href=\"#op_p\">op_p</a>;", 
"}", 
"", 
"void <a class=\"id\" href=\"#__handle_sysrq\">__handle_sysrq</a>(int <a class=\"id\" href=\"#key\">key</a>, <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#check_mask\">check_mask</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *<a class=\"id\" href=\"#op_p\">op_p</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#orig_log_level\">orig_log_level</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#flags\">flags</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irqsave\">spin_lock_irqsave</a>(&amp;<a class=\"id\" href=\"#sysrq_key_table_lock\">sysrq_key_table_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Raise the apparent loglevel to maximum so that the sysrq header</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * is shown to provide the user with positive feedback.  We do not</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * simply emit this at KERN_EMERG as that would change message</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * routing in the consumers of /proc/kmsg.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#orig_log_level\">orig_log_level</a> = <a class=\"id\" href=\"#console_loglevel\">console_loglevel</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#console_loglevel\">console_loglevel</a> = 7;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"SysRq : \");", 
"", 
"        <a class=\"id\" href=\"#op_p\">op_p</a> = <a class=\"id\" href=\"#__sysrq_get_key_op\">__sysrq_get_key_op</a>(<a class=\"id\" href=\"#key\">key</a>);", 
"        if (<a class=\"id\" href=\"#op_p\">op_p</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Should we check for enabled operations (/proc/sysrq-trigger</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * should not) and is the invoked operation enabled?</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#check_mask\">check_mask</a> || <a class=\"id\" href=\"#sysrq_on_mask\">sysrq_on_mask</a>(<a class=\"id\" href=\"#op_p\">op_p</a>-><a class=\"id\" href=\"#enable_mask\">enable_mask</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"%s\\n\", <a class=\"id\" href=\"#op_p\">op_p</a>-><a class=\"id\" href=\"#action_msg\">action_msg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#console_loglevel\">console_loglevel</a> = <a class=\"id\" href=\"#orig_log_level\">orig_log_level</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#op_p\">op_p</a>-><a class=\"id\" href=\"#handler\">handler</a>(<a class=\"id\" href=\"#key\">key</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"This sysrq operation is disabled.\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"HELP : \");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Only print the help msg once per handler */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#sysrq_key_table\">sysrq_key_table</a>); <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sysrq_key_table\">sysrq_key_table</a>[<a class=\"id\" href=\"#i\">i</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#j\">j</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#j\">j</a> = 0; <a class=\"id\" href=\"#sysrq_key_table\">sysrq_key_table</a>[<a class=\"id\" href=\"#i\">i</a>] !=", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_key_table\">sysrq_key_table</a>[<a class=\"id\" href=\"#j\">j</a>]; <a class=\"id\" href=\"#j\">j</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#j\">j</a> != <a class=\"id\" href=\"#i\">i</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"%s \", <a class=\"id\" href=\"#sysrq_key_table\">sysrq_key_table</a>[<a class=\"id\" href=\"#i\">i</a>]-><a class=\"id\" href=\"#help_msg\">help_msg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#console_loglevel\">console_loglevel</a> = <a class=\"id\" href=\"#orig_log_level\">orig_log_level</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irqrestore\">spin_unlock_irqrestore</a>(&amp;<a class=\"id\" href=\"#sysrq_key_table_lock\">sysrq_key_table_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"}", 
"", 
"void <a class=\"id\" href=\"#handle_sysrq\">handle_sysrq</a>(int <a class=\"id\" href=\"#key\">key</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sysrq_on\">sysrq_on</a>())", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__handle_sysrq\">__handle_sysrq</a>(<a class=\"id\" href=\"#key\">key</a>, <a class=\"id\" href=\"#true\">true</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#handle_sysrq\">handle_sysrq</a>);", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_INPUT\">CONFIG_INPUT</a>", 
"", 
"<span class=\"comment\">/* Simple translation table for the SysRq keys */</span>", 
"static const unsigned char <a class=\"id\" href=\"#sysrq_xlate\">sysrq_xlate</a>[<a class=\"id\" href=\"#KEY_MAX\">KEY_MAX</a> + 1] =", 
"        \"\\000\\0331234567890-=\\177\\t\"                    <span class=\"comment\">/* 0x00 - 0x0f */</span>", 
"        \"qwertyuiop[]\\r\\000as\"                          <span class=\"comment\">/* 0x10 - 0x1f */</span>", 
"        \"dfghjkl;'`\\000\\\\zxcv\"                          <span class=\"comment\">/* 0x20 - 0x2f */</span>", 
"        \"bnm,./\\000*\\000 \\000\\201\\202\\203\\204\\205\"      <span class=\"comment\">/* 0x30 - 0x3f */</span>", 
"        \"\\206\\207\\210\\211\\212\\000\\000789-456+1\"         <span class=\"comment\">/* 0x40 - 0x4f */</span>", 
"        \"230\\177\\000\\000\\213\\214\\000\\000\\000\\000\\000\\000\\000\\000\\000\\000\" <span class=\"comment\">/* 0x50 - 0x5f */</span>", 
"        \"\\r\\000/\";                                      <span class=\"comment\">/* 0x60 - 0x6f */</span>", 
"", 
"static <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#sysrq_down\">sysrq_down</a>;", 
"static int <a class=\"id\" href=\"#sysrq_alt_use\">sysrq_alt_use</a>;", 
"static int <a class=\"id\" href=\"#sysrq_alt\">sysrq_alt</a>;", 
"", 
"static <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#sysrq_filter\">sysrq_filter</a>(struct <a class=\"id\" href=\"#input_handle\">input_handle</a> *<a class=\"id\" href=\"#handle\">handle</a>, unsigned int <a class=\"id\" href=\"#type\">type</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>         unsigned int <a class=\"id\" href=\"#code\">code</a>, int <a class=\"id\" href=\"#value\">value</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#type\">type</a> != <a class=\"id\" href=\"#EV_KEY\">EV_KEY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#code\">code</a>) {", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#KEY_LEFTALT\">KEY_LEFTALT</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#KEY_RIGHTALT\">KEY_RIGHTALT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#value\">value</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_alt\">sysrq_alt</a> = <a class=\"id\" href=\"#code\">code</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sysrq_down\">sysrq_down</a> && <a class=\"id\" href=\"#code\">code</a> == <a class=\"id\" href=\"#sysrq_alt_use\">sysrq_alt_use</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_down\">sysrq_down</a> = <a class=\"id\" href=\"#false\">false</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_alt\">sysrq_alt</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#KEY_SYSRQ\">KEY_SYSRQ</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#value\">value</a> == 1 && <a class=\"id\" href=\"#sysrq_alt\">sysrq_alt</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_down\">sysrq_down</a> = <a class=\"id\" href=\"#true\">true</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_alt_use\">sysrq_alt_use</a> = <a class=\"id\" href=\"#sysrq_alt\">sysrq_alt</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sysrq_down\">sysrq_down</a> && <a class=\"id\" href=\"#value\">value</a> && <a class=\"id\" href=\"#value\">value</a> != 2)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__handle_sysrq\">__handle_sysrq</a>(<a class=\"id\" href=\"#sysrq_xlate\">sysrq_xlate</a>[<a class=\"id\" href=\"#code\">code</a>], <a class=\"id\" href=\"#true\">true</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sysrq_down\">sysrq_down</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#sysrq_connect\">sysrq_connect</a>(struct <a class=\"id\" href=\"#input_handler\">input_handler</a> *<a class=\"id\" href=\"#handler\">handler</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#input_dev\">input_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> const struct <a class=\"id\" href=\"#input_device_id\">input_device_id</a> *<a class=\"id\" href=\"#id\">id</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#input_handle\">input_handle</a> *<a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysrq_down\">sysrq_down</a> = <a class=\"id\" href=\"#false\">false</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysrq_alt\">sysrq_alt</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#handle\">handle</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#input_handle\">input_handle</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#handle\">handle</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#handle\">handle</a>-><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#handle\">handle</a>-><a class=\"id\" href=\"#handler\">handler</a> = <a class=\"id\" href=\"#handler\">handler</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#handle\">handle</a>-><a class=\"id\" href=\"#name\">name</a> = \"sysrq\";", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#input_register_handle\">input_register_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_err\">pr_err</a>(\"Failed to register input sysrq handler, error %d\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_free\">err_free</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#input_open_device\">input_open_device</a>(<a class=\"id\" href=\"#handle\">handle</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_err\">pr_err</a>(\"Failed to open input device, error %d\\n\", <a class=\"id\" href=\"#error\">error</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_unregister\">err_unregister</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"", 
" <a class=\"id\" href=\"#err_unregister\">err_unregister</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input_unregister_handle\">input_unregister_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>);", 
" <a class=\"id\" href=\"#err_free\">err_free</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#handle\">handle</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#sysrq_disconnect\">sysrq_disconnect</a>(struct <a class=\"id\" href=\"#input_handle\">input_handle</a> *<a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input_close_device\">input_close_device</a>(<a class=\"id\" href=\"#handle\">handle</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#input_unregister_handle\">input_unregister_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#handle\">handle</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * We are matching on KEY_LEFTALT insteard of KEY_SYSRQ because not all</span>", 
"<span class=\"comment\"> * keyboards have SysRq ikey predefined and so user may add it to keymap</span>", 
"<span class=\"comment\"> * later, but we expect all such keyboards to have left alt.</span>", 
"<span class=\"comment\"> */</span>", 
"static const struct <a class=\"id\" href=\"#input_device_id\">input_device_id</a> <a class=\"id\" href=\"#sysrq_ids\">sysrq_ids</a>[] = {", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#INPUT_DEVICE_ID_MATCH_EVBIT\">INPUT_DEVICE_ID_MATCH_EVBIT</a> |", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#INPUT_DEVICE_ID_MATCH_KEYBIT\">INPUT_DEVICE_ID_MATCH_KEYBIT</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#evbit\">evbit</a> = { <a class=\"id\" href=\"#BIT_MASK\">BIT_MASK</a>(<a class=\"id\" href=\"#EV_KEY\">EV_KEY</a>) },", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#keybit\">keybit</a> = { <a class=\"id\" href=\"#BIT_MASK\">BIT_MASK</a>(<a class=\"id\" href=\"#KEY_LEFTALT\">KEY_LEFTALT</a>) },", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{ },", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#input_handler\">input_handler</a> <a class=\"id\" href=\"#sysrq_handler\">sysrq_handler</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#filter\">filter</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_filter\">sysrq_filter</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#connect\">connect</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_connect\">sysrq_connect</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#disconnect\">disconnect</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_disconnect\">sysrq_disconnect</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a><span class=\"ts\"/><span class=\"ts\"/>= \"sysrq\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#id_table\">id_table</a><span class=\"ts\"/>= <a class=\"id\" href=\"#sysrq_ids\">sysrq_ids</a>,", 
"};", 
"", 
"static <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#sysrq_handler_registered\">sysrq_handler_registered</a>;", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#sysrq_register_handler\">sysrq_register_handler</a>(void)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#input_register_handler\">input_register_handler</a>(&amp;<a class=\"id\" href=\"#sysrq_handler\">sysrq_handler</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_err\">pr_err</a>(\"Failed to register input handler, error %d\", <a class=\"id\" href=\"#error\">error</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_handler_registered\">sysrq_handler_registered</a> = <a class=\"id\" href=\"#true\">true</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#sysrq_unregister_handler\">sysrq_unregister_handler</a>(void)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sysrq_handler_registered\">sysrq_handler_registered</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#input_unregister_handler\">input_unregister_handler</a>(&amp;<a class=\"id\" href=\"#sysrq_handler\">sysrq_handler</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_handler_registered\">sysrq_handler_registered</a> = <a class=\"id\" href=\"#false\">false</a>;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"#else", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#sysrq_register_handler\">sysrq_register_handler</a>(void)", 
"{", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#sysrq_unregister_handler\">sysrq_unregister_handler</a>(void)", 
"{", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* CONFIG_INPUT */</span>", 
"", 
"int <a class=\"id\" href=\"#sysrq_toggle_support\">sysrq_toggle_support</a>(int <a class=\"id\" href=\"#enable_mask\">enable_mask</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#was_enabled\">was_enabled</a> = <a class=\"id\" href=\"#sysrq_on\">sysrq_on</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysrq_enabled\">sysrq_enabled</a> = <a class=\"id\" href=\"#enable_mask\">enable_mask</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#was_enabled\">was_enabled</a> != <a class=\"id\" href=\"#sysrq_on\">sysrq_on</a>()) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sysrq_on\">sysrq_on</a>())", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_register_handler\">sysrq_register_handler</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_unregister_handler\">sysrq_unregister_handler</a>();", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__sysrq_swap_key_ops\">__sysrq_swap_key_ops</a>(int <a class=\"id\" href=\"#key\">key</a>, struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *<a class=\"id\" href=\"#insert_op_p\">insert_op_p</a>,", 
"                                struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *<a class=\"id\" href=\"#remove_op_p\">remove_op_p</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#flags\">flags</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irqsave\">spin_lock_irqsave</a>(&amp;<a class=\"id\" href=\"#sysrq_key_table_lock\">sysrq_key_table_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#__sysrq_get_key_op\">__sysrq_get_key_op</a>(<a class=\"id\" href=\"#key\">key</a>) == <a class=\"id\" href=\"#remove_op_p\">remove_op_p</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__sysrq_put_key_op\">__sysrq_put_key_op</a>(<a class=\"id\" href=\"#key\">key</a>, <a class=\"id\" href=\"#insert_op_p\">insert_op_p</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = 0;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = -1;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irqrestore\">spin_unlock_irqrestore</a>(&amp;<a class=\"id\" href=\"#sysrq_key_table_lock\">sysrq_key_table_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#register_sysrq_key\">register_sysrq_key</a>(int <a class=\"id\" href=\"#key\">key</a>, struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *<a class=\"id\" href=\"#op_p\">op_p</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#__sysrq_swap_key_ops\">__sysrq_swap_key_ops</a>(<a class=\"id\" href=\"#key\">key</a>, <a class=\"id\" href=\"#op_p\">op_p</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#register_sysrq_key\">register_sysrq_key</a>);", 
"", 
"int <a class=\"id\" href=\"#unregister_sysrq_key\">unregister_sysrq_key</a>(int <a class=\"id\" href=\"#key\">key</a>, struct <a class=\"id\" href=\"#sysrq_key_op\">sysrq_key_op</a> *<a class=\"id\" href=\"#op_p\">op_p</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#__sysrq_swap_key_ops\">__sysrq_swap_key_ops</a>(<a class=\"id\" href=\"#key\">key</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#op_p\">op_p</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#unregister_sysrq_key\">unregister_sysrq_key</a>);", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_PROC_FS\">CONFIG_PROC_FS</a>", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * writing 'C' to /proc/sysrq-trigger is like sysrq-C</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#write_sysrq_trigger\">write_sysrq_trigger</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, const char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#buf\">buf</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>, <a class=\"id\" href=\"#loff_t\">loff_t</a> *<a class=\"id\" href=\"#ppos\">ppos</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#count\">count</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>char <a class=\"id\" href=\"#c\">c</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#c\">c</a>, <a class=\"id\" href=\"#buf\">buf</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__handle_sysrq\">__handle_sysrq</a>(<a class=\"id\" href=\"#c\">c</a>, <a class=\"id\" href=\"#false\">false</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"static const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> <a class=\"id\" href=\"#proc_sysrq_trigger_operations\">proc_sysrq_trigger_operations</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#write\">write</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#write_sysrq_trigger\">write_sysrq_trigger</a>,", 
"};", 
"", 
"static void <a class=\"id\" href=\"#sysrq_init_procfs\">sysrq_init_procfs</a>(void)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#proc_create\">proc_create</a>(\"sysrq-trigger\", <a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> &amp;<a class=\"id\" href=\"#proc_sysrq_trigger_operations\">proc_sysrq_trigger_operations</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_err\">pr_err</a>(\"Failed to register proc interface\\n\");", 
"}", 
"", 
"#else", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#sysrq_init_procfs\">sysrq_init_procfs</a>(void)", 
"{", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* CONFIG_PROC_FS */</span>", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#sysrq_init\">sysrq_init</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysrq_init_procfs\">sysrq_init_procfs</a>();", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sysrq_on\">sysrq_on</a>())", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysrq_register_handler\">sysrq_register_handler</a>();", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#sysrq_init\">sysrq_init</a>);", 
];
xr_frag_insert('l/4f/59609f904358de681dc0321c7a54e954b72c51.xr', __xr_tmp);
