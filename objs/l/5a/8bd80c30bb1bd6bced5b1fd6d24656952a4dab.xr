var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * IDE ioctls handling.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#hdreg\">hdreg</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#ide\">ide</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"static const struct <a class=\"id\" href=\"#ide_ioctl_devset\">ide_ioctl_devset</a> <a class=\"id\" href=\"#ide_ioctl_settings\">ide_ioctl_settings</a>[] = {", 
"{ <a class=\"id\" href=\"#HDIO_GET_32BIT\">HDIO_GET_32BIT</a>,<span class=\"ts\"/> <a class=\"id\" href=\"#HDIO_SET_32BIT\">HDIO_SET_32BIT</a>,<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#ide_devset_io_32bit\">ide_devset_io_32bit</a>  },", 
"{ <a class=\"id\" href=\"#HDIO_GET_KEEPSETTINGS\">HDIO_GET_KEEPSETTINGS</a>, <a class=\"id\" href=\"#HDIO_SET_KEEPSETTINGS\">HDIO_SET_KEEPSETTINGS</a>,<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#ide_devset_keepsettings\">ide_devset_keepsettings</a> },", 
"{ <a class=\"id\" href=\"#HDIO_GET_UNMASKINTR\">HDIO_GET_UNMASKINTR</a>,<span class=\"ts\"/> <a class=\"id\" href=\"#HDIO_SET_UNMASKINTR\">HDIO_SET_UNMASKINTR</a>,<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#ide_devset_unmaskirq\">ide_devset_unmaskirq</a> },", 
"{ <a class=\"id\" href=\"#HDIO_GET_DMA\">HDIO_GET_DMA</a>,<span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#HDIO_SET_DMA\">HDIO_SET_DMA</a>,<span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#ide_devset_using_dma\">ide_devset_using_dma</a> },", 
"{ -1,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#HDIO_SET_PIO_MODE\">HDIO_SET_PIO_MODE</a>,<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#ide_devset_pio_mode\">ide_devset_pio_mode</a>  },", 
"{ 0 }", 
"};", 
"", 
"int <a class=\"id\" href=\"#ide_setting_ioctl\">ide_setting_ioctl</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, struct <a class=\"id\" href=\"#block_device\">block_device</a> *<a class=\"id\" href=\"#bdev\">bdev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>      unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>, unsigned long <a class=\"id\" href=\"#arg\">arg</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>      const struct <a class=\"id\" href=\"#ide_ioctl_devset\">ide_ioctl_devset</a> *<a class=\"id\" href=\"#s\">s</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#ide_devset\">ide_devset</a> *<a class=\"id\" href=\"#ds\">ds</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EOPNOTSUPP\">EOPNOTSUPP</a>;", 
"", 
"<span class=\"ts\"/>for (; (<a class=\"id\" href=\"#ds\">ds</a> = <a class=\"id\" href=\"#s\">s</a>-><a class=\"id\" href=\"#setting\">setting</a>); <a class=\"id\" href=\"#s\">s</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#get\">get</a> && <a class=\"id\" href=\"#s\">s</a>-><a class=\"id\" href=\"#get_ioctl\">get_ioctl</a> == <a class=\"id\" href=\"#cmd\">cmd</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#read_val\">read_val</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#set\">set</a> && <a class=\"id\" href=\"#s\">s</a>-><a class=\"id\" href=\"#set_ioctl\">set_ioctl</a> == <a class=\"id\" href=\"#cmd\">cmd</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#set_val\">set_val</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<a class=\"id\" href=\"#read_val\">read_val</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#ide_setting_mtx\">ide_setting_mtx</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#get\">get</a>(<a class=\"id\" href=\"#drive\">drive</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#ide_setting_mtx\">ide_setting_mtx</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a> >= 0 ? <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#err\">err</a>, (long <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg\">arg</a>) : <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<a class=\"id\" href=\"#set_val\">set_val</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#bdev\">bdev</a> != <a class=\"id\" href=\"#bdev\">bdev</a>-><a class=\"id\" href=\"#bd_contains\">bd_contains</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_ADMIN\">CAP_SYS_ADMIN</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EACCES\">EACCES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#ide_setting_mtx\">ide_setting_mtx</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ide_devset_execute\">ide_devset_execute</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#ds\">ds</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#ide_setting_mtx\">ide_setting_mtx</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#ide_setting_ioctl\">ide_setting_ioctl</a>);", 
"", 
"static int <a class=\"id\" href=\"#ide_get_identity_ioctl\">ide_get_identity_ioctl</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> *<a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#size\">size</a> = (<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#HDIO_GET_IDENTITY\">HDIO_GET_IDENTITY</a>) ? (<a class=\"id\" href=\"#ATA_ID_WORDS\">ATA_ID_WORDS</a> * 2) : 142;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rc\">rc</a> = 0;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#dev_flags\">dev_flags</a> &amp; <a class=\"id\" href=\"#IDE_DFLAG_ID_READ\">IDE_DFLAG_ID_READ</a>) == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#ENOMSG\">ENOMSG</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* ata_id_to_hd_driveid() relies on 'id' to be fully allocated. */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#ATA_ID_WORDS\">ATA_ID_WORDS</a> * 2, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#id\">id</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#size\">size</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ata_id_to_hd_driveid\">ata_id_to_hd_driveid</a>(<a class=\"id\" href=\"#id\">id</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>((void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg\">arg</a>, <a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#size\">size</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#id\">id</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ide_get_nice_ioctl\">ide_get_nice_ioctl</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#put_user\">put_user</a>((!!(<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#dev_flags\">dev_flags</a> &amp; <a class=\"id\" href=\"#IDE_DFLAG_DSC_OVERLAP\">IDE_DFLAG_DSC_OVERLAP</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> << <a class=\"id\" href=\"#IDE_NICE_DSC_OVERLAP\">IDE_NICE_DSC_OVERLAP</a>) |", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(!!(<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#dev_flags\">dev_flags</a> &amp; <a class=\"id\" href=\"#IDE_DFLAG_NICE1\">IDE_DFLAG_NICE1</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> << <a class=\"id\" href=\"#IDE_NICE_1\">IDE_NICE_1</a>), (long <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg\">arg</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ide_set_nice_ioctl\">ide_set_nice_ioctl</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#arg\">arg</a> != (<a class=\"id\" href=\"#arg\">arg</a> &amp; ((1 << <a class=\"id\" href=\"#IDE_NICE_DSC_OVERLAP\">IDE_NICE_DSC_OVERLAP</a>) | (1 << <a class=\"id\" href=\"#IDE_NICE_1\">IDE_NICE_1</a>))))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"", 
"<span class=\"ts\"/>if (((<a class=\"id\" href=\"#arg\">arg</a> >> <a class=\"id\" href=\"#IDE_NICE_DSC_OVERLAP\">IDE_NICE_DSC_OVERLAP</a>) &amp; 1) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#media\">media</a> != <a class=\"id\" href=\"#ide_tape\">ide_tape</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#arg\">arg</a> >> <a class=\"id\" href=\"#IDE_NICE_DSC_OVERLAP\">IDE_NICE_DSC_OVERLAP</a>) &amp; 1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#dev_flags\">dev_flags</a> |= <a class=\"id\" href=\"#IDE_DFLAG_DSC_OVERLAP\">IDE_DFLAG_DSC_OVERLAP</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#dev_flags\">dev_flags</a> &= ~<a class=\"id\" href=\"#IDE_DFLAG_DSC_OVERLAP\">IDE_DFLAG_DSC_OVERLAP</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#arg\">arg</a> >> <a class=\"id\" href=\"#IDE_NICE_1\">IDE_NICE_1</a>) &amp; 1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#dev_flags\">dev_flags</a> |= <a class=\"id\" href=\"#IDE_DFLAG_NICE1\">IDE_DFLAG_NICE1</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#dev_flags\">dev_flags</a> &= ~<a class=\"id\" href=\"#IDE_DFLAG_NICE1\">IDE_DFLAG_NICE1</a>;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ide_cmd_ioctl\">ide_cmd_ioctl</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#buf\">buf</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#bufsize\">bufsize</a> = 0, <a class=\"id\" href=\"#err\">err</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#args\">args</a>[4], <a class=\"id\" href=\"#xfer_rate\">xfer_rate</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> <a class=\"id\" href=\"#cmd\">cmd</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ide_taskfile\">ide_taskfile</a> *<a class=\"id\" href=\"#tf\">tf</a> = &amp;<a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#tf\">tf</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#NULL\">NULL</a> == (void *) <a class=\"id\" href=\"#arg\">arg</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a> = <a class=\"id\" href=\"#blk_get_request\">blk_get_request</a>(<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#queue\">queue</a>, <a class=\"id\" href=\"#READ\">READ</a>, <a class=\"id\" href=\"#__GFP_WAIT\">__GFP_WAIT</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a>-><a class=\"id\" href=\"#cmd_type\">cmd_type</a> = <a class=\"id\" href=\"#REQ_TYPE_ATA_TASKFILE\">REQ_TYPE_ATA_TASKFILE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#blk_execute_rq\">blk_execute_rq</a>(<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#queue\">queue</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#rq\">rq</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#blk_put_request\">blk_put_request</a>(<a class=\"id\" href=\"#rq\">rq</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#args\">args</a>, (void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg\">arg</a>, 4))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#cmd\">cmd</a>, 0, sizeof(<a class=\"id\" href=\"#cmd\">cmd</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#feature\">feature</a> = <a class=\"id\" href=\"#args\">args</a>[2];", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#args\">args</a>[0] == <a class=\"id\" href=\"#ATA_CMD_SMART\">ATA_CMD_SMART</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#nsect\">nsect</a> = <a class=\"id\" href=\"#args\">args</a>[3];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#lbal\">lbal</a>  = <a class=\"id\" href=\"#args\">args</a>[1];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#lbam\">lbam</a>  = 0x4f;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#lbah\">lbah</a>  = 0xc2;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#out\">out</a>.<a class=\"id\" href=\"#tf\">tf</a> = <a class=\"id\" href=\"#IDE_VALID_OUT_TF\">IDE_VALID_OUT_TF</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#in\">in</a>.<a class=\"id\" href=\"#tf\">tf</a>  = <a class=\"id\" href=\"#IDE_VALID_NSECT\">IDE_VALID_NSECT</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#nsect\">nsect</a> = <a class=\"id\" href=\"#args\">args</a>[1];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#out\">out</a>.<a class=\"id\" href=\"#tf\">tf</a> = <a class=\"id\" href=\"#IDE_VALID_FEATURE\">IDE_VALID_FEATURE</a> | <a class=\"id\" href=\"#IDE_VALID_NSECT\">IDE_VALID_NSECT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#in\">in</a>.<a class=\"id\" href=\"#tf\">tf</a>  = <a class=\"id\" href=\"#IDE_VALID_NSECT\">IDE_VALID_NSECT</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#command\">command</a> = <a class=\"id\" href=\"#args\">args</a>[0];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#protocol\">protocol</a> = <a class=\"id\" href=\"#args\">args</a>[3] ? <a class=\"id\" href=\"#ATA_PROT_PIO\">ATA_PROT_PIO</a> : <a class=\"id\" href=\"#ATA_PROT_NODATA\">ATA_PROT_NODATA</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#args\">args</a>[3]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#tf_flags\">tf_flags</a> |= <a class=\"id\" href=\"#IDE_TFLAG_IO_16BIT\">IDE_TFLAG_IO_16BIT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#bufsize\">bufsize</a> = <a class=\"id\" href=\"#SECTOR_SIZE\">SECTOR_SIZE</a> * <a class=\"id\" href=\"#args\">args</a>[3];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#buf\">buf</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(<a class=\"id\" href=\"#bufsize\">bufsize</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#buf\">buf</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#command\">command</a> == <a class=\"id\" href=\"#ATA_CMD_SET_FEATURES\">ATA_CMD_SET_FEATURES</a> &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#feature\">feature</a> == <a class=\"id\" href=\"#SETFEATURES_XFER\">SETFEATURES_XFER</a> &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#nsect\">nsect</a> >= <a class=\"id\" href=\"#XFER_SW_DMA_0\">XFER_SW_DMA_0</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#xfer_rate\">xfer_rate</a> = <a class=\"id\" href=\"#ide_find_dma_mode\">ide_find_dma_mode</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#nsect\">nsect</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#xfer_rate\">xfer_rate</a> != <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#nsect\">nsect</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#abort\">abort</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#tf_flags\">tf_flags</a> |= <a class=\"id\" href=\"#IDE_TFLAG_SET_XFER\">IDE_TFLAG_SET_XFER</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ide_raw_taskfile\">ide_raw_taskfile</a>(<a class=\"id\" href=\"#drive\">drive</a>, &amp;<a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#args\">args</a>[3]);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#args\">args</a>[0] = <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#args\">args</a>[1] = <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#args\">args</a>[2] = <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#nsect\">nsect</a>;", 
"<a class=\"id\" href=\"#abort\">abort</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>((void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg\">arg</a>, &amp;<a class=\"id\" href=\"#args\">args</a>, 4))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#buf\">buf</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>((void <a class=\"id\" href=\"#__user\">__user</a> *)(<a class=\"id\" href=\"#arg\">arg</a> + 4), <a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#bufsize\">bufsize</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#buf\">buf</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ide_task_ioctl\">ide_task_ioctl</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#p\">p</a> = (void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg\">arg</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#args\">args</a>[7];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> <a class=\"id\" href=\"#cmd\">cmd</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#args\">args</a>, <a class=\"id\" href=\"#p\">p</a>, 7))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#cmd\">cmd</a>, 0, sizeof(<a class=\"id\" href=\"#cmd\">cmd</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(&amp;<a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#feature\">feature</a>, &amp;<a class=\"id\" href=\"#args\">args</a>[1], 6);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#command\">command</a> = <a class=\"id\" href=\"#args\">args</a>[0];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#out\">out</a>.<a class=\"id\" href=\"#tf\">tf</a> = <a class=\"id\" href=\"#IDE_VALID_OUT_TF\">IDE_VALID_OUT_TF</a> | <a class=\"id\" href=\"#IDE_VALID_DEVICE\">IDE_VALID_DEVICE</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#in\">in</a>.<a class=\"id\" href=\"#tf\">tf</a>  = <a class=\"id\" href=\"#IDE_VALID_IN_TF\">IDE_VALID_IN_TF</a>  | <a class=\"id\" href=\"#IDE_VALID_DEVICE\">IDE_VALID_DEVICE</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ide_no_data_taskfile\">ide_no_data_taskfile</a>(<a class=\"id\" href=\"#drive\">drive</a>, &amp;<a class=\"id\" href=\"#cmd\">cmd</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#args\">args</a>[0] = <a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#command\">command</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(&amp;<a class=\"id\" href=\"#args\">args</a>[1], &amp;<a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#feature\">feature</a>, 6);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#args\">args</a>, 7))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#generic_drive_reset\">generic_drive_reset</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a> = <a class=\"id\" href=\"#blk_get_request\">blk_get_request</a>(<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#queue\">queue</a>, <a class=\"id\" href=\"#READ\">READ</a>, <a class=\"id\" href=\"#__GFP_WAIT\">__GFP_WAIT</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a>-><a class=\"id\" href=\"#cmd_type\">cmd_type</a> = <a class=\"id\" href=\"#REQ_TYPE_SPECIAL\">REQ_TYPE_SPECIAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a>-><a class=\"id\" href=\"#cmd_len\">cmd_len</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a>-><a class=\"id\" href=\"#cmd\">cmd</a>[0] = <a class=\"id\" href=\"#REQ_DRIVE_RESET\">REQ_DRIVE_RESET</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#blk_execute_rq\">blk_execute_rq</a>(<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#queue\">queue</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#rq\">rq</a>, 1))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#rq\">rq</a>-><a class=\"id\" href=\"#errors\">errors</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#blk_put_request\">blk_put_request</a>(<a class=\"id\" href=\"#rq\">rq</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#generic_ide_ioctl\">generic_ide_ioctl</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, struct <a class=\"id\" href=\"#block_device\">block_device</a> *<a class=\"id\" href=\"#bdev\">bdev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>      unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>, unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ide_setting_ioctl\">ide_setting_ioctl</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#bdev\">bdev</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>, <a class=\"id\" href=\"#ide_ioctl_settings\">ide_ioctl_settings</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> != -<a class=\"id\" href=\"#EOPNOTSUPP\">EOPNOTSUPP</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#cmd\">cmd</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#HDIO_OBSOLETE_IDENTITY\">HDIO_OBSOLETE_IDENTITY</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#HDIO_GET_IDENTITY\">HDIO_GET_IDENTITY</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#bdev\">bdev</a> != <a class=\"id\" href=\"#bdev\">bdev</a>-><a class=\"id\" href=\"#bd_contains\">bd_contains</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_get_identity_ioctl\">ide_get_identity_ioctl</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#HDIO_GET_NICE\">HDIO_GET_NICE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_get_nice_ioctl\">ide_get_nice_ioctl</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#HDIO_SET_NICE\">HDIO_SET_NICE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_ADMIN\">CAP_SYS_ADMIN</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EACCES\">EACCES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_set_nice_ioctl\">ide_set_nice_ioctl</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IDE_TASK_IOCTL\">CONFIG_IDE_TASK_IOCTL</a>", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#HDIO_DRIVE_TASKFILE\">HDIO_DRIVE_TASKFILE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_ADMIN\">CAP_SYS_ADMIN</a>) || !<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_RAWIO\">CAP_SYS_RAWIO</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EACCES\">EACCES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#media\">media</a> == <a class=\"id\" href=\"#ide_disk\">ide_disk</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_taskfile_ioctl\">ide_taskfile_ioctl</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMSG\">ENOMSG</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#HDIO_DRIVE_CMD\">HDIO_DRIVE_CMD</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_RAWIO\">CAP_SYS_RAWIO</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EACCES\">EACCES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_cmd_ioctl\">ide_cmd_ioctl</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#HDIO_DRIVE_TASK\">HDIO_DRIVE_TASK</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_RAWIO\">CAP_SYS_RAWIO</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EACCES\">EACCES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_task_ioctl\">ide_task_ioctl</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#HDIO_DRIVE_RESET\">HDIO_DRIVE_RESET</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_ADMIN\">CAP_SYS_ADMIN</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EACCES\">EACCES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#generic_drive_reset\">generic_drive_reset</a>(<a class=\"id\" href=\"#drive\">drive</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#HDIO_GET_BUSSTATE\">HDIO_GET_BUSSTATE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_ADMIN\">CAP_SYS_ADMIN</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EACCES\">EACCES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#BUSSTATE_ON\">BUSSTATE_ON</a>, (long <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg\">arg</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#HDIO_SET_BUSSTATE\">HDIO_SET_BUSSTATE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_ADMIN\">CAP_SYS_ADMIN</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EACCES\">EACCES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EOPNOTSUPP\">EOPNOTSUPP</a>;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#generic_ide_ioctl\">generic_ide_ioctl</a>);", 
];
xr_frag_insert('l/5a/8bd80c30bb1bd6bced5b1fd6d24656952a4dab.xr', __xr_tmp);
