var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * acpi_processor.c - ACPI Processor Driver ($Revision: 71 $)</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Copyright (C) 2001, 2002 Andy Grover &lt;andrew.grover@intel.com&gt;</span>", 
"<span class=\"comment\"> *  Copyright (C) 2001, 2002 Paul Diefenbaugh &lt;paul.s.diefenbaugh@intel.com&gt;</span>", 
"<span class=\"comment\"> *  Copyright (C) 2004       Dominik Brodowski &lt;linux@brodo.de&gt;</span>", 
"<span class=\"comment\"> *  Copyright (C) 2004  Anil S Keshavamurthy &lt;anil.s.keshavamurthy@intel.com&gt;</span>", 
"<span class=\"comment\"> *  <span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>- Added processor hotplug support</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is free software; you can redistribute it and/or modify</span>", 
"<span class=\"comment\"> *  it under the terms of the GNU General Public License as published by</span>", 
"<span class=\"comment\"> *  the Free Software Foundation; either version 2 of the License, or (at</span>", 
"<span class=\"comment\"> *  your option) any later version.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is distributed in the hope that it will be useful, but</span>", 
"<span class=\"comment\"> *  WITHOUT ANY WARRANTY; without even the implied warranty of</span>", 
"<span class=\"comment\"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>", 
"<span class=\"comment\"> *  General Public License for more details.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  You should have received a copy of the GNU General Public License along</span>", 
"<span class=\"comment\"> *  with this program; if not, write to the Free Software Foundation, Inc.,</span>", 
"<span class=\"comment\"> *  59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>", 
"<span class=\"comment\"> *  TBD:</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>1. Make # power states dynamic.</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>2. Support duty_cycle values that span bit 4.</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>3. Optimize by having scheduler determine business instead of</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>   having us try to calculate it here.</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>4. Need C1 timing -- must modify kernel (IRQ handler) to get this.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#pci\">pci</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#pm\">pm</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#cpufreq\">cpufreq</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#cpu\">cpu</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#proc_fs\">proc_fs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#seq_file\">seq_file</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#dmi\">dmi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#moduleparam\">moduleparam</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#cpuidle\">cpuidle</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#io\">io</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#system\">system</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#cpu\">cpu</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#delay\">delay</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#uaccess\">uaccess</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#processor\">processor</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#smp\">smp</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#acpi\">acpi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_bus\">acpi_bus</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_drivers\">acpi_drivers</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#processor\">processor</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"ACPI: \"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_CLASS\">ACPI_PROCESSOR_CLASS</a><span class=\"ts\"/><span class=\"ts\"/>\"processor\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_DEVICE_NAME\">ACPI_PROCESSOR_DEVICE_NAME</a><span class=\"ts\"/>\"Processor\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_FILE_INFO\">ACPI_PROCESSOR_FILE_INFO</a><span class=\"ts\"/>\"info\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_FILE_THROTTLING\">ACPI_PROCESSOR_FILE_THROTTLING</a><span class=\"ts\"/>\"throttling\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_FILE_LIMIT\">ACPI_PROCESSOR_FILE_LIMIT</a><span class=\"ts\"/>\"limit\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_NOTIFY_PERFORMANCE\">ACPI_PROCESSOR_NOTIFY_PERFORMANCE</a> 0x80", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_NOTIFY_POWER\">ACPI_PROCESSOR_NOTIFY_POWER</a><span class=\"ts\"/>0x81", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_NOTIFY_THROTTLING\">ACPI_PROCESSOR_NOTIFY_THROTTLING</a><span class=\"ts\"/>0x82", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_LIMIT_USER\">ACPI_PROCESSOR_LIMIT_USER</a><span class=\"ts\"/>0", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_LIMIT_THERMAL\">ACPI_PROCESSOR_LIMIT_THERMAL</a><span class=\"ts\"/>1", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#_COMPONENT\">_COMPONENT</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_PROCESSOR_COMPONENT\">ACPI_PROCESSOR_COMPONENT</a>", 
"<a class=\"id\" href=\"#ACPI_MODULE_NAME\">ACPI_MODULE_NAME</a>(\"processor_driver\");", 
"", 
"<a class=\"id\" href=\"#MODULE_AUTHOR\">MODULE_AUTHOR</a>(\"Paul Diefenbaugh\");", 
"<a class=\"id\" href=\"#MODULE_DESCRIPTION\">MODULE_DESCRIPTION</a>(\"ACPI Processor Driver\");", 
"<a class=\"id\" href=\"#MODULE_LICENSE\">MODULE_LICENSE</a>(\"GPL\");", 
"", 
"static int <a class=\"id\" href=\"#acpi_processor_add\">acpi_processor_add</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>);", 
"static int <a class=\"id\" href=\"#acpi_processor_remove\">acpi_processor_remove</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, int <a class=\"id\" href=\"#type\">type</a>);", 
"static void <a class=\"id\" href=\"#acpi_processor_notify\">acpi_processor_notify</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#event\">event</a>);", 
"static <a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#acpi_processor_hotadd_init\">acpi_processor_hotadd_init</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, int *<a class=\"id\" href=\"#p_cpu\">p_cpu</a>);", 
"static int <a class=\"id\" href=\"#acpi_processor_handle_eject\">acpi_processor_handle_eject</a>(struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a>);", 
"", 
"", 
"static const struct <a class=\"id\" href=\"#acpi_device_id\">acpi_device_id</a> <a class=\"id\" href=\"#processor_device_ids\">processor_device_ids</a>[] = {", 
"<span class=\"ts\"/>{<a class=\"id\" href=\"#ACPI_PROCESSOR_OBJECT_HID\">ACPI_PROCESSOR_OBJECT_HID</a>, 0},", 
"<span class=\"ts\"/>{\"ACPI0007\", 0},", 
"<span class=\"ts\"/>{\"\", 0},", 
"};", 
"<a class=\"id\" href=\"#MODULE_DEVICE_TABLE\">MODULE_DEVICE_TABLE</a>(<a class=\"id\" href=\"#acpi\">acpi</a>, <a class=\"id\" href=\"#processor_device_ids\">processor_device_ids</a>);", 
"", 
"static struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> <a class=\"id\" href=\"#acpi_processor_driver\">acpi_processor_driver</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a> = \"processor\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#class\">class</a> = <a class=\"id\" href=\"#ACPI_PROCESSOR_CLASS\">ACPI_PROCESSOR_CLASS</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ids\">ids</a> = <a class=\"id\" href=\"#processor_device_ids\">processor_device_ids</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ops\">ops</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#add\">add</a> = <a class=\"id\" href=\"#acpi_processor_add\">acpi_processor_add</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#remove\">remove</a> = <a class=\"id\" href=\"#acpi_processor_remove\">acpi_processor_remove</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#suspend\">suspend</a> = <a class=\"id\" href=\"#acpi_processor_suspend\">acpi_processor_suspend</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#resume\">resume</a> = <a class=\"id\" href=\"#acpi_processor_resume\">acpi_processor_resume</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#notify\">notify</a> = <a class=\"id\" href=\"#acpi_processor_notify\">acpi_processor_notify</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>},", 
"};", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#INSTALL_NOTIFY_HANDLER\">INSTALL_NOTIFY_HANDLER</a><span class=\"ts\"/><span class=\"ts\"/>1", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#UNINSTALL_NOTIFY_HANDLER\">UNINSTALL_NOTIFY_HANDLER</a><span class=\"ts\"/>2", 
"", 
"<a class=\"id\" href=\"#DEFINE_PER_CPU\">DEFINE_PER_CPU</a>(struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *, <a class=\"id\" href=\"#processors\">processors</a>);", 
"<a class=\"id\" href=\"#EXPORT_PER_CPU_SYMBOL\">EXPORT_PER_CPU_SYMBOL</a>(<a class=\"id\" href=\"#processors\">processors</a>);", 
"", 
"struct <a class=\"id\" href=\"#acpi_processor_errata\">acpi_processor_errata</a> <a class=\"id\" href=\"#errata\">errata</a> <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a>;", 
"", 
"<span class=\"comment\">/* --------------------------------------------------------------------------</span>", 
"<span class=\"comment\">                                Errata Handling</span>", 
"<span class=\"comment\">   -------------------------------------------------------------------------- */</span>", 
"", 
"static int <a class=\"id\" href=\"#acpi_processor_errata_piix4\">acpi_processor_errata_piix4</a>(struct <a class=\"id\" href=\"#pci_dev\">pci_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#value1\">value1</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#value2\">value2</a> = 0;", 
"", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Note that 'dev' references the PIIX4 ACPI Controller.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#revision\">revision</a>) {", 
"<span class=\"ts\"/>case 0:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>, \"Found PIIX4 A-step\\n\"));", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case 1:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>, \"Found PIIX4 B-step\\n\"));", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case 2:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>, \"Found PIIX4E\\n\"));", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case 3:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>, \"Found PIIX4M\\n\"));", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>, \"Found unknown PIIX4\\n\"));", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#revision\">revision</a>) {", 
"", 
"<span class=\"ts\"/>case 0:<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* PIIX4 A-step */</span>", 
"<span class=\"ts\"/>case 1:<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* PIIX4 B-step */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * See specification changes #13 (\"Manual Throttle Duty Cycle\")</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * and #14 (\"Enabling and Disabling Manual Throttle\"), plus</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * erratum #5 (\"STPCLK# Deassertion Time\") from the January</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * 2002 PIIX4 specification update.  Applies to only older</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * PIIX4 models.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#errata\">errata</a>.<a class=\"id\" href=\"#piix4\">piix4</a>.<a class=\"id\" href=\"#throttle\">throttle</a> = 1;", 
"", 
"<span class=\"ts\"/>case 2:<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* PIIX4E */</span>", 
"<span class=\"ts\"/>case 3:<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* PIIX4M */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * See erratum #18 (\"C3 Power State/BMIDE and Type-F DMA</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Livelock\") from the January 2002 PIIX4 specification update.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Applies to all PIIX4 models.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * BM-IDE</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * ------</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Find the PIIX4 IDE Controller and get the Bus Master IDE</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Status register address.  We'll use this later to read</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * each IDE controller's DMA status to make sure we catch all</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * DMA activity.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#pci_get_subsys\">pci_get_subsys</a>(<a class=\"id\" href=\"#PCI_VENDOR_ID_INTEL\">PCI_VENDOR_ID_INTEL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#PCI_DEVICE_ID_INTEL_82371AB\">PCI_DEVICE_ID_INTEL_82371AB</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#PCI_ANY_ID\">PCI_ANY_ID</a>, <a class=\"id\" href=\"#PCI_ANY_ID\">PCI_ANY_ID</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#errata\">errata</a>.<a class=\"id\" href=\"#piix4\">piix4</a>.<a class=\"id\" href=\"#bmisx\">bmisx</a> = <a class=\"id\" href=\"#pci_resource_start\">pci_resource_start</a>(<a class=\"id\" href=\"#dev\">dev</a>, 4);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_dev_put\">pci_dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Type-F DMA</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * ----------</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Find the PIIX4 ISA Controller and read the Motherboard</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * DMA controller's status to see if Type-F (Fast) DMA mode</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * is enabled (bit 7) on either channel.  Note that we'll</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * disable C3 support if this is enabled, as some legacy</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * devices won't operate well if fast DMA is disabled.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#pci_get_subsys\">pci_get_subsys</a>(<a class=\"id\" href=\"#PCI_VENDOR_ID_INTEL\">PCI_VENDOR_ID_INTEL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#PCI_DEVICE_ID_INTEL_82371AB_0\">PCI_DEVICE_ID_INTEL_82371AB_0</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#PCI_ANY_ID\">PCI_ANY_ID</a>, <a class=\"id\" href=\"#PCI_ANY_ID\">PCI_ANY_ID</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_read_config_byte\">pci_read_config_byte</a>(<a class=\"id\" href=\"#dev\">dev</a>, 0x76, &amp;<a class=\"id\" href=\"#value1\">value1</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_read_config_byte\">pci_read_config_byte</a>(<a class=\"id\" href=\"#dev\">dev</a>, 0x77, &amp;<a class=\"id\" href=\"#value2\">value2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#value1\">value1</a> &amp; 0x80) || (<a class=\"id\" href=\"#value2\">value2</a> &amp; 0x80))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#errata\">errata</a>.<a class=\"id\" href=\"#piix4\">piix4</a>.<a class=\"id\" href=\"#fdma\">fdma</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_dev_put\">pci_dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#errata\">errata</a>.<a class=\"id\" href=\"#piix4\">piix4</a>.<a class=\"id\" href=\"#bmisx\">bmisx</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Bus master activity detection (BM-IDE) erratum enabled\\n\"));", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#errata\">errata</a>.<a class=\"id\" href=\"#piix4\">piix4</a>.<a class=\"id\" href=\"#fdma\">fdma</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Type-F DMA livelock erratum (C3 disabled)\\n\"));", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_processor_errata\">acpi_processor_errata</a>(struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_dev\">pci_dev</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pr\">pr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * PIIX4</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#pci_get_subsys\">pci_get_subsys</a>(<a class=\"id\" href=\"#PCI_VENDOR_ID_INTEL\">PCI_VENDOR_ID_INTEL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#PCI_DEVICE_ID_INTEL_82371AB_3\">PCI_DEVICE_ID_INTEL_82371AB_3</a>, <a class=\"id\" href=\"#PCI_ANY_ID\">PCI_ANY_ID</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#PCI_ANY_ID\">PCI_ANY_ID</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_processor_errata_piix4\">acpi_processor_errata_piix4</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_dev_put\">pci_dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#acpi_processor_dir\">acpi_processor_dir</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"static int <a class=\"id\" href=\"#__cpuinit\">__cpuinit</a> <a class=\"id\" href=\"#acpi_processor_add_fs\">acpi_processor_add_fs</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#proc_dir_entry\">proc_dir_entry</a> *<a class=\"id\" href=\"#entry\">entry</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>) = <a class=\"id\" href=\"#proc_mkdir\">proc_mkdir</a>(<a class=\"id\" href=\"#acpi_device_bid\">acpi_device_bid</a>(<a class=\"id\" href=\"#device\">device</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_processor_dir\">acpi_processor_dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* 'throttling' [R/W] */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#entry\">entry</a> = <a class=\"id\" href=\"#proc_create_data\">proc_create_data</a>(<a class=\"id\" href=\"#ACPI_PROCESSOR_FILE_THROTTLING\">ACPI_PROCESSOR_FILE_THROTTLING</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#S_IFREG\">S_IFREG</a> | <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a> | <a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> &amp;<a class=\"id\" href=\"#acpi_processor_throttling_fops\">acpi_processor_throttling_fops</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>));", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#entry\">entry</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EIO\">EIO</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"static int <a class=\"id\" href=\"#acpi_processor_remove_fs\">acpi_processor_remove_fs</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_PROCESSOR_FILE_THROTTLING\">ACPI_PROCESSOR_FILE_THROTTLING</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#acpi_device_bid\">acpi_device_bid</a>(<a class=\"id\" href=\"#device\">device</a>), <a class=\"id\" href=\"#acpi_processor_dir\">acpi_processor_dir</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_dir\">acpi_device_dir</a>(<a class=\"id\" href=\"#device\">device</a>) = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/* --------------------------------------------------------------------------</span>", 
"<span class=\"comment\">                                 Driver Interface</span>", 
"<span class=\"comment\">   -------------------------------------------------------------------------- */</span>", 
"", 
"static int <a class=\"id\" href=\"#acpi_processor_get_info\">acpi_processor_get_info</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a> = 0;", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#acpi_object\">acpi_object</a> <a class=\"id\" href=\"#object\">object</a> = { 0 };", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_buffer\">acpi_buffer</a> <a class=\"id\" href=\"#buffer\">buffer</a> = { sizeof(union <a class=\"id\" href=\"#acpi_object\">acpi_object</a>), &amp;<a class=\"id\" href=\"#object\">object</a> };", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#cpu_index\">cpu_index</a>, <a class=\"id\" href=\"#device_declaration\">device_declaration</a> = 0;", 
"<span class=\"ts\"/>static int <a class=\"id\" href=\"#cpu0_initialized\">cpu0_initialized</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pr\">pr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#num_online_cpus\">num_online_cpus</a>() &gt; 1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#errata\">errata</a>.<a class=\"id\" href=\"#smp\">smp</a> = <a class=\"id\" href=\"#TRUE\">TRUE</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_errata\">acpi_processor_errata</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Check to see if we have bus mastering arbitration control.  This</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * is required for proper C3 usage (to maintain cache coherency).</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_gbl_FADT\">acpi_gbl_FADT</a>.<a class=\"id\" href=\"#pm2_control_block\">pm2_control_block</a> && <a class=\"id\" href=\"#acpi_gbl_FADT\">acpi_gbl_FADT</a>.<a class=\"id\" href=\"#pm2_control_length\">pm2_control_length</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#bm_control\">bm_control</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Bus mastering arbitration control present\\n\"));", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"No bus mastering arbitration control\\n\"));", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#acpi_device_hid\">acpi_device_hid</a>(<a class=\"id\" href=\"#device\">device</a>), <a class=\"id\" href=\"#ACPI_PROCESSOR_OBJECT_HID\">ACPI_PROCESSOR_OBJECT_HID</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Declared with \"Processor\" statement; match ProcessorID */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_object\">acpi_evaluate_object</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#buffer\">buffer</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Evaluating processor object\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * TBD: Synch processor ID (via LAPIC/LSAPIC structures) on SMP.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> *      &gt;&gt;&gt; 'acpi_get_processor_id(acpi_id, &amp;id)' in</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> *      arch/xxx/acpi.c</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#acpi_id\">acpi_id</a> = <a class=\"id\" href=\"#object\">object</a>.<a class=\"id\" href=\"#processor\">processor</a>.<a class=\"id\" href=\"#proc_id\">proc_id</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Declared with \"Device\" statement; match _UID.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Note that we don't handle string _UIDs yet.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#value\">value</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#METHOD_NAME__UID\">METHOD_NAME__UID</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#value\">value</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    \"Evaluating processor _UID [%#x]\\n\", <a class=\"id\" href=\"#status\">status</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device_declaration\">device_declaration</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#acpi_id\">acpi_id</a> = <a class=\"id\" href=\"#value\">value</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpu_index\">cpu_index</a> = <a class=\"id\" href=\"#acpi_get_cpuid\">acpi_get_cpuid</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#device_declaration\">device_declaration</a>, <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#acpi_id\">acpi_id</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Handle UP system running SMP kernel, with no LAPIC in MADT */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#cpu0_initialized\">cpu0_initialized</a> && (<a class=\"id\" href=\"#cpu_index\">cpu_index</a> == -1) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#num_online_cpus\">num_online_cpus</a>() == 1)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpu_index\">cpu_index</a> = 0;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpu0_initialized\">cpu0_initialized</a> = 1;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#cpu_index\">cpu_index</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *  Extra Processor objects may be enumerated on MP systems with</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *  less than the max # of CPUs. They should be ignored _iff</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *  they are physically not present.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a> == -1) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#acpi_processor_hotadd_init\">acpi_processor_hotadd_init</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * On some boxes several processors use the same processor bus id.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * But they are located in different scope. For example:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * \\_SB.SCK0.CPU0</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * \\_SB.SCK1.CPU0</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Rename the processor device bus id. And the new bus id will be</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * generated as the following format:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * CPU+CPU ID.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#acpi_device_bid\">acpi_device_bid</a>(<a class=\"id\" href=\"#device\">device</a>), \"CPU%X\", <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>, \"Processor [%d:%d]\\n\", <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#acpi_id\">acpi_id</a>));", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#object\">object</a>.<a class=\"id\" href=\"#processor\">processor</a>.<a class=\"id\" href=\"#pblk_address\">pblk_address</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>, \"No PBLK (NULL address)\\n\"));", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#object\">object</a>.<a class=\"id\" href=\"#processor\">processor</a>.<a class=\"id\" href=\"#pblk_length\">pblk_length</a> != 6)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Invalid PBLK length [%d]\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#object\">object</a>.<a class=\"id\" href=\"#processor\">processor</a>.<a class=\"id\" href=\"#pblk_length\">pblk_length</a>);", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#address\">address</a> = <a class=\"id\" href=\"#object\">object</a>.<a class=\"id\" href=\"#processor\">processor</a>.<a class=\"id\" href=\"#pblk_address\">pblk_address</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#duty_offset\">duty_offset</a> = <a class=\"id\" href=\"#acpi_gbl_FADT\">acpi_gbl_FADT</a>.<a class=\"id\" href=\"#duty_offset\">duty_offset</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#duty_width\">duty_width</a> = <a class=\"id\" href=\"#acpi_gbl_FADT\">acpi_gbl_FADT</a>.<a class=\"id\" href=\"#duty_width\">duty_width</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#pblk\">pblk</a> = <a class=\"id\" href=\"#object\">object</a>.<a class=\"id\" href=\"#processor\">processor</a>.<a class=\"id\" href=\"#pblk_address\">pblk_address</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * We don't care about error returns - we just try to mark</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * these reserved so that nobody else is confused into thinking</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * that this region might be unused..</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * (In particular, allocating the IO range for Cardbus)</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#request_region\">request_region</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#address\">address</a>, 6, \"ACPI CPU throttle\");", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * If ACPI describes a slot number for this CPU, we can use it</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * ensure we get the right value in the \"physical id\" field</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * of /proc/cpuinfo</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_object\">acpi_evaluate_object</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_SUN\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#buffer\">buffer</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arch_fix_phys_package_id\">arch_fix_phys_package_id</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#object\">object</a>.<a class=\"id\" href=\"#integer\">integer</a>.<a class=\"id\" href=\"#value\">value</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#DEFINE_PER_CPU\">DEFINE_PER_CPU</a>(void *, <a class=\"id\" href=\"#processor_device_array\">processor_device_array</a>);", 
"", 
"static void <a class=\"id\" href=\"#acpi_processor_notify\">acpi_processor_notify</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#saved\">saved</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pr\">pr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#event\">event</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_PROCESSOR_NOTIFY_PERFORMANCE\">ACPI_PROCESSOR_NOTIFY_PERFORMANCE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#saved\">saved</a> = <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#performance_platform_limit\">performance_platform_limit</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_ppc_has_changed\">acpi_processor_ppc_has_changed</a>(<a class=\"id\" href=\"#pr\">pr</a>, 1);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#saved\">saved</a> == <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#performance_platform_limit\">performance_platform_limit</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_proc_event\">acpi_bus_generate_proc_event</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#event\">event</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#performance_platform_limit\">performance_platform_limit</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_netlink_event\">acpi_bus_generate_netlink_event</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#device_class\">device_class</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#dev_name\">dev_name</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>), <a class=\"id\" href=\"#event\">event</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#performance_platform_limit\">performance_platform_limit</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_PROCESSOR_NOTIFY_POWER\">ACPI_PROCESSOR_NOTIFY_POWER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_cst_has_changed\">acpi_processor_cst_has_changed</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_proc_event\">acpi_bus_generate_proc_event</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#event\">event</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_netlink_event\">acpi_bus_generate_netlink_event</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#device_class\">device_class</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#dev_name\">dev_name</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>), <a class=\"id\" href=\"#event\">event</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_PROCESSOR_NOTIFY_THROTTLING\">ACPI_PROCESSOR_NOTIFY_THROTTLING</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_tstate_has_changed\">acpi_processor_tstate_has_changed</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_proc_event\">acpi_bus_generate_proc_event</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#event\">event</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_netlink_event\">acpi_bus_generate_netlink_event</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#device_class\">device_class</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#dev_name\">dev_name</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>), <a class=\"id\" href=\"#event\">event</a>, 0);", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Unsupported event [0x%x]\\n\", <a class=\"id\" href=\"#event\">event</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_cpu_soft_notify\">acpi_cpu_soft_notify</a>(struct <a class=\"id\" href=\"#notifier_block\">notifier_block</a> *<a class=\"id\" href=\"#nfb\">nfb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#action\">action</a>, void *<a class=\"id\" href=\"#hcpu\">hcpu</a>)", 
"{", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#cpu\">cpu</a> = (unsigned long)<a class=\"id\" href=\"#hcpu\">hcpu</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#processors\">processors</a>, <a class=\"id\" href=\"#cpu\">cpu</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#action\">action</a> == <a class=\"id\" href=\"#CPU_ONLINE\">CPU_ONLINE</a> && <a class=\"id\" href=\"#pr\">pr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_ppc_has_changed\">acpi_processor_ppc_has_changed</a>(<a class=\"id\" href=\"#pr\">pr</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_cst_has_changed\">acpi_processor_cst_has_changed</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_tstate_has_changed\">acpi_processor_tstate_has_changed</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NOTIFY_OK\">NOTIFY_OK</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#notifier_block\">notifier_block</a> <a class=\"id\" href=\"#acpi_cpu_notifier\">acpi_cpu_notifier</a> =", 
"{", 
"<span class=\"ts\"/>    .<a class=\"id\" href=\"#notifier_call\">notifier_call</a> = <a class=\"id\" href=\"#acpi_cpu_soft_notify\">acpi_cpu_soft_notify</a>,", 
"};", 
"", 
"static int <a class=\"id\" href=\"#__cpuinit\">__cpuinit</a> <a class=\"id\" href=\"#acpi_processor_add\">acpi_processor_add</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sys_device\">sys_device</a> *<a class=\"id\" href=\"#sysdev\">sysdev</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pr\">pr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#zalloc_cpumask_var\">zalloc_cpumask_var</a>(&amp;<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#shared_cpu_map\">shared_cpu_map</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#handle\">handle</a> = <a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#acpi_device_name\">acpi_device_name</a>(<a class=\"id\" href=\"#device\">device</a>), <a class=\"id\" href=\"#ACPI_PROCESSOR_DEVICE_NAME\">ACPI_PROCESSOR_DEVICE_NAME</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#acpi_device_class\">acpi_device_class</a>(<a class=\"id\" href=\"#device\">device</a>), <a class=\"id\" href=\"#ACPI_PROCESSOR_CLASS\">ACPI_PROCESSOR_CLASS</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver_data\">driver_data</a> = <a class=\"id\" href=\"#pr\">pr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_processor_get_info\">acpi_processor_get_info</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Processor is physically not present */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_SMP\">CONFIG_SMP</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a> >= <a class=\"id\" href=\"#setup_max_cpus\">setup_max_cpus</a> && <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a> != 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>((<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a> >= <a class=\"id\" href=\"#nr_cpu_ids\">nr_cpu_ids</a>) || (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a> &lt; 0));", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Buggy BIOS check</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * ACPI id of processors can be reported wrongly by the BIOS.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Don't trust it blindly</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#processor_device_array\">processor_device_array</a>, <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>) != <a class=\"id\" href=\"#NULL\">NULL</a> &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#processor_device_array\">processor_device_array</a>, <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>) != <a class=\"id\" href=\"#device\">device</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> \"BIOS reported wrong ACPI id \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"for the processor\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_free_cpumask\">err_free_cpumask</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#processor_device_array\">processor_device_array</a>, <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>) = <a class=\"id\" href=\"#device\">device</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#processors\">processors</a>, <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>) = <a class=\"id\" href=\"#pr\">pr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_processor_add_fs\">acpi_processor_add_fs</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_free_cpumask\">err_free_cpumask</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysdev\">sysdev</a> = <a class=\"id\" href=\"#get_cpu_sysdev\">get_cpu_sysdev</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sysfs_create_link\">sysfs_create_link</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#kobj\">kobj</a>, &amp;<a class=\"id\" href=\"#sysdev\">sysdev</a>-><a class=\"id\" href=\"#kobj\">kobj</a>, \"sysdev\")) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_remove_fs\">err_remove_fs</a>;", 
"<span class=\"ts\"/>}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_CPU_FREQ\">CONFIG_CPU_FREQ</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_ppc_has_changed\">acpi_processor_ppc_has_changed</a>(<a class=\"id\" href=\"#pr\">pr</a>, 0);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_get_throttling_info\">acpi_processor_get_throttling_info</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_get_limit_info\">acpi_processor_get_limit_info</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cpuidle_get_driver\">cpuidle_get_driver</a>() == &amp;<a class=\"id\" href=\"#acpi_idle_driver\">acpi_idle_driver</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_power_init\">acpi_processor_power_init</a>(<a class=\"id\" href=\"#pr\">pr</a>, <a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a> = <a class=\"id\" href=\"#thermal_cooling_device_register\">thermal_cooling_device_register</a>(\"Processor\", <a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#processor_cooling_ops\">processor_cooling_ops</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_power_exit\">err_power_exit</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_dbg\">dev_dbg</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>, \"registered as cooling_device%d\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#sysfs_create_link\">sysfs_create_link</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#kobj\">kobj</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   &amp;<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a>-><a class=\"id\" href=\"#device\">device</a>.<a class=\"id\" href=\"#kobj\">kobj</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   \"thermal_cooling\");", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Create sysfs link\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_thermal_unregister\">err_thermal_unregister</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#sysfs_create_link\">sysfs_create_link</a>(&amp;<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a>-><a class=\"id\" href=\"#device\">device</a>.<a class=\"id\" href=\"#kobj\">kobj</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   &amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#kobj\">kobj</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   \"device\");", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Create sysfs link\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_remove_sysfs\">err_remove_sysfs</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"", 
"<a class=\"id\" href=\"#err_remove_sysfs\">err_remove_sysfs</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysfs_remove_link\">sysfs_remove_link</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#kobj\">kobj</a>, \"thermal_cooling\");", 
"<a class=\"id\" href=\"#err_thermal_unregister\">err_thermal_unregister</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#thermal_cooling_device_unregister\">thermal_cooling_device_unregister</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a>);", 
"<a class=\"id\" href=\"#err_power_exit\">err_power_exit</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_power_exit\">acpi_processor_power_exit</a>(<a class=\"id\" href=\"#pr\">pr</a>, <a class=\"id\" href=\"#device\">device</a>);", 
"<a class=\"id\" href=\"#err_remove_fs\">err_remove_fs</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_remove_fs\">acpi_processor_remove_fs</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<a class=\"id\" href=\"#err_free_cpumask\">err_free_cpumask</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#free_cpumask_var\">free_cpumask_var</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#shared_cpu_map\">shared_cpu_map</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_processor_remove\">acpi_processor_remove</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a> || !<a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a> >= <a class=\"id\" href=\"#nr_cpu_ids\">nr_cpu_ids</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#free\">free</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#ACPI_BUS_REMOVAL_EJECT\">ACPI_BUS_REMOVAL_EJECT</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_processor_handle_eject\">acpi_processor_handle_eject</a>(<a class=\"id\" href=\"#pr\">pr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_power_exit\">acpi_processor_power_exit</a>(<a class=\"id\" href=\"#pr\">pr</a>, <a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysfs_remove_link\">sysfs_remove_link</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#kobj\">kobj</a>, \"sysdev\");", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_remove_fs\">acpi_processor_remove_fs</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysfs_remove_link\">sysfs_remove_link</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#kobj\">kobj</a>, \"thermal_cooling\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sysfs_remove_link\">sysfs_remove_link</a>(&amp;<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a>-><a class=\"id\" href=\"#device\">device</a>.<a class=\"id\" href=\"#kobj\">kobj</a>, \"device\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#thermal_cooling_device_unregister\">thermal_cooling_device_unregister</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#cdev\">cdev</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#processors\">processors</a>, <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>) = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#processor_device_array\">processor_device_array</a>, <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>) = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<a class=\"id\" href=\"#free\">free</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#free_cpumask_var\">free_cpumask_var</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#shared_cpu_map\">shared_cpu_map</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_HOTPLUG_CPU\">CONFIG_ACPI_HOTPLUG_CPU</a>", 
"<span class=\"comment\">/****************************************************************************</span>", 
"<span class=\"comment\"> * <span class=\"ts\"/>Acpi processor hotplug support <span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <span class=\"ts\"/>    *</span>", 
"<span class=\"comment\"> ****************************************************************************/</span>", 
"", 
"static int <a class=\"id\" href=\"#is_processor_present\">is_processor_present</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#sta\">sta</a> = 0;", 
"", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_STA\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#sta\">sta</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>) && (<a class=\"id\" href=\"#sta\">sta</a> &amp; <a class=\"id\" href=\"#ACPI_STA_DEVICE_PRESENT\">ACPI_STA_DEVICE_PRESENT</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * _STA is mandatory for a processor that supports hot plug</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#status\">status</a> == <a class=\"id\" href=\"#AE_NOT_FOUND\">AE_NOT_FOUND</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"Processor does not support hot plug\\n\"));", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_EXCEPTION\">ACPI_EXCEPTION</a>((<a class=\"id\" href=\"#AE_INFO\">AE_INFO</a>, <a class=\"id\" href=\"#status\">status</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"Processor Device is not present\"));", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static", 
"int <a class=\"id\" href=\"#acpi_processor_device_add\">acpi_processor_device_add</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> **<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#phandle\">phandle</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#pdev\">pdev</a>;", 
"", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_get_parent\">acpi_get_parent</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#phandle\">phandle</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_bus_get_device\">acpi_bus_get_device</a>(<a class=\"id\" href=\"#phandle\">phandle</a>, &amp;<a class=\"id\" href=\"#pdev\">pdev</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_bus_add\">acpi_bus_add</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#pdev\">pdev</a>, <a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#ACPI_BUS_TYPE_PROCESSOR\">ACPI_BUS_TYPE_PROCESSOR</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__ref\">__ref</a> <a class=\"id\" href=\"#acpi_processor_hotplug_notify\">acpi_processor_hotplug_notify</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#event\">event</a>, void *<a class=\"id\" href=\"#data\">data</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#event\">event</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_NOTIFY_BUS_CHECK\">ACPI_NOTIFY_BUS_CHECK</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_NOTIFY_DEVICE_CHECK\">ACPI_NOTIFY_DEVICE_CHECK</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>\"Processor driver received %s event\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>       (<a class=\"id\" href=\"#event\">event</a> == <a class=\"id\" href=\"#ACPI_NOTIFY_BUS_CHECK\">ACPI_NOTIFY_BUS_CHECK</a>) ?", 
"<span class=\"ts\"/><span class=\"ts\"/>       \"ACPI_NOTIFY_BUS_CHECK\" : \"ACPI_NOTIFY_DEVICE_CHECK\"));", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#is_processor_present\">is_processor_present</a>(<a class=\"id\" href=\"#handle\">handle</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_bus_get_device\">acpi_bus_get_device</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#device\">device</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_processor_device_add\">acpi_processor_device_add</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    \"Unable to add the device\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_NOTIFY_EJECT_REQUEST\">ACPI_NOTIFY_EJECT_REQUEST</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"received ACPI_NOTIFY_EJECT_REQUEST\\n\"));", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_bus_get_device\">acpi_bus_get_device</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#device\">device</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    \"Device don't exist, dropping EJECT\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#pr\">pr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    \"Driver data is NULL, dropping EJECT\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Unsupported event [0x%x]\\n\", <a class=\"id\" href=\"#event\">event</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return;", 
"}", 
"", 
"static <a class=\"id\" href=\"#acpi_status\">acpi_status</a>", 
"<a class=\"id\" href=\"#processor_walk_namespace_cb\">processor_walk_namespace_cb</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#lvl\">lvl</a>, void *<a class=\"id\" href=\"#context\">context</a>, void **<a class=\"id\" href=\"#rv\">rv</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/>int *<a class=\"id\" href=\"#action\">action</a> = <a class=\"id\" href=\"#context\">context</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_object_type\">acpi_object_type</a> <a class=\"id\" href=\"#type\">type</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_type\">acpi_get_type</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#type\">type</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return (<a class=\"id\" href=\"#AE_OK\">AE_OK</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#type\">type</a> != <a class=\"id\" href=\"#ACPI_TYPE_PROCESSOR\">ACPI_TYPE_PROCESSOR</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return (<a class=\"id\" href=\"#AE_OK\">AE_OK</a>);", 
"", 
"<span class=\"ts\"/>switch (*<a class=\"id\" href=\"#action\">action</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#INSTALL_NOTIFY_HANDLER\">INSTALL_NOTIFY_HANDLER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_install_notify_handler\">acpi_install_notify_handler</a>(<a class=\"id\" href=\"#handle\">handle</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#ACPI_SYSTEM_NOTIFY\">ACPI_SYSTEM_NOTIFY</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#acpi_processor_hotplug_notify\">acpi_processor_hotplug_notify</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#UNINSTALL_NOTIFY_HANDLER\">UNINSTALL_NOTIFY_HANDLER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_remove_notify_handler\">acpi_remove_notify_handler</a>(<a class=\"id\" href=\"#handle\">handle</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#ACPI_SYSTEM_NOTIFY\">ACPI_SYSTEM_NOTIFY</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#acpi_processor_hotplug_notify\">acpi_processor_hotplug_notify</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#AE_OK\">AE_OK</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#acpi_processor_hotadd_init\">acpi_processor_hotadd_init</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, int *<a class=\"id\" href=\"#p_cpu\">p_cpu</a>)", 
"{", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#is_processor_present\">is_processor_present</a>(<a class=\"id\" href=\"#handle\">handle</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_ERROR\">AE_ERROR</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_map_lsapic\">acpi_map_lsapic</a>(<a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#p_cpu\">p_cpu</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_ERROR\">AE_ERROR</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#arch_register_cpu\">arch_register_cpu</a>(*<a class=\"id\" href=\"#p_cpu\">p_cpu</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_unmap_lsapic\">acpi_unmap_lsapic</a>(*<a class=\"id\" href=\"#p_cpu\">p_cpu</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_ERROR\">AE_ERROR</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_processor_handle_eject\">acpi_processor_handle_eject</a>(struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cpu_online\">cpu_online</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpu_down\">cpu_down</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arch_unregister_cpu\">arch_unregister_cpu</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_unmap_lsapic\">acpi_unmap_lsapic</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/>return (0);", 
"}", 
"#else", 
"static <a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#acpi_processor_hotadd_init\">acpi_processor_hotadd_init</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, int *<a class=\"id\" href=\"#p_cpu\">p_cpu</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#AE_ERROR\">AE_ERROR</a>;", 
"}", 
"static int <a class=\"id\" href=\"#acpi_processor_handle_eject\">acpi_processor_handle_eject</a>(struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a>)", 
"{", 
"<span class=\"ts\"/>return (-<a class=\"id\" href=\"#EINVAL\">EINVAL</a>);", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static", 
"void <a class=\"id\" href=\"#acpi_processor_install_hotplug_notify\">acpi_processor_install_hotplug_notify</a>(void)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_HOTPLUG_CPU\">CONFIG_ACPI_HOTPLUG_CPU</a>", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#action\">action</a> = <a class=\"id\" href=\"#INSTALL_NOTIFY_HANDLER\">INSTALL_NOTIFY_HANDLER</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_walk_namespace\">acpi_walk_namespace</a>(<a class=\"id\" href=\"#ACPI_TYPE_PROCESSOR\">ACPI_TYPE_PROCESSOR</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#ACPI_ROOT_OBJECT\">ACPI_ROOT_OBJECT</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#ACPI_UINT32_MAX\">ACPI_UINT32_MAX</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#processor_walk_namespace_cb\">processor_walk_namespace_cb</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#action\">action</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#register_hotcpu_notifier\">register_hotcpu_notifier</a>(&amp;<a class=\"id\" href=\"#acpi_cpu_notifier\">acpi_cpu_notifier</a>);", 
"}", 
"", 
"static", 
"void <a class=\"id\" href=\"#acpi_processor_uninstall_hotplug_notify\">acpi_processor_uninstall_hotplug_notify</a>(void)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_HOTPLUG_CPU\">CONFIG_ACPI_HOTPLUG_CPU</a>", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#action\">action</a> = <a class=\"id\" href=\"#UNINSTALL_NOTIFY_HANDLER\">UNINSTALL_NOTIFY_HANDLER</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_walk_namespace\">acpi_walk_namespace</a>(<a class=\"id\" href=\"#ACPI_TYPE_PROCESSOR\">ACPI_TYPE_PROCESSOR</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#ACPI_ROOT_OBJECT\">ACPI_ROOT_OBJECT</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#ACPI_UINT32_MAX\">ACPI_UINT32_MAX</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#processor_walk_namespace_cb\">processor_walk_namespace_cb</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#action\">action</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unregister_hotcpu_notifier\">unregister_hotcpu_notifier</a>(&amp;<a class=\"id\" href=\"#acpi_cpu_notifier\">acpi_cpu_notifier</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * We keep the driver loaded even when ACPI is not running.</span>", 
"<span class=\"comment\"> * This is needed for the powernow-k8 driver, that works even without</span>", 
"<span class=\"comment\"> * ACPI, but needs symbols from this driver</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#acpi_processor_init\">acpi_processor_init</a>(void)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_disabled\">acpi_disabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#errata\">errata</a>, 0, sizeof(<a class=\"id\" href=\"#errata\">errata</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_dir\">acpi_processor_dir</a> = <a class=\"id\" href=\"#proc_mkdir\">proc_mkdir</a>(<a class=\"id\" href=\"#ACPI_PROCESSOR_CLASS\">ACPI_PROCESSOR_CLASS</a>, <a class=\"id\" href=\"#acpi_root_dir\">acpi_root_dir</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_processor_dir\">acpi_processor_dir</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#cpuidle_register_driver\">cpuidle_register_driver</a>(&amp;<a class=\"id\" href=\"#acpi_idle_driver\">acpi_idle_driver</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_DEBUG\">KERN_DEBUG</a> \"ACPI: %s registered with cpuidle\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_idle_driver\">acpi_idle_driver</a>.<a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_DEBUG\">KERN_DEBUG</a> \"ACPI: acpi_idle yielding to %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_get_driver\">cpuidle_get_driver</a>()-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_bus_register_driver\">acpi_bus_register_driver</a>(&amp;<a class=\"id\" href=\"#acpi_processor_driver\">acpi_processor_driver</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_cpuidle\">out_cpuidle</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_install_hotplug_notify\">acpi_processor_install_hotplug_notify</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_thermal_cpufreq_init\">acpi_thermal_cpufreq_init</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_ppc_init\">acpi_processor_ppc_init</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_throttling_init\">acpi_processor_throttling_init</a>();", 
"", 
"<span class=\"ts\"/>return 0;", 
"", 
"<a class=\"id\" href=\"#out_cpuidle\">out_cpuidle</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_unregister_driver\">cpuidle_unregister_driver</a>(&amp;<a class=\"id\" href=\"#acpi_idle_driver\">acpi_idle_driver</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_PROCESSOR_CLASS\">ACPI_PROCESSOR_CLASS</a>, <a class=\"id\" href=\"#acpi_root_dir\">acpi_root_dir</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a> <a class=\"id\" href=\"#acpi_processor_exit\">acpi_processor_exit</a>(void)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_disabled\">acpi_disabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_ppc_exit\">acpi_processor_ppc_exit</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_thermal_cpufreq_exit\">acpi_thermal_cpufreq_exit</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_processor_uninstall_hotplug_notify\">acpi_processor_uninstall_hotplug_notify</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_unregister_driver\">acpi_bus_unregister_driver</a>(&amp;<a class=\"id\" href=\"#acpi_processor_driver\">acpi_processor_driver</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_unregister_driver\">cpuidle_unregister_driver</a>(&amp;<a class=\"id\" href=\"#acpi_idle_driver\">acpi_idle_driver</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(<a class=\"id\" href=\"#ACPI_PROCESSOR_CLASS\">ACPI_PROCESSOR_CLASS</a>, <a class=\"id\" href=\"#acpi_root_dir\">acpi_root_dir</a>);", 
"", 
"<span class=\"ts\"/>return;", 
"}", 
"", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#acpi_processor_init\">acpi_processor_init</a>);", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#acpi_processor_exit\">acpi_processor_exit</a>);", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_processor_set_thermal_limit\">acpi_processor_set_thermal_limit</a>);", 
"", 
"<a class=\"id\" href=\"#MODULE_ALIAS\">MODULE_ALIAS</a>(\"processor\");", 
];
xr_frag_insert('l/60/342b40a293cf362288b92ccc98f6d631d9f5b7.xr', __xr_tmp);
