var __xr_tmp = [
"static const int <a class=\"id\" href=\"#write_expire\">write_expire</a> = 5 * <a class=\"id\" href=\"#HZ\">HZ</a>; <span class=\"comment\">/* ditto for writes, these limits are SOFT! */</span>", 
"static const int <a class=\"id\" href=\"#writes_starved\">writes_starved</a> = 2;    <span class=\"comment\">/* max times reads can starve a write */</span>", 
"static const int <a class=\"id\" href=\"#fifo_batch\">fifo_batch</a> = 16;       <span class=\"comment\">/* # of sequential requests treated as one</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     by the above parameters. For throughput. */</span>", 
"", 
"struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> {", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * run time data</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * requests (deadline_rq s) are present on both sort_list and fifo_list</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rb_root\">rb_root</a> <a class=\"id\" href=\"#sort_list\">sort_list</a>[2];<span class=\"ts\"/>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> <a class=\"id\" href=\"#fifo_list\">fifo_list</a>[2];", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * next in sort order. read, write or both are NULL</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#next_rq\">next_rq</a>[2];", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#batching\">batching</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* number of sequential requests made */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sector_t\">sector_t</a> <a class=\"id\" href=\"#last_sector\">last_sector</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* head position */</span>", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#starved\">starved</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* times reads have starved writes */</span>", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * settings that change how the i/o scheduler behaves</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#fifo_expire\">fifo_expire</a>[2];", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#fifo_batch\">fifo_batch</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#writes_starved\">writes_starved</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#front_merges\">front_merges</a>;", 
"};", 
"", 
"static void <a class=\"id\" href=\"#deadline_move_request\">deadline_move_request</a>(struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *, struct <a class=\"id\" href=\"#request\">request</a> *);", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> struct <a class=\"id\" href=\"#rb_root\">rb_root</a> *", 
"<a class=\"id\" href=\"#deadline_rb_root\">deadline_rb_root</a>(struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a>, struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>)", 
"{", 
"<span class=\"ts\"/>return &amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#sort_list\">sort_list</a>[<a class=\"id\" href=\"#rq_data_dir\">rq_data_dir</a>(<a class=\"id\" href=\"#rq\">rq</a>)];", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * get the request after `rq' in sector-sorted order</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> struct <a class=\"id\" href=\"#request\">request</a> *", 
"<a class=\"id\" href=\"#deadline_latter_request\">deadline_latter_request</a>(struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rb_node\">rb_node</a> *<a class=\"id\" href=\"#node\">node</a> = <a class=\"id\" href=\"#rb_next\">rb_next</a>(&amp;<a class=\"id\" href=\"#rq\">rq</a>-><a class=\"id\" href=\"#rb_node\">rb_node</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#node\">node</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#rb_entry_rq\">rb_entry_rq</a>(<a class=\"id\" href=\"#node\">node</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"static void", 
"<a class=\"id\" href=\"#deadline_add_rq_rb\">deadline_add_rq_rb</a>(struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a>, struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rb_root\">rb_root</a> *<a class=\"id\" href=\"#root\">root</a> = <a class=\"id\" href=\"#deadline_rb_root\">deadline_rb_root</a>(<a class=\"id\" href=\"#dd\">dd</a>, <a class=\"id\" href=\"#rq\">rq</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#__alias\">__alias</a>;", 
"", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#__alias\">__alias</a> = <a class=\"id\" href=\"#elv_rb_add\">elv_rb_add</a>(<a class=\"id\" href=\"#root\">root</a>, <a class=\"id\" href=\"#rq\">rq</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#deadline_move_request\">deadline_move_request</a>(<a class=\"id\" href=\"#dd\">dd</a>, <a class=\"id\" href=\"#__alias\">__alias</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void", 
"<a class=\"id\" href=\"#deadline_del_rq_rb\">deadline_del_rq_rb</a>(struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a>, struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>)", 
"{", 
"<span class=\"ts\"/>const int <a class=\"id\" href=\"#data_dir\">data_dir</a> = <a class=\"id\" href=\"#rq_data_dir\">rq_data_dir</a>(<a class=\"id\" href=\"#rq\">rq</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#next_rq\">next_rq</a>[<a class=\"id\" href=\"#data_dir\">data_dir</a>] == <a class=\"id\" href=\"#rq\">rq</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#next_rq\">next_rq</a>[<a class=\"id\" href=\"#data_dir\">data_dir</a>] = <a class=\"id\" href=\"#deadline_latter_request\">deadline_latter_request</a>(<a class=\"id\" href=\"#rq\">rq</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#elv_rb_del\">elv_rb_del</a>(<a class=\"id\" href=\"#deadline_rb_root\">deadline_rb_root</a>(<a class=\"id\" href=\"#dd\">dd</a>, <a class=\"id\" href=\"#rq\">rq</a>), <a class=\"id\" href=\"#rq\">rq</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * add rq to rbtree and fifo</span>", 
"<span class=\"comment\"> */</span>", 
"static void", 
"<a class=\"id\" href=\"#deadline_add_request\">deadline_add_request</a>(struct <a class=\"id\" href=\"#request_queue\">request_queue</a> *<a class=\"id\" href=\"#q\">q</a>, struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#elevator\">elevator</a>-><a class=\"id\" href=\"#elevator_data\">elevator_data</a>;", 
"<span class=\"ts\"/>const int <a class=\"id\" href=\"#data_dir\">data_dir</a> = <a class=\"id\" href=\"#rq_data_dir\">rq_data_dir</a>(<a class=\"id\" href=\"#rq\">rq</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#deadline_add_rq_rb\">deadline_add_rq_rb</a>(<a class=\"id\" href=\"#dd\">dd</a>, <a class=\"id\" href=\"#rq\">rq</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * set expire time and add to fifo list</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rq_set_fifo_time\">rq_set_fifo_time</a>(<a class=\"id\" href=\"#rq\">rq</a>, <a class=\"id\" href=\"#jiffies\">jiffies</a> + <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_expire\">fifo_expire</a>[<a class=\"id\" href=\"#data_dir\">data_dir</a>]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#rq\">rq</a>-><a class=\"id\" href=\"#queuelist\">queuelist</a>, &amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#data_dir\">data_dir</a>]);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * remove rq from rbtree and fifo.</span>", 
"<span class=\"comment\"> */</span>", 
"static void <a class=\"id\" href=\"#deadline_remove_request\">deadline_remove_request</a>(struct <a class=\"id\" href=\"#request_queue\">request_queue</a> *<a class=\"id\" href=\"#q\">q</a>, struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#elevator\">elevator</a>-><a class=\"id\" href=\"#elevator_data\">elevator_data</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rq_fifo_clear\">rq_fifo_clear</a>(<a class=\"id\" href=\"#rq\">rq</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#deadline_del_rq_rb\">deadline_del_rq_rb</a>(<a class=\"id\" href=\"#dd\">dd</a>, <a class=\"id\" href=\"#rq\">rq</a>);", 
"}", 
"", 
"static int", 
"<a class=\"id\" href=\"#deadline_merge\">deadline_merge</a>(struct <a class=\"id\" href=\"#request_queue\">request_queue</a> *<a class=\"id\" href=\"#q\">q</a>, struct <a class=\"id\" href=\"#request\">request</a> **<a class=\"id\" href=\"#req\">req</a>, struct <a class=\"id\" href=\"#bio\">bio</a> *<a class=\"id\" href=\"#bio\">bio</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#elevator\">elevator</a>-><a class=\"id\" href=\"#elevator_data\">elevator_data</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#__rq\">__rq</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * check for front merge</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#front_merges\">front_merges</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sector_t\">sector_t</a> <a class=\"id\" href=\"#sector\">sector</a> = <a class=\"id\" href=\"#bio\">bio</a>-><a class=\"id\" href=\"#bi_sector\">bi_sector</a> + <a class=\"id\" href=\"#bio_sectors\">bio_sectors</a>(<a class=\"id\" href=\"#bio\">bio</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__rq\">__rq</a> = <a class=\"id\" href=\"#elv_rb_find\">elv_rb_find</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#sort_list\">sort_list</a>[<a class=\"id\" href=\"#bio_data_dir\">bio_data_dir</a>(<a class=\"id\" href=\"#bio\">bio</a>)], <a class=\"id\" href=\"#sector\">sector</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#__rq\">__rq</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>(<a class=\"id\" href=\"#sector\">sector</a> != <a class=\"id\" href=\"#blk_rq_pos\">blk_rq_pos</a>(<a class=\"id\" href=\"#__rq\">__rq</a>));", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#elv_rq_merge_ok\">elv_rq_merge_ok</a>(<a class=\"id\" href=\"#__rq\">__rq</a>, <a class=\"id\" href=\"#bio\">bio</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#ELEVATOR_FRONT_MERGE\">ELEVATOR_FRONT_MERGE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ELEVATOR_NO_MERGE\">ELEVATOR_NO_MERGE</a>;", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#req\">req</a> = <a class=\"id\" href=\"#__rq\">__rq</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#deadline_merged_request\">deadline_merged_request</a>(struct <a class=\"id\" href=\"#request_queue\">request_queue</a> *<a class=\"id\" href=\"#q\">q</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#req\">req</a>, int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#elevator\">elevator</a>-><a class=\"id\" href=\"#elevator_data\">elevator_data</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * if the merge was a front merge, we need to reposition request</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#ELEVATOR_FRONT_MERGE\">ELEVATOR_FRONT_MERGE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#elv_rb_del\">elv_rb_del</a>(<a class=\"id\" href=\"#deadline_rb_root\">deadline_rb_root</a>(<a class=\"id\" href=\"#dd\">dd</a>, <a class=\"id\" href=\"#req\">req</a>), <a class=\"id\" href=\"#req\">req</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#deadline_add_rq_rb\">deadline_add_rq_rb</a>(<a class=\"id\" href=\"#dd\">dd</a>, <a class=\"id\" href=\"#req\">req</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static void", 
"<a class=\"id\" href=\"#deadline_merged_requests\">deadline_merged_requests</a>(struct <a class=\"id\" href=\"#request_queue\">request_queue</a> *<a class=\"id\" href=\"#q\">q</a>, struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#req\">req</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#next\">next</a>)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * if next expires before rq, assign its expire time to rq</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * and move into next position (next will be deleted) in fifo</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#req\">req</a>-><a class=\"id\" href=\"#queuelist\">queuelist</a>) && !<a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#next\">next</a>-><a class=\"id\" href=\"#queuelist\">queuelist</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#time_before\">time_before</a>(<a class=\"id\" href=\"#rq_fifo_time\">rq_fifo_time</a>(<a class=\"id\" href=\"#next\">next</a>), <a class=\"id\" href=\"#rq_fifo_time\">rq_fifo_time</a>(<a class=\"id\" href=\"#req\">req</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_move\">list_move</a>(&amp;<a class=\"id\" href=\"#req\">req</a>-><a class=\"id\" href=\"#queuelist\">queuelist</a>, &amp;<a class=\"id\" href=\"#next\">next</a>-><a class=\"id\" href=\"#queuelist\">queuelist</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rq_set_fifo_time\">rq_set_fifo_time</a>(<a class=\"id\" href=\"#req\">req</a>, <a class=\"id\" href=\"#rq_fifo_time\">rq_fifo_time</a>(<a class=\"id\" href=\"#next\">next</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * kill knowledge of next, this one is a goner</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#deadline_remove_request\">deadline_remove_request</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#next\">next</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * move request from sort list to dispatch queue.</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> void", 
"<a class=\"id\" href=\"#deadline_move_to_dispatch\">deadline_move_to_dispatch</a>(struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a>, struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#request_queue\">request_queue</a> *<a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#rq\">rq</a>-><a class=\"id\" href=\"#q\">q</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#deadline_remove_request\">deadline_remove_request</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#rq\">rq</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#elv_dispatch_add_tail\">elv_dispatch_add_tail</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#rq\">rq</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * move an entry to dispatch queue</span>", 
"<span class=\"comment\"> */</span>", 
"static void", 
"<a class=\"id\" href=\"#deadline_move_request\">deadline_move_request</a>(struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a>, struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>)", 
"{", 
"<span class=\"ts\"/>const int <a class=\"id\" href=\"#data_dir\">data_dir</a> = <a class=\"id\" href=\"#rq_data_dir\">rq_data_dir</a>(<a class=\"id\" href=\"#rq\">rq</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#next_rq\">next_rq</a>[<a class=\"id\" href=\"#READ\">READ</a>] = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#next_rq\">next_rq</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>] = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#next_rq\">next_rq</a>[<a class=\"id\" href=\"#data_dir\">data_dir</a>] = <a class=\"id\" href=\"#deadline_latter_request\">deadline_latter_request</a>(<a class=\"id\" href=\"#rq\">rq</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#last_sector\">last_sector</a> = <a class=\"id\" href=\"#rq_end_sector\">rq_end_sector</a>(<a class=\"id\" href=\"#rq\">rq</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * take it off the sort and fifo list, move</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * to dispatch queue</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#deadline_move_to_dispatch\">deadline_move_to_dispatch</a>(<a class=\"id\" href=\"#dd\">dd</a>, <a class=\"id\" href=\"#rq\">rq</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * deadline_check_fifo returns 0 if there are no expired requests on the fifo,</span>", 
"<span class=\"comment\"> * 1 otherwise. Requires !list_empty(&amp;dd-&gt;fifo_list[data_dir])</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#deadline_check_fifo\">deadline_check_fifo</a>(struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a>, int <a class=\"id\" href=\"#ddir\">ddir</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a> = <a class=\"id\" href=\"#rq_entry_fifo\">rq_entry_fifo</a>(<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#ddir\">ddir</a>].<a class=\"id\" href=\"#next\">next</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * rq is expired!</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#time_after\">time_after</a>(<a class=\"id\" href=\"#jiffies\">jiffies</a>, <a class=\"id\" href=\"#rq_fifo_time\">rq_fifo_time</a>(<a class=\"id\" href=\"#rq\">rq</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * deadline_dispatch_requests selects the best request according to</span>", 
"<span class=\"comment\"> * read/write expire, fifo_batch, etc</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#deadline_dispatch_requests\">deadline_dispatch_requests</a>(struct <a class=\"id\" href=\"#request_queue\">request_queue</a> *<a class=\"id\" href=\"#q\">q</a>, int <a class=\"id\" href=\"#force\">force</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#elevator\">elevator</a>-><a class=\"id\" href=\"#elevator_data\">elevator_data</a>;", 
"<span class=\"ts\"/>const int <a class=\"id\" href=\"#reads\">reads</a> = !<a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#READ\">READ</a>]);", 
"<span class=\"ts\"/>const int <a class=\"id\" href=\"#writes\">writes</a> = !<a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>]);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#data_dir\">data_dir</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * batches are currently reads XOR writes</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#next_rq\">next_rq</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a> = <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#next_rq\">next_rq</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>];", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a> = <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#next_rq\">next_rq</a>[<a class=\"id\" href=\"#READ\">READ</a>];", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rq\">rq</a> && <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#batching\">batching</a> &lt; <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_batch\">fifo_batch</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* we have a next request are still entitled to batch */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#dispatch_request\">dispatch_request</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * at this point we are not running a batch. select the appropriate</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * data direction (read / write)</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#reads\">reads</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>(<a class=\"id\" href=\"#RB_EMPTY_ROOT\">RB_EMPTY_ROOT</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#sort_list\">sort_list</a>[<a class=\"id\" href=\"#READ\">READ</a>]));", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#writes\">writes</a> && (<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#starved\">starved</a>++ >= <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#writes_starved\">writes_starved</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#dispatch_writes\">dispatch_writes</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#data_dir\">data_dir</a> = <a class=\"id\" href=\"#READ\">READ</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#dispatch_find_request\">dispatch_find_request</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * there are either no reads or writes have been starved</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#writes\">writes</a>) {", 
"<a class=\"id\" href=\"#dispatch_writes\">dispatch_writes</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>(<a class=\"id\" href=\"#RB_EMPTY_ROOT\">RB_EMPTY_ROOT</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#sort_list\">sort_list</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>]));", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#starved\">starved</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#data_dir\">data_dir</a> = <a class=\"id\" href=\"#WRITE\">WRITE</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#dispatch_find_request\">dispatch_find_request</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"", 
"<a class=\"id\" href=\"#dispatch_find_request\">dispatch_find_request</a>:", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * we are not running a batch, find best request for selected data_dir</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#deadline_check_fifo\">deadline_check_fifo</a>(<a class=\"id\" href=\"#dd\">dd</a>, <a class=\"id\" href=\"#data_dir\">data_dir</a>) || !<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#next_rq\">next_rq</a>[<a class=\"id\" href=\"#data_dir\">data_dir</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * A deadline has expired, the last request was in the other</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * direction, or we have run out of higher-sectored requests.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Start again from the request with the earliest expiry time.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a> = <a class=\"id\" href=\"#rq_entry_fifo\">rq_entry_fifo</a>(<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#data_dir\">data_dir</a>].<a class=\"id\" href=\"#next\">next</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * The last req was the same dir and we have a next request in</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * sort order. No expired requests so continue on from here.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a> = <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#next_rq\">next_rq</a>[<a class=\"id\" href=\"#data_dir\">data_dir</a>];", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#batching\">batching</a> = 0;", 
"", 
"<a class=\"id\" href=\"#dispatch_request\">dispatch_request</a>:", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * rq is the selected appropriate request.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#batching\">batching</a>++;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#deadline_move_request\">deadline_move_request</a>(<a class=\"id\" href=\"#dd\">dd</a>, <a class=\"id\" href=\"#rq\">rq</a>);", 
"", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#deadline_queue_empty\">deadline_queue_empty</a>(struct <a class=\"id\" href=\"#request_queue\">request_queue</a> *<a class=\"id\" href=\"#q\">q</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#elevator\">elevator</a>-><a class=\"id\" href=\"#elevator_data\">elevator_data</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/>&& <a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#READ\">READ</a>]);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#deadline_exit_queue\">deadline_exit_queue</a>(struct <a class=\"id\" href=\"#elevator_queue\">elevator_queue</a> *<a class=\"id\" href=\"#e\">e</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#e\">e</a>-><a class=\"id\" href=\"#elevator_data\">elevator_data</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>(!<a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#READ\">READ</a>]));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>(!<a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>]));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#dd\">dd</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * initialize elevator private data (deadline_data).</span>", 
"<span class=\"comment\"> */</span>", 
"static void *<a class=\"id\" href=\"#deadline_init_queue\">deadline_init_queue</a>(struct <a class=\"id\" href=\"#request_queue\">request_queue</a> *<a class=\"id\" href=\"#q\">q</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#kmalloc_node\">kmalloc_node</a>(sizeof(*<a class=\"id\" href=\"#dd\">dd</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a> | <a class=\"id\" href=\"#__GFP_ZERO\">__GFP_ZERO</a>, <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#node\">node</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dd\">dd</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#READ\">READ</a>]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_list\">fifo_list</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#sort_list\">sort_list</a>[<a class=\"id\" href=\"#READ\">READ</a>] = <a class=\"id\" href=\"#RB_ROOT\">RB_ROOT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#sort_list\">sort_list</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>] = <a class=\"id\" href=\"#RB_ROOT\">RB_ROOT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_expire\">fifo_expire</a>[<a class=\"id\" href=\"#READ\">READ</a>] = <a class=\"id\" href=\"#read_expire\">read_expire</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_expire\">fifo_expire</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>] = <a class=\"id\" href=\"#write_expire\">write_expire</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#writes_starved\">writes_starved</a> = <a class=\"id\" href=\"#writes_starved\">writes_starved</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#front_merges\">front_merges</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_batch\">fifo_batch</a> = <a class=\"id\" href=\"#fifo_batch\">fifo_batch</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#dd\">dd</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * sysfs parts below</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a>", 
"<a class=\"id\" href=\"#deadline_var_show\">deadline_var_show</a>(int <a class=\"id\" href=\"#var\">var</a>, char *<a class=\"id\" href=\"#page\">page</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#page\">page</a>, \"%d\\n\", <a class=\"id\" href=\"#var\">var</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a>", 
"<a class=\"id\" href=\"#deadline_var_store\">deadline_var_store</a>(int *<a class=\"id\" href=\"#var\">var</a>, const char *<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#p\">p</a> = (char *) <a class=\"id\" href=\"#page\">page</a>;", 
"", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#var\">var</a> = <a class=\"id\" href=\"#simple_strtol\">simple_strtol</a>(<a class=\"id\" href=\"#p\">p</a>, &amp;<a class=\"id\" href=\"#p\">p</a>, 10);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SHOW_FUNCTION\">SHOW_FUNCTION</a>(<a class=\"id\" href=\"#__FUNC\">__FUNC</a>, <a class=\"id\" href=\"#__VAR\">__VAR</a>, <a class=\"id\" href=\"#__CONV\">__CONV</a>)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#__FUNC\">__FUNC</a>(struct <a class=\"id\" href=\"#elevator_queue\">elevator_queue</a> *<a class=\"id\" href=\"#e\">e</a>, char *<a class=\"id\" href=\"#page\">page</a>)<span class=\"ts\"/><span class=\"ts\"/>\\", 
"{<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#e\">e</a>-><a class=\"id\" href=\"#elevator_data\">elevator_data</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#__data\">__data</a> = <a class=\"id\" href=\"#__VAR\">__VAR</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#__CONV\">__CONV</a>)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__data\">__data</a> = <a class=\"id\" href=\"#jiffies_to_msecs\">jiffies_to_msecs</a>(<a class=\"id\" href=\"#__data\">__data</a>);<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#deadline_var_show\">deadline_var_show</a>(<a class=\"id\" href=\"#__data\">__data</a>, (<a class=\"id\" href=\"#page\">page</a>));<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"}", 
"<a class=\"id\" href=\"#SHOW_FUNCTION\">SHOW_FUNCTION</a>(<a class=\"id\" href=\"#deadline_read_expire_show\">deadline_read_expire_show</a>, <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_expire\">fifo_expire</a>[<a class=\"id\" href=\"#READ\">READ</a>], 1);", 
"<a class=\"id\" href=\"#SHOW_FUNCTION\">SHOW_FUNCTION</a>(<a class=\"id\" href=\"#deadline_write_expire_show\">deadline_write_expire_show</a>, <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_expire\">fifo_expire</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>], 1);", 
"<a class=\"id\" href=\"#SHOW_FUNCTION\">SHOW_FUNCTION</a>(<a class=\"id\" href=\"#deadline_writes_starved_show\">deadline_writes_starved_show</a>, <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#writes_starved\">writes_starved</a>, 0);", 
"<a class=\"id\" href=\"#SHOW_FUNCTION\">SHOW_FUNCTION</a>(<a class=\"id\" href=\"#deadline_front_merges_show\">deadline_front_merges_show</a>, <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#front_merges\">front_merges</a>, 0);", 
"<a class=\"id\" href=\"#SHOW_FUNCTION\">SHOW_FUNCTION</a>(<a class=\"id\" href=\"#deadline_fifo_batch_show\">deadline_fifo_batch_show</a>, <a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_batch\">fifo_batch</a>, 0);", 
"#<a class=\"id\" href=\"#undef\">undef</a> <a class=\"id\" href=\"#SHOW_FUNCTION\">SHOW_FUNCTION</a>", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#STORE_FUNCTION\">STORE_FUNCTION</a>(<a class=\"id\" href=\"#__FUNC\">__FUNC</a>, <a class=\"id\" href=\"#__PTR\">__PTR</a>, <a class=\"id\" href=\"#MIN\">MIN</a>, <a class=\"id\" href=\"#MAX\">MAX</a>, <a class=\"id\" href=\"#__CONV\">__CONV</a>)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#__FUNC\">__FUNC</a>(struct <a class=\"id\" href=\"#elevator_queue\">elevator_queue</a> *<a class=\"id\" href=\"#e\">e</a>, const char *<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)<span class=\"ts\"/>\\", 
"{<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#deadline_data\">deadline_data</a> *<a class=\"id\" href=\"#dd\">dd</a> = <a class=\"id\" href=\"#e\">e</a>-><a class=\"id\" href=\"#elevator_data\">elevator_data</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#__data\">__data</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#deadline_var_store\">deadline_var_store</a>(&amp;<a class=\"id\" href=\"#__data\">__data</a>, (<a class=\"id\" href=\"#page\">page</a>), <a class=\"id\" href=\"#count\">count</a>);<span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#__data\">__data</a> &lt; (<a class=\"id\" href=\"#MIN\">MIN</a>))<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__data\">__data</a> = (<a class=\"id\" href=\"#MIN\">MIN</a>);<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#__data\">__data</a> &gt; (<a class=\"id\" href=\"#MAX\">MAX</a>))<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__data\">__data</a> = (<a class=\"id\" href=\"#MAX\">MAX</a>);<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#__CONV\">__CONV</a>)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/>*(<a class=\"id\" href=\"#__PTR\">__PTR</a>) = <a class=\"id\" href=\"#msecs_to_jiffies\">msecs_to_jiffies</a>(<a class=\"id\" href=\"#__data\">__data</a>);<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>else<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/>*(<a class=\"id\" href=\"#__PTR\">__PTR</a>) = <a class=\"id\" href=\"#__data\">__data</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"}", 
"<a class=\"id\" href=\"#STORE_FUNCTION\">STORE_FUNCTION</a>(<a class=\"id\" href=\"#deadline_read_expire_store\">deadline_read_expire_store</a>, &amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_expire\">fifo_expire</a>[<a class=\"id\" href=\"#READ\">READ</a>], 0, <a class=\"id\" href=\"#INT_MAX\">INT_MAX</a>, 1);", 
"<a class=\"id\" href=\"#STORE_FUNCTION\">STORE_FUNCTION</a>(<a class=\"id\" href=\"#deadline_write_expire_store\">deadline_write_expire_store</a>, &amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_expire\">fifo_expire</a>[<a class=\"id\" href=\"#WRITE\">WRITE</a>], 0, <a class=\"id\" href=\"#INT_MAX\">INT_MAX</a>, 1);", 
"<a class=\"id\" href=\"#STORE_FUNCTION\">STORE_FUNCTION</a>(<a class=\"id\" href=\"#deadline_writes_starved_store\">deadline_writes_starved_store</a>, &amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#writes_starved\">writes_starved</a>, <a class=\"id\" href=\"#INT_MIN\">INT_MIN</a>, <a class=\"id\" href=\"#INT_MAX\">INT_MAX</a>, 0);", 
"<a class=\"id\" href=\"#STORE_FUNCTION\">STORE_FUNCTION</a>(<a class=\"id\" href=\"#deadline_front_merges_store\">deadline_front_merges_store</a>, &amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#front_merges\">front_merges</a>, 0, 1, 0);", 
"<a class=\"id\" href=\"#STORE_FUNCTION\">STORE_FUNCTION</a>(<a class=\"id\" href=\"#deadline_fifo_batch_store\">deadline_fifo_batch_store</a>, &amp;<a class=\"id\" href=\"#dd\">dd</a>-><a class=\"id\" href=\"#fifo_batch\">fifo_batch</a>, 0, <a class=\"id\" href=\"#INT_MAX\">INT_MAX</a>, 0);", 
"#<a class=\"id\" href=\"#undef\">undef</a> <a class=\"id\" href=\"#STORE_FUNCTION\">STORE_FUNCTION</a>", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DD_ATTR\">DD_ATTR</a>(<a class=\"id\" href=\"#name\">name</a>) \\", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR\">__ATTR</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>|<a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>, <a class=\"id\" href=\"#deadline_\">deadline_</a>##<a class=\"id\" href=\"#name\">name</a>##<a class=\"id\" href=\"#_show\">_show</a>, \\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#deadline_\">deadline_</a>##<a class=\"id\" href=\"#name\">name</a>##<a class=\"id\" href=\"#_store\">_store</a>)", 
"", 
"static struct <a class=\"id\" href=\"#elv_fs_entry\">elv_fs_entry</a> <a class=\"id\" href=\"#deadline_attrs\">deadline_attrs</a>[] = {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DD_ATTR\">DD_ATTR</a>(<a class=\"id\" href=\"#read_expire\">read_expire</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DD_ATTR\">DD_ATTR</a>(<a class=\"id\" href=\"#write_expire\">write_expire</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DD_ATTR\">DD_ATTR</a>(<a class=\"id\" href=\"#writes_starved\">writes_starved</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DD_ATTR\">DD_ATTR</a>(<a class=\"id\" href=\"#front_merges\">front_merges</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DD_ATTR\">DD_ATTR</a>(<a class=\"id\" href=\"#fifo_batch\">fifo_batch</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__ATTR_NULL\">__ATTR_NULL</a>", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#elevator_type\">elevator_type</a> <a class=\"id\" href=\"#iosched_deadline\">iosched_deadline</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ops\">ops</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_merge_fn\">elevator_merge_fn</a> = <span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#deadline_merge\">deadline_merge</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_merged_fn\">elevator_merged_fn</a> =<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#deadline_merged_request\">deadline_merged_request</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_merge_req_fn\">elevator_merge_req_fn</a> =<span class=\"ts\"/><a class=\"id\" href=\"#deadline_merged_requests\">deadline_merged_requests</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_dispatch_fn\">elevator_dispatch_fn</a> =<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#deadline_dispatch_requests\">deadline_dispatch_requests</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_add_req_fn\">elevator_add_req_fn</a> =<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#deadline_add_request\">deadline_add_request</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_queue_empty_fn\">elevator_queue_empty_fn</a> =<span class=\"ts\"/><a class=\"id\" href=\"#deadline_queue_empty\">deadline_queue_empty</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_former_req_fn\">elevator_former_req_fn</a> =<span class=\"ts\"/><a class=\"id\" href=\"#elv_rb_former_request\">elv_rb_former_request</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_latter_req_fn\">elevator_latter_req_fn</a> =<span class=\"ts\"/><a class=\"id\" href=\"#elv_rb_latter_request\">elv_rb_latter_request</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_init_fn\">elevator_init_fn</a> =<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#deadline_init_queue\">deadline_init_queue</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_exit_fn\">elevator_exit_fn</a> =<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#deadline_exit_queue\">deadline_exit_queue</a>,", 
"<span class=\"ts\"/>},", 
"", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_attrs\">elevator_attrs</a> = <a class=\"id\" href=\"#deadline_attrs\">deadline_attrs</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_name\">elevator_name</a> = \"deadline\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#elevator_owner\">elevator_owner</a> = <a class=\"id\" href=\"#THIS_MODULE\">THIS_MODULE</a>,", 
"};", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#deadline_init\">deadline_init</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#elv_register\">elv_register</a>(&amp;<a class=\"id\" href=\"#iosched_deadline\">iosched_deadline</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a> <a class=\"id\" href=\"#deadline_exit\">deadline_exit</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#elv_unregister\">elv_unregister</a>(&amp;<a class=\"id\" href=\"#iosched_deadline\">iosched_deadline</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#deadline_init\">deadline_init</a>);", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#deadline_exit\">deadline_exit</a>);", 
"", 
"<a class=\"id\" href=\"#MODULE_AUTHOR\">MODULE_AUTHOR</a>(\"Jens Axboe\");", 
"<a class=\"id\" href=\"#MODULE_LICENSE\">MODULE_LICENSE</a>(\"GPL\");", 
"<a class=\"id\" href=\"#MODULE_DESCRIPTION\">MODULE_DESCRIPTION</a>(\"deadline IO scheduler\");", 
];
xr_frag_insert('l/64/6c6cb1b49a4745b0b82537afa8f1047d306167.xr', __xr_tmp);
