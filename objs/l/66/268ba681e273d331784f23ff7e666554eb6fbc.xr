var __xr_tmp = [
"static int <a class=\"id\" href=\"#mv88e6060_setup\">mv88e6060_setup</a>(struct <a class=\"id\" href=\"#dsa_switch\">dsa_switch</a> *<a class=\"id\" href=\"#ds\">ds</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#mv88e6060_switch_reset\">mv88e6060_switch_reset</a>(<a class=\"id\" href=\"#ds\">ds</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* @@@ initialise atu */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#mv88e6060_setup_global\">mv88e6060_setup_global</a>(<a class=\"id\" href=\"#ds\">ds</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 6; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#mv88e6060_setup_port\">mv88e6060_setup_port</a>(<a class=\"id\" href=\"#ds\">ds</a>, <a class=\"id\" href=\"#i\">i</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#mv88e6060_set_addr\">mv88e6060_set_addr</a>(struct <a class=\"id\" href=\"#dsa_switch\">dsa_switch</a> *<a class=\"id\" href=\"#ds\">ds</a>, <a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#addr\">addr</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#REG_WRITE\">REG_WRITE</a>(<a class=\"id\" href=\"#REG_GLOBAL\">REG_GLOBAL</a>, 0x01, (<a class=\"id\" href=\"#addr\">addr</a>[0] << 8) | <a class=\"id\" href=\"#addr\">addr</a>[1]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#REG_WRITE\">REG_WRITE</a>(<a class=\"id\" href=\"#REG_GLOBAL\">REG_GLOBAL</a>, 0x02, (<a class=\"id\" href=\"#addr\">addr</a>[2] << 8) | <a class=\"id\" href=\"#addr\">addr</a>[3]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#REG_WRITE\">REG_WRITE</a>(<a class=\"id\" href=\"#REG_GLOBAL\">REG_GLOBAL</a>, 0x03, (<a class=\"id\" href=\"#addr\">addr</a>[4] << 8) | <a class=\"id\" href=\"#addr\">addr</a>[5]);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#mv88e6060_port_to_phy_addr\">mv88e6060_port_to_phy_addr</a>(int <a class=\"id\" href=\"#port\">port</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#port\">port</a> >= 0 && <a class=\"id\" href=\"#port\">port</a> <= 5)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#port\">port</a>;", 
"<span class=\"ts\"/>return -1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#mv88e6060_phy_read\">mv88e6060_phy_read</a>(struct <a class=\"id\" href=\"#dsa_switch\">dsa_switch</a> *<a class=\"id\" href=\"#ds\">ds</a>, int <a class=\"id\" href=\"#port\">port</a>, int <a class=\"id\" href=\"#regnum\">regnum</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#addr\">addr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#addr\">addr</a> = <a class=\"id\" href=\"#mv88e6060_port_to_phy_addr\">mv88e6060_port_to_phy_addr</a>(<a class=\"id\" href=\"#port\">port</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#addr\">addr</a> == -1)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0xffff;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#reg_read\">reg_read</a>(<a class=\"id\" href=\"#ds\">ds</a>, <a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#regnum\">regnum</a>);", 
"}", 
"", 
"static int", 
"<a class=\"id\" href=\"#mv88e6060_phy_write\">mv88e6060_phy_write</a>(struct <a class=\"id\" href=\"#dsa_switch\">dsa_switch</a> *<a class=\"id\" href=\"#ds\">ds</a>, int <a class=\"id\" href=\"#port\">port</a>, int <a class=\"id\" href=\"#regnum\">regnum</a>, <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#val\">val</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#addr\">addr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#addr\">addr</a> = <a class=\"id\" href=\"#mv88e6060_port_to_phy_addr\">mv88e6060_port_to_phy_addr</a>(<a class=\"id\" href=\"#port\">port</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#addr\">addr</a> == -1)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0xffff;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#reg_write\">reg_write</a>(<a class=\"id\" href=\"#ds\">ds</a>, <a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#regnum\">regnum</a>, <a class=\"id\" href=\"#val\">val</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#mv88e6060_poll_link\">mv88e6060_poll_link</a>(struct <a class=\"id\" href=\"#dsa_switch\">dsa_switch</a> *<a class=\"id\" href=\"#ds\">ds</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#DSA_MAX_PORTS\">DSA_MAX_PORTS</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#uninitialized_var\">uninitialized_var</a>(<a class=\"id\" href=\"#port_status\">port_status</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#link\">link</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#speed\">speed</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#duplex\">duplex</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#fc\">fc</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#ports\">ports</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#link\">link</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#IFF_UP\">IFF_UP</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#port_status\">port_status</a> = <a class=\"id\" href=\"#reg_read\">reg_read</a>(<a class=\"id\" href=\"#ds\">ds</a>, <a class=\"id\" href=\"#REG_PORT\">REG_PORT</a>(<a class=\"id\" href=\"#i\">i</a>), 0x00);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#port_status\">port_status</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#link\">link</a> = !!(<a class=\"id\" href=\"#port_status\">port_status</a> &amp; 0x1000);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#link\">link</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#netif_carrier_ok\">netif_carrier_ok</a>(<a class=\"id\" href=\"#dev\">dev</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"%s: link down\\n\", <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#netif_carrier_off\">netif_carrier_off</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#speed\">speed</a> = (<a class=\"id\" href=\"#port_status\">port_status</a> &amp; 0x0100) ? 100 : 10;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#duplex\">duplex</a> = (<a class=\"id\" href=\"#port_status\">port_status</a> &amp; 0x0200) ? 1 : 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fc\">fc</a> = ((<a class=\"id\" href=\"#port_status\">port_status</a> &amp; 0xc000) == 0xc000) ? 1 : 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#netif_carrier_ok\">netif_carrier_ok</a>(<a class=\"id\" href=\"#dev\">dev</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"%s: link up, %d Mb/s, %s duplex, \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> \"flow control %sabled\\n\", <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#name\">name</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#speed\">speed</a>, <a class=\"id\" href=\"#duplex\">duplex</a> ? \"full\" : \"half\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#fc\">fc</a> ? \"en\" : \"dis\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#netif_carrier_on\">netif_carrier_on</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#dsa_switch_driver\">dsa_switch_driver</a> <a class=\"id\" href=\"#mv88e6060_switch_driver\">mv88e6060_switch_driver</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#tag_protocol\">tag_protocol</a><span class=\"ts\"/>= <a class=\"id\" href=\"#htons\">htons</a>(<a class=\"id\" href=\"#ETH_P_TRAILER\">ETH_P_TRAILER</a>),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#probe\">probe</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#mv88e6060_probe\">mv88e6060_probe</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#setup\">setup</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#mv88e6060_setup\">mv88e6060_setup</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#set_addr\">set_addr</a><span class=\"ts\"/>= <a class=\"id\" href=\"#mv88e6060_set_addr\">mv88e6060_set_addr</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#phy_read\">phy_read</a><span class=\"ts\"/>= <a class=\"id\" href=\"#mv88e6060_phy_read\">mv88e6060_phy_read</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#phy_write\">phy_write</a><span class=\"ts\"/>= <a class=\"id\" href=\"#mv88e6060_phy_write\">mv88e6060_phy_write</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#poll_link\">poll_link</a><span class=\"ts\"/>= <a class=\"id\" href=\"#mv88e6060_poll_link\">mv88e6060_poll_link</a>,", 
"};", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#mv88e6060_init\">mv88e6060_init</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#register_switch_driver\">register_switch_driver</a>(&amp;<a class=\"id\" href=\"#mv88e6060_switch_driver\">mv88e6060_switch_driver</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#mv88e6060_init\">mv88e6060_init</a>);", 
"", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a> <a class=\"id\" href=\"#mv88e6060_cleanup\">mv88e6060_cleanup</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unregister_switch_driver\">unregister_switch_driver</a>(&amp;<a class=\"id\" href=\"#mv88e6060_switch_driver\">mv88e6060_switch_driver</a>);", 
"}", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#mv88e6060_cleanup\">mv88e6060_cleanup</a>);", 
];
xr_frag_insert('l/66/268ba681e273d331784f23ff7e666554eb6fbc.xr', __xr_tmp);
