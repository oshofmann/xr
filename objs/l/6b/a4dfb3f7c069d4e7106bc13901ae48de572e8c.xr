var __xr_tmp = [
"<span class=\"ts\"/><a class=\"id\" href=\"#old\">old</a> = <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#dev\">dev</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_update\">acpi_battery_update</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_proc_event\">acpi_bus_generate_proc_event</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#event\">event</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_battery_present\">acpi_battery_present</a>(<a class=\"id\" href=\"#battery\">battery</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_generate_netlink_event\">acpi_bus_generate_netlink_event</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#device_class\">device_class</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_name\">dev_name</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>), <a class=\"id\" href=\"#event\">event</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_present\">acpi_battery_present</a>(<a class=\"id\" href=\"#battery\">battery</a>));", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"<span class=\"ts\"/><span class=\"comment\">/* acpi_battery_update could remove power_supply object */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#old\">old</a> && <a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>.<a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#power_supply_changed\">power_supply_changed</a>(&amp;<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#bat\">bat</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_add\">acpi_battery_add</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#battery\">battery</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#device\">device</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#acpi_device_name\">acpi_device_name</a>(<a class=\"id\" href=\"#device\">device</a>), <a class=\"id\" href=\"#ACPI_BATTERY_DEVICE_NAME\">ACPI_BATTERY_DEVICE_NAME</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#acpi_device_class\">acpi_device_class</a>(<a class=\"id\" href=\"#device\">device</a>), <a class=\"id\" href=\"#ACPI_BATTERY_CLASS\">ACPI_BATTERY_CLASS</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver_data\">driver_data</a> = <a class=\"id\" href=\"#battery\">battery</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_init\">mutex_init</a>(&amp;<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"_BIX\", &amp;<a class=\"id\" href=\"#handle\">handle</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#ACPI_BATTERY_XINFO_PRESENT\">ACPI_BATTERY_XINFO_PRESENT</a>, &amp;<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_update\">acpi_battery_update</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_battery_add_fs\">acpi_battery_add_fs</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#result\">result</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"%s Slot [%s] (battery %s)\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_BATTERY_DEVICE_NAME\">ACPI_BATTERY_DEVICE_NAME</a>, <a class=\"id\" href=\"#acpi_device_bid\">acpi_device_bid</a>(<a class=\"id\" href=\"#device\">device</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#battery_present\">battery_present</a> ? \"present\" : \"absent\");", 
"<span class=\"ts\"/>} else {", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_remove_fs\">acpi_battery_remove_fs</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_battery_remove\">acpi_battery_remove</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a> || !<a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_remove_fs\">acpi_battery_remove_fs</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_SYSFS_POWER\">CONFIG_ACPI_SYSFS_POWER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sysfs_remove_battery\">sysfs_remove_battery</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_destroy\">mutex_destroy</a>(&amp;<a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/* this is needed to learn about changes made in suspended state */</span>", 
"static int <a class=\"id\" href=\"#acpi_battery_resume\">acpi_battery_resume</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_battery\">acpi_battery</a> *<a class=\"id\" href=\"#battery\">battery</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#battery\">battery</a>-><a class=\"id\" href=\"#update_time\">update_time</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_update\">acpi_battery_update</a>(<a class=\"id\" href=\"#battery\">battery</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> <a class=\"id\" href=\"#acpi_battery_driver\">acpi_battery_driver</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a> = \"battery\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#class\">class</a> = <a class=\"id\" href=\"#ACPI_BATTERY_CLASS\">ACPI_BATTERY_CLASS</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ids\">ids</a> = <a class=\"id\" href=\"#battery_device_ids\">battery_device_ids</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#ACPI_DRIVER_ALL_NOTIFY_EVENTS\">ACPI_DRIVER_ALL_NOTIFY_EVENTS</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ops\">ops</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#add\">add</a> = <a class=\"id\" href=\"#acpi_battery_add\">acpi_battery_add</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#resume\">resume</a> = <a class=\"id\" href=\"#acpi_battery_resume\">acpi_battery_resume</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#remove\">remove</a> = <a class=\"id\" href=\"#acpi_battery_remove\">acpi_battery_remove</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#notify\">notify</a> = <a class=\"id\" href=\"#acpi_battery_notify\">acpi_battery_notify</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>},", 
"};", 
"", 
"static void <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#acpi_battery_init_async\">acpi_battery_init_async</a>(void *<a class=\"id\" href=\"#unused\">unused</a>, <a class=\"id\" href=\"#async_cookie_t\">async_cookie_t</a> <a class=\"id\" href=\"#cookie\">cookie</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_disabled\">acpi_disabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a> = <a class=\"id\" href=\"#acpi_lock_battery_dir\">acpi_lock_battery_dir</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_bus_register_driver\">acpi_bus_register_driver</a>(&amp;<a class=\"id\" href=\"#acpi_battery_driver\">acpi_battery_driver</a>) &lt; 0) {", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_unlock_battery_dir\">acpi_unlock_battery_dir</a>(<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#acpi_battery_init\">acpi_battery_init</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#async_schedule\">async_schedule</a>(<a class=\"id\" href=\"#acpi_battery_init_async\">acpi_battery_init_async</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a> <a class=\"id\" href=\"#acpi_battery_exit\">acpi_battery_exit</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_unregister_driver\">acpi_bus_unregister_driver</a>(&amp;<a class=\"id\" href=\"#acpi_battery_driver\">acpi_battery_driver</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_ACPI_PROCFS_POWER\">CONFIG_ACPI_PROCFS_POWER</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_unlock_battery_dir\">acpi_unlock_battery_dir</a>(<a class=\"id\" href=\"#acpi_battery_dir\">acpi_battery_dir</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#acpi_battery_init\">acpi_battery_init</a>);", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#acpi_battery_exit\">acpi_battery_exit</a>);", 
];
xr_frag_insert('l/6b/a4dfb3f7c069d4e7106bc13901ae48de572e8c.xr', __xr_tmp);
