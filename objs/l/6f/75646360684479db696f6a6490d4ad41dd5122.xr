var __xr_tmp = [
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#phydev\">phydev</a>-><a class=\"id\" href=\"#interrupts\">interrupts</a> == <a class=\"id\" href=\"#PHY_INTERRUPT_ENABLED\">PHY_INTERRUPT_ENABLED</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#phy_write\">phy_write</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#DP83865_INT_MASK_REG\">DP83865_INT_MASK_REG</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DP83865_INT_MASK_DEFAULT\">DP83865_INT_MASK_DEFAULT</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#phy_write\">phy_write</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#DP83865_INT_MASK_REG\">DP83865_INT_MASK_REG</a>, 0);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ns_ack_interrupt\">ns_ack_interrupt</a>(struct <a class=\"id\" href=\"#phy_device\">phy_device</a> *<a class=\"id\" href=\"#phydev\">phydev</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#phy_read\">phy_read</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#DP83865_INT_MASK_STATUS\">DP83865_INT_MASK_STATUS</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#ns_giga_speed_fallback\">ns_giga_speed_fallback</a>(struct <a class=\"id\" href=\"#phy_device\">phy_device</a> *<a class=\"id\" href=\"#phydev\">phydev</a>, int <a class=\"id\" href=\"#mode\">mode</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#bmcr\">bmcr</a> = <a class=\"id\" href=\"#phy_read\">phy_read</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#MII_BMCR\">MII_BMCR</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#phy_write\">phy_write</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#MII_BMCR\">MII_BMCR</a>, (<a class=\"id\" href=\"#bmcr\">bmcr</a> | <a class=\"id\" href=\"#BMCR_PDOWN\">BMCR_PDOWN</a>));", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Enable 8 bit expended memory read/write (no auto increment) */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#phy_write\">phy_write</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#NS_EXP_MEM_CTL\">NS_EXP_MEM_CTL</a>, 0);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#phy_write\">phy_write</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#NS_EXP_MEM_ADD\">NS_EXP_MEM_ADD</a>, 0x1C0);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#phy_write\">phy_write</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#NS_EXP_MEM_DATA\">NS_EXP_MEM_DATA</a>, 0x0008);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#phy_write\">phy_write</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#MII_BMCR\">MII_BMCR</a>, (<a class=\"id\" href=\"#bmcr\">bmcr</a> &amp; ~<a class=\"id\" href=\"#BMCR_PDOWN\">BMCR_PDOWN</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#phy_write\">phy_write</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#LED_CTRL_REG\">LED_CTRL_REG</a>, <a class=\"id\" href=\"#mode\">mode</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#ns_10_base_t_hdx_loopack\">ns_10_base_t_hdx_loopack</a>(struct <a class=\"id\" href=\"#phy_device\">phy_device</a> *<a class=\"id\" href=\"#phydev\">phydev</a>, int <a class=\"id\" href=\"#disable\">disable</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#disable\">disable</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ns_exp_write\">ns_exp_write</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, 0x1c0, <a class=\"id\" href=\"#ns_exp_read\">ns_exp_read</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, 0x1c0) | 1);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ns_exp_write\">ns_exp_write</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, 0x1c0,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#ns_exp_read\">ns_exp_read</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, 0x1c0) &amp; 0xfffe);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_DEBUG\">KERN_DEBUG</a> \"DP83865 PHY: 10BASE-T HDX loopback %s\\n\",", 
"<span class=\"ts\"/>       (<a class=\"id\" href=\"#ns_exp_read\">ns_exp_read</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, 0x1c0) &amp; 0x0001) ? \"off\" : \"on\");", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ns_config_init\">ns_config_init</a>(struct <a class=\"id\" href=\"#phy_device\">phy_device</a> *<a class=\"id\" href=\"#phydev\">phydev</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ns_giga_speed_fallback\">ns_giga_speed_fallback</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#ALL_FALLBACK_ON\">ALL_FALLBACK_ON</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/* In the latest MAC or switches design, the 10 Mbps loopback</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   is desired to be turned off. */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ns_10_base_t_hdx_loopack\">ns_10_base_t_hdx_loopack</a>(<a class=\"id\" href=\"#phydev\">phydev</a>, <a class=\"id\" href=\"#hdx_loopback_off\">hdx_loopback_off</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ns_ack_interrupt\">ns_ack_interrupt</a>(<a class=\"id\" href=\"#phydev\">phydev</a>);", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#phy_driver\">phy_driver</a> <a class=\"id\" href=\"#dp83865_driver\">dp83865_driver</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#phy_id\">phy_id</a> = <a class=\"id\" href=\"#DP83865_PHY_ID\">DP83865_PHY_ID</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#phy_id_mask\">phy_id_mask</a> = 0xfffffff0,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a> = \"NatSemi DP83865\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#features\">features</a> = <a class=\"id\" href=\"#PHY_GBIT_FEATURES\">PHY_GBIT_FEATURES</a> | <a class=\"id\" href=\"#SUPPORTED_Pause\">SUPPORTED_Pause</a> | <a class=\"id\" href=\"#SUPPORTED_Asym_Pause\">SUPPORTED_Asym_Pause</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#PHY_HAS_INTERRUPT\">PHY_HAS_INTERRUPT</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#config_init\">config_init</a> = <a class=\"id\" href=\"#ns_config_init\">ns_config_init</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#config_aneg\">config_aneg</a> = <a class=\"id\" href=\"#genphy_config_aneg\">genphy_config_aneg</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#read_status\">read_status</a> = <a class=\"id\" href=\"#genphy_read_status\">genphy_read_status</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ack_interrupt\">ack_interrupt</a> = <a class=\"id\" href=\"#ns_ack_interrupt\">ns_ack_interrupt</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#config_intr\">config_intr</a> = <a class=\"id\" href=\"#ns_config_intr\">ns_config_intr</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#driver\">driver</a> = {.<a class=\"id\" href=\"#owner\">owner</a> = <a class=\"id\" href=\"#THIS_MODULE\">THIS_MODULE</a>,}", 
"};", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#ns_init\">ns_init</a>(void)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#phy_driver_register\">phy_driver_register</a>(&amp;<a class=\"id\" href=\"#dp83865_driver\">dp83865_driver</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a> <a class=\"id\" href=\"#ns_exit\">ns_exit</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#phy_driver_unregister\">phy_driver_unregister</a>(&amp;<a class=\"id\" href=\"#dp83865_driver\">dp83865_driver</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#MODULE_DESCRIPTION\">MODULE_DESCRIPTION</a>(\"NatSemi PHY driver\");", 
"<a class=\"id\" href=\"#MODULE_AUTHOR\">MODULE_AUTHOR</a>(\"Stuart Menefy\");", 
"<a class=\"id\" href=\"#MODULE_LICENSE\">MODULE_LICENSE</a>(\"GPL\");", 
"", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#ns_init\">ns_init</a>);", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#ns_exit\">ns_exit</a>);", 
"", 
"static struct <a class=\"id\" href=\"#mdio_device_id\">mdio_device_id</a> <a class=\"id\" href=\"#ns_tbl\">ns_tbl</a>[] = {", 
"<span class=\"ts\"/>{ <a class=\"id\" href=\"#DP83865_PHY_ID\">DP83865_PHY_ID</a>, 0xfffffff0 },", 
"<span class=\"ts\"/>{ }", 
"};", 
"", 
"<a class=\"id\" href=\"#MODULE_DEVICE_TABLE\">MODULE_DEVICE_TABLE</a>(<a class=\"id\" href=\"#mdio\">mdio</a>, <a class=\"id\" href=\"#ns_tbl\">ns_tbl</a>);", 
];
xr_frag_insert('l/6f/75646360684479db696f6a6490d4ad41dd5122.xr', __xr_tmp);
