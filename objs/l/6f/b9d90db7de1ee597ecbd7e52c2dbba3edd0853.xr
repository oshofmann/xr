var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * SMBus driver for ACPI Embedded Controller (v0.1)</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright (c) 2007 Alexey Starikovskiy</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This program is free software; you can redistribute it and/or modify</span>", 
"<span class=\"comment\"> * it under the terms of the GNU General Public License as published by</span>", 
"<span class=\"comment\"> * the Free Software Foundation version 2.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_bus\">acpi_bus</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_drivers\">acpi_drivers</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#wait\">wait</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#delay\">delay</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#interrupt\">interrupt</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> \"sbshc.h\"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"ACPI: \"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_SMB_HC_CLASS\">ACPI_SMB_HC_CLASS</a><span class=\"ts\"/>\"smbus_host_ctl\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_SMB_HC_DEVICE_NAME\">ACPI_SMB_HC_DEVICE_NAME</a><span class=\"ts\"/>\"ACPI SMBus HC\"", 
"", 
"struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_ec\">acpi_ec</a> *<a class=\"id\" href=\"#ec\">ec</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#mutex\">mutex</a> <a class=\"id\" href=\"#lock\">lock</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wait_queue_head_t\">wait_queue_head_t</a> <a class=\"id\" href=\"#wait\">wait</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#offset\">offset</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#query_bit\">query_bit</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#smbus_alarm_callback\">smbus_alarm_callback</a> <a class=\"id\" href=\"#callback\">callback</a>;", 
"<span class=\"ts\"/>void *<a class=\"id\" href=\"#context\">context</a>;", 
"};", 
"", 
"static int <a class=\"id\" href=\"#acpi_smbus_hc_add\">acpi_smbus_hc_add</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>);", 
"static int <a class=\"id\" href=\"#acpi_smbus_hc_remove\">acpi_smbus_hc_remove</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, int <a class=\"id\" href=\"#type\">type</a>);", 
"", 
"static const struct <a class=\"id\" href=\"#acpi_device_id\">acpi_device_id</a> <a class=\"id\" href=\"#sbs_device_ids\">sbs_device_ids</a>[] = {", 
"<span class=\"ts\"/>{\"ACPI0001\", 0},", 
"<span class=\"ts\"/>{\"ACPI0005\", 0},", 
"<span class=\"ts\"/>{\"\", 0},", 
"};", 
"", 
"<a class=\"id\" href=\"#MODULE_DEVICE_TABLE\">MODULE_DEVICE_TABLE</a>(<a class=\"id\" href=\"#acpi\">acpi</a>, <a class=\"id\" href=\"#sbs_device_ids\">sbs_device_ids</a>);", 
"", 
"static struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> <a class=\"id\" href=\"#acpi_smb_hc_driver\">acpi_smb_hc_driver</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a> = \"smbus_hc\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#class\">class</a> = <a class=\"id\" href=\"#ACPI_SMB_HC_CLASS\">ACPI_SMB_HC_CLASS</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ids\">ids</a> = <a class=\"id\" href=\"#sbs_device_ids\">sbs_device_ids</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ops\">ops</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#add\">add</a> = <a class=\"id\" href=\"#acpi_smbus_hc_add\">acpi_smbus_hc_add</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#remove\">remove</a> = <a class=\"id\" href=\"#acpi_smbus_hc_remove\">acpi_smbus_hc_remove</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>},", 
"};", 
"", 
"union <a class=\"id\" href=\"#acpi_smb_status\">acpi_smb_status</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#raw\">raw</a>;", 
"<span class=\"ts\"/>struct {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#status\">status</a>:5;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#reserved\">reserved</a>:1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#alarm\">alarm</a>:1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#done\">done</a>:1;", 
"<span class=\"ts\"/>} <a class=\"id\" href=\"#fields\">fields</a>;", 
"};", 
"", 
"enum <a class=\"id\" href=\"#acpi_smb_status_codes\">acpi_smb_status_codes</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_OK\">SMBUS_OK</a> = 0,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_UNKNOWN_FAILURE\">SMBUS_UNKNOWN_FAILURE</a> = 0x07,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_DEVICE_ADDRESS_NACK\">SMBUS_DEVICE_ADDRESS_NACK</a> = 0x10,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_DEVICE_ERROR\">SMBUS_DEVICE_ERROR</a> = 0x11,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_DEVICE_COMMAND_ACCESS_DENIED\">SMBUS_DEVICE_COMMAND_ACCESS_DENIED</a> = 0x12,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_UNKNOWN_ERROR\">SMBUS_UNKNOWN_ERROR</a> = 0x13,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_DEVICE_ACCESS_DENIED\">SMBUS_DEVICE_ACCESS_DENIED</a> = 0x17,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_TIMEOUT\">SMBUS_TIMEOUT</a> = 0x18,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_HOST_UNSUPPORTED_PROTOCOL\">SMBUS_HOST_UNSUPPORTED_PROTOCOL</a> = 0x19,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_BUSY\">SMBUS_BUSY</a> = 0x1a,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#SMBUS_PEC_ERROR\">SMBUS_PEC_ERROR</a> = 0x1f,", 
"};", 
"", 
"enum <a class=\"id\" href=\"#acpi_smb_offset\">acpi_smb_offset</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SMB_PROTOCOL\">ACPI_SMB_PROTOCOL</a> = 0,<span class=\"ts\"/><span class=\"comment\">/* protocol, PEC */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SMB_STATUS\">ACPI_SMB_STATUS</a> = 1,<span class=\"ts\"/><span class=\"comment\">/* status */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SMB_ADDRESS\">ACPI_SMB_ADDRESS</a> = 2,<span class=\"ts\"/><span class=\"comment\">/* address */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SMB_COMMAND\">ACPI_SMB_COMMAND</a> = 3,<span class=\"ts\"/><span class=\"comment\">/* command */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SMB_DATA\">ACPI_SMB_DATA</a> = 4,<span class=\"ts\"/><span class=\"comment\">/* 32 data registers */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SMB_BLOCK_COUNT\">ACPI_SMB_BLOCK_COUNT</a> = 0x24,<span class=\"ts\"/><span class=\"comment\">/* number of data bytes */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SMB_ALARM_ADDRESS\">ACPI_SMB_ALARM_ADDRESS</a> = 0x25,<span class=\"ts\"/><span class=\"comment\">/* alarm address */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SMB_ALARM_DATA\">ACPI_SMB_ALARM_DATA</a> = 0x26,<span class=\"ts\"/><span class=\"comment\">/* 2 bytes alarm data */</span>", 
"};", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#smb_hc_read\">smb_hc_read</a>(struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#address\">address</a>, <a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#data\">data</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ec_read\">ec_read</a>(<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#offset\">offset</a> + <a class=\"id\" href=\"#address\">address</a>, <a class=\"id\" href=\"#data\">data</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#smb_hc_write\">smb_hc_write</a>(struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#address\">address</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#data\">data</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ec_write\">ec_write</a>(<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#offset\">offset</a> + <a class=\"id\" href=\"#address\">address</a>, <a class=\"id\" href=\"#data\">data</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#smb_check_done\">smb_check_done</a>(struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>)", 
"{", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#acpi_smb_status\">acpi_smb_status</a> <a class=\"id\" href=\"#status\">status</a> = {.<a class=\"id\" href=\"#raw\">raw</a> = 0};", 
"<span class=\"ts\"/><a class=\"id\" href=\"#smb_hc_read\">smb_hc_read</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_STATUS\">ACPI_SMB_STATUS</a>, &amp;<a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#raw\">raw</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#fields\">fields</a>.<a class=\"id\" href=\"#done\">done</a> && (<a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#fields\">fields</a>.<a class=\"id\" href=\"#status\">status</a> == <a class=\"id\" href=\"#SMBUS_OK\">SMBUS_OK</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#wait_transaction_complete\">wait_transaction_complete</a>(struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>, int <a class=\"id\" href=\"#timeout\">timeout</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#wait_event_timeout\">wait_event_timeout</a>(<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#wait\">wait</a>, <a class=\"id\" href=\"#smb_check_done\">smb_check_done</a>(<a class=\"id\" href=\"#hc\">hc</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#msecs_to_jiffies\">msecs_to_jiffies</a>(<a class=\"id\" href=\"#timeout\">timeout</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * After the timeout happens, OS will try to check the status of SMbus.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * If the status is what OS expected, it will be regarded as the bogus</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * timeout.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#smb_check_done\">smb_check_done</a>(<a class=\"id\" href=\"#hc\">hc</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ETIME\">ETIME</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_smbus_transaction\">acpi_smbus_transaction</a>(struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#protocol\">protocol</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#address\">address</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#command\">command</a>, <a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#data\">data</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#length\">length</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>, <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#temp\">temp</a>, <a class=\"id\" href=\"#sz\">sz</a> = 0;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hc\">hc</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"host controller is not configured\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#smb_hc_read\">smb_hc_read</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_PROTOCOL\">ACPI_SMB_PROTOCOL</a>, &amp;<a class=\"id\" href=\"#temp\">temp</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#temp\">temp</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EBUSY\">EBUSY</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#smb_hc_write\">smb_hc_write</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_COMMAND\">ACPI_SMB_COMMAND</a>, <a class=\"id\" href=\"#command\">command</a>);", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#protocol\">protocol</a> &amp; 0x01)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#smb_hc_write\">smb_hc_write</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_BLOCK_COUNT\">ACPI_SMB_BLOCK_COUNT</a>, <a class=\"id\" href=\"#length\">length</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#length\">length</a>; ++<a class=\"id\" href=\"#i\">i</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#smb_hc_write\">smb_hc_write</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_DATA\">ACPI_SMB_DATA</a> + <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#data\">data</a>[<a class=\"id\" href=\"#i\">i</a>]);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#smb_hc_write\">smb_hc_write</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_ADDRESS\">ACPI_SMB_ADDRESS</a>, <a class=\"id\" href=\"#address\">address</a> << 1);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#smb_hc_write\">smb_hc_write</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_PROTOCOL\">ACPI_SMB_PROTOCOL</a>, <a class=\"id\" href=\"#protocol\">protocol</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Wait for completion. Save the status code, data size,</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * and data into the return package (if required by the protocol).</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#wait_transaction_complete\">wait_transaction_complete</a>(<a class=\"id\" href=\"#hc\">hc</a>, 1000);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> || !(<a class=\"id\" href=\"#protocol\">protocol</a> &amp; 0x01))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#protocol\">protocol</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SMBUS_RECEIVE_BYTE\">SMBUS_RECEIVE_BYTE</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SMBUS_READ_BYTE\">SMBUS_READ_BYTE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sz\">sz</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SMBUS_READ_WORD\">SMBUS_READ_WORD</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sz\">sz</a> = 2;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SMBUS_READ_BLOCK\">SMBUS_READ_BLOCK</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#smb_hc_read\">smb_hc_read</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_BLOCK_COUNT\">ACPI_SMB_BLOCK_COUNT</a>, &amp;<a class=\"id\" href=\"#sz\">sz</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sz\">sz</a> &= 0x1f;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#sz\">sz</a>; ++<a class=\"id\" href=\"#i\">i</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#smb_hc_read\">smb_hc_read</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_DATA\">ACPI_SMB_DATA</a> + <a class=\"id\" href=\"#i\">i</a>, &amp;<a class=\"id\" href=\"#data\">data</a>[<a class=\"id\" href=\"#i\">i</a>]);", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#acpi_smbus_read\">acpi_smbus_read</a>(struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#protocol\">protocol</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#address\">address</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#command\">command</a>, <a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#data\">data</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_smbus_transaction\">acpi_smbus_transaction</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#protocol\">protocol</a>, <a class=\"id\" href=\"#address\">address</a>, <a class=\"id\" href=\"#command\">command</a>, <a class=\"id\" href=\"#data\">data</a>, 0);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#acpi_smbus_read\">acpi_smbus_read</a>);", 
"", 
"int <a class=\"id\" href=\"#acpi_smbus_write\">acpi_smbus_write</a>(struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#protocol\">protocol</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#address\">address</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#command\">command</a>, <a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#data\">data</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#length\">length</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_smbus_transaction\">acpi_smbus_transaction</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#protocol\">protocol</a>, <a class=\"id\" href=\"#address\">address</a>, <a class=\"id\" href=\"#command\">command</a>, <a class=\"id\" href=\"#data\">data</a>, <a class=\"id\" href=\"#length\">length</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#acpi_smbus_write\">acpi_smbus_write</a>);", 
"", 
"int <a class=\"id\" href=\"#acpi_smbus_register_callback\">acpi_smbus_register_callback</a>(struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>         <a class=\"id\" href=\"#smbus_alarm_callback\">smbus_alarm_callback</a> <a class=\"id\" href=\"#callback\">callback</a>, void *<a class=\"id\" href=\"#context\">context</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#callback\">callback</a> = <a class=\"id\" href=\"#callback\">callback</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#context\">context</a> = <a class=\"id\" href=\"#context\">context</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#acpi_smbus_register_callback\">acpi_smbus_register_callback</a>);", 
"", 
"int <a class=\"id\" href=\"#acpi_smbus_unregister_callback\">acpi_smbus_unregister_callback</a>(struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#callback\">callback</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#context\">context</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#acpi_smbus_unregister_callback\">acpi_smbus_unregister_callback</a>);", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#acpi_smbus_callback\">acpi_smbus_callback</a>(void *<a class=\"id\" href=\"#context\">context</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a> = <a class=\"id\" href=\"#context\">context</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#callback\">callback</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#callback\">callback</a>(<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#context\">context</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#smbus_alarm\">smbus_alarm</a>(void *<a class=\"id\" href=\"#context\">context</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a> = <a class=\"id\" href=\"#context\">context</a>;", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#acpi_smb_status\">acpi_smb_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#address\">address</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#smb_hc_read\">smb_hc_read</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_STATUS\">ACPI_SMB_STATUS</a>, &amp;<a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#raw\">raw</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><span class=\"comment\">/* Check if it is only a completion notify */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#fields\">fields</a>.<a class=\"id\" href=\"#done\">done</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#wake_up\">wake_up</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#wait\">wait</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#fields\">fields</a>.<a class=\"id\" href=\"#alarm\">alarm</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#smb_hc_read\">smb_hc_read</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_ALARM_ADDRESS\">ACPI_SMB_ALARM_ADDRESS</a>, &amp;<a class=\"id\" href=\"#address\">address</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#fields\">fields</a>.<a class=\"id\" href=\"#alarm\">alarm</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#smb_hc_write\">smb_hc_write</a>(<a class=\"id\" href=\"#hc\">hc</a>, <a class=\"id\" href=\"#ACPI_SMB_STATUS\">ACPI_SMB_STATUS</a>, <a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#raw\">raw</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/* We are only interested in events coming from known devices */</span>", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#address\">address</a> >> 1) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_SBS_CHARGER\">ACPI_SBS_CHARGER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_SBS_MANAGER\">ACPI_SBS_MANAGER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_SBS_BATTERY\">ACPI_SBS_BATTERY</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_os_execute\">acpi_os_execute</a>(<a class=\"id\" href=\"#OSL_NOTIFY_HANDLER\">OSL_NOTIFY_HANDLER</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_smbus_callback\">acpi_smbus_callback</a>, <a class=\"id\" href=\"#hc\">hc</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>default:;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"typedef int (*<a class=\"id\" href=\"#acpi_ec_query_func\">acpi_ec_query_func</a>) (void *<a class=\"id\" href=\"#data\">data</a>);", 
"", 
"extern int <a class=\"id\" href=\"#acpi_ec_add_query_handler\">acpi_ec_add_query_handler</a>(struct <a class=\"id\" href=\"#acpi_ec\">acpi_ec</a> *<a class=\"id\" href=\"#ec\">ec</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#query_bit\">query_bit</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#acpi_ec_query_func\">acpi_ec_query_func</a> <a class=\"id\" href=\"#func\">func</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      void *<a class=\"id\" href=\"#data\">data</a>);", 
"", 
"static int <a class=\"id\" href=\"#acpi_smbus_hc_add\">acpi_smbus_hc_add</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/>unsigned long long <a class=\"id\" href=\"#val\">val</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_integer\">acpi_evaluate_integer</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_EC\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#val\">val</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"error obtaining _EC.\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EIO\">EIO</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#acpi_device_name\">acpi_device_name</a>(<a class=\"id\" href=\"#device\">device</a>), <a class=\"id\" href=\"#ACPI_SMB_HC_DEVICE_NAME\">ACPI_SMB_HC_DEVICE_NAME</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#acpi_device_class\">acpi_device_class</a>(<a class=\"id\" href=\"#device\">device</a>), <a class=\"id\" href=\"#ACPI_SMB_HC_CLASS\">ACPI_SMB_HC_CLASS</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hc\">hc</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_init\">mutex_init</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#init_waitqueue_head\">init_waitqueue_head</a>(&amp;<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#wait\">wait</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#ec\">ec</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#parent\">parent</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#offset\">offset</a> = (<a class=\"id\" href=\"#val\">val</a> >> 8) &amp; 0xff;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#query_bit\">query_bit</a> = <a class=\"id\" href=\"#val\">val</a> &amp; 0xff;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver_data\">driver_data</a> = <a class=\"id\" href=\"#hc\">hc</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_ec_add_query_handler\">acpi_ec_add_query_handler</a>(<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#ec\">ec</a>, <a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#query_bit\">query_bit</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#smbus_alarm\">smbus_alarm</a>, <a class=\"id\" href=\"#hc\">hc</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"SBS HC: EC = 0x%p, offset = 0x%0x, query_bit = 0x%0x\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#ec\">ec</a>, <a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#offset\">offset</a>, <a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#query_bit\">query_bit</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"extern void <a class=\"id\" href=\"#acpi_ec_remove_query_handler\">acpi_ec_remove_query_handler</a>(struct <a class=\"id\" href=\"#acpi_ec\">acpi_ec</a> *<a class=\"id\" href=\"#ec\">ec</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#query_bit\">query_bit</a>);", 
"", 
"static int <a class=\"id\" href=\"#acpi_smbus_hc_remove\">acpi_smbus_hc_remove</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_smb_hc\">acpi_smb_hc</a> *<a class=\"id\" href=\"#hc\">hc</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hc\">hc</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_ec_remove_query_handler\">acpi_ec_remove_query_handler</a>(<a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#ec\">ec</a>, <a class=\"id\" href=\"#hc\">hc</a>-><a class=\"id\" href=\"#query_bit\">query_bit</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#hc\">hc</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver_data\">driver_data</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#acpi_smb_hc_init\">acpi_smb_hc_init</a>(void)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_bus_register_driver\">acpi_bus_register_driver</a>(&amp;<a class=\"id\" href=\"#acpi_smb_hc_driver\">acpi_smb_hc_driver</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a> <a class=\"id\" href=\"#acpi_smb_hc_exit\">acpi_smb_hc_exit</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_unregister_driver\">acpi_bus_unregister_driver</a>(&amp;<a class=\"id\" href=\"#acpi_smb_hc_driver\">acpi_smb_hc_driver</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#acpi_smb_hc_init\">acpi_smb_hc_init</a>);", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#acpi_smb_hc_exit\">acpi_smb_hc_exit</a>);", 
"", 
"<a class=\"id\" href=\"#MODULE_LICENSE\">MODULE_LICENSE</a>(\"GPL\");", 
"<a class=\"id\" href=\"#MODULE_AUTHOR\">MODULE_AUTHOR</a>(\"Alexey Starikovskiy\");", 
"<a class=\"id\" href=\"#MODULE_DESCRIPTION\">MODULE_DESCRIPTION</a>(\"ACPI SMBus HC driver\");", 
];
xr_frag_insert('l/6f/b9d90db7de1ee597ecbd7e52c2dbba3edd0853.xr', __xr_tmp);
