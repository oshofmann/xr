var __xr_tmp = [
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#sys_newlstat\">sys_newlstat</a>(<a class=\"id\" href=\"#dirp\">dirp</a>-><a class=\"id\" href=\"#d_name\">d_name</a>, &amp;<a class=\"id\" href=\"#st\">st</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#WARN_ON_ONCE\">WARN_ON_ONCE</a>(<a class=\"id\" href=\"#ret\">ret</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#S_ISDIR\">S_ISDIR</a>(<a class=\"id\" href=\"#st\">st</a>.<a class=\"id\" href=\"#st_mode\">st_mode</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sys_rmdir\">sys_rmdir</a>(<a class=\"id\" href=\"#dirp\">dirp</a>-><a class=\"id\" href=\"#d_name\">d_name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sys_unlink\">sys_unlink</a>(<a class=\"id\" href=\"#dirp\">dirp</a>-><a class=\"id\" href=\"#d_name\">d_name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num\">num</a> -= <a class=\"id\" href=\"#dirp\">dirp</a>-><a class=\"id\" href=\"#d_reclen\">d_reclen</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dirp\">dirp</a> = (void *)<a class=\"id\" href=\"#dirp\">dirp</a> + <a class=\"id\" href=\"#dirp\">dirp</a>-><a class=\"id\" href=\"#d_reclen\">d_reclen</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dirp\">dirp</a> = <a class=\"id\" href=\"#buf\">buf</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(<a class=\"id\" href=\"#buf\">buf</a>, 0, <a class=\"id\" href=\"#BUF_SIZE\">BUF_SIZE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num\">num</a> = <a class=\"id\" href=\"#sys_getdents64\">sys_getdents64</a>(<a class=\"id\" href=\"#fd\">fd</a>, <a class=\"id\" href=\"#dirp\">dirp</a>, <a class=\"id\" href=\"#BUF_SIZE\">BUF_SIZE</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sys_close\">sys_close</a>(<a class=\"id\" href=\"#fd\">fd</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#buf\">buf</a>);", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#populate_rootfs\">populate_rootfs</a>(void)", 
"{", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#unpack_to_rootfs\">unpack_to_rootfs</a>(<a class=\"id\" href=\"#__initramfs_start\">__initramfs_start</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#__initramfs_end\">__initramfs_end</a> - <a class=\"id\" href=\"#__initramfs_start\">__initramfs_start</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#panic\">panic</a>(<a class=\"id\" href=\"#err\">err</a>);<span class=\"ts\"/><span class=\"comment\">/* Failed to decompress INTERNAL initramfs */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#initrd_start\">initrd_start</a>) {", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_BLK_DEV_RAM\">CONFIG_BLK_DEV_RAM</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#fd\">fd</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"Trying to unpack rootfs image as initramfs...\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#unpack_to_rootfs\">unpack_to_rootfs</a>((char *)<a class=\"id\" href=\"#initrd_start\">initrd_start</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#initrd_end\">initrd_end</a> - <a class=\"id\" href=\"#initrd_start\">initrd_start</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#err\">err</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#free_initrd\">free_initrd</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#clean_rootfs\">clean_rootfs</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unpack_to_rootfs\">unpack_to_rootfs</a>(<a class=\"id\" href=\"#__initramfs_start\">__initramfs_start</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#__initramfs_end\">__initramfs_end</a> - <a class=\"id\" href=\"#__initramfs_start\">__initramfs_start</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"rootfs image is not initramfs (%s)\"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"; looks like an initrd\\n\", <a class=\"id\" href=\"#err\">err</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fd\">fd</a> = <a class=\"id\" href=\"#sys_open\">sys_open</a>(\"/initrd.image\", <a class=\"id\" href=\"#O_WRONLY\">O_WRONLY</a>|<a class=\"id\" href=\"#O_CREAT\">O_CREAT</a>, 0700);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#fd\">fd</a> >= 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sys_write\">sys_write</a>(<a class=\"id\" href=\"#fd\">fd</a>, (char *)<a class=\"id\" href=\"#initrd_start\">initrd_start</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#initrd_end\">initrd_end</a> - <a class=\"id\" href=\"#initrd_start\">initrd_start</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sys_close\">sys_close</a>(<a class=\"id\" href=\"#fd\">fd</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#free_initrd\">free_initrd</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"#else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"Unpacking initramfs...\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#unpack_to_rootfs\">unpack_to_rootfs</a>((char *)<a class=\"id\" href=\"#initrd_start\">initrd_start</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#initrd_end\">initrd_end</a> - <a class=\"id\" href=\"#initrd_start\">initrd_start</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_EMERG\">KERN_EMERG</a> \"Initramfs unpacking failed: %s\\n\", <a class=\"id\" href=\"#err\">err</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#free_initrd\">free_initrd</a>();", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"<a class=\"id\" href=\"#rootfs_initcall\">rootfs_initcall</a>(<a class=\"id\" href=\"#populate_rootfs\">populate_rootfs</a>);", 
];
xr_frag_insert('l/75/d6cc09b0c36a0cd5fe4f8c5eb05ae6473dfd2a.xr', __xr_tmp);
