var __xr_tmp = [
"<span class=\"comment\">/* Ported over from i386 by AK, original copyright was:</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * (C) Dominik Brodowski &lt;linux@brodo.de&gt; 2003</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Driver to use the Power Management Timer (PMTMR) available in some</span>", 
"<span class=\"comment\"> * southbridges as primary timing source for the Linux kernel.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Based on parts of linux/drivers/acpi/hardware/hwtimer.c, timer_pit.c,</span>", 
"<span class=\"comment\"> * timer_hpet.c, and on Arjan van de Ven's implementation for 2.4.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This file is licensed under the GPL v2.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Dropped all the hardware bug workarounds for now. Hopefully they</span>", 
"<span class=\"comment\"> * are not needed on 64bit chipsets.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#jiffies\">jiffies</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#time\">time</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#cpumask\">cpumask</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#acpi_pmtmr\">acpi_pmtmr</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#io\">io</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#proto\">proto</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#msr\">msr</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#vsyscall\">vsyscall</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#cyc2us\">cyc2us</a>(<a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#cycles\">cycles</a>)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/* The Power Management Timer ticks at 3.579545 ticks per microsecond.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * 1 / PM_TIMER_FREQUENCY == 0.27936511 =~ 286/1024 [error: 0.024%]</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Even with HZ = 100, delta is at maximum 35796 ticks, so it can</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * easily be multiplied with 286 (=0x11E) without having to fear</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * u32 overflows.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cycles\">cycles</a> *= 286;", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#cycles\">cycles</a> >> 10);", 
"}", 
"", 
"static unsigned <a class=\"id\" href=\"#pmtimer_wait_tick\">pmtimer_wait_tick</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#a\">a</a>, <a class=\"id\" href=\"#b\">b</a>;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#a\">a</a> = <a class=\"id\" href=\"#b\">b</a> = <a class=\"id\" href=\"#inl\">inl</a>(<a class=\"id\" href=\"#pmtmr_ioport\">pmtmr_ioport</a>) &amp; <a class=\"id\" href=\"#ACPI_PM_MASK\">ACPI_PM_MASK</a>;", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#a\">a</a> == <a class=\"id\" href=\"#b\">b</a>;", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#b\">b</a> = <a class=\"id\" href=\"#inl\">inl</a>(<a class=\"id\" href=\"#pmtmr_ioport\">pmtmr_ioport</a>) &amp; <a class=\"id\" href=\"#ACPI_PM_MASK\">ACPI_PM_MASK</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpu_relax\">cpu_relax</a>();", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#b\">b</a>;", 
"}", 
"", 
"<span class=\"comment\">/* note: wait time is rounded up to one tick */</span>", 
"void <a class=\"id\" href=\"#pmtimer_wait\">pmtimer_wait</a>(unsigned <a class=\"id\" href=\"#us\">us</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#a\">a</a>, <a class=\"id\" href=\"#b\">b</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#a\">a</a> = <a class=\"id\" href=\"#pmtimer_wait_tick\">pmtimer_wait_tick</a>();", 
"<span class=\"ts\"/>do {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a> = <a class=\"id\" href=\"#inl\">inl</a>(<a class=\"id\" href=\"#pmtmr_ioport\">pmtmr_ioport</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpu_relax\">cpu_relax</a>();", 
"<span class=\"ts\"/>} while (<a class=\"id\" href=\"#cyc2us\">cyc2us</a>(<a class=\"id\" href=\"#b\">b</a> - <a class=\"id\" href=\"#a\">a</a>) &lt; <a class=\"id\" href=\"#us\">us</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#nopmtimer_setup\">nopmtimer_setup</a>(char *<a class=\"id\" href=\"#s\">s</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmtmr_ioport\">pmtmr_ioport</a> = 0;", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"<a class=\"id\" href=\"#__setup\">__setup</a>(\"nopmtimer\", <a class=\"id\" href=\"#nopmtimer_setup\">nopmtimer_setup</a>);", 
];
xr_frag_insert('l/77/52e1b31533705a4a2ae93194a80b383ba76f33.xr', __xr_tmp);
