var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * HyperV  Detection code.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright (C) 2010, Novell, Inc.</span>", 
"<span class=\"comment\"> * Author : K. Y. Srinivasan &lt;ksrinivasan@novell.com&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This program is free software; you can redistribute it and/or modify</span>", 
"<span class=\"comment\"> * it under the terms of the GNU General Public License as published by</span>", 
"<span class=\"comment\"> * the Free Software Foundation; version 2 of the License.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#processor\">processor</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#hypervisor\">hypervisor</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#hyperv\">hyperv</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#mshyperv\">mshyperv</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"struct <a class=\"id\" href=\"#ms_hyperv_info\">ms_hyperv_info</a> <a class=\"id\" href=\"#ms_hyperv\">ms_hyperv</a>;", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#ms_hyperv\">ms_hyperv</a>);", 
"", 
"static <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#ms_hyperv_platform\">ms_hyperv_platform</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#eax\">eax</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#hyp_signature\">hyp_signature</a>[3];", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#boot_cpu_has\">boot_cpu_has</a>(<a class=\"id\" href=\"#X86_FEATURE_HYPERVISOR\">X86_FEATURE_HYPERVISOR</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#false\">false</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpuid\">cpuid</a>(<a class=\"id\" href=\"#HYPERV_CPUID_VENDOR_AND_MAX_FUNCTIONS\">HYPERV_CPUID_VENDOR_AND_MAX_FUNCTIONS</a>,", 
"<span class=\"ts\"/>      &amp;<a class=\"id\" href=\"#eax\">eax</a>, &amp;<a class=\"id\" href=\"#hyp_signature\">hyp_signature</a>[0], &amp;<a class=\"id\" href=\"#hyp_signature\">hyp_signature</a>[1], &amp;<a class=\"id\" href=\"#hyp_signature\">hyp_signature</a>[2]);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#eax\">eax</a> >= <a class=\"id\" href=\"#HYPERV_CPUID_MIN\">HYPERV_CPUID_MIN</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#eax\">eax</a> <= <a class=\"id\" href=\"#HYPERV_CPUID_MAX\">HYPERV_CPUID_MAX</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>!<a class=\"id\" href=\"#memcmp\">memcmp</a>(\"Microsoft Hv\", <a class=\"id\" href=\"#hyp_signature\">hyp_signature</a>, 12);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#ms_hyperv_init_platform\">ms_hyperv_init_platform</a>(void)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Extract the features and hints</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ms_hyperv\">ms_hyperv</a>.<a class=\"id\" href=\"#features\">features</a> = <a class=\"id\" href=\"#cpuid_eax\">cpuid_eax</a>(<a class=\"id\" href=\"#HYPERV_CPUID_FEATURES\">HYPERV_CPUID_FEATURES</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ms_hyperv\">ms_hyperv</a>.<a class=\"id\" href=\"#hints\">hints</a>    = <a class=\"id\" href=\"#cpuid_eax\">cpuid_eax</a>(<a class=\"id\" href=\"#HYPERV_CPUID_ENLIGHTMENT_INFO\">HYPERV_CPUID_ENLIGHTMENT_INFO</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"HyperV: features 0x%x, hints 0x%x\\n\",", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#ms_hyperv\">ms_hyperv</a>.<a class=\"id\" href=\"#features\">features</a>, <a class=\"id\" href=\"#ms_hyperv\">ms_hyperv</a>.<a class=\"id\" href=\"#hints\">hints</a>);", 
"}", 
"", 
"const <a class=\"id\" href=\"#__refconst\">__refconst</a> struct <a class=\"id\" href=\"#hypervisor_x86\">hypervisor_x86</a> <a class=\"id\" href=\"#x86_hyper_ms_hyperv\">x86_hyper_ms_hyperv</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>= \"Microsoft HyperV\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#detect\">detect</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#ms_hyperv_platform\">ms_hyperv_platform</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#init_platform\">init_platform</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#ms_hyperv_init_platform\">ms_hyperv_init_platform</a>,", 
"};", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#x86_hyper_ms_hyperv\">x86_hyper_ms_hyperv</a>);", 
];
xr_frag_insert('l/81/fb52edd188e3eb431269f2c9794f5c68c8488e.xr', __xr_tmp);
