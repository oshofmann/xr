var __xr_tmp = [
"<span class=\"ts\"/><a class=\"id\" href=\"#outb\">outb</a>(0x00, 0xCFB);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#outb\">outb</a>(0x00, 0xCF8);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#outb\">outb</a>(0x00, 0xCFA);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#inb\">inb</a>(0xCF8) == 0x00 && <a class=\"id\" href=\"#inb\">inb</a>(0xCFA) == 0x00 &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#pci_sanity_check\">pci_sanity_check</a>(&amp;<a class=\"id\" href=\"#pci_direct_conf2\">pci_direct_conf2</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#works\">works</a> = 1;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#local_irq_restore\">local_irq_restore</a>(<a class=\"id\" href=\"#flags\">flags</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#works\">works</a>;", 
"}", 
"", 
"void <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#pci_direct_init\">pci_direct_init</a>(int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#type\">type</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"PCI: Using configuration type %d for base access\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#type\">type</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#type\">type</a> == 1) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#raw_pci_ops\">raw_pci_ops</a> = &amp;<a class=\"id\" href=\"#pci_direct_conf1\">pci_direct_conf1</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#raw_pci_ext_ops\">raw_pci_ext_ops</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#pci_probe\">pci_probe</a> &amp; <a class=\"id\" href=\"#PCI_HAS_IO_ECS\">PCI_HAS_IO_ECS</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"PCI: Using configuration type 1 \"", 
"<span class=\"ts\"/><span class=\"ts\"/>       \"for extended access\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#raw_pci_ext_ops\">raw_pci_ext_ops</a> = &amp;<a class=\"id\" href=\"#pci_direct_conf1\">pci_direct_conf1</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#raw_pci_ops\">raw_pci_ops</a> = &amp;<a class=\"id\" href=\"#pci_direct_conf2\">pci_direct_conf2</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#pci_direct_probe\">pci_direct_probe</a>(void)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#resource\">resource</a> *<a class=\"id\" href=\"#region\">region</a>, *<a class=\"id\" href=\"#region2\">region2</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#pci_probe\">pci_probe</a> &amp; <a class=\"id\" href=\"#PCI_PROBE_CONF1\">PCI_PROBE_CONF1</a>) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#type2\">type2</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#region\">region</a> = <a class=\"id\" href=\"#request_region\">request_region</a>(0xCF8, 8, \"PCI conf1\");", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#region\">region</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#type2\">type2</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_check_type1\">pci_check_type1</a>()) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#raw_pci_ops\">raw_pci_ops</a> = &amp;<a class=\"id\" href=\"#pci_direct_conf1\">pci_direct_conf1</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#port_cf9_safe\">port_cf9_safe</a> = <a class=\"id\" href=\"#true\">true</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#release_resource\">release_resource</a>(<a class=\"id\" href=\"#region\">region</a>);", 
"", 
" <a class=\"id\" href=\"#type2\">type2</a>:", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#pci_probe\">pci_probe</a> &amp; <a class=\"id\" href=\"#PCI_PROBE_CONF2\">PCI_PROBE_CONF2</a>) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#region\">region</a> = <a class=\"id\" href=\"#request_region\">request_region</a>(0xCF8, 4, \"PCI conf2\");", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#region\">region</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#region2\">region2</a> = <a class=\"id\" href=\"#request_region\">request_region</a>(0xC000, 0x1000, \"PCI conf2\");", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#region2\">region2</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#fail2\">fail2</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_check_type2\">pci_check_type2</a>()) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#raw_pci_ops\">raw_pci_ops</a> = &amp;<a class=\"id\" href=\"#pci_direct_conf2\">pci_direct_conf2</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#port_cf9_safe\">port_cf9_safe</a> = <a class=\"id\" href=\"#true\">true</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return 2;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#release_resource\">release_resource</a>(<a class=\"id\" href=\"#region2\">region2</a>);", 
" <a class=\"id\" href=\"#fail2\">fail2</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#release_resource\">release_resource</a>(<a class=\"id\" href=\"#region\">region</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
];
xr_frag_insert('l/82/a0ae0fa8f44fc95825deead87cad239af1fe87.xr', __xr_tmp);
