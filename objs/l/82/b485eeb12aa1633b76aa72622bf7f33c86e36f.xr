var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * linux/kernel/futex_compat.c</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Futex compatibililty routines.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright 2006, Red Hat, Inc., Ingo Molnar</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#linkage\">linkage</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#compat\">compat</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#nsproxy\">nsproxy</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#futex\">futex</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#uaccess\">uaccess</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Fetch a robust-list pointer. Bit 0 signals PI futexes:</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> int", 
"<a class=\"id\" href=\"#fetch_robust_entry\">fetch_robust_entry</a>(<a class=\"id\" href=\"#compat_uptr_t\">compat_uptr_t</a> *<a class=\"id\" href=\"#uentry\">uentry</a>, struct <a class=\"id\" href=\"#robust_list\">robust_list</a> <a class=\"id\" href=\"#__user\">__user</a> **<a class=\"id\" href=\"#entry\">entry</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#compat_uptr_t\">compat_uptr_t</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#head\">head</a>, int *<a class=\"id\" href=\"#pi\">pi</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(*<a class=\"id\" href=\"#uentry\">uentry</a>, <a class=\"id\" href=\"#head\">head</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#entry\">entry</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>((*<a class=\"id\" href=\"#uentry\">uentry</a>) &amp; ~1);", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#pi\">pi</a> = (unsigned int)(*<a class=\"id\" href=\"#uentry\">uentry</a>) &amp; 1;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#futex_uaddr\">futex_uaddr</a>(struct <a class=\"id\" href=\"#robust_list\">robust_list</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#entry\">entry</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#compat_long_t\">compat_long_t</a> <a class=\"id\" href=\"#futex_offset\">futex_offset</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_uptr_t\">compat_uptr_t</a> <a class=\"id\" href=\"#base\">base</a> = <a class=\"id\" href=\"#ptr_to_compat\">ptr_to_compat</a>(<a class=\"id\" href=\"#entry\">entry</a>);", 
"<span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uaddr\">uaddr</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#base\">base</a> + <a class=\"id\" href=\"#futex_offset\">futex_offset</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#uaddr\">uaddr</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Walk curr-&gt;robust_list (very carefully, it's a userspace list!)</span>", 
"<span class=\"comment\"> * and mark any locks found there dead, and notify any waiters.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * We silently return on any sign of list-walking problem.</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#compat_exit_robust_list\">compat_exit_robust_list</a>(struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#curr\">curr</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_robust_list_head\">compat_robust_list_head</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#head\">head</a> = <a class=\"id\" href=\"#curr\">curr</a>-><a class=\"id\" href=\"#compat_robust_list\">compat_robust_list</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#robust_list\">robust_list</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#entry\">entry</a>, *<a class=\"id\" href=\"#next_entry\">next_entry</a>, *<a class=\"id\" href=\"#pending\">pending</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#limit\">limit</a> = <a class=\"id\" href=\"#ROBUST_LIST_LIMIT\">ROBUST_LIST_LIMIT</a>, <a class=\"id\" href=\"#pi\">pi</a>, <a class=\"id\" href=\"#next_pi\">next_pi</a>, <a class=\"id\" href=\"#pip\">pip</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_uptr_t\">compat_uptr_t</a> <a class=\"id\" href=\"#uentry\">uentry</a>, <a class=\"id\" href=\"#next_uentry\">next_uentry</a>, <a class=\"id\" href=\"#upending\">upending</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_long_t\">compat_long_t</a> <a class=\"id\" href=\"#futex_offset\">futex_offset</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rc\">rc</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#futex_cmpxchg_enabled\">futex_cmpxchg_enabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Fetch the list head (which was registered earlier, via</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * sys_set_robust_list()):</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fetch_robust_entry\">fetch_robust_entry</a>(&amp;<a class=\"id\" href=\"#uentry\">uentry</a>, &amp;<a class=\"id\" href=\"#entry\">entry</a>, &amp;<a class=\"id\" href=\"#head\">head</a>-><a class=\"id\" href=\"#list\">list</a>.<a class=\"id\" href=\"#next\">next</a>, &amp;<a class=\"id\" href=\"#pi\">pi</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Fetch the relative futex offset:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#futex_offset\">futex_offset</a>, &amp;<a class=\"id\" href=\"#head\">head</a>-><a class=\"id\" href=\"#futex_offset\">futex_offset</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Fetch any possibly pending lock-add first, and handle it</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * if it exists:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fetch_robust_entry\">fetch_robust_entry</a>(&amp;<a class=\"id\" href=\"#upending\">upending</a>, &amp;<a class=\"id\" href=\"#pending\">pending</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       &amp;<a class=\"id\" href=\"#head\">head</a>-><a class=\"id\" href=\"#list_op_pending\">list_op_pending</a>, &amp;<a class=\"id\" href=\"#pip\">pip</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#next_entry\">next_entry</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;<span class=\"ts\"/><span class=\"comment\">/* avoid warning with gcc */</span>", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#entry\">entry</a> != (struct <a class=\"id\" href=\"#robust_list\">robust_list</a> <a class=\"id\" href=\"#__user\">__user</a> *) &amp;<a class=\"id\" href=\"#head\">head</a>-><a class=\"id\" href=\"#list\">list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Fetch the next entry in the list before calling</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * handle_futex_death:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = <a class=\"id\" href=\"#fetch_robust_entry\">fetch_robust_entry</a>(&amp;<a class=\"id\" href=\"#next_uentry\">next_uentry</a>, &amp;<a class=\"id\" href=\"#next_entry\">next_entry</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#compat_uptr_t\">compat_uptr_t</a> <a class=\"id\" href=\"#__user\">__user</a> *)&amp;<a class=\"id\" href=\"#entry\">entry</a>-><a class=\"id\" href=\"#next\">next</a>, &amp;<a class=\"id\" href=\"#next_pi\">next_pi</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * A pending lock might already be on the list, so</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * dont process it twice:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#entry\">entry</a> != <a class=\"id\" href=\"#pending\">pending</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uaddr\">uaddr</a> = <a class=\"id\" href=\"#futex_uaddr\">futex_uaddr</a>(<a class=\"id\" href=\"#entry\">entry</a>, <a class=\"id\" href=\"#futex_offset\">futex_offset</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#handle_futex_death\">handle_futex_death</a>(<a class=\"id\" href=\"#uaddr\">uaddr</a>, <a class=\"id\" href=\"#curr\">curr</a>, <a class=\"id\" href=\"#pi\">pi</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rc\">rc</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#uentry\">uentry</a> = <a class=\"id\" href=\"#next_uentry\">next_uentry</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#entry\">entry</a> = <a class=\"id\" href=\"#next_entry\">next_entry</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pi\">pi</a> = <a class=\"id\" href=\"#next_pi\">next_pi</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Avoid excessively long or circular lists:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!--<a class=\"id\" href=\"#limit\">limit</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cond_resched\">cond_resched</a>();", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pending\">pending</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uaddr\">uaddr</a> = <a class=\"id\" href=\"#futex_uaddr\">futex_uaddr</a>(<a class=\"id\" href=\"#pending\">pending</a>, <a class=\"id\" href=\"#futex_offset\">futex_offset</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#handle_futex_death\">handle_futex_death</a>(<a class=\"id\" href=\"#uaddr\">uaddr</a>, <a class=\"id\" href=\"#curr\">curr</a>, <a class=\"id\" href=\"#pip\">pip</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long", 
"<a class=\"id\" href=\"#compat_sys_set_robust_list\">compat_sys_set_robust_list</a>(struct <a class=\"id\" href=\"#compat_robust_list_head\">compat_robust_list_head</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#head\">head</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#compat_size_t\">compat_size_t</a> <a class=\"id\" href=\"#len\">len</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#futex_cmpxchg_enabled\">futex_cmpxchg_enabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOSYS\">ENOSYS</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#len\">len</a> != sizeof(*<a class=\"id\" href=\"#head\">head</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#compat_robust_list\">compat_robust_list</a> = <a class=\"id\" href=\"#head\">head</a>;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long", 
"<a class=\"id\" href=\"#compat_sys_get_robust_list\">compat_sys_get_robust_list</a>(int <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#compat_uptr_t\">compat_uptr_t</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#head_ptr\">head_ptr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#compat_size_t\">compat_size_t</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#len_ptr\">len_ptr</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_robust_list_head\">compat_robust_list_head</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#head\">head</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#cred\">cred</a> *<a class=\"id\" href=\"#cred\">cred</a> = <a class=\"id\" href=\"#current_cred\">current_cred</a>(), *<a class=\"id\" href=\"#pcred\">pcred</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#futex_cmpxchg_enabled\">futex_cmpxchg_enabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOSYS\">ENOSYS</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pid\">pid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#head\">head</a> = <a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#compat_robust_list\">compat_robust_list</a>;", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#p\">p</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_lock\">rcu_read_lock</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#find_task_by_vpid\">find_task_by_vpid</a>(<a class=\"id\" href=\"#pid\">pid</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#p\">p</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_unlock\">err_unlock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pcred\">pcred</a> = <a class=\"id\" href=\"#__task_cred\">__task_cred</a>(<a class=\"id\" href=\"#p\">p</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#euid\">euid</a> != <a class=\"id\" href=\"#pcred\">pcred</a>-><a class=\"id\" href=\"#euid\">euid</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#euid\">euid</a> != <a class=\"id\" href=\"#pcred\">pcred</a>-><a class=\"id\" href=\"#uid\">uid</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    !<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_PTRACE\">CAP_SYS_PTRACE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_unlock\">err_unlock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#head\">head</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#compat_robust_list\">compat_robust_list</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#put_user\">put_user</a>(sizeof(*<a class=\"id\" href=\"#head\">head</a>), <a class=\"id\" href=\"#len_ptr\">len_ptr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#ptr_to_compat\">ptr_to_compat</a>(<a class=\"id\" href=\"#head\">head</a>), <a class=\"id\" href=\"#head_ptr\">head_ptr</a>);", 
"", 
"<a class=\"id\" href=\"#err_unlock\">err_unlock</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#asmlinkage\">asmlinkage</a> long <a class=\"id\" href=\"#compat_sys_futex\">compat_sys_futex</a>(<a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uaddr\">uaddr</a>, int <a class=\"id\" href=\"#op\">op</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#val\">val</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#compat_timespec\">compat_timespec</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#utime\">utime</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#uaddr2\">uaddr2</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#val3\">val3</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#ts\">ts</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ktime_t\">ktime_t</a> <a class=\"id\" href=\"#t\">t</a>, *<a class=\"id\" href=\"#tp\">tp</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#val2\">val2</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#cmd\">cmd</a> = <a class=\"id\" href=\"#op\">op</a> &amp; <a class=\"id\" href=\"#FUTEX_CMD_MASK\">FUTEX_CMD_MASK</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#utime\">utime</a> && (<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#FUTEX_WAIT\">FUTEX_WAIT</a> || <a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#FUTEX_LOCK_PI\">FUTEX_LOCK_PI</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#FUTEX_WAIT_BITSET\">FUTEX_WAIT_BITSET</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#FUTEX_WAIT_REQUEUE_PI\">FUTEX_WAIT_REQUEUE_PI</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#get_compat_timespec\">get_compat_timespec</a>(&amp;<a class=\"id\" href=\"#ts\">ts</a>, <a class=\"id\" href=\"#utime\">utime</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#timespec_valid\">timespec_valid</a>(&amp;<a class=\"id\" href=\"#ts\">ts</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#t\">t</a> = <a class=\"id\" href=\"#timespec_to_ktime\">timespec_to_ktime</a>(<a class=\"id\" href=\"#ts\">ts</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#FUTEX_WAIT\">FUTEX_WAIT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#t\">t</a> = <a class=\"id\" href=\"#ktime_add_safe\">ktime_add_safe</a>(<a class=\"id\" href=\"#ktime_get\">ktime_get</a>(), <a class=\"id\" href=\"#t\">t</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a> = &amp;<a class=\"id\" href=\"#t\">t</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#FUTEX_REQUEUE\">FUTEX_REQUEUE</a> || <a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#FUTEX_CMP_REQUEUE\">FUTEX_CMP_REQUEUE</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#FUTEX_CMP_REQUEUE_PI\">FUTEX_CMP_REQUEUE_PI</a> || <a class=\"id\" href=\"#cmd\">cmd</a> == <a class=\"id\" href=\"#FUTEX_WAKE_OP\">FUTEX_WAKE_OP</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#val2\">val2</a> = (int) (unsigned long) <a class=\"id\" href=\"#utime\">utime</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#do_futex\">do_futex</a>(<a class=\"id\" href=\"#uaddr\">uaddr</a>, <a class=\"id\" href=\"#op\">op</a>, <a class=\"id\" href=\"#val\">val</a>, <a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#uaddr2\">uaddr2</a>, <a class=\"id\" href=\"#val2\">val2</a>, <a class=\"id\" href=\"#val3\">val3</a>);", 
"}", 
];
xr_frag_insert('l/82/b485eeb12aa1633b76aa72622bf7f33c86e36f.xr', __xr_tmp);
