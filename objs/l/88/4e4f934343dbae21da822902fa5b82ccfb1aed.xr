var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *  Sysfs interface for the universal power supply monitor class</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Copyright © 2007  David Woodhouse &lt;dwmw2@infradead.org&gt;</span>", 
"<span class=\"comment\"> *  Copyright © 2007  Anton Vorontsov &lt;cbou@mail.ru&gt;</span>", 
"<span class=\"comment\"> *  Copyright © 2004  Szabolcs Gyurko</span>", 
"<span class=\"comment\"> *  Copyright © 2003  Ian Molton &lt;spyro@f2s.com&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Modified: 2004, Oct     Szabolcs Gyurko</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  You may use this code as per GPL version 2</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#ctype\">ctype</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#power_supply\">power_supply</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> \"power_supply.h\"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * This is because the name \"current\" breaks the device attr macro.</span>", 
"<span class=\"comment\"> * The \"current\" word resolves to \"(get_current())\" so instead of</span>", 
"<span class=\"comment\"> * \"current\" \"(get_current())\" appears in the sysfs.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * The source of this definition is the device.h which calls __ATTR</span>", 
"<span class=\"comment\"> * macro in sysfs.h which calls the __stringify macro.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Only modification that the name is not tried to be resolved</span>", 
"<span class=\"comment\"> * (as a macro let's say).</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#_name\">_name</a>)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"{<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#attr\">attr</a> = { .<a class=\"id\" href=\"#name\">name</a> = #<a class=\"id\" href=\"#_name\">_name</a> },<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#show\">show</a> = <a class=\"id\" href=\"#power_supply_show_property\">power_supply_show_property</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#store\">store</a> = <a class=\"id\" href=\"#power_supply_store_property\">power_supply_store_property</a>,<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> <a class=\"id\" href=\"#power_supply_attrs\">power_supply_attrs</a>[];", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#power_supply_show_property\">power_supply_show_property</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  char *<a class=\"id\" href=\"#buf\">buf</a>) {", 
"<span class=\"ts\"/>static char *<a class=\"id\" href=\"#type_text\">type_text</a>[] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>\"Battery\", \"UPS\", \"Mains\", \"USB\"", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>static char *<a class=\"id\" href=\"#status_text\">status_text</a>[] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>\"Unknown\", \"Charging\", \"Discharging\", \"Not charging\", \"Full\"", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>static char *<a class=\"id\" href=\"#charge_type\">charge_type</a>[] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>\"Unknown\", \"N/A\", \"Trickle\", \"Fast\"", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>static char *<a class=\"id\" href=\"#health_text\">health_text</a>[] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>\"Unknown\", \"Good\", \"Overheat\", \"Dead\", \"Over voltage\",", 
"<span class=\"ts\"/><span class=\"ts\"/>\"Unspecified failure\", \"Cold\",", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>static char *<a class=\"id\" href=\"#technology_text\">technology_text</a>[] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>\"Unknown\", \"NiMH\", \"Li-ion\", \"Li-poly\", \"LiFe\", \"NiCd\",", 
"<span class=\"ts\"/><span class=\"ts\"/>\"LiMn\"", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>static char *<a class=\"id\" href=\"#capacity_level_text\">capacity_level_text</a>[] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>\"Unknown\", \"Critical\", \"Low\", \"Normal\", \"High\", \"Full\"", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>const <a class=\"id\" href=\"#ptrdiff_t\">ptrdiff_t</a> <a class=\"id\" href=\"#off\">off</a> = <a class=\"id\" href=\"#attr\">attr</a> - <a class=\"id\" href=\"#power_supply_attrs\">power_supply_attrs</a>;", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#power_supply_propval\">power_supply_propval</a> <a class=\"id\" href=\"#value\">value</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#off\">off</a> == <a class=\"id\" href=\"#POWER_SUPPLY_PROP_TYPE\">POWER_SUPPLY_PROP_TYPE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#value\">value</a>.<a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#type\">type</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#get_property\">get_property</a>(<a class=\"id\" href=\"#psy\">psy</a>, <a class=\"id\" href=\"#off\">off</a>, &amp;<a class=\"id\" href=\"#value\">value</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == -<a class=\"id\" href=\"#ENODATA\">ENODATA</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_dbg\">dev_dbg</a>(<a class=\"id\" href=\"#dev\">dev</a>, \"driver has no data for `%s' property\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#attr\">attr</a>-><a class=\"id\" href=\"#attr\">attr</a>.<a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#ret\">ret</a> != -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_err\">dev_err</a>(<a class=\"id\" href=\"#dev\">dev</a>, \"driver failed to report `%s' property\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#attr\">attr</a>-><a class=\"id\" href=\"#attr\">attr</a>.<a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#off\">off</a> == <a class=\"id\" href=\"#POWER_SUPPLY_PROP_STATUS\">POWER_SUPPLY_PROP_STATUS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%s\\n\", <a class=\"id\" href=\"#status_text\">status_text</a>[<a class=\"id\" href=\"#value\">value</a>.<a class=\"id\" href=\"#intval\">intval</a>]);", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#off\">off</a> == <a class=\"id\" href=\"#POWER_SUPPLY_PROP_CHARGE_TYPE\">POWER_SUPPLY_PROP_CHARGE_TYPE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%s\\n\", <a class=\"id\" href=\"#charge_type\">charge_type</a>[<a class=\"id\" href=\"#value\">value</a>.<a class=\"id\" href=\"#intval\">intval</a>]);", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#off\">off</a> == <a class=\"id\" href=\"#POWER_SUPPLY_PROP_HEALTH\">POWER_SUPPLY_PROP_HEALTH</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%s\\n\", <a class=\"id\" href=\"#health_text\">health_text</a>[<a class=\"id\" href=\"#value\">value</a>.<a class=\"id\" href=\"#intval\">intval</a>]);", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#off\">off</a> == <a class=\"id\" href=\"#POWER_SUPPLY_PROP_TECHNOLOGY\">POWER_SUPPLY_PROP_TECHNOLOGY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%s\\n\", <a class=\"id\" href=\"#technology_text\">technology_text</a>[<a class=\"id\" href=\"#value\">value</a>.<a class=\"id\" href=\"#intval\">intval</a>]);", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#off\">off</a> == <a class=\"id\" href=\"#POWER_SUPPLY_PROP_CAPACITY_LEVEL\">POWER_SUPPLY_PROP_CAPACITY_LEVEL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%s\\n\", <a class=\"id\" href=\"#capacity_level_text\">capacity_level_text</a>[<a class=\"id\" href=\"#value\">value</a>.<a class=\"id\" href=\"#intval\">intval</a>]);", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#off\">off</a> == <a class=\"id\" href=\"#POWER_SUPPLY_PROP_TYPE\">POWER_SUPPLY_PROP_TYPE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%s\\n\", <a class=\"id\" href=\"#type_text\">type_text</a>[<a class=\"id\" href=\"#value\">value</a>.<a class=\"id\" href=\"#intval\">intval</a>]);", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#off\">off</a> >= <a class=\"id\" href=\"#POWER_SUPPLY_PROP_MODEL_NAME\">POWER_SUPPLY_PROP_MODEL_NAME</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%s\\n\", <a class=\"id\" href=\"#value\">value</a>.<a class=\"id\" href=\"#strval\">strval</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%d\\n\", <a class=\"id\" href=\"#value\">value</a>.<a class=\"id\" href=\"#intval\">intval</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#power_supply_store_property\">power_supply_store_property</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>) {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>const <a class=\"id\" href=\"#ptrdiff_t\">ptrdiff_t</a> <a class=\"id\" href=\"#off\">off</a> = <a class=\"id\" href=\"#attr\">attr</a> - <a class=\"id\" href=\"#power_supply_attrs\">power_supply_attrs</a>;", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#power_supply_propval\">power_supply_propval</a> <a class=\"id\" href=\"#value\">value</a>;", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#long_val\">long_val</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* TODO: support other types than int */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#strict_strtol\">strict_strtol</a>(<a class=\"id\" href=\"#buf\">buf</a>, 10, &amp;<a class=\"id\" href=\"#long_val\">long_val</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#value\">value</a>.<a class=\"id\" href=\"#intval\">intval</a> = <a class=\"id\" href=\"#long_val\">long_val</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#set_property\">set_property</a>(<a class=\"id\" href=\"#psy\">psy</a>, <a class=\"id\" href=\"#off\">off</a>, &amp;<a class=\"id\" href=\"#value\">value</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"<span class=\"comment\">/* Must be in the same order as POWER_SUPPLY_PROP_* */</span>", 
"static struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> <a class=\"id\" href=\"#power_supply_attrs\">power_supply_attrs</a>[] = {", 
"<span class=\"ts\"/><span class=\"comment\">/* Properties of type `int' */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#status\">status</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#charge_type\">charge_type</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#health\">health</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#present\">present</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#online\">online</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#technology\">technology</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#cycle_count\">cycle_count</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#voltage_max\">voltage_max</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#voltage_min\">voltage_min</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#voltage_max_design\">voltage_max_design</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#voltage_min_design\">voltage_min_design</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#voltage_now\">voltage_now</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#voltage_avg\">voltage_avg</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#current_now\">current_now</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#current_avg\">current_avg</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#power_now\">power_now</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#power_avg\">power_avg</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#charge_full_design\">charge_full_design</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#charge_empty_design\">charge_empty_design</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#charge_full\">charge_full</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#charge_empty\">charge_empty</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#charge_now\">charge_now</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#charge_avg\">charge_avg</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#charge_counter\">charge_counter</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#energy_full_design\">energy_full_design</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#energy_empty_design\">energy_empty_design</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#energy_full\">energy_full</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#energy_empty\">energy_empty</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#energy_now\">energy_now</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#energy_avg\">energy_avg</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#capacity\">capacity</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#capacity_level\">capacity_level</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#temp\">temp</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#temp_ambient\">temp_ambient</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#time_to_empty_now\">time_to_empty_now</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#time_to_empty_avg\">time_to_empty_avg</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#time_to_full_now\">time_to_full_now</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#time_to_full_avg\">time_to_full_avg</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#type\">type</a>),", 
"<span class=\"ts\"/><span class=\"comment\">/* Properties of type `const char *' */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#model_name\">model_name</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#manufacturer\">manufacturer</a>),", 
"<span class=\"ts\"/><a class=\"id\" href=\"#POWER_SUPPLY_ATTR\">POWER_SUPPLY_ATTR</a>(<a class=\"id\" href=\"#serial_number\">serial_number</a>),", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#attribute\">attribute</a> *", 
"<a class=\"id\" href=\"#__power_supply_attrs\">__power_supply_attrs</a>[<a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#power_supply_attrs\">power_supply_attrs</a>) + 1];", 
"", 
"static <a class=\"id\" href=\"#mode_t\">mode_t</a> <a class=\"id\" href=\"#power_supply_attr_is_visible\">power_supply_attr_is_visible</a>(struct <a class=\"id\" href=\"#kobject\">kobject</a> *<a class=\"id\" href=\"#kobj\">kobj</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#attribute\">attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   int <a class=\"id\" href=\"#attrno\">attrno</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#kobj\">kobj</a>, struct <a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#kobj\">kobj</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode_t\">mode_t</a> <a class=\"id\" href=\"#mode\">mode</a> = <a class=\"id\" href=\"#S_IRUSR\">S_IRUSR</a> | <a class=\"id\" href=\"#S_IRGRP\">S_IRGRP</a> | <a class=\"id\" href=\"#S_IROTH\">S_IROTH</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#attrno\">attrno</a> == <a class=\"id\" href=\"#POWER_SUPPLY_PROP_TYPE\">POWER_SUPPLY_PROP_TYPE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#mode\">mode</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#num_properties\">num_properties</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#property\">property</a> = <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#properties\">properties</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#property\">property</a> == <a class=\"id\" href=\"#attrno\">attrno</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#property_is_writeable\">property_is_writeable</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#property_is_writeable\">property_is_writeable</a>(<a class=\"id\" href=\"#psy\">psy</a>, <a class=\"id\" href=\"#property\">property</a>) &gt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a> |= <a class=\"id\" href=\"#S_IWUSR\">S_IWUSR</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#attribute_group\">attribute_group</a> <a class=\"id\" href=\"#power_supply_attr_group\">power_supply_attr_group</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#attrs\">attrs</a> = <a class=\"id\" href=\"#__power_supply_attrs\">__power_supply_attrs</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#is_visible\">is_visible</a> = <a class=\"id\" href=\"#power_supply_attr_is_visible\">power_supply_attr_is_visible</a>,", 
"};", 
"", 
"static const struct <a class=\"id\" href=\"#attribute_group\">attribute_group</a> *<a class=\"id\" href=\"#power_supply_attr_groups\">power_supply_attr_groups</a>[] = {", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#power_supply_attr_group\">power_supply_attr_group</a>,", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>,", 
"};", 
"", 
"void <a class=\"id\" href=\"#power_supply_init_attrs\">power_supply_init_attrs</a>(struct <a class=\"id\" href=\"#device_type\">device_type</a> *<a class=\"id\" href=\"#dev_type\">dev_type</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_type\">dev_type</a>-><a class=\"id\" href=\"#groups\">groups</a> = <a class=\"id\" href=\"#power_supply_attr_groups\">power_supply_attr_groups</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#power_supply_attrs\">power_supply_attrs</a>); <a class=\"id\" href=\"#i\">i</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__power_supply_attrs\">__power_supply_attrs</a>[<a class=\"id\" href=\"#i\">i</a>] = &amp;<a class=\"id\" href=\"#power_supply_attrs\">power_supply_attrs</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#attr\">attr</a>;", 
"}", 
"", 
"static char *<a class=\"id\" href=\"#kstruprdup\">kstruprdup</a>(const char *<a class=\"id\" href=\"#str\">str</a>, <a class=\"id\" href=\"#gfp_t\">gfp_t</a> <a class=\"id\" href=\"#gfp\">gfp</a>)", 
"{", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#ret\">ret</a>, *<a class=\"id\" href=\"#ustr\">ustr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ustr\">ustr</a> = <a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#strlen\">strlen</a>(<a class=\"id\" href=\"#str\">str</a>) + 1, <a class=\"id\" href=\"#gfp\">gfp</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>while (*<a class=\"id\" href=\"#str\">str</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#ustr\">ustr</a>++ = <a class=\"id\" href=\"#toupper\">toupper</a>(*<a class=\"id\" href=\"#str\">str</a>++);", 
"", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#ustr\">ustr</a> = 0;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#power_supply_uevent\">power_supply_uevent</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#kobj_uevent_env\">kobj_uevent_env</a> *<a class=\"id\" href=\"#env\">env</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a> = <a class=\"id\" href=\"#dev_get_drvdata\">dev_get_drvdata</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = 0, <a class=\"id\" href=\"#j\">j</a>;", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#prop_buf\">prop_buf</a>;", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#attrname\">attrname</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_dbg\">dev_dbg</a>(<a class=\"id\" href=\"#dev\">dev</a>, \"uevent\\n\");", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#psy\">psy</a> || !<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_dbg\">dev_dbg</a>(<a class=\"id\" href=\"#dev\">dev</a>, \"No power supply yet\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_dbg\">dev_dbg</a>(<a class=\"id\" href=\"#dev\">dev</a>, \"POWER_SUPPLY_NAME=%s\\n\", <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#add_uevent_var\">add_uevent_var</a>(<a class=\"id\" href=\"#env\">env</a>, \"POWER_SUPPLY_NAME=%s\", <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#prop_buf\">prop_buf</a> = (char *)<a class=\"id\" href=\"#get_zeroed_page\">get_zeroed_page</a>(<a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#prop_buf\">prop_buf</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#j\">j</a> = 0; <a class=\"id\" href=\"#j\">j</a> &lt; <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#num_properties\">num_properties</a>; <a class=\"id\" href=\"#j\">j</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#line\">line</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#attr\">attr</a> = &amp;<a class=\"id\" href=\"#power_supply_attrs\">power_supply_attrs</a>[<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#properties\">properties</a>[<a class=\"id\" href=\"#j\">j</a>]];", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#power_supply_show_property\">power_supply_show_property</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#attr\">attr</a>, <a class=\"id\" href=\"#prop_buf\">prop_buf</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* When a battery is absent, we expect -ENODEV. Don't abort;</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   send the uevent with at least the the PRESENT=0 property */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#line\">line</a> = <a class=\"id\" href=\"#strchr\">strchr</a>(<a class=\"id\" href=\"#prop_buf\">prop_buf</a>, '\\n');", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#line\">line</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#line\">line</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#attrname\">attrname</a> = <a class=\"id\" href=\"#kstruprdup\">kstruprdup</a>(<a class=\"id\" href=\"#attr\">attr</a>-><a class=\"id\" href=\"#attr\">attr</a>.<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#attrname\">attrname</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_dbg\">dev_dbg</a>(<a class=\"id\" href=\"#dev\">dev</a>, \"prop %s=%s\\n\", <a class=\"id\" href=\"#attrname\">attrname</a>, <a class=\"id\" href=\"#prop_buf\">prop_buf</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#add_uevent_var\">add_uevent_var</a>(<a class=\"id\" href=\"#env\">env</a>, \"POWER_SUPPLY_%s=%s\", <a class=\"id\" href=\"#attrname\">attrname</a>, <a class=\"id\" href=\"#prop_buf\">prop_buf</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#attrname\">attrname</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#free_page\">free_page</a>((unsigned long)<a class=\"id\" href=\"#prop_buf\">prop_buf</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
];
xr_frag_insert('l/88/4e4f934343dbae21da822902fa5b82ccfb1aed.xr', __xr_tmp);
