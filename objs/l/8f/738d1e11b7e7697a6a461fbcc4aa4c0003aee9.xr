var __xr_tmp = [
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   + <a class=\"id\" href=\"#ntohs\">ntohs</a>(<a class=\"id\" href=\"#ih3\">ih3</a>-><a class=\"id\" href=\"#nsrcs\">nsrcs</a>)*sizeof(<a class=\"id\" href=\"#__be32\">__be32</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ih3\">ih3</a> = <a class=\"id\" href=\"#igmpv3_query_hdr\">igmpv3_query_hdr</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#max_delay\">max_delay</a> = <a class=\"id\" href=\"#IGMPV3_MRC\">IGMPV3_MRC</a>(<a class=\"id\" href=\"#ih3\">ih3</a>-><a class=\"id\" href=\"#code\">code</a>)*(<a class=\"id\" href=\"#HZ\">HZ</a>/<a class=\"id\" href=\"#IGMP_TIMER_SCALE\">IGMP_TIMER_SCALE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#max_delay\">max_delay</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#max_delay\">max_delay</a> = 1;<span class=\"ts\"/><span class=\"comment\">/* can't mod w/ 0 */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mr_maxdelay\">mr_maxdelay</a> = <a class=\"id\" href=\"#max_delay\">max_delay</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ih3\">ih3</a>-><a class=\"id\" href=\"#qrv\">qrv</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mr_qrv\">mr_qrv</a> = <a class=\"id\" href=\"#ih3\">ih3</a>-><a class=\"id\" href=\"#qrv\">qrv</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#group\">group</a>) { <span class=\"comment\">/* general query */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ih3\">ih3</a>-><a class=\"id\" href=\"#nsrcs\">nsrcs</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;<span class=\"ts\"/><span class=\"comment\">/* no sources allowed */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_gq_start_timer\">igmp_gq_start_timer</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* mark sources to include, if group &amp; source-specific */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mark\">mark</a> = <a class=\"id\" href=\"#ih3\">ih3</a>-><a class=\"id\" href=\"#nsrcs\">nsrcs</a> != 0;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * - Start the timers in all of our membership records</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *   that the query applies to for the interface on</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *   which the query arrived excl. those that belong</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *   to a \"local\" group (224.0.0.X)</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * - For timers already running check if they need to</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *   be reset.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * - Use the igmp-&gt;igmp_code field as the maximum</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *   delay possible</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_lock\">read_lock</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_list_lock\">mc_list_lock</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#im\">im</a>=<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_list\">mc_list</a>; <a class=\"id\" href=\"#im\">im</a>!=<a class=\"id\" href=\"#NULL\">NULL</a>; <a class=\"id\" href=\"#im\">im</a>=<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#next\">next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#changed\">changed</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#group\">group</a> && <a class=\"id\" href=\"#group\">group</a> != <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a> == <a class=\"id\" href=\"#IGMP_ALL_HOSTS\">IGMP_ALL_HOSTS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#tm_running\">tm_running</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#gsquery\">gsquery</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#gsquery\">gsquery</a> && <a class=\"id\" href=\"#mark\">mark</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#gsquery\">gsquery</a> = <a class=\"id\" href=\"#mark\">mark</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#changed\">changed</a> = !<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#gsquery\">gsquery</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_marksources\">igmp_marksources</a>(<a class=\"id\" href=\"#im\">im</a>, <a class=\"id\" href=\"#ntohs\">ntohs</a>(<a class=\"id\" href=\"#ih3\">ih3</a>-><a class=\"id\" href=\"#nsrcs\">nsrcs</a>), <a class=\"id\" href=\"#ih3\">ih3</a>-><a class=\"id\" href=\"#srcs\">srcs</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#changed\">changed</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_mod_timer\">igmp_mod_timer</a>(<a class=\"id\" href=\"#im\">im</a>, <a class=\"id\" href=\"#max_delay\">max_delay</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_unlock\">read_unlock</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_list_lock\">mc_list_lock</a>);", 
"}", 
"", 
"<span class=\"comment\">/* called in rcu_read_lock() section */</span>", 
"int <a class=\"id\" href=\"#igmp_rcv\">igmp_rcv</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/* This basically follows the spec line by line -- see RFC1112 */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#igmphdr\">igmphdr</a> *<a class=\"id\" href=\"#ih\">ih</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a> = <a class=\"id\" href=\"#__in_dev_get_rcu\">__in_dev_get_rcu</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#in_dev\">in_dev</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#drop\">drop</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pskb_may_pull\">pskb_may_pull</a>(<a class=\"id\" href=\"#skb\">skb</a>, sizeof(struct <a class=\"id\" href=\"#igmphdr\">igmphdr</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#drop\">drop</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#ip_summed\">ip_summed</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#CHECKSUM_COMPLETE\">CHECKSUM_COMPLETE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#csum_fold\">csum_fold</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#csum\">csum</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* fall through */</span>", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#CHECKSUM_NONE\">CHECKSUM_NONE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#csum\">csum</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#__skb_checksum_complete\">__skb_checksum_complete</a>(<a class=\"id\" href=\"#skb\">skb</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#drop\">drop</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ih\">ih</a> = <a class=\"id\" href=\"#igmp_hdr\">igmp_hdr</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#ih\">ih</a>-><a class=\"id\" href=\"#type\">type</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IGMP_HOST_MEMBERSHIP_QUERY\">IGMP_HOST_MEMBERSHIP_QUERY</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_heard_query\">igmp_heard_query</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#len\">len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IGMP_HOST_MEMBERSHIP_REPORT\">IGMP_HOST_MEMBERSHIP_REPORT</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IGMPV2_HOST_MEMBERSHIP_REPORT\">IGMPV2_HOST_MEMBERSHIP_REPORT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Is it our report looped back? */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#skb_rtable\">skb_rtable</a>(<a class=\"id\" href=\"#skb\">skb</a>)-><a class=\"id\" href=\"#fl\">fl</a>.<a class=\"id\" href=\"#iif\">iif</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* don't rely on MC router hearing unicast reports */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#pkt_type\">pkt_type</a> == <a class=\"id\" href=\"#PACKET_MULTICAST\">PACKET_MULTICAST</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#pkt_type\">pkt_type</a> == <a class=\"id\" href=\"#PACKET_BROADCAST\">PACKET_BROADCAST</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_heard_report\">igmp_heard_report</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#ih\">ih</a>-><a class=\"id\" href=\"#group\">group</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IGMP_PIM\">IGMP_PIM</a>:", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IP_PIMSM_V1\">CONFIG_IP_PIMSM_V1</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#pim_rcv_v1\">pim_rcv_v1</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IGMPV3_HOST_MEMBERSHIP_REPORT\">IGMPV3_HOST_MEMBERSHIP_REPORT</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IGMP_DVMRP\">IGMP_DVMRP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IGMP_TRACE\">IGMP_TRACE</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IGMP_HOST_LEAVE_MESSAGE\">IGMP_HOST_LEAVE_MESSAGE</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IGMP_MTRACE\">IGMP_MTRACE</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IGMP_MTRACE_RESP\">IGMP_MTRACE_RESP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#drop\">drop</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree_skb\">kfree_skb</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Add a filter to a device</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static void <a class=\"id\" href=\"#ip_mc_filter_add\">ip_mc_filter_add</a>(struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#__be32\">__be32</a> <a class=\"id\" href=\"#addr\">addr</a>)", 
"{", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#MAX_ADDR_LEN\">MAX_ADDR_LEN</a>];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Checking for IFF_MULTICAST here is WRONG-WRONG-WRONG.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   We will get multicast token leakage, when IFF_MULTICAST</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   is changed. This check should be done in dev-&gt;set_multicast_list</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   routine. Something sort of:</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   if (dev-&gt;mc_list &amp;&amp; dev-&gt;flags&amp;IFF_MULTICAST) { do it; }</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   --ANK</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#arp_mc_map\">arp_mc_map</a>(<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#dev\">dev</a>, 0) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_mc_add\">dev_mc_add</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#buf\">buf</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Remove a filter from a device</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static void <a class=\"id\" href=\"#ip_mc_filter_del\">ip_mc_filter_del</a>(struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#__be32\">__be32</a> <a class=\"id\" href=\"#addr\">addr</a>)", 
"{", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#MAX_ADDR_LEN\">MAX_ADDR_LEN</a>];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#arp_mc_map\">arp_mc_map</a>(<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#dev\">dev</a>, 0) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_mc_del\">dev_mc_del</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#buf\">buf</a>);", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IP_MULTICAST\">CONFIG_IP_MULTICAST</a>", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * deleted ip_mc_list manipulation</span>", 
"<span class=\"comment\"> */</span>", 
"static void <a class=\"id\" href=\"#igmpv3_add_delrec\">igmpv3_add_delrec</a>(struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a>, struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#im\">im</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#pmc\">pmc</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* this is an \"ip_mc_list\" for convenience; only the fields below</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * are actually used. In particular, the refcnt and users are not</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * used for management of the delete list. Using the same structure</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * for deleted items allows change reports to use common code with</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * non-deleted or query-response MCA's.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(*<a class=\"id\" href=\"#pmc\">pmc</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pmc\">pmc</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#interface\">interface</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#interface\">interface</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#in_dev_hold\">in_dev_hold</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#crcount\">crcount</a> = <a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mr_qrv\">mr_qrv</a> ? <a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mr_qrv\">mr_qrv</a> :", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#IGMP_Unsolicited_Report_Count\">IGMP_Unsolicited_Report_Count</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#sfmode\">sfmode</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#sfmode\">sfmode</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#sfmode\">sfmode</a> == <a class=\"id\" href=\"#MCAST_INCLUDE\">MCAST_INCLUDE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_sf_list\">ip_sf_list</a> *<a class=\"id\" href=\"#psf\">psf</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#tomb\">tomb</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#tomb\">tomb</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#sources\">sources</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#sources\">sources</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#tomb\">tomb</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#sources\">sources</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#psf\">psf</a>=<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#sources\">sources</a>; <a class=\"id\" href=\"#psf\">psf</a>; <a class=\"id\" href=\"#psf\">psf</a>=<a class=\"id\" href=\"#psf\">psf</a>-><a class=\"id\" href=\"#sf_next\">sf_next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#psf\">psf</a>-><a class=\"id\" href=\"#sf_crcount\">sf_crcount</a> = <a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#crcount\">crcount</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb_lock\">mc_tomb_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb\">mc_tomb</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb\">mc_tomb</a> = <a class=\"id\" href=\"#pmc\">pmc</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb_lock\">mc_tomb_lock</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#igmpv3_del_delrec\">igmpv3_del_delrec</a>(struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#__be32\">__be32</a> <a class=\"id\" href=\"#multiaddr\">multiaddr</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#pmc\">pmc</a>, *<a class=\"id\" href=\"#pmc_prev\">pmc_prev</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_sf_list\">ip_sf_list</a> *<a class=\"id\" href=\"#psf\">psf</a>, *<a class=\"id\" href=\"#psf_next\">psf_next</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb_lock\">mc_tomb_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmc_prev\">pmc_prev</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#pmc\">pmc</a>=<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb\">mc_tomb</a>; <a class=\"id\" href=\"#pmc\">pmc</a>; <a class=\"id\" href=\"#pmc\">pmc</a>=<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#next\">next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a> == <a class=\"id\" href=\"#multiaddr\">multiaddr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pmc_prev\">pmc_prev</a> = <a class=\"id\" href=\"#pmc\">pmc</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pmc\">pmc</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pmc_prev\">pmc_prev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pmc_prev\">pmc_prev</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb\">mc_tomb</a> = <a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb_lock\">mc_tomb_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pmc\">pmc</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#psf\">psf</a>=<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#tomb\">tomb</a>; <a class=\"id\" href=\"#psf\">psf</a>; <a class=\"id\" href=\"#psf\">psf</a>=<a class=\"id\" href=\"#psf_next\">psf_next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#psf_next\">psf_next</a> = <a class=\"id\" href=\"#psf\">psf</a>-><a class=\"id\" href=\"#sf_next\">sf_next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#psf\">psf</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in_dev_put\">in_dev_put</a>(<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#interface\">interface</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#pmc\">pmc</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static void <a class=\"id\" href=\"#igmpv3_clear_delrec\">igmpv3_clear_delrec</a>(struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#pmc\">pmc</a>, *<a class=\"id\" href=\"#nextpmc\">nextpmc</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb_lock\">mc_tomb_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a> = <a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb\">mc_tomb</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb\">mc_tomb</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_tomb_lock\">mc_tomb_lock</a>);", 
"", 
"<span class=\"ts\"/>for (; <a class=\"id\" href=\"#pmc\">pmc</a>; <a class=\"id\" href=\"#pmc\">pmc</a> = <a class=\"id\" href=\"#nextpmc\">nextpmc</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nextpmc\">nextpmc</a> = <a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip_mc_clear_src\">ip_mc_clear_src</a>(<a class=\"id\" href=\"#pmc\">pmc</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in_dev_put\">in_dev_put</a>(<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#interface\">interface</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#pmc\">pmc</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"comment\">/* clear dead sources, too */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_lock\">read_lock</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_list_lock\">mc_list_lock</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#pmc\">pmc</a>=<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_list\">mc_list</a>; <a class=\"id\" href=\"#pmc\">pmc</a>; <a class=\"id\" href=\"#pmc\">pmc</a>=<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#next\">next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_sf_list\">ip_sf_list</a> *<a class=\"id\" href=\"#psf\">psf</a>, *<a class=\"id\" href=\"#psf_next\">psf_next</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(&amp;<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#psf\">psf</a> = <a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#tomb\">tomb</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#tomb\">tomb</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(&amp;<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>for (; <a class=\"id\" href=\"#psf\">psf</a>; <a class=\"id\" href=\"#psf\">psf</a>=<a class=\"id\" href=\"#psf_next\">psf_next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#psf_next\">psf_next</a> = <a class=\"id\" href=\"#psf\">psf</a>-><a class=\"id\" href=\"#sf_next\">sf_next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#psf\">psf</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_unlock\">read_unlock</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_list_lock\">mc_list_lock</a>);", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static void <a class=\"id\" href=\"#igmp_group_dropped\">igmp_group_dropped</a>(struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#im\">im</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#interface\">interface</a>;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IP_MULTICAST\">CONFIG_IP_MULTICAST</a>", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#reporter\">reporter</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#loaded\">loaded</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#loaded\">loaded</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip_mc_filter_del\">ip_mc_filter_del</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a>);", 
"<span class=\"ts\"/>}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IP_MULTICAST\">CONFIG_IP_MULTICAST</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a> == <a class=\"id\" href=\"#IGMP_ALL_HOSTS\">IGMP_ALL_HOSTS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#reporter\">reporter</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#reporter\">reporter</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#igmp_stop_timer\">igmp_stop_timer</a>(<a class=\"id\" href=\"#im\">im</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#dead\">dead</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IGMP_V1_SEEN\">IGMP_V1_SEEN</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IGMP_V2_SEEN\">IGMP_V2_SEEN</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#reporter\">reporter</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_send_report\">igmp_send_report</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#im\">im</a>, <a class=\"id\" href=\"#IGMP_HOST_LEAVE_MESSAGE\">IGMP_HOST_LEAVE_MESSAGE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* IGMPv3 */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmpv3_add_delrec\">igmpv3_add_delrec</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#im\">im</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_ifc_event\">igmp_ifc_event</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>);", 
"<span class=\"ts\"/>}", 
"<a class=\"id\" href=\"#done\">done</a>:", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ip_mc_clear_src\">ip_mc_clear_src</a>(<a class=\"id\" href=\"#im\">im</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#igmp_group_added\">igmp_group_added</a>(struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#im\">im</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#interface\">interface</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#loaded\">loaded</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#loaded\">loaded</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip_mc_filter_add\">ip_mc_filter_add</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a>);", 
"<span class=\"ts\"/>}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IP_MULTICAST\">CONFIG_IP_MULTICAST</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a> == <a class=\"id\" href=\"#IGMP_ALL_HOSTS\">IGMP_ALL_HOSTS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#dead\">dead</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#IGMP_V1_SEEN\">IGMP_V1_SEEN</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>) || <a class=\"id\" href=\"#IGMP_V2_SEEN\">IGMP_V2_SEEN</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_start_timer\">igmp_start_timer</a>(<a class=\"id\" href=\"#im\">im</a>, <a class=\"id\" href=\"#IGMP_Initial_Report_Delay\">IGMP_Initial_Report_Delay</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"comment\">/* else, v3 */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#crcount\">crcount</a> = <a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mr_qrv\">mr_qrv</a> ? <a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mr_qrv\">mr_qrv</a> :", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#IGMP_Unsolicited_Report_Count\">IGMP_Unsolicited_Report_Count</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#igmp_ifc_event\">igmp_ifc_event</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Multicast list managers</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>A socket has joined a multicast group on device dev.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"void <a class=\"id\" href=\"#ip_mc_inc_group\">ip_mc_inc_group</a>(struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#__be32\">__be32</a> <a class=\"id\" href=\"#addr\">addr</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#im\">im</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ASSERT_RTNL\">ASSERT_RTNL</a>();", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#im\">im</a>=<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_list\">mc_list</a>; <a class=\"id\" href=\"#im\">im</a>; <a class=\"id\" href=\"#im\">im</a>=<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#next\">next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a> == <a class=\"id\" href=\"#addr\">addr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#users\">users</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip_mc_add_src\">ip_mc_add_src</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>, &amp;<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#MCAST_EXCLUDE\">MCAST_EXCLUDE</a>, 0, <a class=\"id\" href=\"#NULL\">NULL</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(sizeof(*<a class=\"id\" href=\"#im\">im</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#im\">im</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#users\">users</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#interface\">interface</a> = <a class=\"id\" href=\"#in_dev\">in_dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#in_dev_hold\">in_dev_hold</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#multiaddr\">multiaddr</a> = <a class=\"id\" href=\"#addr\">addr</a>;", 
"<span class=\"ts\"/><span class=\"comment\">/* initial mode is (EX, empty) */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#sfmode\">sfmode</a> = <a class=\"id\" href=\"#MCAST_EXCLUDE\">MCAST_EXCLUDE</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#sfcount\">sfcount</a>[<a class=\"id\" href=\"#MCAST_INCLUDE\">MCAST_INCLUDE</a>] = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#sfcount\">sfcount</a>[<a class=\"id\" href=\"#MCAST_EXCLUDE\">MCAST_EXCLUDE</a>] = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#sources\">sources</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#tomb\">tomb</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#crcount\">crcount</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#atomic_set\">atomic_set</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#refcnt\">refcnt</a>, 1);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_init\">spin_lock_init</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IP_MULTICAST\">CONFIG_IP_MULTICAST</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#tm_running\">tm_running</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#setup_timer\">setup_timer</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#timer\">timer</a>, &amp;<a class=\"id\" href=\"#igmp_timer_expire\">igmp_timer_expire</a>, (unsigned long)<a class=\"id\" href=\"#im\">im</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#unsolicit_count\">unsolicit_count</a> = <a class=\"id\" href=\"#IGMP_Unsolicited_Report_Count\">IGMP_Unsolicited_Report_Count</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#reporter\">reporter</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#gsquery\">gsquery</a> = 0;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#loaded\">loaded</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_lock_bh\">write_lock_bh</a>(&amp;<a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_list_lock\">mc_list_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#in_dev\">in_dev</a>-><a class=\"id\" href=\"#mc_list\">mc_list</a>;", 
];
xr_frag_insert('l/8f/738d1e11b7e7697a6a461fbcc4aa4c0003aee9.xr', __xr_tmp);
