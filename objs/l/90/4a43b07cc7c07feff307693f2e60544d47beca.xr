var __xr_tmp = [
"<span class=\"ts\"/>return (0);", 
"}", 
"", 
"<span class=\"comment\">/*******************************************************************************</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * FUNCTION:    acpi_rs_stream_option_length</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * PARAMETERS:  resource_length     - Length from the resource header</span>", 
"<span class=\"comment\"> *              minimum_total_length - Minimum length of this resource, before</span>", 
"<span class=\"comment\"> *                                    any optional fields. Includes header size</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * RETURN:      Length of optional string (0 if no string present)</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION: Common code to handle optional resource_source_index and</span>", 
"<span class=\"comment\"> *              resource_source fields in some Large descriptors. Used during</span>", 
"<span class=\"comment\"> *              stream-to-list conversion</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> ******************************************************************************/</span>", 
"", 
"static <a class=\"id\" href=\"#u32\">u32</a>", 
"<a class=\"id\" href=\"#acpi_rs_stream_option_length\">acpi_rs_stream_option_length</a>(<a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#resource_length\">resource_length</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#minimum_aml_resource_length\">minimum_aml_resource_length</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#string_length\">string_length</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_FUNCTION_ENTRY\">ACPI_FUNCTION_ENTRY</a>();", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * The resource_source_index and resource_source are optional elements of some</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Large-type resource descriptors.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * If the length of the actual resource descriptor is greater than the ACPI</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * spec-defined minimum length, it means that a resource_source_index exists</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * and is followed by a (required) null terminated string. The string length</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * (including the null terminator) is the resource length minus the minimum</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * length, minus one byte for the resource_source_index itself.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#resource_length\">resource_length</a> &gt; <a class=\"id\" href=\"#minimum_aml_resource_length\">minimum_aml_resource_length</a>) {", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Compute the length of the optional string */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#string_length\">string_length</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#resource_length\">resource_length</a> - <a class=\"id\" href=\"#minimum_aml_resource_length\">minimum_aml_resource_length</a> - 1;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Round the length up to a multiple of the native word in order to</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * guarantee that the entire resource descriptor is native word aligned</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>return ((<a class=\"id\" href=\"#u32\">u32</a>) <a class=\"id\" href=\"#ACPI_ROUND_UP_TO_NATIVE_WORD\">ACPI_ROUND_UP_TO_NATIVE_WORD</a>(<a class=\"id\" href=\"#string_length\">string_length</a>));", 
"}", 
"", 
"<span class=\"comment\">/*******************************************************************************</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * FUNCTION:    acpi_rs_get_aml_length</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * PARAMETERS:  Resource            - Pointer to the resource linked list</span>", 
"<span class=\"comment\"> *              size_needed         - Where the required size is returned</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * RETURN:      Status</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION: Takes a linked list of internal resource descriptors and</span>", 
"<span class=\"comment\"> *              calculates the size buffer needed to hold the corresponding</span>", 
"<span class=\"comment\"> *              external resource byte stream.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> ******************************************************************************/</span>", 
"", 
"<a class=\"id\" href=\"#acpi_status\">acpi_status</a>", 
"<a class=\"id\" href=\"#acpi_rs_get_aml_length\">acpi_rs_get_aml_length</a>(struct <a class=\"id\" href=\"#acpi_resource\">acpi_resource</a> * <a class=\"id\" href=\"#resource\">resource</a>, <a class=\"id\" href=\"#acpi_size\">acpi_size</a> * <a class=\"id\" href=\"#size_needed\">size_needed</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_size\">acpi_size</a> <a class=\"id\" href=\"#aml_size_needed\">aml_size_needed</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_rs_length\">acpi_rs_length</a> <a class=\"id\" href=\"#total_size\">total_size</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_FUNCTION_TRACE\">ACPI_FUNCTION_TRACE</a>(<a class=\"id\" href=\"#rs_get_aml_length\">rs_get_aml_length</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Traverse entire list of internal resource descriptors */</span>", 
"", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#resource\">resource</a>) {", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Validate the descriptor type */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#type\">type</a> &gt; <a class=\"id\" href=\"#ACPI_RESOURCE_TYPE_MAX\">ACPI_RESOURCE_TYPE_MAX</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#return_ACPI_STATUS\">return_ACPI_STATUS</a>(<a class=\"id\" href=\"#AE_AML_INVALID_RESOURCE_TYPE\">AE_AML_INVALID_RESOURCE_TYPE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Get the base size of the (external stream) resource descriptor */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#total_size\">total_size</a> = <a class=\"id\" href=\"#acpi_gbl_aml_resource_sizes\">acpi_gbl_aml_resource_sizes</a>[<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#type\">type</a>];", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Augment the base size for descriptors with optional and/or</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * variable-length fields</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>switch (<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#type\">type</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_TYPE_IRQ\">ACPI_RESOURCE_TYPE_IRQ</a>:", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Length can be 3 or 2 */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#data\">data</a>.<a class=\"id\" href=\"#irq\">irq</a>.<a class=\"id\" href=\"#descriptor_length\">descriptor_length</a> == 2) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#total_size\">total_size</a>--;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_TYPE_START_DEPENDENT\">ACPI_RESOURCE_TYPE_START_DEPENDENT</a>:", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Length can be 1 or 0 */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#data\">data</a>.<a class=\"id\" href=\"#irq\">irq</a>.<a class=\"id\" href=\"#descriptor_length\">descriptor_length</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#total_size\">total_size</a>--;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_TYPE_VENDOR\">ACPI_RESOURCE_TYPE_VENDOR</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Vendor Defined Resource:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * For a Vendor Specific resource, if the Length is between 1 and 7</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * it will be created as a Small Resource data type, otherwise it</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * is a Large Resource data type.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#data\">data</a>.<a class=\"id\" href=\"#vendor\">vendor</a>.<a class=\"id\" href=\"#byte_length\">byte_length</a> &gt; 7) {", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Base size of a Large resource descriptor */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#total_size\">total_size</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    sizeof(struct <a class=\"id\" href=\"#aml_resource_large_header\">aml_resource_large_header</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Add the size of the vendor-specific data */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#total_size\">total_size</a> = (<a class=\"id\" href=\"#acpi_rs_length\">acpi_rs_length</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#total_size\">total_size</a> + <a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#data\">data</a>.<a class=\"id\" href=\"#vendor\">vendor</a>.<a class=\"id\" href=\"#byte_length\">byte_length</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_TYPE_END_TAG\">ACPI_RESOURCE_TYPE_END_TAG</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * End Tag:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * We are done -- return the accumulated total size.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#size_needed\">size_needed</a> = <a class=\"id\" href=\"#aml_size_needed\">aml_size_needed</a> + <a class=\"id\" href=\"#total_size\">total_size</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Normal exit */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#return_ACPI_STATUS\">return_ACPI_STATUS</a>(<a class=\"id\" href=\"#AE_OK\">AE_OK</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_TYPE_ADDRESS16\">ACPI_RESOURCE_TYPE_ADDRESS16</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * 16-Bit Address Resource:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Add the size of the optional resource_source info</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#total_size\">total_size</a> = (<a class=\"id\" href=\"#acpi_rs_length\">acpi_rs_length</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#total_size\">total_size</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_rs_struct_option_length\">acpi_rs_struct_option_length</a>(&amp;<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#data\">data</a>.", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#address16\">address16</a>.", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#resource_source\">resource_source</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_TYPE_ADDRESS32\">ACPI_RESOURCE_TYPE_ADDRESS32</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * 32-Bit Address Resource:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Add the size of the optional resource_source info</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#total_size\">total_size</a> = (<a class=\"id\" href=\"#acpi_rs_length\">acpi_rs_length</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#total_size\">total_size</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_rs_struct_option_length\">acpi_rs_struct_option_length</a>(&amp;<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#data\">data</a>.", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#address32\">address32</a>.", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#resource_source\">resource_source</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_TYPE_ADDRESS64\">ACPI_RESOURCE_TYPE_ADDRESS64</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * 64-Bit Address Resource:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Add the size of the optional resource_source info</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#total_size\">total_size</a> = (<a class=\"id\" href=\"#acpi_rs_length\">acpi_rs_length</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#total_size\">total_size</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_rs_struct_option_length\">acpi_rs_struct_option_length</a>(&amp;<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#data\">data</a>.", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#address64\">address64</a>.", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#resource_source\">resource_source</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_TYPE_EXTENDED_IRQ\">ACPI_RESOURCE_TYPE_EXTENDED_IRQ</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Extended IRQ Resource:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Add the size of each additional optional interrupt beyond the</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * required 1 (4 bytes for each u32 interrupt number)</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#total_size\">total_size</a> = (<a class=\"id\" href=\"#acpi_rs_length\">acpi_rs_length</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#total_size\">total_size</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     ((<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#data\">data</a>.<a class=\"id\" href=\"#extended_irq\">extended_irq</a>.<a class=\"id\" href=\"#interrupt_count\">interrupt_count</a> -", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       1) * 4) +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <span class=\"comment\">/* Add the size of the optional resource_source info */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_rs_struct_option_length\">acpi_rs_struct_option_length</a>(&amp;<a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#data\">data</a>.", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#extended_irq\">extended_irq</a>.", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#resource_source\">resource_source</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Update the total */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#aml_size_needed\">aml_size_needed</a> += <a class=\"id\" href=\"#total_size\">total_size</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Point to the next object */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#resource\">resource</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#ACPI_ADD_PTR\">ACPI_ADD_PTR</a>(struct <a class=\"id\" href=\"#acpi_resource\">acpi_resource</a>, <a class=\"id\" href=\"#resource\">resource</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#resource\">resource</a>-><a class=\"id\" href=\"#length\">length</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Did not find an end_tag resource descriptor */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#return_ACPI_STATUS\">return_ACPI_STATUS</a>(<a class=\"id\" href=\"#AE_AML_NO_RESOURCE_END_TAG\">AE_AML_NO_RESOURCE_END_TAG</a>);", 
"}", 
"", 
"<span class=\"comment\">/*******************************************************************************</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * FUNCTION:    acpi_rs_get_list_length</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * PARAMETERS:  aml_buffer          - Pointer to the resource byte stream</span>", 
"<span class=\"comment\"> *              aml_buffer_length   - Size of aml_buffer</span>", 
"<span class=\"comment\"> *              size_needed         - Where the size needed is returned</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * RETURN:      Status</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION: Takes an external resource byte stream and calculates the size</span>", 
"<span class=\"comment\"> *              buffer needed to hold the corresponding internal resource</span>", 
"<span class=\"comment\"> *              descriptor linked list.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> ******************************************************************************/</span>", 
"", 
"<a class=\"id\" href=\"#acpi_status\">acpi_status</a>", 
"<a class=\"id\" href=\"#acpi_rs_get_list_length\">acpi_rs_get_list_length</a>(<a class=\"id\" href=\"#u8\">u8</a> * <a class=\"id\" href=\"#aml_buffer\">aml_buffer</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#aml_buffer_length\">aml_buffer_length</a>, <a class=\"id\" href=\"#acpi_size\">acpi_size</a> * <a class=\"id\" href=\"#size_needed\">size_needed</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#end_aml\">end_aml</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#buffer\">buffer</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#buffer_size\">buffer_size</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#temp16\">temp16</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#resource_length\">resource_length</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#extra_struct_bytes\">extra_struct_bytes</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#resource_index\">resource_index</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#minimum_aml_resource_length\">minimum_aml_resource_length</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_FUNCTION_TRACE\">ACPI_FUNCTION_TRACE</a>(<a class=\"id\" href=\"#rs_get_list_length\">rs_get_list_length</a>);", 
"", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#size_needed\">size_needed</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#end_aml\">end_aml</a> = <a class=\"id\" href=\"#aml_buffer\">aml_buffer</a> + <a class=\"id\" href=\"#aml_buffer_length\">aml_buffer_length</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Walk the list of AML resource descriptors */</span>", 
"", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#aml_buffer\">aml_buffer</a> &lt; <a class=\"id\" href=\"#end_aml\">end_aml</a>) {", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Validate the Resource Type and Resource Length */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_ut_validate_resource\">acpi_ut_validate_resource</a>(<a class=\"id\" href=\"#aml_buffer\">aml_buffer</a>, &amp;<a class=\"id\" href=\"#resource_index\">resource_index</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#return_ACPI_STATUS\">return_ACPI_STATUS</a>(<a class=\"id\" href=\"#status\">status</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Get the resource length and base (minimum) AML size */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#resource_length\">resource_length</a> = <a class=\"id\" href=\"#acpi_ut_get_resource_length\">acpi_ut_get_resource_length</a>(<a class=\"id\" href=\"#aml_buffer\">aml_buffer</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#minimum_aml_resource_length\">minimum_aml_resource_length</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#acpi_gbl_resource_aml_sizes\">acpi_gbl_resource_aml_sizes</a>[<a class=\"id\" href=\"#resource_index\">resource_index</a>];", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Augment the size for descriptors with optional</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * and/or variable length fields</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#extra_struct_bytes\">extra_struct_bytes</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#buffer\">buffer</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#aml_buffer\">aml_buffer</a> + <a class=\"id\" href=\"#acpi_ut_get_resource_header_length\">acpi_ut_get_resource_header_length</a>(<a class=\"id\" href=\"#aml_buffer\">aml_buffer</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>switch (<a class=\"id\" href=\"#acpi_ut_get_resource_type\">acpi_ut_get_resource_type</a>(<a class=\"id\" href=\"#aml_buffer\">aml_buffer</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_NAME_IRQ\">ACPI_RESOURCE_NAME_IRQ</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * IRQ Resource:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Get the number of bits set in the 16-bit IRQ mask</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_MOVE_16_TO_16\">ACPI_MOVE_16_TO_16</a>(&amp;<a class=\"id\" href=\"#temp16\">temp16</a>, <a class=\"id\" href=\"#buffer\">buffer</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#extra_struct_bytes\">extra_struct_bytes</a> = <a class=\"id\" href=\"#acpi_rs_count_set_bits\">acpi_rs_count_set_bits</a>(<a class=\"id\" href=\"#temp16\">temp16</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_NAME_DMA\">ACPI_RESOURCE_NAME_DMA</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * DMA Resource:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Get the number of bits set in the 8-bit DMA mask</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#extra_struct_bytes\">extra_struct_bytes</a> = <a class=\"id\" href=\"#acpi_rs_count_set_bits\">acpi_rs_count_set_bits</a>(*<a class=\"id\" href=\"#buffer\">buffer</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_NAME_VENDOR_SMALL\">ACPI_RESOURCE_NAME_VENDOR_SMALL</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_NAME_VENDOR_LARGE\">ACPI_RESOURCE_NAME_VENDOR_LARGE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Vendor Resource:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Get the number of vendor data bytes</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#extra_struct_bytes\">extra_struct_bytes</a> = <a class=\"id\" href=\"#resource_length\">resource_length</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_NAME_END_TAG\">ACPI_RESOURCE_NAME_END_TAG</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * End Tag:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * This is the normal exit, add size of end_tag</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#size_needed\">size_needed</a> += <a class=\"id\" href=\"#ACPI_RS_SIZE_MIN\">ACPI_RS_SIZE_MIN</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#return_ACPI_STATUS\">return_ACPI_STATUS</a>(<a class=\"id\" href=\"#AE_OK\">AE_OK</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_NAME_ADDRESS32\">ACPI_RESOURCE_NAME_ADDRESS32</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_NAME_ADDRESS16\">ACPI_RESOURCE_NAME_ADDRESS16</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_NAME_ADDRESS64\">ACPI_RESOURCE_NAME_ADDRESS64</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Address Resource:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Add the size of the optional resource_source</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#extra_struct_bytes\">extra_struct_bytes</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#acpi_rs_stream_option_length\">acpi_rs_stream_option_length</a>(<a class=\"id\" href=\"#resource_length\">resource_length</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#minimum_aml_resource_length\">minimum_aml_resource_length</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_RESOURCE_NAME_EXTENDED_IRQ\">ACPI_RESOURCE_NAME_EXTENDED_IRQ</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Extended IRQ Resource:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * Using the interrupt_table_length, add 4 bytes for each additional</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * interrupt. Note: at least one interrupt is required and is</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * included in the minimum descriptor size (reason for the -1)</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#extra_struct_bytes\">extra_struct_bytes</a> = (<a class=\"id\" href=\"#buffer\">buffer</a>[1] - 1) * sizeof(<a class=\"id\" href=\"#u32\">u32</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Add the size of the optional resource_source */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#extra_struct_bytes\">extra_struct_bytes</a> +=", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#acpi_rs_stream_option_length\">acpi_rs_stream_option_length</a>(<a class=\"id\" href=\"#resource_length\">resource_length</a> -", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#extra_struct_bytes\">extra_struct_bytes</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#minimum_aml_resource_length\">minimum_aml_resource_length</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Update the required buffer size for the internal descriptor structs</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Important: Round the size up for the appropriate alignment. This</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * is a requirement on IA64.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#buffer_size\">buffer_size</a> = <a class=\"id\" href=\"#acpi_gbl_resource_struct_sizes\">acpi_gbl_resource_struct_sizes</a>[<a class=\"id\" href=\"#resource_index\">resource_index</a>] +", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#extra_struct_bytes\">extra_struct_bytes</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#buffer_size\">buffer_size</a> = (<a class=\"id\" href=\"#u32\">u32</a>) <a class=\"id\" href=\"#ACPI_ROUND_UP_TO_NATIVE_WORD\">ACPI_ROUND_UP_TO_NATIVE_WORD</a>(<a class=\"id\" href=\"#buffer_size\">buffer_size</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#size_needed\">size_needed</a> += <a class=\"id\" href=\"#buffer_size\">buffer_size</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_RESOURCES\">ACPI_DB_RESOURCES</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Type %.2X, AmlLength %.2X InternalLength %.2X\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#acpi_ut_get_resource_type\">acpi_ut_get_resource_type</a>(<a class=\"id\" href=\"#aml_buffer\">aml_buffer</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#acpi_ut_get_descriptor_length\">acpi_ut_get_descriptor_length</a>(<a class=\"id\" href=\"#aml_buffer\">aml_buffer</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#buffer_size\">buffer_size</a>));", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Point to the next resource within the AML stream using the length</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * contained in the resource descriptor header</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#aml_buffer\">aml_buffer</a> += <a class=\"id\" href=\"#acpi_ut_get_descriptor_length\">acpi_ut_get_descriptor_length</a>(<a class=\"id\" href=\"#aml_buffer\">aml_buffer</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Did not find an end_tag resource descriptor */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#return_ACPI_STATUS\">return_ACPI_STATUS</a>(<a class=\"id\" href=\"#AE_AML_NO_RESOURCE_END_TAG\">AE_AML_NO_RESOURCE_END_TAG</a>);", 
"}", 
"", 
"<span class=\"comment\">/*******************************************************************************</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * FUNCTION:    acpi_rs_get_pci_routing_table_length</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * PARAMETERS:  package_object          - Pointer to the package object</span>", 
"<span class=\"comment\"> *              buffer_size_needed      - u32 pointer of the size buffer</span>", 
"<span class=\"comment\"> *                                        needed to properly return the</span>", 
"<span class=\"comment\"> *                                        parsed data</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * RETURN:      Status</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION: Given a package representing a PCI routing table, this</span>", 
"<span class=\"comment\"> *              calculates the size of the corresponding linked list of</span>", 
"<span class=\"comment\"> *              descriptions.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> ******************************************************************************/</span>", 
"", 
"<a class=\"id\" href=\"#acpi_status\">acpi_status</a>", 
"<a class=\"id\" href=\"#acpi_rs_get_pci_routing_table_length\">acpi_rs_get_pci_routing_table_length</a>(union <a class=\"id\" href=\"#acpi_operand_object\">acpi_operand_object</a> *<a class=\"id\" href=\"#package_object\">package_object</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_size\">acpi_size</a> * <a class=\"id\" href=\"#buffer_size_needed\">buffer_size_needed</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#number_of_elements\">number_of_elements</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_size\">acpi_size</a> <a class=\"id\" href=\"#temp_size_needed\">temp_size_needed</a> = 0;", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#acpi_operand_object\">acpi_operand_object</a> **<a class=\"id\" href=\"#top_object_list\">top_object_list</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#index\">index</a>;", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#acpi_operand_object\">acpi_operand_object</a> *<a class=\"id\" href=\"#package_element\">package_element</a>;", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#acpi_operand_object\">acpi_operand_object</a> **<a class=\"id\" href=\"#sub_object_list\">sub_object_list</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#name_found\">name_found</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#table_index\">table_index</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_FUNCTION_TRACE\">ACPI_FUNCTION_TRACE</a>(<a class=\"id\" href=\"#rs_get_pci_routing_table_length\">rs_get_pci_routing_table_length</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#number_of_elements\">number_of_elements</a> = <a class=\"id\" href=\"#package_object\">package_object</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#count\">count</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Calculate the size of the return buffer.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * The base size is the number of elements * the sizes of the</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * structures.  Additional space for the strings is added below.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * The minus one is to subtract the size of the u8 Source[1]</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * member because it is added below.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * But each PRT_ENTRY structure has a pointer to a string and</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * the size of that string must be found.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#top_object_list\">top_object_list</a> = <a class=\"id\" href=\"#package_object\">package_object</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#elements\">elements</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#index\">index</a> = 0; <a class=\"id\" href=\"#index\">index</a> &lt; <a class=\"id\" href=\"#number_of_elements\">number_of_elements</a>; <a class=\"id\" href=\"#index\">index</a>++) {", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Dereference the sub-package */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#package_element\">package_element</a> = *<a class=\"id\" href=\"#top_object_list\">top_object_list</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* We must have a valid Package object */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#package_element\">package_element</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#package_element\">package_element</a>-><a class=\"id\" href=\"#common\">common</a>.<a class=\"id\" href=\"#type\">type</a> != <a class=\"id\" href=\"#ACPI_TYPE_PACKAGE\">ACPI_TYPE_PACKAGE</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#return_ACPI_STATUS\">return_ACPI_STATUS</a>(<a class=\"id\" href=\"#AE_AML_OPERAND_TYPE\">AE_AML_OPERAND_TYPE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * The sub_object_list will now point to an array of the</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * four IRQ elements: Address, Pin, Source and source_index</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sub_object_list\">sub_object_list</a> = <a class=\"id\" href=\"#package_element\">package_element</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#elements\">elements</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Scan the irq_table_elements for the Source Name String */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#name_found\">name_found</a> = <a class=\"id\" href=\"#FALSE\">FALSE</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#table_index\">table_index</a> = 0; <a class=\"id\" href=\"#table_index\">table_index</a> &lt; 4 && !<a class=\"id\" href=\"#name_found\">name_found</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#table_index\">table_index</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (*<a class=\"id\" href=\"#sub_object_list\">sub_object_list</a> &&<span class=\"ts\"/><span class=\"comment\">/* Null object allowed */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    ((<a class=\"id\" href=\"#ACPI_TYPE_STRING\">ACPI_TYPE_STRING</a> ==", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      (*<a class=\"id\" href=\"#sub_object_list\">sub_object_list</a>)-><a class=\"id\" href=\"#common\">common</a>.<a class=\"id\" href=\"#type\">type</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     ((<a class=\"id\" href=\"#ACPI_TYPE_LOCAL_REFERENCE\">ACPI_TYPE_LOCAL_REFERENCE</a> ==", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       (*<a class=\"id\" href=\"#sub_object_list\">sub_object_list</a>)-><a class=\"id\" href=\"#common\">common</a>.<a class=\"id\" href=\"#type\">type</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      ((*<a class=\"id\" href=\"#sub_object_list\">sub_object_list</a>)-><a class=\"id\" href=\"#reference\">reference</a>.<a class=\"id\" href=\"#class\">class</a> ==", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#ACPI_REFCLASS_NAME\">ACPI_REFCLASS_NAME</a>)))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#name_found\">name_found</a> = <a class=\"id\" href=\"#TRUE\">TRUE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Look at the next element */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sub_object_list\">sub_object_list</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#temp_size_needed\">temp_size_needed</a> += (sizeof(struct <a class=\"id\" href=\"#acpi_pci_routing_table\">acpi_pci_routing_table</a>) - 4);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Was a String type found? */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#name_found\">name_found</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((*<a class=\"id\" href=\"#sub_object_list\">sub_object_list</a>)-><a class=\"id\" href=\"#common\">common</a>.<a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#ACPI_TYPE_STRING\">ACPI_TYPE_STRING</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * The length String.Length field does not include the</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * terminating NULL, add 1</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#temp_size_needed\">temp_size_needed</a> += ((<a class=\"id\" href=\"#acpi_size\">acpi_size</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     (*<a class=\"id\" href=\"#sub_object_list\">sub_object_list</a>)-><a class=\"id\" href=\"#string\">string</a>.", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#length\">length</a> + 1);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#temp_size_needed\">temp_size_needed</a> +=", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#acpi_ns_get_pathname_length\">acpi_ns_get_pathname_length</a>((*<a class=\"id\" href=\"#sub_object_list\">sub_object_list</a>)-><a class=\"id\" href=\"#reference\">reference</a>.<a class=\"id\" href=\"#node\">node</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * If no name was found, then this is a NULL, which is</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * translated as a u32 zero.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#temp_size_needed\">temp_size_needed</a> += sizeof(<a class=\"id\" href=\"#u32\">u32</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Round up the size since each element must be aligned */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#temp_size_needed\">temp_size_needed</a> = <a class=\"id\" href=\"#ACPI_ROUND_UP_TO_64BIT\">ACPI_ROUND_UP_TO_64BIT</a>(<a class=\"id\" href=\"#temp_size_needed\">temp_size_needed</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Point to the next union acpi_operand_object */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#top_object_list\">top_object_list</a>++;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Add an extra element to the end of the list, essentially a</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * NULL terminator</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#buffer_size_needed\">buffer_size_needed</a> =", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#temp_size_needed\">temp_size_needed</a> + sizeof(struct <a class=\"id\" href=\"#acpi_pci_routing_table\">acpi_pci_routing_table</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#return_ACPI_STATUS\">return_ACPI_STATUS</a>(<a class=\"id\" href=\"#AE_OK\">AE_OK</a>);", 
"}", 
];
xr_frag_insert('l/90/4a43b07cc7c07feff307693f2e60544d47beca.xr', __xr_tmp);
