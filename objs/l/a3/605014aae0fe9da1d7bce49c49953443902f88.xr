var __xr_tmp = [
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#yres\">yres</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#yres_virtual\">yres_virtual</a> = <a class=\"id\" href=\"#INIT_YRES\">INIT_YRES</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#bits_per_pixel\">bits_per_pixel</a> = <a class=\"id\" href=\"#INIT_BPP\">INIT_BPP</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#xres\">xres</a> * <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#yres\">yres</a>) * (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#bits_per_pixel\">bits_per_pixel</a> >> 3) &gt; <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#smem_len\">smem_len</a>", 
"<span class=\"ts\"/>    || !(<a class=\"id\" href=\"#compute_imstt_regvals\">compute_imstt_regvals</a>(<a class=\"id\" href=\"#par\">par</a>, <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#xres\">xres</a>, <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#yres\">yres</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"imsttfb: %ux%ux%u not supported\\n\", <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#xres\">xres</a>, <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#yres\">yres</a>, <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#bits_per_pixel\">bits_per_pixel</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#framebuffer_release\">framebuffer_release</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#id\">id</a>, \"IMS TT (%s)\", <a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#ramdac\">ramdac</a> == <a class=\"id\" href=\"#IBM\">IBM</a> ? \"IBM\" : \"TVP\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#mmio_len\">mmio_len</a> = 0x1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#accel\">accel</a> = <a class=\"id\" href=\"#FB_ACCEL_IMS_TWINTURBO\">FB_ACCEL_IMS_TWINTURBO</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#FB_TYPE_PACKED_PIXELS\">FB_TYPE_PACKED_PIXELS</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#visual\">visual</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#bits_per_pixel\">bits_per_pixel</a> == 8 ? <a class=\"id\" href=\"#FB_VISUAL_PSEUDOCOLOR\">FB_VISUAL_PSEUDOCOLOR</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>: <a class=\"id\" href=\"#FB_VISUAL_DIRECTCOLOR\">FB_VISUAL_DIRECTCOLOR</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#line_length\">line_length</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#xres\">xres</a> * (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#bits_per_pixel\">bits_per_pixel</a> >> 3);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#xpanstep\">xpanstep</a> = 8;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#ypanstep\">ypanstep</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#ywrapstep\">ywrapstep</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#accel_flags\">accel_flags</a> = <a class=\"id\" href=\"#FB_ACCELF_TEXT\">FB_ACCELF_TEXT</a>;", 
"", 
"<span class=\"comment\">//<span class=\"ts\"/>if (par-&gt;ramdac == IBM)</span>", 
"<span class=\"comment\">//<span class=\"ts\"/><span class=\"ts\"/>imstt_cursor_init(info);</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#green\">green</a>.<a class=\"id\" href=\"#length\">length</a> == 6)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_565\">set_565</a>(<a class=\"id\" href=\"#par\">par</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_555\">set_555</a>(<a class=\"id\" href=\"#par\">par</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_imstt_regvals\">set_imstt_regvals</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#bits_per_pixel\">bits_per_pixel</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#pixclock\">pixclock</a> = 1000000 / <a class=\"id\" href=\"#getclkMHz\">getclkMHz</a>(<a class=\"id\" href=\"#par\">par</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a> = &amp;<a class=\"id\" href=\"#imsttfb_ops\">imsttfb_ops</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#FBINFO_DEFAULT\">FBINFO_DEFAULT</a> |", 
"                      <a class=\"id\" href=\"#FBINFO_HWACCEL_COPYAREA\">FBINFO_HWACCEL_COPYAREA</a> |", 
"<span class=\"ts\"/>              <a class=\"id\" href=\"#FBINFO_HWACCEL_FILLRECT\">FBINFO_HWACCEL_FILLRECT</a> |", 
"<span class=\"ts\"/>              <a class=\"id\" href=\"#FBINFO_HWACCEL_YPAN\">FBINFO_HWACCEL_YPAN</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_alloc_cmap\">fb_alloc_cmap</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#cmap\">cmap</a>, 0, 0);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#register_framebuffer\">register_framebuffer</a>(<a class=\"id\" href=\"#info\">info</a>) &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#framebuffer_release\">framebuffer_release</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> = (<a class=\"id\" href=\"#read_reg_le32\">read_reg_le32</a>(<a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#dc_regs\">dc_regs</a>, <a class=\"id\" href=\"#SSTATUS\">SSTATUS</a>) &amp; 0x0f00) >> 8;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"fb%u: %s frame buffer; %uMB vram; chip version %u\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#node\">node</a>, <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#smem_len\">smem_len</a> >> 20, <a class=\"id\" href=\"#tmp\">tmp</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__devinit\">__devinit</a>", 
"<a class=\"id\" href=\"#imsttfb_probe\">imsttfb_probe</a>(struct <a class=\"id\" href=\"#pci_dev\">pci_dev</a> *<a class=\"id\" href=\"#pdev\">pdev</a>, const struct <a class=\"id\" href=\"#pci_device_id\">pci_device_id</a> *<a class=\"id\" href=\"#ent\">ent</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#size\">size</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#imstt_par\">imstt_par</a> *<a class=\"id\" href=\"#par\">par</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_PPC_OF\">CONFIG_PPC_OF</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#device_node\">device_node</a> *<a class=\"id\" href=\"#dp\">dp</a>;", 
"<span class=\"ts\"/>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dp\">dp</a> = <a class=\"id\" href=\"#pci_device_to_OF_node\">pci_device_to_OF_node</a>(<a class=\"id\" href=\"#pdev\">pdev</a>);", 
"<span class=\"ts\"/>if(<a class=\"id\" href=\"#dp\">dp</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"%s: OF name %s\\n\",<a class=\"id\" href=\"#__func__\">__func__</a>, <a class=\"id\" href=\"#dp\">dp</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"imsttfb: no OF node for pci device\\n\");", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* CONFIG_PPC_OF */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#framebuffer_alloc\">framebuffer_alloc</a>(sizeof(struct <a class=\"id\" href=\"#imstt_par\">imstt_par</a>), &amp;<a class=\"id\" href=\"#pdev\">pdev</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#info\">info</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"imsttfb: Can't allocate memory\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#par\">par</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#par\">par</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#addr\">addr</a> = <a class=\"id\" href=\"#pci_resource_start\">pci_resource_start</a> (<a class=\"id\" href=\"#pdev\">pdev</a>, 0);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#pci_resource_len\">pci_resource_len</a> (<a class=\"id\" href=\"#pdev\">pdev</a>, 0);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#request_mem_region\">request_mem_region</a>(<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#size\">size</a>, \"imsttfb\")) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"imsttfb: Can't reserve memory region\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#framebuffer_release\">framebuffer_release</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#pdev\">pdev</a>-><a class=\"id\" href=\"#device\">device</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PCI_DEVICE_ID_IMS_TT128\">PCI_DEVICE_ID_IMS_TT128</a>: <span class=\"comment\">/* IMS,tt128mbA */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#ramdac\">ramdac</a> = <a class=\"id\" href=\"#IBM\">IBM</a>;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_PPC_OF\">CONFIG_PPC_OF</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dp\">dp</a> && ((<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#dp\">dp</a>-><a class=\"id\" href=\"#name\">name</a>, \"IMS,tt128mb8\") == 0) ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   (<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#dp\">dp</a>-><a class=\"id\" href=\"#name\">name</a>, \"IMS,tt128mb8A\") == 0)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#ramdac\">ramdac</a> = <a class=\"id\" href=\"#TVP\">TVP</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* CONFIG_PPC_OF */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PCI_DEVICE_ID_IMS_TT3D\">PCI_DEVICE_ID_IMS_TT3D</a>:  <span class=\"comment\">/* IMS,tt3d */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#ramdac\">ramdac</a> = <a class=\"id\" href=\"#TVP\">TVP</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"imsttfb: Device 0x%x unknown, \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> \"contact maintainer.\\n\", <a class=\"id\" href=\"#pdev\">pdev</a>-><a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#release_mem_region\">release_mem_region</a>(<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#size\">size</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#framebuffer_release\">framebuffer_release</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#smem_start\">smem_start</a> = <a class=\"id\" href=\"#addr\">addr</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#screen_base\">screen_base</a> = (<a class=\"id\" href=\"#__u8\">__u8</a> *)<a class=\"id\" href=\"#ioremap\">ioremap</a>(<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#ramdac\">ramdac</a> == <a class=\"id\" href=\"#IBM\">IBM</a> ?", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    0x400000 : 0x800000);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#mmio_start\">mmio_start</a> = <a class=\"id\" href=\"#addr\">addr</a> + 0x800000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#dc_regs\">dc_regs</a> = <a class=\"id\" href=\"#ioremap\">ioremap</a>(<a class=\"id\" href=\"#addr\">addr</a> + 0x800000, 0x1000);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#cmap_regs_phys\">cmap_regs_phys</a> = <a class=\"id\" href=\"#addr\">addr</a> + 0x840000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#cmap_regs\">cmap_regs</a> = (<a class=\"id\" href=\"#__u8\">__u8</a> *)<a class=\"id\" href=\"#ioremap\">ioremap</a>(<a class=\"id\" href=\"#addr\">addr</a> + 0x840000, 0x1000);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#pseudo_palette\">pseudo_palette</a> = <a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#palette\">palette</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#init_imstt\">init_imstt</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_set_drvdata\">pci_set_drvdata</a>(<a class=\"id\" href=\"#pdev\">pdev</a>, <a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__devexit\">__devexit</a>", 
"<a class=\"id\" href=\"#imsttfb_remove\">imsttfb_remove</a>(struct <a class=\"id\" href=\"#pci_dev\">pci_dev</a> *<a class=\"id\" href=\"#pdev\">pdev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#pci_get_drvdata\">pci_get_drvdata</a>(<a class=\"id\" href=\"#pdev\">pdev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#imstt_par\">imstt_par</a> *<a class=\"id\" href=\"#par\">par</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#par\">par</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#pci_resource_len\">pci_resource_len</a>(<a class=\"id\" href=\"#pdev\">pdev</a>, 0);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unregister_framebuffer\">unregister_framebuffer</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#iounmap\">iounmap</a>(<a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#cmap_regs\">cmap_regs</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#iounmap\">iounmap</a>(<a class=\"id\" href=\"#par\">par</a>-><a class=\"id\" href=\"#dc_regs\">dc_regs</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#iounmap\">iounmap</a>(<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#screen_base\">screen_base</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#release_mem_region\">release_mem_region</a>(<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#smem_start\">smem_start</a>, <a class=\"id\" href=\"#size\">size</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#framebuffer_release\">framebuffer_release</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#MODULE\">MODULE</a>", 
"static int <a class=\"id\" href=\"#__init\">__init</a>", 
"<a class=\"id\" href=\"#imsttfb_setup\">imsttfb_setup</a>(char *<a class=\"id\" href=\"#options\">options</a>)", 
"{", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#this_opt\">this_opt</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#options\">options</a> || !*<a class=\"id\" href=\"#options\">options</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>while ((<a class=\"id\" href=\"#this_opt\">this_opt</a> = <a class=\"id\" href=\"#strsep\">strsep</a>(&amp;<a class=\"id\" href=\"#options\">options</a>, \",\")) != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#this_opt\">this_opt</a>, \"font:\", 5)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>char *<a class=\"id\" href=\"#p\">p</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#this_opt\">this_opt</a> + 5;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; sizeof(<a class=\"id\" href=\"#fontname\">fontname</a>) - 1; <a class=\"id\" href=\"#i\">i</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!*<a class=\"id\" href=\"#p\">p</a> || *<a class=\"id\" href=\"#p\">p</a> == ' ' || *<a class=\"id\" href=\"#p\">p</a> == ',')", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#fontname\">fontname</a>, <a class=\"id\" href=\"#this_opt\">this_opt</a> + 5, <a class=\"id\" href=\"#i\">i</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fontname\">fontname</a>[<a class=\"id\" href=\"#i\">i</a>] = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (!<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#this_opt\">this_opt</a>, \"inverse\", 7)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#inverse\">inverse</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_invert_cmaps\">fb_invert_cmaps</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"#if <a class=\"id\" href=\"#defined\">defined</a>(<a class=\"id\" href=\"#CONFIG_PPC\">CONFIG_PPC</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (!<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#this_opt\">this_opt</a>, \"vmode:\", 6)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#vmode\">vmode</a> = <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#this_opt\">this_opt</a>+6, <a class=\"id\" href=\"#NULL\">NULL</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#vmode\">vmode</a> &gt; 0 && <a class=\"id\" href=\"#vmode\">vmode</a> <= <a class=\"id\" href=\"#VMODE_MAX\">VMODE_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#init_vmode\">init_vmode</a> = <a class=\"id\" href=\"#vmode\">vmode</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (!<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#this_opt\">this_opt</a>, \"cmode:\", 6)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#cmode\">cmode</a> = <a class=\"id\" href=\"#simple_strtoul\">simple_strtoul</a>(<a class=\"id\" href=\"#this_opt\">this_opt</a>+6, <a class=\"id\" href=\"#NULL\">NULL</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>switch (<a class=\"id\" href=\"#cmode\">cmode</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#CMODE_8\">CMODE_8</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case 8:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#init_cmode\">init_cmode</a> = <a class=\"id\" href=\"#CMODE_8\">CMODE_8</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#CMODE_16\">CMODE_16</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case 15:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case 16:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#init_cmode\">init_cmode</a> = <a class=\"id\" href=\"#CMODE_16\">CMODE_16</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#CMODE_32\">CMODE_32</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case 24:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case 32:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#init_cmode\">init_cmode</a> = <a class=\"id\" href=\"#CMODE_32\">CMODE_32</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* MODULE */</span>", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#imsttfb_init\">imsttfb_init</a>(void)", 
"{", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#MODULE\">MODULE</a>", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#option\">option</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fb_get_options\">fb_get_options</a>(\"imsttfb\", &amp;<a class=\"id\" href=\"#option\">option</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#imsttfb_setup\">imsttfb_setup</a>(<a class=\"id\" href=\"#option\">option</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#pci_register_driver\">pci_register_driver</a>(&amp;<a class=\"id\" href=\"#imsttfb_pci_driver\">imsttfb_pci_driver</a>);", 
"}", 
" ", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a> <a class=\"id\" href=\"#imsttfb_exit\">imsttfb_exit</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_unregister_driver\">pci_unregister_driver</a>(&amp;<a class=\"id\" href=\"#imsttfb_pci_driver\">imsttfb_pci_driver</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#MODULE_LICENSE\">MODULE_LICENSE</a>(\"GPL\");", 
"", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#imsttfb_init\">imsttfb_init</a>);", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#imsttfb_exit\">imsttfb_exit</a>);", 
"", 
];
xr_frag_insert('l/a3/605014aae0fe9da1d7bce49c49953443902f88.xr', __xr_tmp);
