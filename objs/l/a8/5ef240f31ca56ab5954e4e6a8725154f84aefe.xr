var __xr_tmp = [
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ext3_new_blocks\">ext3_new_blocks</a>(<a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#inode\">inode</a>, <a class=\"id\" href=\"#goal\">goal</a>, &amp;<a class=\"id\" href=\"#count\">count</a>, <a class=\"id\" href=\"#errp\">errp</a>);", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * ext3_count_free_blocks() -- count filesystem free blocks</span>", 
"<span class=\"comment\"> * @sb:<span class=\"ts\"/><span class=\"ts\"/>superblock</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Adds up the number of free blocks from each block group.</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#ext3_fsblk_t\">ext3_fsblk_t</a> <a class=\"id\" href=\"#ext3_count_free_blocks\">ext3_count_free_blocks</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext3_fsblk_t\">ext3_fsblk_t</a> <a class=\"id\" href=\"#desc_count\">desc_count</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ext3_group_desc\">ext3_group_desc</a> *<a class=\"id\" href=\"#gdp\">gdp</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#ngroups\">ngroups</a> = <a class=\"id\" href=\"#EXT3_SB\">EXT3_SB</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#s_groups_count\">s_groups_count</a>;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#EXT3FS_DEBUG\">EXT3FS_DEBUG</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ext3_super_block\">ext3_super_block</a> *<a class=\"id\" href=\"#es\">es</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext3_fsblk_t\">ext3_fsblk_t</a> <a class=\"id\" href=\"#bitmap_count\">bitmap_count</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#x\">x</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#buffer_head\">buffer_head</a> *<a class=\"id\" href=\"#bitmap_bh\">bitmap_bh</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#es\">es</a> = <a class=\"id\" href=\"#EXT3_SB\">EXT3_SB</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#s_es\">s_es</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#desc_count\">desc_count</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#bitmap_count\">bitmap_count</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#gdp\">gdp</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#smp_rmb\">smp_rmb</a>();", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ngroups\">ngroups</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#gdp\">gdp</a> = <a class=\"id\" href=\"#ext3_get_group_desc\">ext3_get_group_desc</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#gdp\">gdp</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#desc_count\">desc_count</a> += <a class=\"id\" href=\"#le16_to_cpu\">le16_to_cpu</a>(<a class=\"id\" href=\"#gdp\">gdp</a>-><a class=\"id\" href=\"#bg_free_blocks_count\">bg_free_blocks_count</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#brelse\">brelse</a>(<a class=\"id\" href=\"#bitmap_bh\">bitmap_bh</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#bitmap_bh\">bitmap_bh</a> = <a class=\"id\" href=\"#read_block_bitmap\">read_block_bitmap</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#i\">i</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#bitmap_bh\">bitmap_bh</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x\">x</a> = <a class=\"id\" href=\"#ext3_count_free\">ext3_count_free</a>(<a class=\"id\" href=\"#bitmap_bh\">bitmap_bh</a>, <a class=\"id\" href=\"#sb\">sb</a>-><a class=\"id\" href=\"#s_blocksize\">s_blocksize</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"group %d: stored = %d, counted = %lu\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#le16_to_cpu\">le16_to_cpu</a>(<a class=\"id\" href=\"#gdp\">gdp</a>-><a class=\"id\" href=\"#bg_free_blocks_count\">bg_free_blocks_count</a>), <a class=\"id\" href=\"#x\">x</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#bitmap_count\">bitmap_count</a> += <a class=\"id\" href=\"#x\">x</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#brelse\">brelse</a>(<a class=\"id\" href=\"#bitmap_bh\">bitmap_bh</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"ext3_count_free_blocks: stored = \"<a class=\"id\" href=\"#E3FSBLK\">E3FSBLK</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>\", computed = \"<a class=\"id\" href=\"#E3FSBLK\">E3FSBLK</a>\", \"<a class=\"id\" href=\"#E3FSBLK\">E3FSBLK</a>\"\\n\",", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#le32_to_cpu\">le32_to_cpu</a>(<a class=\"id\" href=\"#es\">es</a>-><a class=\"id\" href=\"#s_free_blocks_count\">s_free_blocks_count</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#desc_count\">desc_count</a>, <a class=\"id\" href=\"#bitmap_count\">bitmap_count</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#bitmap_count\">bitmap_count</a>;", 
"#else", 
"<span class=\"ts\"/><a class=\"id\" href=\"#desc_count\">desc_count</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#smp_rmb\">smp_rmb</a>();", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ngroups\">ngroups</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#gdp\">gdp</a> = <a class=\"id\" href=\"#ext3_get_group_desc\">ext3_get_group_desc</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#gdp\">gdp</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#desc_count\">desc_count</a> += <a class=\"id\" href=\"#le16_to_cpu\">le16_to_cpu</a>(<a class=\"id\" href=\"#gdp\">gdp</a>-><a class=\"id\" href=\"#bg_free_blocks_count\">bg_free_blocks_count</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#desc_count\">desc_count</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#test_root\">test_root</a>(int <a class=\"id\" href=\"#a\">a</a>, int <a class=\"id\" href=\"#b\">b</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#num\">num</a> = <a class=\"id\" href=\"#b\">b</a>;", 
"", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#a\">a</a> &gt; <a class=\"id\" href=\"#num\">num</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num\">num</a> *= <a class=\"id\" href=\"#b\">b</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#num\">num</a> == <a class=\"id\" href=\"#a\">a</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ext3_group_sparse\">ext3_group_sparse</a>(int <a class=\"id\" href=\"#group\">group</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#group\">group</a> <= 1)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#group\">group</a> &amp; 1))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#test_root\">test_root</a>(<a class=\"id\" href=\"#group\">group</a>, 7) || <a class=\"id\" href=\"#test_root\">test_root</a>(<a class=\"id\" href=\"#group\">group</a>, 5) ||", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#test_root\">test_root</a>(<a class=\"id\" href=\"#group\">group</a>, 3));", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>ext3_bg_has_super - number of blocks used by the superblock in group</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@sb: superblock for filesystem</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@group: group number to check</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Return the number of blocks used by the superblock (primary or backup)</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>in this group.  Currently this will be only 0 or 1.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#ext3_bg_has_super\">ext3_bg_has_super</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#group\">group</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#EXT3_HAS_RO_COMPAT_FEATURE\">EXT3_HAS_RO_COMPAT_FEATURE</a>(<a class=\"id\" href=\"#sb\">sb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#EXT3_FEATURE_RO_COMPAT_SPARSE_SUPER\">EXT3_FEATURE_RO_COMPAT_SPARSE_SUPER</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>!<a class=\"id\" href=\"#ext3_group_sparse\">ext3_group_sparse</a>(<a class=\"id\" href=\"#group\">group</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"static unsigned long <a class=\"id\" href=\"#ext3_bg_num_gdb_meta\">ext3_bg_num_gdb_meta</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#group\">group</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#metagroup\">metagroup</a> = <a class=\"id\" href=\"#group\">group</a> / <a class=\"id\" href=\"#EXT3_DESC_PER_BLOCK\">EXT3_DESC_PER_BLOCK</a>(<a class=\"id\" href=\"#sb\">sb</a>);", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#first\">first</a> = <a class=\"id\" href=\"#metagroup\">metagroup</a> * <a class=\"id\" href=\"#EXT3_DESC_PER_BLOCK\">EXT3_DESC_PER_BLOCK</a>(<a class=\"id\" href=\"#sb\">sb</a>);", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#last\">last</a> = <a class=\"id\" href=\"#first\">first</a> + <a class=\"id\" href=\"#EXT3_DESC_PER_BLOCK\">EXT3_DESC_PER_BLOCK</a>(<a class=\"id\" href=\"#sb\">sb</a>) - 1;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#group\">group</a> == <a class=\"id\" href=\"#first\">first</a> || <a class=\"id\" href=\"#group\">group</a> == <a class=\"id\" href=\"#first\">first</a> + 1 || <a class=\"id\" href=\"#group\">group</a> == <a class=\"id\" href=\"#last\">last</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static unsigned long <a class=\"id\" href=\"#ext3_bg_num_gdb_nometa\">ext3_bg_num_gdb_nometa</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#group\">group</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ext3_bg_has_super\">ext3_bg_has_super</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#group\">group</a>) ? <a class=\"id\" href=\"#EXT3_SB\">EXT3_SB</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#s_gdb_count\">s_gdb_count</a> : 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>ext3_bg_num_gdb - number of blocks used by the group table in group</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@sb: superblock for filesystem</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@group: group number to check</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Return the number of blocks used by the group descriptor table</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>(primary or backup) in this group.  In the future there may be a</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>different number of descriptor blocks in each group.</span>", 
"<span class=\"comment\"> */</span>", 
"unsigned long <a class=\"id\" href=\"#ext3_bg_num_gdb\">ext3_bg_num_gdb</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#group\">group</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#first_meta_bg\">first_meta_bg</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#le32_to_cpu\">le32_to_cpu</a>(<a class=\"id\" href=\"#EXT3_SB\">EXT3_SB</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#s_es\">s_es</a>-><a class=\"id\" href=\"#s_first_meta_bg\">s_first_meta_bg</a>);", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#metagroup\">metagroup</a> = <a class=\"id\" href=\"#group\">group</a> / <a class=\"id\" href=\"#EXT3_DESC_PER_BLOCK\">EXT3_DESC_PER_BLOCK</a>(<a class=\"id\" href=\"#sb\">sb</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#EXT3_HAS_INCOMPAT_FEATURE\">EXT3_HAS_INCOMPAT_FEATURE</a>(<a class=\"id\" href=\"#sb\">sb</a>,<a class=\"id\" href=\"#EXT3_FEATURE_INCOMPAT_META_BG\">EXT3_FEATURE_INCOMPAT_META_BG</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#metagroup\">metagroup</a> &lt; <a class=\"id\" href=\"#first_meta_bg\">first_meta_bg</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ext3_bg_num_gdb_nometa\">ext3_bg_num_gdb_nometa</a>(<a class=\"id\" href=\"#sb\">sb</a>,<a class=\"id\" href=\"#group\">group</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ext3_bg_num_gdb_meta\">ext3_bg_num_gdb_meta</a>(<a class=\"id\" href=\"#sb\">sb</a>,<a class=\"id\" href=\"#group\">group</a>);", 
"", 
"}", 
];
xr_frag_insert('l/a8/5ef240f31ca56ab5954e4e6a8725154f84aefe.xr', __xr_tmp);
