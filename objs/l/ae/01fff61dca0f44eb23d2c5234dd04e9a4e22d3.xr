var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * scan.c - support for transforming the ACPI namespace into individual objects</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#acpi\">acpi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#signal\">signal</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kthread\">kthread</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#dmi\">dmi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_drivers\">acpi_drivers</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> \"internal.h\"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#_COMPONENT\">_COMPONENT</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_BUS_COMPONENT\">ACPI_BUS_COMPONENT</a>", 
"<a class=\"id\" href=\"#ACPI_MODULE_NAME\">ACPI_MODULE_NAME</a>(\"scan\");", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#STRUCT_TO_INT\">STRUCT_TO_INT</a>(<a class=\"id\" href=\"#s\">s</a>)<span class=\"ts\"/>(*((int*)&amp;<a class=\"id\" href=\"#s\">s</a>))", 
"extern struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_root\">acpi_root</a>;", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_BUS_CLASS\">ACPI_BUS_CLASS</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"system_bus\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_BUS_HID\">ACPI_BUS_HID</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"LNXSYBUS\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_BUS_DEVICE_NAME\">ACPI_BUS_DEVICE_NAME</a><span class=\"ts\"/><span class=\"ts\"/>\"System Bus\"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_IS_ROOT_DEVICE\">ACPI_IS_ROOT_DEVICE</a>(<a class=\"id\" href=\"#device\">device</a>)    (!(<a class=\"id\" href=\"#device\">device</a>)-><a class=\"id\" href=\"#parent\">parent</a>)", 
"", 
"static <a class=\"id\" href=\"#LIST_HEAD\">LIST_HEAD</a>(<a class=\"id\" href=\"#acpi_device_list\">acpi_device_list</a>);", 
"static <a class=\"id\" href=\"#LIST_HEAD\">LIST_HEAD</a>(<a class=\"id\" href=\"#acpi_bus_id_list\">acpi_bus_id_list</a>);", 
"<a class=\"id\" href=\"#DEFINE_MUTEX\">DEFINE_MUTEX</a>(<a class=\"id\" href=\"#acpi_device_lock\">acpi_device_lock</a>);", 
"<a class=\"id\" href=\"#LIST_HEAD\">LIST_HEAD</a>(<a class=\"id\" href=\"#acpi_wakeup_device_list\">acpi_wakeup_device_list</a>);", 
"", 
"struct <a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>{", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#bus_id\">bus_id</a>[15];", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#instance_no\">instance_no</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> <a class=\"id\" href=\"#node\">node</a>;", 
"};", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Creates hid/cid(s) string needed for modalias and uevent</span>", 
"<span class=\"comment\"> * e.g. on a device with hid:IBM0001 and cid:ACPI0001 you get:</span>", 
"<span class=\"comment\"> * char *modalias: \"acpi:IBM0001:ACPI0001\"</span>", 
"<span class=\"comment\">*/</span>", 
"static int <a class=\"id\" href=\"#create_modalias\">create_modalias</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>, char *<a class=\"id\" href=\"#modalias\">modalias</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   int <a class=\"id\" href=\"#size\">size</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#count\">count</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_hardware_id\">acpi_hardware_id</a> *<a class=\"id\" href=\"#id\">id</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#modalias\">modalias</a>, <a class=\"id\" href=\"#size\">size</a>, \"acpi:\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#size\">size</a> -= <a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#id\">id</a>, &amp;<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#ids\">ids</a>, <a class=\"id\" href=\"#list\">list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#count\">count</a> = <a class=\"id\" href=\"#snprintf\">snprintf</a>(&amp;<a class=\"id\" href=\"#modalias\">modalias</a>[<a class=\"id\" href=\"#len\">len</a>], <a class=\"id\" href=\"#size\">size</a>, \"%s:\", <a class=\"id\" href=\"#id\">id</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#count\">count</a> &lt; 0 || <a class=\"id\" href=\"#count\">count</a> >= <a class=\"id\" href=\"#size\">size</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a> += <a class=\"id\" href=\"#count\">count</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#size\">size</a> -= <a class=\"id\" href=\"#count\">count</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#modalias\">modalias</a>[<a class=\"id\" href=\"#len\">len</a>] = '\\0';", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#len\">len</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a>", 
"<a class=\"id\" href=\"#acpi_device_modalias_show\">acpi_device_modalias_show</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>) {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Device has no HID and no CID or string is &gt;1024 */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#create_modalias\">create_modalias</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>, <a class=\"id\" href=\"#buf\">buf</a>, 1024);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> <= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#len\">len</a>++] = '\\n';", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#len\">len</a>;", 
"}", 
"static <a class=\"id\" href=\"#DEVICE_ATTR\">DEVICE_ATTR</a>(<a class=\"id\" href=\"#modalias\">modalias</a>, 0444, <a class=\"id\" href=\"#acpi_device_modalias_show\">acpi_device_modalias_show</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"static void <a class=\"id\" href=\"#acpi_bus_hot_remove_device\">acpi_bus_hot_remove_device</a>(void *<a class=\"id\" href=\"#context\">context</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a> = <a class=\"id\" href=\"#context\">context</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_object_list\">acpi_object_list</a> <a class=\"id\" href=\"#arg_list\">arg_list</a>;", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#acpi_object\">acpi_object</a> <a class=\"id\" href=\"#arg\">arg</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_bus_get_device\">acpi_bus_get_device</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#device\">device</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>\"Hot-removing device %s...\\n\", <a class=\"id\" href=\"#dev_name\">dev_name</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>)));", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_bus_trim\">acpi_bus_trim</a>(<a class=\"id\" href=\"#device\">device</a>, 1)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"Removing device failed\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* power off device */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_object\">acpi_evaluate_object</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_PS3\", <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>) && <a class=\"id\" href=\"#status\">status</a> != <a class=\"id\" href=\"#AE_NOT_FOUND\">AE_NOT_FOUND</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"Power-off device failed\\n\");", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#lockable\">lockable</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg_list\">arg_list</a>.<a class=\"id\" href=\"#count\">count</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg_list\">arg_list</a>.<a class=\"id\" href=\"#pointer\">pointer</a> = &amp;<a class=\"id\" href=\"#arg\">arg</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#ACPI_TYPE_INTEGER\">ACPI_TYPE_INTEGER</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#integer\">integer</a>.<a class=\"id\" href=\"#value\">value</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_evaluate_object\">acpi_evaluate_object</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_LCK\", &amp;<a class=\"id\" href=\"#arg_list\">arg_list</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg_list\">arg_list</a>.<a class=\"id\" href=\"#count\">count</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg_list\">arg_list</a>.<a class=\"id\" href=\"#pointer\">pointer</a> = &amp;<a class=\"id\" href=\"#arg\">arg</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#ACPI_TYPE_INTEGER\">ACPI_TYPE_INTEGER</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#integer\">integer</a>.<a class=\"id\" href=\"#value\">value</a> = 1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * TBD: _EJD support.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_object\">acpi_evaluate_object</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_EJ0\", &amp;<a class=\"id\" href=\"#arg_list\">arg_list</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"Eject device failed\\n\");", 
"", 
"<span class=\"ts\"/>return;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a>", 
"<a class=\"id\" href=\"#acpi_eject_store\">acpi_eject_store</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#d\">d</a>, struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>const char *<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#count\">count</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_object_type\">acpi_object_type</a> <a class=\"id\" href=\"#type\">type</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_device\">acpi_device</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#d\">d</a>);", 
"", 
"<span class=\"ts\"/>if ((!<a class=\"id\" href=\"#count\">count</a>) || (<a class=\"id\" href=\"#buf\">buf</a>[0] != '1')) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#FORCE_EJECT\">FORCE_EJECT</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_device\">acpi_device</a>-><a class=\"id\" href=\"#driver\">driver</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_type\">acpi_get_type</a>(<a class=\"id\" href=\"#acpi_device\">acpi_device</a>-><a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#type\">type</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>) || (!<a class=\"id\" href=\"#acpi_device\">acpi_device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#ejectable\">ejectable</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_os_hotplug_execute\">acpi_os_hotplug_execute</a>(<a class=\"id\" href=\"#acpi_bus_hot_remove_device\">acpi_bus_hot_remove_device</a>, <a class=\"id\" href=\"#acpi_device\">acpi_device</a>-><a class=\"id\" href=\"#handle\">handle</a>);", 
"<a class=\"id\" href=\"#err\">err</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#DEVICE_ATTR\">DEVICE_ATTR</a>(<a class=\"id\" href=\"#eject\">eject</a>, 0200, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#acpi_eject_store\">acpi_eject_store</a>);", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a>", 
"<a class=\"id\" href=\"#acpi_device_hid_show\">acpi_device_hid_show</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>) {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%s\\n\", <a class=\"id\" href=\"#acpi_device_hid\">acpi_device_hid</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>));", 
"}", 
"static <a class=\"id\" href=\"#DEVICE_ATTR\">DEVICE_ATTR</a>(<a class=\"id\" href=\"#hid\">hid</a>, 0444, <a class=\"id\" href=\"#acpi_device_hid_show\">acpi_device_hid_show</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a>", 
"<a class=\"id\" href=\"#acpi_device_path_show\">acpi_device_path_show</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>) {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_buffer\">acpi_buffer</a> <a class=\"id\" href=\"#path\">path</a> = {<a class=\"id\" href=\"#ACPI_ALLOCATE_BUFFER\">ACPI_ALLOCATE_BUFFER</a>, <a class=\"id\" href=\"#NULL\">NULL</a>};", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_get_name\">acpi_get_name</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#ACPI_FULL_PATHNAME\">ACPI_FULL_PATHNAME</a>, &amp;<a class=\"id\" href=\"#path\">path</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#buf\">buf</a>, \"%s\\n\", (char*)<a class=\"id\" href=\"#path\">path</a>.<a class=\"id\" href=\"#pointer\">pointer</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#path\">path</a>.<a class=\"id\" href=\"#pointer\">pointer</a>);", 
"<a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"static <a class=\"id\" href=\"#DEVICE_ATTR\">DEVICE_ATTR</a>(<a class=\"id\" href=\"#path\">path</a>, 0444, <a class=\"id\" href=\"#acpi_device_path_show\">acpi_device_path_show</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"static int <a class=\"id\" href=\"#acpi_device_setup_files\">acpi_device_setup_files</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#temp\">temp</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Devices gotten from FADT don't have a \"path\" attribute</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#handle\">handle</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#device_create_file\">device_create_file</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_path\">dev_attr_path</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#device_create_file\">device_create_file</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_hid\">dev_attr_hid</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#device_create_file\">device_create_file</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_modalias\">dev_attr_modalias</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"", 
"        <span class=\"comment\">/*</span>", 
"<span class=\"comment\">         * If device has _EJ0, 'eject' file is created that is used to trigger</span>", 
"<span class=\"comment\">         * hot-removal function from userland.</span>", 
"<span class=\"comment\">         */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_EJ0\", &amp;<a class=\"id\" href=\"#temp\">temp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#device_create_file\">device_create_file</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_eject\">dev_attr_eject</a>);", 
"<a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_device_remove_files\">acpi_device_remove_files</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#temp\">temp</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * If device has _EJ0, 'eject' file is created that is used to trigger</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * hot-removal function from userland.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_EJ0\", &amp;<a class=\"id\" href=\"#temp\">temp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device_remove_file\">device_remove_file</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_eject\">dev_attr_eject</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device_remove_file\">device_remove_file</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_modalias\">dev_attr_modalias</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device_remove_file\">device_remove_file</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_hid\">dev_attr_hid</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#handle\">handle</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device_remove_file\">device_remove_file</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_path\">dev_attr_path</a>);", 
"}", 
"<span class=\"comment\">/* --------------------------------------------------------------------------</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>ACPI Bus operations</span>", 
"<span class=\"comment\">   -------------------------------------------------------------------------- */</span>", 
"", 
"int <a class=\"id\" href=\"#acpi_match_device_ids\">acpi_match_device_ids</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  const struct <a class=\"id\" href=\"#acpi_device_id\">acpi_device_id</a> *<a class=\"id\" href=\"#ids\">ids</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#acpi_device_id\">acpi_device_id</a> *<a class=\"id\" href=\"#id\">id</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_hardware_id\">acpi_hardware_id</a> *<a class=\"id\" href=\"#hwid\">hwid</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * If the device is not present, it is unnecessary to load device</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * driver for it.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#present\">present</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#ids\">ids</a>; <a class=\"id\" href=\"#id\">id</a>-><a class=\"id\" href=\"#id\">id</a>[0]; <a class=\"id\" href=\"#id\">id</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#hwid\">hwid</a>, &amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#ids\">ids</a>, <a class=\"id\" href=\"#list\">list</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#strcmp\">strcmp</a>((char *) <a class=\"id\" href=\"#id\">id</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#hwid\">hwid</a>-><a class=\"id\" href=\"#id\">id</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_match_device_ids\">acpi_match_device_ids</a>);", 
"", 
"static void <a class=\"id\" href=\"#acpi_free_ids\">acpi_free_ids</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_hardware_id\">acpi_hardware_id</a> *<a class=\"id\" href=\"#id\">id</a>, *<a class=\"id\" href=\"#tmp\">tmp</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry_safe\">list_for_each_entry_safe</a>(<a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#tmp\">tmp</a>, &amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#ids\">ids</a>, <a class=\"id\" href=\"#list\">list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#id\">id</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_device_release\">acpi_device_release</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_free_ids\">acpi_free_ids</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_device_suspend\">acpi_device_suspend</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#pm_message_t\">pm_message_t</a> <a class=\"id\" href=\"#state\">state</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> *<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a> = <a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#driver\">driver</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a> && <a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#suspend\">suspend</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#suspend\">suspend</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>, <a class=\"id\" href=\"#state\">state</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_device_resume\">acpi_device_resume</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> *<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a> = <a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#driver\">driver</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a> && <a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#resume\">resume</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#resume\">resume</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_bus_match\">acpi_bus_match</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#device_driver\">device_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> *<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a> = <a class=\"id\" href=\"#to_acpi_driver\">to_acpi_driver</a>(<a class=\"id\" href=\"#drv\">drv</a>);", 
"", 
"<span class=\"ts\"/>return !<a class=\"id\" href=\"#acpi_match_device_ids\">acpi_match_device_ids</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>, <a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ids\">ids</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_device_uevent\">acpi_device_uevent</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#kobj_uevent_env\">kobj_uevent_env</a> *<a class=\"id\" href=\"#env\">env</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#add_uevent_var\">add_uevent_var</a>(<a class=\"id\" href=\"#env\">env</a>, \"MODALIAS=\"))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#create_modalias\">create_modalias</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>, &amp;<a class=\"id\" href=\"#env\">env</a>-><a class=\"id\" href=\"#buf\">buf</a>[<a class=\"id\" href=\"#env\">env</a>-><a class=\"id\" href=\"#buflen\">buflen</a> - 1],", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      sizeof(<a class=\"id\" href=\"#env\">env</a>-><a class=\"id\" href=\"#buf\">buf</a>) - <a class=\"id\" href=\"#env\">env</a>-><a class=\"id\" href=\"#buflen\">buflen</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> >= (sizeof(<a class=\"id\" href=\"#env\">env</a>-><a class=\"id\" href=\"#buf\">buf</a>) - <a class=\"id\" href=\"#env\">env</a>-><a class=\"id\" href=\"#buflen\">buflen</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#env\">env</a>-><a class=\"id\" href=\"#buflen\">buflen</a> += <a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_device_notify\">acpi_device_notify</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#event\">event</a>, void *<a class=\"id\" href=\"#data\">data</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#data\">data</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#notify\">notify</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#event\">event</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#acpi_device_notify_fixed\">acpi_device_notify_fixed</a>(void *<a class=\"id\" href=\"#data\">data</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#data\">data</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Fixed hardware devices have no handles */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_notify\">acpi_device_notify</a>(<a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#ACPI_FIXED_HARDWARE_EVENT\">ACPI_FIXED_HARDWARE_EVENT</a>, <a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_device_install_notify_handler\">acpi_device_install_notify_handler</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#device_type\">device_type</a> == <a class=\"id\" href=\"#ACPI_BUS_TYPE_POWER_BUTTON\">ACPI_BUS_TYPE_POWER_BUTTON</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#acpi_install_fixed_event_handler\">acpi_install_fixed_event_handler</a>(<a class=\"id\" href=\"#ACPI_EVENT_POWER_BUTTON\">ACPI_EVENT_POWER_BUTTON</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_device_notify_fixed\">acpi_device_notify_fixed</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#device_type\">device_type</a> == <a class=\"id\" href=\"#ACPI_BUS_TYPE_SLEEP_BUTTON\">ACPI_BUS_TYPE_SLEEP_BUTTON</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#acpi_install_fixed_event_handler\">acpi_install_fixed_event_handler</a>(<a class=\"id\" href=\"#ACPI_EVENT_SLEEP_BUTTON\">ACPI_EVENT_SLEEP_BUTTON</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_device_notify_fixed\">acpi_device_notify_fixed</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_install_notify_handler\">acpi_install_notify_handler</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#ACPI_DEVICE_NOTIFY\">ACPI_DEVICE_NOTIFY</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_device_notify\">acpi_device_notify</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_device_remove_notify_handler\">acpi_device_remove_notify_handler</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#device_type\">device_type</a> == <a class=\"id\" href=\"#ACPI_BUS_TYPE_POWER_BUTTON\">ACPI_BUS_TYPE_POWER_BUTTON</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_remove_fixed_event_handler\">acpi_remove_fixed_event_handler</a>(<a class=\"id\" href=\"#ACPI_EVENT_POWER_BUTTON\">ACPI_EVENT_POWER_BUTTON</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_notify_fixed\">acpi_device_notify_fixed</a>);", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#device_type\">device_type</a> == <a class=\"id\" href=\"#ACPI_BUS_TYPE_SLEEP_BUTTON\">ACPI_BUS_TYPE_SLEEP_BUTTON</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_remove_fixed_event_handler\">acpi_remove_fixed_event_handler</a>(<a class=\"id\" href=\"#ACPI_EVENT_SLEEP_BUTTON\">ACPI_EVENT_SLEEP_BUTTON</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_notify_fixed\">acpi_device_notify_fixed</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_remove_notify_handler\">acpi_remove_notify_handler</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#ACPI_DEVICE_NOTIFY\">ACPI_DEVICE_NOTIFY</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#acpi_device_notify\">acpi_device_notify</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_bus_driver_init\">acpi_bus_driver_init</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *, struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> *);", 
"static int <a class=\"id\" href=\"#acpi_start_single_object\">acpi_start_single_object</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *);", 
"static int <a class=\"id\" href=\"#acpi_device_probe\">acpi_device_probe</a>(struct <a class=\"id\" href=\"#device\">device</a> * <a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> *<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a> = <a class=\"id\" href=\"#to_acpi_driver\">to_acpi_driver</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#driver\">driver</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#acpi_bus_driver_init\">acpi_bus_driver_init</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>, <a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#bus_ops\">bus_ops</a>.<a class=\"id\" href=\"#acpi_op_start\">acpi_op_start</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_start_single_object\">acpi_start_single_object</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#notify\">notify</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#acpi_device_install_notify_handler\">acpi_device_install_notify_handler</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#remove\">remove</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#remove\">remove</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#removal_type\">removal_type</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"Found driver [%s] for device [%s]\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#bus_id\">bus_id</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#get_device\">get_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_device_remove\">acpi_device_remove</a>(struct <a class=\"id\" href=\"#device\">device</a> * <a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a> = <a class=\"id\" href=\"#to_acpi_device\">to_acpi_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> *<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a> = <a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#driver\">driver</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#notify\">notify</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_remove_notify_handler\">acpi_device_remove_notify_handler</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#remove\">remove</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_drv\">acpi_drv</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#remove\">remove</a>(<a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>, <a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#removal_type\">removal_type</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#driver\">driver</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_dev\">acpi_dev</a>-><a class=\"id\" href=\"#driver_data\">driver_data</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#put_device\">put_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"struct <a class=\"id\" href=\"#bus_type\">bus_type</a> <a class=\"id\" href=\"#acpi_bus_type\">acpi_bus_type</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a><span class=\"ts\"/><span class=\"ts\"/>= \"acpi\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#suspend\">suspend</a><span class=\"ts\"/>= <a class=\"id\" href=\"#acpi_device_suspend\">acpi_device_suspend</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#resume\">resume</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#acpi_device_resume\">acpi_device_resume</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#match\">match</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#acpi_bus_match\">acpi_bus_match</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#probe\">probe</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#acpi_device_probe\">acpi_device_probe</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#remove\">remove</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#acpi_device_remove\">acpi_device_remove</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#uevent\">uevent</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#acpi_device_uevent\">acpi_device_uevent</a>,", 
"};", 
"", 
"static int <a class=\"id\" href=\"#acpi_device_register\">acpi_device_register</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a> *<a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>, *<a class=\"id\" href=\"#new_bus_id\">new_bus_id</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#found\">found</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Linkage</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * -------</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Link this device to its parent and siblings.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#children\">children</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#node\">node</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup_list\">wakeup_list</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#new_bus_id\">new_bus_id</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#new_bus_id\">new_bus_id</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Memory allocation error\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#acpi_device_lock\">acpi_device_lock</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Find suitable bus_id and instance number in acpi_bus_id_list</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * If failed, create one and link it into acpi_bus_id_list</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>, &amp;<a class=\"id\" href=\"#acpi_bus_id_list\">acpi_bus_id_list</a>, <a class=\"id\" href=\"#node\">node</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>-><a class=\"id\" href=\"#bus_id\">bus_id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#acpi_device_hid\">acpi_device_hid</a>(<a class=\"id\" href=\"#device\">device</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>-><a class=\"id\" href=\"#instance_no\">instance_no</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#found\">found</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#new_bus_id\">new_bus_id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#found\">found</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a> = <a class=\"id\" href=\"#new_bus_id\">new_bus_id</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>-><a class=\"id\" href=\"#bus_id\">bus_id</a>, <a class=\"id\" href=\"#acpi_device_hid\">acpi_device_hid</a>(<a class=\"id\" href=\"#device\">device</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>-><a class=\"id\" href=\"#instance_no\">instance_no</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>-><a class=\"id\" href=\"#node\">node</a>, &amp;<a class=\"id\" href=\"#acpi_bus_id_list\">acpi_bus_id_list</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_set_name\">dev_set_name</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>, \"%s:%02x\", <a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>-><a class=\"id\" href=\"#bus_id\">bus_id</a>, <a class=\"id\" href=\"#acpi_device_bus_id\">acpi_device_bus_id</a>-><a class=\"id\" href=\"#instance_no\">instance_no</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#parent\">parent</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#node\">node</a>, &amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#parent\">parent</a>-><a class=\"id\" href=\"#children\">children</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup_list\">wakeup_list</a>, &amp;<a class=\"id\" href=\"#acpi_wakeup_device_list\">acpi_wakeup_device_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#acpi_device_lock\">acpi_device_lock</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#parent\">parent</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#parent\">parent</a> = &amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#parent\">parent</a>-><a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#bus\">bus</a> = &amp;<a class=\"id\" href=\"#acpi_bus_type\">acpi_bus_type</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#release\">release</a> = &amp;<a class=\"id\" href=\"#acpi_device_release\">acpi_device_release</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#device_register\">device_register</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_err\">dev_err</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>, \"Error registering device\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_device_setup_files\">acpi_device_setup_files</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Error creating sysfs interface for device %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#dev_name\">dev_name</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#removal_type\">removal_type</a> = <a class=\"id\" href=\"#ACPI_BUS_REMOVAL_NORMAL\">ACPI_BUS_REMOVAL_NORMAL</a>;", 
"<span class=\"ts\"/>return 0;", 
"<a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#acpi_device_lock\">acpi_device_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#parent\">parent</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#node\">node</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup_list\">wakeup_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#acpi_device_lock\">acpi_device_lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_device_unregister\">acpi_device_unregister</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#acpi_device_lock\">acpi_device_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#parent\">parent</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#node\">node</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup_list\">wakeup_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#acpi_device_lock\">acpi_device_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_detach_data\">acpi_detach_data</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#acpi_bus_data_handler\">acpi_bus_data_handler</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_remove_files\">acpi_device_remove_files</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device_unregister\">device_unregister</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"}", 
"", 
"<span class=\"comment\">/* --------------------------------------------------------------------------</span>", 
"<span class=\"comment\">                                 Driver Management</span>", 
"<span class=\"comment\">   -------------------------------------------------------------------------- */</span>", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * acpi_bus_driver_init - add a device to a driver</span>", 
"<span class=\"comment\"> * @device: the device to add and initialize</span>", 
"<span class=\"comment\"> * @driver: driver for the device</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Used to initialize a device via its device driver.  Called whenever a</span>", 
"<span class=\"comment\"> * driver is bound to a device.  Invokes the driver's add() ops.</span>", 
"<span class=\"comment\"> */</span>", 
"static int", 
"<a class=\"id\" href=\"#acpi_bus_driver_init\">acpi_bus_driver_init</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> *<a class=\"id\" href=\"#driver\">driver</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a> || !<a class=\"id\" href=\"#driver\">driver</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#add\">add</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOSYS\">ENOSYS</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#add\">add</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver\">driver</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver_data\">driver_data</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver\">driver</a> = <a class=\"id\" href=\"#driver\">driver</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * TBD - Configuration Management: Assign resources to device based</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * upon possible configuration and currently allocated resources.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Driver successfully bound to device\\n\"));", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_start_single_object\">acpi_start_single_object</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> *<a class=\"id\" href=\"#driver\">driver</a>;", 
"", 
"", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#driver\">driver</a> = <a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#driver\">driver</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#start\">start</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#start\">start</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a> && <a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#remove\">remove</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#remove\">remove</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_BUS_REMOVAL_NORMAL\">ACPI_BUS_REMOVAL_NORMAL</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * acpi_bus_register_driver - register a driver with the ACPI bus</span>", 
"<span class=\"comment\"> * @driver: driver being registered</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Registers a driver with the ACPI bus.  Searches the namespace for all</span>", 
"<span class=\"comment\"> * devices that match the driver's criteria and binds.  Returns zero for</span>", 
"<span class=\"comment\"> * success or a negative error status for failure.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#acpi_bus_register_driver\">acpi_bus_register_driver</a>(struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> *<a class=\"id\" href=\"#driver\">driver</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_disabled\">acpi_disabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#drv\">drv</a>.<a class=\"id\" href=\"#name\">name</a> = <a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#name\">name</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#drv\">drv</a>.<a class=\"id\" href=\"#bus\">bus</a> = &amp;<a class=\"id\" href=\"#acpi_bus_type\">acpi_bus_type</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#drv\">drv</a>.<a class=\"id\" href=\"#owner\">owner</a> = <a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#owner\">owner</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#driver_register\">driver_register</a>(&amp;<a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#drv\">drv</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_bus_register_driver\">acpi_bus_register_driver</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * acpi_bus_unregister_driver - unregisters a driver with the APIC bus</span>", 
"<span class=\"comment\"> * @driver: driver to unregister</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Unregisters a driver with the ACPI bus.  Searches the namespace for all</span>", 
"<span class=\"comment\"> * devices that match the driver's criteria and unbinds.</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#acpi_bus_unregister_driver\">acpi_bus_unregister_driver</a>(struct <a class=\"id\" href=\"#acpi_driver\">acpi_driver</a> *<a class=\"id\" href=\"#driver\">driver</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#driver_unregister\">driver_unregister</a>(&amp;<a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#drv\">drv</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_bus_unregister_driver\">acpi_bus_unregister_driver</a>);", 
"", 
"<span class=\"comment\">/* --------------------------------------------------------------------------</span>", 
"<span class=\"comment\">                                 Device Enumeration</span>", 
"<span class=\"comment\">   -------------------------------------------------------------------------- */</span>", 
"static struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#acpi_bus_get_parent\">acpi_bus_get_parent</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Fixed hardware devices do not appear in the namespace and do not</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * have handles, but we fabricate acpi_devices for them, so we have</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * to deal with them specially.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#handle\">handle</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_root\">acpi_root</a>;", 
"", 
"<span class=\"ts\"/>do {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_parent\">acpi_get_parent</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#handle\">handle</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#status\">status</a> == <a class=\"id\" href=\"#AE_NULL_ENTRY\">AE_NULL_ENTRY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_root\">acpi_root</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#acpi_bus_get_device\">acpi_bus_get_device</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#device\">device</a>;", 
"<span class=\"ts\"/>} while (1);", 
"}", 
"", 
"<a class=\"id\" href=\"#acpi_status\">acpi_status</a>", 
"<a class=\"id\" href=\"#acpi_bus_get_ejd\">acpi_bus_get_ejd</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> *<a class=\"id\" href=\"#ejd\">ejd</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_buffer\">acpi_buffer</a> <a class=\"id\" href=\"#buffer\">buffer</a> = {<a class=\"id\" href=\"#ACPI_ALLOCATE_BUFFER\">ACPI_ALLOCATE_BUFFER</a>, <a class=\"id\" href=\"#NULL\">NULL</a>};", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#acpi_object\">acpi_object</a> *<a class=\"id\" href=\"#obj\">obj</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_EJD\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#status\">status</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_object\">acpi_evaluate_object</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_EJD\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#buffer\">buffer</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#obj\">obj</a> = <a class=\"id\" href=\"#buffer\">buffer</a>.<a class=\"id\" href=\"#pointer\">pointer</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#ACPI_ROOT_OBJECT\">ACPI_ROOT_OBJECT</a>, <a class=\"id\" href=\"#obj\">obj</a>-><a class=\"id\" href=\"#string\">string</a>.<a class=\"id\" href=\"#pointer\">pointer</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#ejd\">ejd</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#buffer\">buffer</a>.<a class=\"id\" href=\"#pointer\">pointer</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#status\">status</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#acpi_bus_get_ejd\">acpi_bus_get_ejd</a>);", 
"", 
"void <a class=\"id\" href=\"#acpi_bus_data_handler\">acpi_bus_data_handler</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, void *<a class=\"id\" href=\"#context\">context</a>)", 
"{", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* TBD */</span>", 
"", 
"<span class=\"ts\"/>return;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_bus_get_perf_flags\">acpi_bus_get_perf_flags</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#performance\">performance</a>.<a class=\"id\" href=\"#state\">state</a> = <a class=\"id\" href=\"#ACPI_STATE_UNKNOWN\">ACPI_STATE_UNKNOWN</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#acpi_status\">acpi_status</a>", 
"<a class=\"id\" href=\"#acpi_bus_extract_wakeup_device_power_package\">acpi_bus_extract_wakeup_device_power_package</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     union <a class=\"id\" href=\"#acpi_object\">acpi_object</a> *<a class=\"id\" href=\"#package\">package</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a> = 0;", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#acpi_object\">acpi_object</a> *<a class=\"id\" href=\"#element\">element</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a> || !<a class=\"id\" href=\"#package\">package</a> || (<a class=\"id\" href=\"#package\">package</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#count\">count</a> &lt; 2))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_BAD_PARAMETER\">AE_BAD_PARAMETER</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#element\">element</a> = &amp;(<a class=\"id\" href=\"#package\">package</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#elements\">elements</a>[0]);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#element\">element</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_BAD_PARAMETER\">AE_BAD_PARAMETER</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#ACPI_TYPE_PACKAGE\">ACPI_TYPE_PACKAGE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#count\">count</a> &lt; 2) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#elements\">elements</a>[0].<a class=\"id\" href=\"#type\">type</a> !=", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#ACPI_TYPE_LOCAL_REFERENCE\">ACPI_TYPE_LOCAL_REFERENCE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>    || (<a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#elements\">elements</a>[1].<a class=\"id\" href=\"#type\">type</a> != <a class=\"id\" href=\"#ACPI_TYPE_INTEGER\">ACPI_TYPE_INTEGER</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_BAD_DATA\">AE_BAD_DATA</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_device\">gpe_device</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#elements\">elements</a>[0].<a class=\"id\" href=\"#reference\">reference</a>.<a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_number\">gpe_number</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#u32\">u32</a>) <a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#elements\">elements</a>[1].<a class=\"id\" href=\"#integer\">integer</a>.<a class=\"id\" href=\"#value\">value</a>;", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#ACPI_TYPE_INTEGER\">ACPI_TYPE_INTEGER</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_number\">gpe_number</a> = <a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#integer\">integer</a>.<a class=\"id\" href=\"#value\">value</a>;", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_BAD_DATA\">AE_BAD_DATA</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#element\">element</a> = &amp;(<a class=\"id\" href=\"#package\">package</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#elements\">elements</a>[1]);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#type\">type</a> != <a class=\"id\" href=\"#ACPI_TYPE_INTEGER\">ACPI_TYPE_INTEGER</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_BAD_DATA\">AE_BAD_DATA</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#sleep_state\">sleep_state</a> = <a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#integer\">integer</a>.<a class=\"id\" href=\"#value\">value</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#package\">package</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#count\">count</a> - 2) &gt; <a class=\"id\" href=\"#ACPI_MAX_HANDLES\">ACPI_MAX_HANDLES</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_NO_MEMORY\">AE_NO_MEMORY</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#resources\">resources</a>.<a class=\"id\" href=\"#count\">count</a> = <a class=\"id\" href=\"#package\">package</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#count\">count</a> - 2;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#resources\">resources</a>.<a class=\"id\" href=\"#count\">count</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#element\">element</a> = &amp;(<a class=\"id\" href=\"#package\">package</a>-><a class=\"id\" href=\"#package\">package</a>.<a class=\"id\" href=\"#elements\">elements</a>[<a class=\"id\" href=\"#i\">i</a> + 2]);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#type\">type</a> != <a class=\"id\" href=\"#ACPI_TYPE_LOCAL_REFERENCE\">ACPI_TYPE_LOCAL_REFERENCE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#AE_BAD_DATA\">AE_BAD_DATA</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#resources\">resources</a>.<a class=\"id\" href=\"#handles\">handles</a>[<a class=\"id\" href=\"#i\">i</a>] = <a class=\"id\" href=\"#element\">element</a>-><a class=\"id\" href=\"#reference\">reference</a>.<a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_gpe_can_wake\">acpi_gpe_can_wake</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_device\">gpe_device</a>, <a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_number\">gpe_number</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_bus_set_run_wake_flags\">acpi_bus_set_run_wake_flags</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device_id\">acpi_device_id</a> <a class=\"id\" href=\"#button_device_ids\">button_device_ids</a>[] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>{\"PNP0C0D\", 0},", 
"<span class=\"ts\"/><span class=\"ts\"/>{\"PNP0C0C\", 0},", 
"<span class=\"ts\"/><span class=\"ts\"/>{\"PNP0C0E\", 0},", 
"<span class=\"ts\"/><span class=\"ts\"/>{\"\", 0},", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_event_status\">acpi_event_status</a> <a class=\"id\" href=\"#event_status\">event_status</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#run_wake_count\">run_wake_count</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#notifier_present\">notifier_present</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Power button, Lid switch always enable wakeup */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_match_device_ids\">acpi_match_device_ids</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#button_device_ids\">button_device_ids</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#run_wake\">run_wake</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#always_enabled\">always_enabled</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_gpe_status\">acpi_get_gpe_status</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_device\">gpe_device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_number\">gpe_number</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#event_status\">event_status</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#status\">status</a> == <a class=\"id\" href=\"#AE_OK\">AE_OK</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#run_wake\">run_wake</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>!!(<a class=\"id\" href=\"#event_status\">event_status</a> &amp; <a class=\"id\" href=\"#ACPI_EVENT_FLAG_HANDLE\">ACPI_EVENT_FLAG_HANDLE</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_bus_get_wakeup_device_flags\">acpi_bus_get_wakeup_device_flags</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_buffer\">acpi_buffer</a> <a class=\"id\" href=\"#buffer\">buffer</a> = { <a class=\"id\" href=\"#ACPI_ALLOCATE_BUFFER\">ACPI_ALLOCATE_BUFFER</a>, <a class=\"id\" href=\"#NULL\">NULL</a> };", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#acpi_object\">acpi_object</a> *<a class=\"id\" href=\"#package\">package</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#psw_error\">psw_error</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* _PRW */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_evaluate_object\">acpi_evaluate_object</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_PRW\", <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#buffer\">buffer</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_EXCEPTION\">ACPI_EXCEPTION</a>((<a class=\"id\" href=\"#AE_INFO\">AE_INFO</a>, <a class=\"id\" href=\"#status\">status</a>, \"Evaluating _PRW\"));", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#package\">package</a> = (union <a class=\"id\" href=\"#acpi_object\">acpi_object</a> *)<a class=\"id\" href=\"#buffer\">buffer</a>.<a class=\"id\" href=\"#pointer\">pointer</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_bus_extract_wakeup_device_power_package\">acpi_bus_extract_wakeup_device_power_package</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#package\">package</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_EXCEPTION\">ACPI_EXCEPTION</a>((<a class=\"id\" href=\"#AE_INFO\">AE_INFO</a>, <a class=\"id\" href=\"#status\">status</a>, \"Extracting _PRW package\"));", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#buffer\">buffer</a>.<a class=\"id\" href=\"#pointer\">pointer</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#prepare_count\">prepare_count</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_set_run_wake_flags\">acpi_bus_set_run_wake_flags</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/* Call _PSW/_DSW object to disable its ability to wake the sleeping</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * system for the ACPI device with the _PRW object.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * The _PSW object is depreciated in ACPI 3.0 and is replaced by _DSW.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * So it is necessary to call _DSW object first. Only when it is not</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * present will the _PSW object used.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#psw_error\">psw_error</a> = <a class=\"id\" href=\"#acpi_device_sleep_wake\">acpi_device_sleep_wake</a>(<a class=\"id\" href=\"#device\">device</a>, 0, 0, 0);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#psw_error\">psw_error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"error in _DSW or _PSW evaluation\\n\"));", 
"", 
"<a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#wake_capable\">wake_capable</a> = 0;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_bus_get_power_flags\">acpi_bus_get_power_flags</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#i\">i</a> = 0;", 
"", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Power Management Flags</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_PSC\", &amp;<a class=\"id\" href=\"#handle\">handle</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#power\">power</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#explicit_get\">explicit_get</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_IRC\", &amp;<a class=\"id\" href=\"#handle\">handle</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#power\">power</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#inrush_current\">inrush_current</a> = 1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Enumerate supported power management states</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#ACPI_STATE_D0\">ACPI_STATE_D0</a>; <a class=\"id\" href=\"#i\">i</a> <= <a class=\"id\" href=\"#ACPI_STATE_D3\">ACPI_STATE_D3</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device_power_state\">acpi_device_power_state</a> *<a class=\"id\" href=\"#ps\">ps</a> = &amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#power\">power</a>.<a class=\"id\" href=\"#states\">states</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/>char <a class=\"id\" href=\"#object_name\">object_name</a>[5] = { '_', 'P', 'R', '0' + <a class=\"id\" href=\"#i\">i</a>, '\\0' };", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Evaluate \"_PRx\" to se if power resources are referenced */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_evaluate_reference\">acpi_evaluate_reference</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#object_name\">object_name</a>, <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>&amp;<a class=\"id\" href=\"#ps\">ps</a>-><a class=\"id\" href=\"#resources\">resources</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ps\">ps</a>-><a class=\"id\" href=\"#resources\">resources</a>.<a class=\"id\" href=\"#count\">count</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#power\">power</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#power_resources\">power_resources</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ps\">ps</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Evaluate \"_PSx\" to see if we can do explicit sets */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#object_name\">object_name</a>[2] = 'S';", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#object_name\">object_name</a>, &amp;<a class=\"id\" href=\"#handle\">handle</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ps\">ps</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#explicit_set\">explicit_set</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ps\">ps</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* State is valid if we have some power control */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ps\">ps</a>-><a class=\"id\" href=\"#resources\">resources</a>.<a class=\"id\" href=\"#count\">count</a> || <a class=\"id\" href=\"#ps\">ps</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#explicit_set\">explicit_set</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ps\">ps</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a> = 1;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ps\">ps</a>-><a class=\"id\" href=\"#power\">power</a> = -1;<span class=\"ts\"/><span class=\"comment\">/* Unknown - driver assigned */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ps\">ps</a>-><a class=\"id\" href=\"#latency\">latency</a> = -1;<span class=\"ts\"/><span class=\"comment\">/* Unknown - driver assigned */</span>", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Set defaults for D0 and D3 states (always valid) */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#power\">power</a>.<a class=\"id\" href=\"#states\">states</a>[<a class=\"id\" href=\"#ACPI_STATE_D0\">ACPI_STATE_D0</a>].<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#power\">power</a>.<a class=\"id\" href=\"#states\">states</a>[<a class=\"id\" href=\"#ACPI_STATE_D0\">ACPI_STATE_D0</a>].<a class=\"id\" href=\"#power\">power</a> = 100;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#power\">power</a>.<a class=\"id\" href=\"#states\">states</a>[<a class=\"id\" href=\"#ACPI_STATE_D3\">ACPI_STATE_D3</a>].<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#power\">power</a>.<a class=\"id\" href=\"#states\">states</a>[<a class=\"id\" href=\"#ACPI_STATE_D3\">ACPI_STATE_D3</a>].<a class=\"id\" href=\"#power\">power</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* TBD: System wake support and resource requirements. */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#power\">power</a>.<a class=\"id\" href=\"#state\">state</a> = <a class=\"id\" href=\"#ACPI_STATE_UNKNOWN\">ACPI_STATE_UNKNOWN</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_bus_get_power\">acpi_bus_get_power</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, &amp;(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#power\">power</a>.<a class=\"id\" href=\"#state\">state</a>));", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_bus_get_flags\">acpi_bus_get_flags</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#AE_OK\">AE_OK</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#temp\">temp</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Presence of _STA indicates 'dynamic_status' */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_STA\", &amp;<a class=\"id\" href=\"#temp\">temp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#dynamic_status\">dynamic_status</a> = 1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Presence of _RMV indicates 'removable' */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_RMV\", &amp;<a class=\"id\" href=\"#temp\">temp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#removable\">removable</a> = 1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Presence of _EJD|_EJ0 indicates 'ejectable' */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_EJD\", &amp;<a class=\"id\" href=\"#temp\">temp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#ejectable\">ejectable</a> = 1;", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_EJ0\", &amp;<a class=\"id\" href=\"#temp\">temp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#ejectable\">ejectable</a> = 1;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Presence of _LCK indicates 'lockable' */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_LCK\", &amp;<a class=\"id\" href=\"#temp\">temp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#lockable\">lockable</a> = 1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Presence of _PS0|_PR0 indicates 'power manageable' */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_PS0\", &amp;<a class=\"id\" href=\"#temp\">temp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_PR0\", &amp;<a class=\"id\" href=\"#temp\">temp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#power_manageable\">power_manageable</a> = 1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Presence of _PRW indicates wake capable */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_PRW\", &amp;<a class=\"id\" href=\"#temp\">temp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#wake_capable\">wake_capable</a> = 1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* TBD: Performance management */</span>", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_device_get_busid\">acpi_device_get_busid</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#bus_id\">bus_id</a>[5] = { '?', 0 };", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_buffer\">acpi_buffer</a> <a class=\"id\" href=\"#buffer\">buffer</a> = { sizeof(<a class=\"id\" href=\"#bus_id\">bus_id</a>), <a class=\"id\" href=\"#bus_id\">bus_id</a> };", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Bus ID</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * ------</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * The device's Bus ID is simply the object name.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * TBD: Shouldn't this value be unique (within the ACPI namespace)?</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_IS_ROOT_DEVICE\">ACPI_IS_ROOT_DEVICE</a>(<a class=\"id\" href=\"#device\">device</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#bus_id\">bus_id</a>, \"ACPI\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#device_type\">device_type</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUS_TYPE_POWER_BUTTON\">ACPI_BUS_TYPE_POWER_BUTTON</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#bus_id\">bus_id</a>, \"PWRF\");", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUS_TYPE_SLEEP_BUTTON\">ACPI_BUS_TYPE_SLEEP_BUTTON</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#bus_id\">bus_id</a>, \"SLPF\");", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_get_name\">acpi_get_name</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#ACPI_SINGLE_NAME\">ACPI_SINGLE_NAME</a>, &amp;<a class=\"id\" href=\"#buffer\">buffer</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Clean up trailing underscores (if any) */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 3; <a class=\"id\" href=\"#i\">i</a> &gt; 1; <a class=\"id\" href=\"#i\">i</a>--) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#bus_id\">bus_id</a>[<a class=\"id\" href=\"#i\">i</a>] == '_')", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#bus_id\">bus_id</a>[<a class=\"id\" href=\"#i\">i</a>] = '\\0';", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#bus_id\">bus_id</a>, <a class=\"id\" href=\"#bus_id\">bus_id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * acpi_bay_match - see if a device is an ejectable driver bay</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * If an acpi object is ejectable and has one of the ACPI ATA methods defined,</span>", 
"<span class=\"comment\"> * then we can safely call it an ejectable drive bay</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#acpi_bay_match\">acpi_bay_match</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>){", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#phandle\">phandle</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#handle\">handle</a> = <a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_EJ0\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_GTF\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_GTM\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_STM\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#handle\">handle</a>, \"_SDD\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_get_parent\">acpi_get_parent</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#phandle\">phandle</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"        if ((<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#phandle\">phandle</a>, \"_GTF\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))) ||", 
"                (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#phandle\">phandle</a>, \"_GTM\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))) ||", 
"                (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#phandle\">phandle</a>, \"_STM\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))) ||", 
"                (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#phandle\">phandle</a>, \"_SDD\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>))))", 
"                return 0;", 
"", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * acpi_dock_match - see if a device has a _DCK method</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#acpi_dock_match\">acpi_dock_match</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"_DCK\", &amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"}", 
"", 
"char *<a class=\"id\" href=\"#acpi_device_hid\">acpi_device_hid</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_hardware_id\">acpi_hardware_id</a> *<a class=\"id\" href=\"#hid\">hid</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hid\">hid</a> = <a class=\"id\" href=\"#list_first_entry\">list_first_entry</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#ids\">ids</a>, struct <a class=\"id\" href=\"#acpi_hardware_id\">acpi_hardware_id</a>, <a class=\"id\" href=\"#list\">list</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#hid\">hid</a>-><a class=\"id\" href=\"#id\">id</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#acpi_device_hid\">acpi_device_hid</a>);", 
"", 
"static void <a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>, const char *<a class=\"id\" href=\"#dev_id\">dev_id</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_hardware_id\">acpi_hardware_id</a> *<a class=\"id\" href=\"#id\">id</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(sizeof(*<a class=\"id\" href=\"#id\">id</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#id\">id</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#id\">id</a>-><a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#strlen\">strlen</a>(<a class=\"id\" href=\"#dev_id\">dev_id</a>) + 1, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#id\">id</a>-><a class=\"id\" href=\"#id\">id</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#id\">id</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#dev_id\">dev_id</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#id\">id</a>-><a class=\"id\" href=\"#list\">list</a>, &amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#ids\">ids</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Old IBM workstations have a DSDT bug wherein the SMBus object</span>", 
"<span class=\"comment\"> * lacks the SMBUS01 HID and the methods do not have the necessary \"_\"</span>", 
"<span class=\"comment\"> * prefix.  Work around this.</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#acpi_ibm_smbus_match\">acpi_ibm_smbus_match</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#h_dummy\">h_dummy</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_buffer\">acpi_buffer</a> <a class=\"id\" href=\"#path\">path</a> = {<a class=\"id\" href=\"#ACPI_ALLOCATE_BUFFER\">ACPI_ALLOCATE_BUFFER</a>, <a class=\"id\" href=\"#NULL\">NULL</a>};", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dmi_name_in_vendors\">dmi_name_in_vendors</a>(\"IBM\"))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Look for SMBS object */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_get_name\">acpi_get_name</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, <a class=\"id\" href=\"#ACPI_SINGLE_NAME\">ACPI_SINGLE_NAME</a>, &amp;<a class=\"id\" href=\"#path\">path</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#strcmp\">strcmp</a>(\"SMBS\", <a class=\"id\" href=\"#path\">path</a>.<a class=\"id\" href=\"#pointer\">pointer</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Does it have the necessary (but misnamed) methods? */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"SBI\", &amp;<a class=\"id\" href=\"#h_dummy\">h_dummy</a>)) &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"SBR\", &amp;<a class=\"id\" href=\"#h_dummy\">h_dummy</a>)) &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_get_handle\">acpi_get_handle</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, \"SBW\", &amp;<a class=\"id\" href=\"#h_dummy\">h_dummy</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = 0;", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#path\">path</a>.<a class=\"id\" href=\"#pointer\">pointer</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#acpi_device_set_id\">acpi_device_set_id</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device_info\">acpi_device_info</a> *<a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpica_device_id_list\">acpica_device_id_list</a> *<a class=\"id\" href=\"#cid_list\">cid_list</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#device_type\">device_type</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUS_TYPE_DEVICE\">ACPI_BUS_TYPE_DEVICE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_IS_ROOT_DEVICE\">ACPI_IS_ROOT_DEVICE</a>(<a class=\"id\" href=\"#device\">device</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_SYSTEM_HID\">ACPI_SYSTEM_HID</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_get_object_info\">acpi_get_object_info</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_FAILURE\">ACPI_FAILURE</a>(<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"%s: Error reading device info\\n\", <a class=\"id\" href=\"#__func__\">__func__</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#valid\">valid</a> &amp; <a class=\"id\" href=\"#ACPI_VALID_HID\">ACPI_VALID_HID</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#hardware_id\">hardware_id</a>.<a class=\"id\" href=\"#string\">string</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#valid\">valid</a> &amp; <a class=\"id\" href=\"#ACPI_VALID_CID\">ACPI_VALID_CID</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cid_list\">cid_list</a> = &amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#compatible_id_list\">compatible_id_list</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#cid_list\">cid_list</a>-><a class=\"id\" href=\"#count\">count</a>; <a class=\"id\" href=\"#i\">i</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#cid_list\">cid_list</a>-><a class=\"id\" href=\"#ids\">ids</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#string\">string</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#valid\">valid</a> &amp; <a class=\"id\" href=\"#ACPI_VALID_ADR\">ACPI_VALID_ADR</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#bus_address\">bus_address</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#address\">address</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#bus_address\">bus_address</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Some devices don't reliably have _HIDs &amp; _CIDs, so add</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * synthetic HIDs to make sure drivers can find them.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_is_video_device\">acpi_is_video_device</a>(<a class=\"id\" href=\"#device\">device</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_VIDEO_HID\">ACPI_VIDEO_HID</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_bay_match\">acpi_bay_match</a>(<a class=\"id\" href=\"#device\">device</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_BAY_HID\">ACPI_BAY_HID</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#acpi_dock_match\">acpi_dock_match</a>(<a class=\"id\" href=\"#device\">device</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_DOCK_HID\">ACPI_DOCK_HID</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (!<a class=\"id\" href=\"#acpi_ibm_smbus_match\">acpi_ibm_smbus_match</a>(<a class=\"id\" href=\"#device\">device</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_SMBUS_IBM_HID\">ACPI_SMBUS_IBM_HID</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (!<a class=\"id\" href=\"#acpi_device_hid\">acpi_device_hid</a>(<a class=\"id\" href=\"#device\">device</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#ACPI_IS_ROOT_DEVICE\">ACPI_IS_ROOT_DEVICE</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#parent\">parent</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_BUS_HID\">ACPI_BUS_HID</a>); <span class=\"comment\">/* \\_SB, LNXSYBUS */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#device_name\">device_name</a>, <a class=\"id\" href=\"#ACPI_BUS_DEVICE_NAME\">ACPI_BUS_DEVICE_NAME</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#strcpy\">strcpy</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#device_class\">device_class</a>, <a class=\"id\" href=\"#ACPI_BUS_CLASS\">ACPI_BUS_CLASS</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUS_TYPE_POWER\">ACPI_BUS_TYPE_POWER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_POWER_HID\">ACPI_POWER_HID</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUS_TYPE_PROCESSOR\">ACPI_BUS_TYPE_PROCESSOR</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_PROCESSOR_OBJECT_HID\">ACPI_PROCESSOR_OBJECT_HID</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUS_TYPE_THERMAL\">ACPI_BUS_TYPE_THERMAL</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_THERMAL_HID\">ACPI_THERMAL_HID</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUS_TYPE_POWER_BUTTON\">ACPI_BUS_TYPE_POWER_BUTTON</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_BUTTON_HID_POWERF\">ACPI_BUTTON_HID_POWERF</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_BUS_TYPE_SLEEP_BUTTON\">ACPI_BUS_TYPE_SLEEP_BUTTON</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#ACPI_BUTTON_HID_SLEEPF\">ACPI_BUTTON_HID_SLEEPF</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * We build acpi_devices for some objects that don't have _HID or _CID,</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * e.g., PCI bridges and slots.  Drivers can't bind to these objects,</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * but we do use them indirectly by traversing the acpi_device tree.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * This generic ID isn't useful for driver binding, but it provides</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * the useful property that \"every acpi_device has an ID.\"</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#ids\">ids</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_add_id\">acpi_add_id</a>(<a class=\"id\" href=\"#device\">device</a>, \"device\");", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_device_set_context\">acpi_device_set_context</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_status\">acpi_status</a> <a class=\"id\" href=\"#status\">status</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Context</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * -------</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Attach this 'struct acpi_device' to the ACPI object.  This makes</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * resolutions from handle-&gt;device very efficient.  Fixed hardware</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * devices have no handles, so we skip them.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#acpi_attach_data\">acpi_attach_data</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#acpi_bus_data_handler\">acpi_bus_data_handler</a>, <a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ACPI_SUCCESS\">ACPI_SUCCESS</a>(<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Error attaching device data\\n\");", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_bus_remove\">acpi_bus_remove</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#dev\">dev</a>, int <a class=\"id\" href=\"#rmdevice\">rmdevice</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#removal_type\">removal_type</a> = <a class=\"id\" href=\"#ACPI_BUS_REMOVAL_EJECT\">ACPI_BUS_REMOVAL_EJECT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device_release_driver\">device_release_driver</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#rmdevice\">rmdevice</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * unbind _ADR-Based Devices when hot removal</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#bus_address\">bus_address</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#parent\">parent</a>) && (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#parent\">parent</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#unbind\">unbind</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#parent\">parent</a>-><a class=\"id\" href=\"#ops\">ops</a>.<a class=\"id\" href=\"#unbind\">unbind</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_unregister\">acpi_device_unregister</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#ACPI_BUS_REMOVAL_EJECT\">ACPI_BUS_REMOVAL_EJECT</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_add_single_object\">acpi_add_single_object</a>(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> **<a class=\"id\" href=\"#child\">child</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, int <a class=\"id\" href=\"#type\">type</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  unsigned long long <a class=\"id\" href=\"#sta\">sta</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#acpi_bus_ops\">acpi_bus_ops</a> *<a class=\"id\" href=\"#ops\">ops</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_buffer\">acpi_buffer</a> <a class=\"id\" href=\"#buffer\">buffer</a> = { <a class=\"id\" href=\"#ACPI_ALLOCATE_BUFFER\">ACPI_ALLOCATE_BUFFER</a>, <a class=\"id\" href=\"#NULL\">NULL</a> };", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Memory allocation error\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#ids\">ids</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#device_type\">device_type</a> = <a class=\"id\" href=\"#type\">type</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#handle\">handle</a> = <a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#parent\">parent</a> = <a class=\"id\" href=\"#acpi_bus_get_parent\">acpi_bus_get_parent</a>(<a class=\"id\" href=\"#handle\">handle</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#bus_ops\">bus_ops</a> = *<a class=\"id\" href=\"#ops\">ops</a>; <span class=\"comment\">/* workround for not call .start */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#STRUCT_TO_INT\">STRUCT_TO_INT</a>(<a class=\"id\" href=\"#device\">device</a>-><a class=\"id\" href=\"#status\">status</a>) = <a class=\"id\" href=\"#sta\">sta</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_device_get_busid\">acpi_device_get_busid</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Flags</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * -----</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Note that we only look for object handles -- cannot evaluate objects</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * until we know the device is present and properly initialized.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_bus_get_flags\">acpi_bus_get_flags</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"", 
];
xr_frag_insert('l/ae/01fff61dca0f44eb23d2c5234dd04e9a4e22d3.xr', __xr_tmp);
