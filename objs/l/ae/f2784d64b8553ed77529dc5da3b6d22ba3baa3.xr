var __xr_tmp = [
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#retval\">retval</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#euid\">euid</a> != (<a class=\"id\" href=\"#uid_t\">uid_t</a>) -1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#euid\">euid</a> = <a class=\"id\" href=\"#euid\">euid</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#suid\">suid</a> != (<a class=\"id\" href=\"#uid_t\">uid_t</a>) -1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#suid\">suid</a> = <a class=\"id\" href=\"#suid\">suid</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#fsuid\">fsuid</a> = <a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#euid\">euid</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#security_task_fix_setuid\">security_task_fix_setuid</a>(<a class=\"id\" href=\"#new\">new</a>, <a class=\"id\" href=\"#old\">old</a>, <a class=\"id\" href=\"#LSM_SETID_RES\">LSM_SETID_RES</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#retval\">retval</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#commit_creds\">commit_creds</a>(<a class=\"id\" href=\"#new\">new</a>);", 
"", 
"<a class=\"id\" href=\"#error\">error</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#abort_creds\">abort_creds</a>(<a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE3\">SYSCALL_DEFINE3</a>(<a class=\"id\" href=\"#getresuid\">getresuid</a>, <a class=\"id\" href=\"#uid_t\">uid_t</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#ruid\">ruid</a>, <a class=\"id\" href=\"#uid_t\">uid_t</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#euid\">euid</a>, <a class=\"id\" href=\"#uid_t\">uid_t</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#suid\">suid</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#cred\">cred</a> *<a class=\"id\" href=\"#cred\">cred</a> = <a class=\"id\" href=\"#current_cred\">current_cred</a>();", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a>;", 
"", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#retval\">retval</a>   = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#uid\">uid</a>,  <a class=\"id\" href=\"#ruid\">ruid</a>)) &&", 
"<span class=\"ts\"/>    !(<a class=\"id\" href=\"#retval\">retval</a>   = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#euid\">euid</a>, <a class=\"id\" href=\"#euid\">euid</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#suid\">suid</a>, <a class=\"id\" href=\"#suid\">suid</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Same as above, but for rgid, egid, sgid.</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE3\">SYSCALL_DEFINE3</a>(<a class=\"id\" href=\"#setresgid\">setresgid</a>, <a class=\"id\" href=\"#gid_t\">gid_t</a>, <a class=\"id\" href=\"#rgid\">rgid</a>, <a class=\"id\" href=\"#gid_t\">gid_t</a>, <a class=\"id\" href=\"#egid\">egid</a>, <a class=\"id\" href=\"#gid_t\">gid_t</a>, <a class=\"id\" href=\"#sgid\">sgid</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#cred\">cred</a> *<a class=\"id\" href=\"#old\">old</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cred\">cred</a> *<a class=\"id\" href=\"#new\">new</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a> = <a class=\"id\" href=\"#prepare_creds\">prepare_creds</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#new\">new</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#old\">old</a> = <a class=\"id\" href=\"#current_cred\">current_cred</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SETGID\">CAP_SETGID</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rgid\">rgid</a> != (<a class=\"id\" href=\"#gid_t\">gid_t</a>) -1 && <a class=\"id\" href=\"#rgid\">rgid</a> != <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#gid\">gid</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#rgid\">rgid</a> != <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#egid\">egid</a>  && <a class=\"id\" href=\"#rgid\">rgid</a> != <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#sgid\">sgid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#egid\">egid</a> != (<a class=\"id\" href=\"#gid_t\">gid_t</a>) -1 && <a class=\"id\" href=\"#egid\">egid</a> != <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#gid\">gid</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#egid\">egid</a> != <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#egid\">egid</a>  && <a class=\"id\" href=\"#egid\">egid</a> != <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#sgid\">sgid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sgid\">sgid</a> != (<a class=\"id\" href=\"#gid_t\">gid_t</a>) -1 && <a class=\"id\" href=\"#sgid\">sgid</a> != <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#gid\">gid</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#sgid\">sgid</a> != <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#egid\">egid</a>  && <a class=\"id\" href=\"#sgid\">sgid</a> != <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#sgid\">sgid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rgid\">rgid</a> != (<a class=\"id\" href=\"#gid_t\">gid_t</a>) -1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#gid\">gid</a> = <a class=\"id\" href=\"#rgid\">rgid</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#egid\">egid</a> != (<a class=\"id\" href=\"#gid_t\">gid_t</a>) -1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#egid\">egid</a> = <a class=\"id\" href=\"#egid\">egid</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sgid\">sgid</a> != (<a class=\"id\" href=\"#gid_t\">gid_t</a>) -1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#sgid\">sgid</a> = <a class=\"id\" href=\"#sgid\">sgid</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#fsgid\">fsgid</a> = <a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#egid\">egid</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#commit_creds\">commit_creds</a>(<a class=\"id\" href=\"#new\">new</a>);", 
"", 
"<a class=\"id\" href=\"#error\">error</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#abort_creds\">abort_creds</a>(<a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE3\">SYSCALL_DEFINE3</a>(<a class=\"id\" href=\"#getresgid\">getresgid</a>, <a class=\"id\" href=\"#gid_t\">gid_t</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#rgid\">rgid</a>, <a class=\"id\" href=\"#gid_t\">gid_t</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#egid\">egid</a>, <a class=\"id\" href=\"#gid_t\">gid_t</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#sgid\">sgid</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#cred\">cred</a> *<a class=\"id\" href=\"#cred\">cred</a> = <a class=\"id\" href=\"#current_cred\">current_cred</a>();", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a>;", 
"", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#retval\">retval</a>   = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#gid\">gid</a>,  <a class=\"id\" href=\"#rgid\">rgid</a>)) &&", 
"<span class=\"ts\"/>    !(<a class=\"id\" href=\"#retval\">retval</a>   = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#egid\">egid</a>, <a class=\"id\" href=\"#egid\">egid</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#sgid\">sgid</a>, <a class=\"id\" href=\"#sgid\">sgid</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * \"setfsuid()\" sets the fsuid - the uid used for filesystem checks. This</span>", 
"<span class=\"comment\"> * is used for \"access()\" and for the NFS daemon (letting nfsd stay at</span>", 
"<span class=\"comment\"> * whatever uid it wants to). It normally shadows \"euid\", except when</span>", 
"<span class=\"comment\"> * explicitly set by setfsuid() or for access..</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE1\">SYSCALL_DEFINE1</a>(<a class=\"id\" href=\"#setfsuid\">setfsuid</a>, <a class=\"id\" href=\"#uid_t\">uid_t</a>, <a class=\"id\" href=\"#uid\">uid</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#cred\">cred</a> *<a class=\"id\" href=\"#old\">old</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cred\">cred</a> *<a class=\"id\" href=\"#new\">new</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#uid_t\">uid_t</a> <a class=\"id\" href=\"#old_fsuid\">old_fsuid</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a> = <a class=\"id\" href=\"#prepare_creds\">prepare_creds</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#new\">new</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#current_fsuid\">current_fsuid</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#old\">old</a> = <a class=\"id\" href=\"#current_cred\">current_cred</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#old_fsuid\">old_fsuid</a> = <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#fsuid\">fsuid</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#uid\">uid</a> == <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#uid\">uid</a>  || <a class=\"id\" href=\"#uid\">uid</a> == <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#euid\">euid</a>  ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#uid\">uid</a> == <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#suid\">suid</a> || <a class=\"id\" href=\"#uid\">uid</a> == <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#fsuid\">fsuid</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SETUID\">CAP_SETUID</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#uid\">uid</a> != <a class=\"id\" href=\"#old_fsuid\">old_fsuid</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#fsuid\">fsuid</a> = <a class=\"id\" href=\"#uid\">uid</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#security_task_fix_setuid\">security_task_fix_setuid</a>(<a class=\"id\" href=\"#new\">new</a>, <a class=\"id\" href=\"#old\">old</a>, <a class=\"id\" href=\"#LSM_SETID_FS\">LSM_SETID_FS</a>) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#change_okay\">change_okay</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#abort_creds\">abort_creds</a>(<a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#old_fsuid\">old_fsuid</a>;", 
"", 
"<a class=\"id\" href=\"#change_okay\">change_okay</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#commit_creds\">commit_creds</a>(<a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#old_fsuid\">old_fsuid</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Samma p√• svenska..</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE1\">SYSCALL_DEFINE1</a>(<a class=\"id\" href=\"#setfsgid\">setfsgid</a>, <a class=\"id\" href=\"#gid_t\">gid_t</a>, <a class=\"id\" href=\"#gid\">gid</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#cred\">cred</a> *<a class=\"id\" href=\"#old\">old</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cred\">cred</a> *<a class=\"id\" href=\"#new\">new</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#gid_t\">gid_t</a> <a class=\"id\" href=\"#old_fsgid\">old_fsgid</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a> = <a class=\"id\" href=\"#prepare_creds\">prepare_creds</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#new\">new</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#current_fsgid\">current_fsgid</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#old\">old</a> = <a class=\"id\" href=\"#current_cred\">current_cred</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#old_fsgid\">old_fsgid</a> = <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#fsgid\">fsgid</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gid\">gid</a> == <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#gid\">gid</a>  || <a class=\"id\" href=\"#gid\">gid</a> == <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#egid\">egid</a>  ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#gid\">gid</a> == <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#sgid\">sgid</a> || <a class=\"id\" href=\"#gid\">gid</a> == <a class=\"id\" href=\"#old\">old</a>-><a class=\"id\" href=\"#fsgid\">fsgid</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SETGID\">CAP_SETGID</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#gid\">gid</a> != <a class=\"id\" href=\"#old_fsgid\">old_fsgid</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#fsgid\">fsgid</a> = <a class=\"id\" href=\"#gid\">gid</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#change_okay\">change_okay</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#abort_creds\">abort_creds</a>(<a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#old_fsgid\">old_fsgid</a>;", 
"", 
"<a class=\"id\" href=\"#change_okay\">change_okay</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#commit_creds\">commit_creds</a>(<a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#old_fsgid\">old_fsgid</a>;", 
"}", 
"", 
"void <a class=\"id\" href=\"#do_sys_times\">do_sys_times</a>(struct <a class=\"id\" href=\"#tms\">tms</a> *<a class=\"id\" href=\"#tms\">tms</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cputime_t\">cputime_t</a> <a class=\"id\" href=\"#tgutime\">tgutime</a>, <a class=\"id\" href=\"#tgstime\">tgstime</a>, <a class=\"id\" href=\"#cutime\">cutime</a>, <a class=\"id\" href=\"#cstime\">cstime</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irq\">spin_lock_irq</a>(&amp;<a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#sighand\">sighand</a>-><a class=\"id\" href=\"#siglock\">siglock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#thread_group_times\">thread_group_times</a>(<a class=\"id\" href=\"#current\">current</a>, &amp;<a class=\"id\" href=\"#tgutime\">tgutime</a>, &amp;<a class=\"id\" href=\"#tgstime\">tgstime</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cutime\">cutime</a> = <a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#cutime\">cutime</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cstime\">cstime</a> = <a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#cstime\">cstime</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irq\">spin_unlock_irq</a>(&amp;<a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#sighand\">sighand</a>-><a class=\"id\" href=\"#siglock\">siglock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tms\">tms</a>-><a class=\"id\" href=\"#tms_utime\">tms_utime</a> = <a class=\"id\" href=\"#cputime_to_clock_t\">cputime_to_clock_t</a>(<a class=\"id\" href=\"#tgutime\">tgutime</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tms\">tms</a>-><a class=\"id\" href=\"#tms_stime\">tms_stime</a> = <a class=\"id\" href=\"#cputime_to_clock_t\">cputime_to_clock_t</a>(<a class=\"id\" href=\"#tgstime\">tgstime</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tms\">tms</a>-><a class=\"id\" href=\"#tms_cutime\">tms_cutime</a> = <a class=\"id\" href=\"#cputime_to_clock_t\">cputime_to_clock_t</a>(<a class=\"id\" href=\"#cutime\">cutime</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tms\">tms</a>-><a class=\"id\" href=\"#tms_cstime\">tms_cstime</a> = <a class=\"id\" href=\"#cputime_to_clock_t\">cputime_to_clock_t</a>(<a class=\"id\" href=\"#cstime\">cstime</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE1\">SYSCALL_DEFINE1</a>(<a class=\"id\" href=\"#times\">times</a>, struct <a class=\"id\" href=\"#tms\">tms</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#tbuf\">tbuf</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tbuf\">tbuf</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#tms\">tms</a> <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#do_sys_times\">do_sys_times</a>(&amp;<a class=\"id\" href=\"#tmp\">tmp</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#tbuf\">tbuf</a>, &amp;<a class=\"id\" href=\"#tmp\">tmp</a>, sizeof(struct <a class=\"id\" href=\"#tms\">tms</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#force_successful_syscall_return\">force_successful_syscall_return</a>();", 
"<span class=\"ts\"/>return (long) <a class=\"id\" href=\"#jiffies_64_to_clock_t\">jiffies_64_to_clock_t</a>(<a class=\"id\" href=\"#get_jiffies_64\">get_jiffies_64</a>());", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * This needs some heavy checking ...</span>", 
"<span class=\"comment\"> * I just haven't the stomach for it. I also don't fully</span>", 
"<span class=\"comment\"> * understand sessions/pgrp etc. Let somebody who does explain it.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * OK, I think I have the protection semantics right.... this is really</span>", 
"<span class=\"comment\"> * only important on a multi-user system anyway, to make sure one user</span>", 
"<span class=\"comment\"> * can't send a signal to a process owned by another.  -TYT, 12/12/91</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Auch. Had to add the 'did_exec' flag to conform completely to POSIX.</span>", 
"<span class=\"comment\"> * LBT 04.03.94</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE2\">SYSCALL_DEFINE2</a>(<a class=\"id\" href=\"#setpgid\">setpgid</a>, <a class=\"id\" href=\"#pid_t\">pid_t</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#pid_t\">pid_t</a>, <a class=\"id\" href=\"#pgid\">pgid</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#p\">p</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#group_leader\">group_leader</a> = <a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#group_leader\">group_leader</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pid\">pid</a> *<a class=\"id\" href=\"#pgrp\">pgrp</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pid\">pid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pid\">pid</a> = <a class=\"id\" href=\"#task_pid_vnr\">task_pid_vnr</a>(<a class=\"id\" href=\"#group_leader\">group_leader</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pgid\">pgid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pgid\">pgid</a> = <a class=\"id\" href=\"#pid\">pid</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pgid\">pgid</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_lock\">rcu_read_lock</a>();", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* From this point forward we keep holding onto the tasklist lock</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * so that our parent does not change from under us. -DaveM</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_lock_irq\">write_lock_irq</a>(&amp;<a class=\"id\" href=\"#tasklist_lock\">tasklist_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#find_task_by_vpid\">find_task_by_vpid</a>(<a class=\"id\" href=\"#pid\">pid</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#p\">p</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#thread_group_leader\">thread_group_leader</a>(<a class=\"id\" href=\"#p\">p</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#same_thread_group\">same_thread_group</a>(<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#real_parent\">real_parent</a>, <a class=\"id\" href=\"#group_leader\">group_leader</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#task_session\">task_session</a>(<a class=\"id\" href=\"#p\">p</a>) != <a class=\"id\" href=\"#task_session\">task_session</a>(<a class=\"id\" href=\"#group_leader\">group_leader</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EACCES\">EACCES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#did_exec\">did_exec</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#p\">p</a> != <a class=\"id\" href=\"#group_leader\">group_leader</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#leader\">leader</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pgrp\">pgrp</a> = <a class=\"id\" href=\"#task_pid\">task_pid</a>(<a class=\"id\" href=\"#p\">p</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pgid\">pgid</a> != <a class=\"id\" href=\"#pid\">pid</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#g\">g</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pgrp\">pgrp</a> = <a class=\"id\" href=\"#find_vpid\">find_vpid</a>(<a class=\"id\" href=\"#pgid\">pgid</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#g\">g</a> = <a class=\"id\" href=\"#pid_task\">pid_task</a>(<a class=\"id\" href=\"#pgrp\">pgrp</a>, <a class=\"id\" href=\"#PIDTYPE_PGID\">PIDTYPE_PGID</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#g\">g</a> || <a class=\"id\" href=\"#task_session\">task_session</a>(<a class=\"id\" href=\"#g\">g</a>) != <a class=\"id\" href=\"#task_session\">task_session</a>(<a class=\"id\" href=\"#group_leader\">group_leader</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#security_task_setpgid\">security_task_setpgid</a>(<a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#pgid\">pgid</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#task_pgrp\">task_pgrp</a>(<a class=\"id\" href=\"#p\">p</a>) != <a class=\"id\" href=\"#pgrp\">pgrp</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#change_pid\">change_pid</a>(<a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#PIDTYPE_PGID\">PIDTYPE_PGID</a>, <a class=\"id\" href=\"#pgrp\">pgrp</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = 0;", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><span class=\"comment\">/* All paths lead to here, thus we are safe. -DaveM */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_unlock_irq\">write_unlock_irq</a>(&amp;<a class=\"id\" href=\"#tasklist_lock\">tasklist_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE1\">SYSCALL_DEFINE1</a>(<a class=\"id\" href=\"#getpgid\">getpgid</a>, <a class=\"id\" href=\"#pid_t\">pid_t</a>, <a class=\"id\" href=\"#pid\">pid</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#p\">p</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pid\">pid</a> *<a class=\"id\" href=\"#grp\">grp</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_lock\">rcu_read_lock</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pid\">pid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#grp\">grp</a> = <a class=\"id\" href=\"#task_pgrp\">task_pgrp</a>(<a class=\"id\" href=\"#current\">current</a>);", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#find_task_by_vpid\">find_task_by_vpid</a>(<a class=\"id\" href=\"#pid\">pid</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#p\">p</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#grp\">grp</a> = <a class=\"id\" href=\"#task_pgrp\">task_pgrp</a>(<a class=\"id\" href=\"#p\">p</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#grp\">grp</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#security_task_getpgid\">security_task_getpgid</a>(<a class=\"id\" href=\"#p\">p</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#retval\">retval</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#pid_vnr\">pid_vnr</a>(<a class=\"id\" href=\"#grp\">grp</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#__ARCH_WANT_SYS_GETPGRP\">__ARCH_WANT_SYS_GETPGRP</a>", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE0\">SYSCALL_DEFINE0</a>(<a class=\"id\" href=\"#getpgrp\">getpgrp</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#sys_getpgid\">sys_getpgid</a>(0);", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE1\">SYSCALL_DEFINE1</a>(<a class=\"id\" href=\"#getsid\">getsid</a>, <a class=\"id\" href=\"#pid_t\">pid_t</a>, <a class=\"id\" href=\"#pid\">pid</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#p\">p</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pid\">pid</a> *<a class=\"id\" href=\"#sid\">sid</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_lock\">rcu_read_lock</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pid\">pid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sid\">sid</a> = <a class=\"id\" href=\"#task_session\">task_session</a>(<a class=\"id\" href=\"#current\">current</a>);", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#find_task_by_vpid\">find_task_by_vpid</a>(<a class=\"id\" href=\"#pid\">pid</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#p\">p</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sid\">sid</a> = <a class=\"id\" href=\"#task_session\">task_session</a>(<a class=\"id\" href=\"#p\">p</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#sid\">sid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#security_task_getsid\">security_task_getsid</a>(<a class=\"id\" href=\"#p\">p</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#retval\">retval</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#pid_vnr\">pid_vnr</a>(<a class=\"id\" href=\"#sid\">sid</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE0\">SYSCALL_DEFINE0</a>(<a class=\"id\" href=\"#setsid\">setsid</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#group_leader\">group_leader</a> = <a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#group_leader\">group_leader</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pid\">pid</a> *<a class=\"id\" href=\"#sid\">sid</a> = <a class=\"id\" href=\"#task_pid\">task_pid</a>(<a class=\"id\" href=\"#group_leader\">group_leader</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pid_t\">pid_t</a> <a class=\"id\" href=\"#session\">session</a> = <a class=\"id\" href=\"#pid_vnr\">pid_vnr</a>(<a class=\"id\" href=\"#sid\">sid</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_lock_irq\">write_lock_irq</a>(&amp;<a class=\"id\" href=\"#tasklist_lock\">tasklist_lock</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/* Fail if I am already a session leader */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#group_leader\">group_leader</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#leader\">leader</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Fail if a process group id already exists that equals the</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * proposed session id.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pid_task\">pid_task</a>(<a class=\"id\" href=\"#sid\">sid</a>, <a class=\"id\" href=\"#PIDTYPE_PGID\">PIDTYPE_PGID</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#group_leader\">group_leader</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#leader\">leader</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__set_special_pids\">__set_special_pids</a>(<a class=\"id\" href=\"#sid\">sid</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#proc_clear_tty\">proc_clear_tty</a>(<a class=\"id\" href=\"#group_leader\">group_leader</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#session\">session</a>;", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_unlock_irq\">write_unlock_irq</a>(&amp;<a class=\"id\" href=\"#tasklist_lock\">tasklist_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &gt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#proc_sid_connector\">proc_sid_connector</a>(<a class=\"id\" href=\"#group_leader\">group_leader</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#DECLARE_RWSEM\">DECLARE_RWSEM</a>(<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#COMPAT_UTS_MACHINE\">COMPAT_UTS_MACHINE</a>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#override_architecture\">override_architecture</a>(<a class=\"id\" href=\"#name\">name</a>) \\", 
"<span class=\"ts\"/>(<a class=\"id\" href=\"#personality\">personality</a>(<a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#personality\">personality</a>) == <a class=\"id\" href=\"#PER_LINUX32\">PER_LINUX32</a> && \\", 
"<span class=\"ts\"/> <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#machine\">machine</a>, <a class=\"id\" href=\"#COMPAT_UTS_MACHINE\">COMPAT_UTS_MACHINE</a>, \\", 
"<span class=\"ts\"/><span class=\"ts\"/>      sizeof(<a class=\"id\" href=\"#COMPAT_UTS_MACHINE\">COMPAT_UTS_MACHINE</a>)))", 
"#else", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#override_architecture\">override_architecture</a>(<a class=\"id\" href=\"#name\">name</a>)<span class=\"ts\"/>0", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE1\">SYSCALL_DEFINE1</a>(<a class=\"id\" href=\"#newuname\">newuname</a>, struct <a class=\"id\" href=\"#new_utsname\">new_utsname</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#name\">name</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#errno\">errno</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#down_read\">down_read</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#utsname\">utsname</a>(), sizeof *<a class=\"id\" href=\"#name\">name</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#errno\">errno</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#up_read\">up_read</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#errno\">errno</a> && <a class=\"id\" href=\"#override_architecture\">override_architecture</a>(<a class=\"id\" href=\"#name\">name</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#errno\">errno</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#errno\">errno</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#__ARCH_WANT_SYS_OLD_UNAME\">__ARCH_WANT_SYS_OLD_UNAME</a>", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Old cruft</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE1\">SYSCALL_DEFINE1</a>(<a class=\"id\" href=\"#uname\">uname</a>, struct <a class=\"id\" href=\"#old_utsname\">old_utsname</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#name\">name</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a> = 0;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#name\">name</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#down_read\">down_read</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#utsname\">utsname</a>(), sizeof(*<a class=\"id\" href=\"#name\">name</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#up_read\">up_read</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a> && <a class=\"id\" href=\"#override_architecture\">override_architecture</a>(<a class=\"id\" href=\"#name\">name</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE1\">SYSCALL_DEFINE1</a>(<a class=\"id\" href=\"#olduname\">olduname</a>, struct <a class=\"id\" href=\"#oldold_utsname\">oldold_utsname</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#name\">name</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#name\">name</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#access_ok\">access_ok</a>(<a class=\"id\" href=\"#VERIFY_WRITE\">VERIFY_WRITE</a>, <a class=\"id\" href=\"#name\">name</a>, sizeof(struct <a class=\"id\" href=\"#oldold_utsname\">oldold_utsname</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#down_read\">down_read</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#__copy_to_user\">__copy_to_user</a>(&amp;<a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#sysname\">sysname</a>, &amp;<a class=\"id\" href=\"#utsname\">utsname</a>()-><a class=\"id\" href=\"#sysname\">sysname</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#__OLD_UTS_LEN\">__OLD_UTS_LEN</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(0, <a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#sysname\">sysname</a> + <a class=\"id\" href=\"#__OLD_UTS_LEN\">__OLD_UTS_LEN</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> |= <a class=\"id\" href=\"#__copy_to_user\">__copy_to_user</a>(&amp;<a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#nodename\">nodename</a>, &amp;<a class=\"id\" href=\"#utsname\">utsname</a>()-><a class=\"id\" href=\"#nodename\">nodename</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__OLD_UTS_LEN\">__OLD_UTS_LEN</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(0, <a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#nodename\">nodename</a> + <a class=\"id\" href=\"#__OLD_UTS_LEN\">__OLD_UTS_LEN</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> |= <a class=\"id\" href=\"#__copy_to_user\">__copy_to_user</a>(&amp;<a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#release\">release</a>, &amp;<a class=\"id\" href=\"#utsname\">utsname</a>()-><a class=\"id\" href=\"#release\">release</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__OLD_UTS_LEN\">__OLD_UTS_LEN</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(0, <a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#release\">release</a> + <a class=\"id\" href=\"#__OLD_UTS_LEN\">__OLD_UTS_LEN</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> |= <a class=\"id\" href=\"#__copy_to_user\">__copy_to_user</a>(&amp;<a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#version\">version</a>, &amp;<a class=\"id\" href=\"#utsname\">utsname</a>()-><a class=\"id\" href=\"#version\">version</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__OLD_UTS_LEN\">__OLD_UTS_LEN</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(0, <a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#version\">version</a> + <a class=\"id\" href=\"#__OLD_UTS_LEN\">__OLD_UTS_LEN</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> |= <a class=\"id\" href=\"#__copy_to_user\">__copy_to_user</a>(&amp;<a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#machine\">machine</a>, &amp;<a class=\"id\" href=\"#utsname\">utsname</a>()-><a class=\"id\" href=\"#machine\">machine</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__OLD_UTS_LEN\">__OLD_UTS_LEN</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> |= <a class=\"id\" href=\"#__put_user\">__put_user</a>(0, <a class=\"id\" href=\"#name\">name</a>-><a class=\"id\" href=\"#machine\">machine</a> + <a class=\"id\" href=\"#__OLD_UTS_LEN\">__OLD_UTS_LEN</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#up_read\">up_read</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a> && <a class=\"id\" href=\"#override_architecture\">override_architecture</a>(<a class=\"id\" href=\"#name\">name</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a> ? -<a class=\"id\" href=\"#EFAULT\">EFAULT</a> : 0;", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE2\">SYSCALL_DEFINE2</a>(<a class=\"id\" href=\"#sethostname\">sethostname</a>, char <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#name\">name</a>, int, <a class=\"id\" href=\"#len\">len</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#errno\">errno</a>;", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#tmp\">tmp</a>[<a class=\"id\" href=\"#__NEW_UTS_LEN\">__NEW_UTS_LEN</a>];", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_ADMIN\">CAP_SYS_ADMIN</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> &lt; 0 || <a class=\"id\" href=\"#len\">len</a> &gt; <a class=\"id\" href=\"#__NEW_UTS_LEN\">__NEW_UTS_LEN</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#down_write\">down_write</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#errno\">errno</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#tmp\">tmp</a>, <a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#len\">len</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#new_utsname\">new_utsname</a> *<a class=\"id\" href=\"#u\">u</a> = <a class=\"id\" href=\"#utsname\">utsname</a>();", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#u\">u</a>-><a class=\"id\" href=\"#nodename\">nodename</a>, <a class=\"id\" href=\"#tmp\">tmp</a>, <a class=\"id\" href=\"#len\">len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(<a class=\"id\" href=\"#u\">u</a>-><a class=\"id\" href=\"#nodename\">nodename</a> + <a class=\"id\" href=\"#len\">len</a>, 0, sizeof(<a class=\"id\" href=\"#u\">u</a>-><a class=\"id\" href=\"#nodename\">nodename</a>) - <a class=\"id\" href=\"#len\">len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#errno\">errno</a> = 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#up_write\">up_write</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#errno\">errno</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#__ARCH_WANT_SYS_GETHOSTNAME\">__ARCH_WANT_SYS_GETHOSTNAME</a>", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE2\">SYSCALL_DEFINE2</a>(<a class=\"id\" href=\"#gethostname\">gethostname</a>, char <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#name\">name</a>, int, <a class=\"id\" href=\"#len\">len</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#errno\">errno</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#new_utsname\">new_utsname</a> *<a class=\"id\" href=\"#u\">u</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#down_read\">down_read</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u\">u</a> = <a class=\"id\" href=\"#utsname\">utsname</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = 1 + <a class=\"id\" href=\"#strlen\">strlen</a>(<a class=\"id\" href=\"#u\">u</a>-><a class=\"id\" href=\"#nodename\">nodename</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#i\">i</a> &gt; <a class=\"id\" href=\"#len\">len</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#errno\">errno</a> = 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#u\">u</a>-><a class=\"id\" href=\"#nodename\">nodename</a>, <a class=\"id\" href=\"#i\">i</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#errno\">errno</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#up_read\">up_read</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#errno\">errno</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Only setdomainname; getdomainname can be implemented by calling</span>", 
"<span class=\"comment\"> * uname()</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE2\">SYSCALL_DEFINE2</a>(<a class=\"id\" href=\"#setdomainname\">setdomainname</a>, char <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#name\">name</a>, int, <a class=\"id\" href=\"#len\">len</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#errno\">errno</a>;", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#tmp\">tmp</a>[<a class=\"id\" href=\"#__NEW_UTS_LEN\">__NEW_UTS_LEN</a>];", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_ADMIN\">CAP_SYS_ADMIN</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> &lt; 0 || <a class=\"id\" href=\"#len\">len</a> &gt; <a class=\"id\" href=\"#__NEW_UTS_LEN\">__NEW_UTS_LEN</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#down_write\">down_write</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#errno\">errno</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#tmp\">tmp</a>, <a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#len\">len</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#new_utsname\">new_utsname</a> *<a class=\"id\" href=\"#u\">u</a> = <a class=\"id\" href=\"#utsname\">utsname</a>();", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#u\">u</a>-><a class=\"id\" href=\"#domainname\">domainname</a>, <a class=\"id\" href=\"#tmp\">tmp</a>, <a class=\"id\" href=\"#len\">len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(<a class=\"id\" href=\"#u\">u</a>-><a class=\"id\" href=\"#domainname\">domainname</a> + <a class=\"id\" href=\"#len\">len</a>, 0, sizeof(<a class=\"id\" href=\"#u\">u</a>-><a class=\"id\" href=\"#domainname\">domainname</a>) - <a class=\"id\" href=\"#len\">len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#errno\">errno</a> = 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#up_write\">up_write</a>(&amp;<a class=\"id\" href=\"#uts_sem\">uts_sem</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#errno\">errno</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE2\">SYSCALL_DEFINE2</a>(<a class=\"id\" href=\"#getrlimit\">getrlimit</a>, unsigned int, <a class=\"id\" href=\"#resource\">resource</a>, struct <a class=\"id\" href=\"#rlimit\">rlimit</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#rlim\">rlim</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rlimit\">rlimit</a> <a class=\"id\" href=\"#value\">value</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#do_prlimit\">do_prlimit</a>(<a class=\"id\" href=\"#current\">current</a>, <a class=\"id\" href=\"#resource\">resource</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#value\">value</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#rlim\">rlim</a>, &amp;<a class=\"id\" href=\"#value\">value</a>, sizeof(*<a class=\"id\" href=\"#rlim\">rlim</a>)) ? -<a class=\"id\" href=\"#EFAULT\">EFAULT</a> : 0;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#__ARCH_WANT_SYS_OLD_GETRLIMIT\">__ARCH_WANT_SYS_OLD_GETRLIMIT</a>", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Back compatibility for getrlimit. Needed for some apps.</span>", 
"<span class=\"comment\"> */</span>", 
" ", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE2\">SYSCALL_DEFINE2</a>(<a class=\"id\" href=\"#old_getrlimit\">old_getrlimit</a>, unsigned int, <a class=\"id\" href=\"#resource\">resource</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#rlimit\">rlimit</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#rlim\">rlim</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rlimit\">rlimit</a> <a class=\"id\" href=\"#x\">x</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#resource\">resource</a> >= <a class=\"id\" href=\"#RLIM_NLIMITS\">RLIM_NLIMITS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#task_lock\">task_lock</a>(<a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#group_leader\">group_leader</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#x\">x</a> = <a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#rlim\">rlim</a>[<a class=\"id\" href=\"#resource\">resource</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#task_unlock\">task_unlock</a>(<a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#group_leader\">group_leader</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#x\">x</a>.<a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> &gt; 0x7FFFFFFF)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x\">x</a>.<a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> = 0x7FFFFFFF;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#x\">x</a>.<a class=\"id\" href=\"#rlim_max\">rlim_max</a> &gt; 0x7FFFFFFF)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x\">x</a>.<a class=\"id\" href=\"#rlim_max\">rlim_max</a> = 0x7FFFFFFF;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#rlim\">rlim</a>, &amp;<a class=\"id\" href=\"#x\">x</a>, sizeof(<a class=\"id\" href=\"#x\">x</a>))?-<a class=\"id\" href=\"#EFAULT\">EFAULT</a>:0;", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#rlim64_is_infinity\">rlim64_is_infinity</a>(<a class=\"id\" href=\"#__u64\">__u64</a> <a class=\"id\" href=\"#rlim64\">rlim64</a>)", 
"{", 
"#if <a class=\"id\" href=\"#BITS_PER_LONG\">BITS_PER_LONG</a> &lt; 64", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rlim64\">rlim64</a> >= <a class=\"id\" href=\"#ULONG_MAX\">ULONG_MAX</a>;", 
"#else", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rlim64\">rlim64</a> == <a class=\"id\" href=\"#RLIM64_INFINITY\">RLIM64_INFINITY</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"static void <a class=\"id\" href=\"#rlim_to_rlim64\">rlim_to_rlim64</a>(const struct <a class=\"id\" href=\"#rlimit\">rlimit</a> *<a class=\"id\" href=\"#rlim\">rlim</a>, struct <a class=\"id\" href=\"#rlimit64\">rlimit64</a> *<a class=\"id\" href=\"#rlim64\">rlim64</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rlim\">rlim</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> == <a class=\"id\" href=\"#RLIM_INFINITY\">RLIM_INFINITY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rlim64\">rlim64</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> = <a class=\"id\" href=\"#RLIM64_INFINITY\">RLIM64_INFINITY</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rlim64\">rlim64</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> = <a class=\"id\" href=\"#rlim\">rlim</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rlim\">rlim</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a> == <a class=\"id\" href=\"#RLIM_INFINITY\">RLIM_INFINITY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rlim64\">rlim64</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a> = <a class=\"id\" href=\"#RLIM64_INFINITY\">RLIM64_INFINITY</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rlim64\">rlim64</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a> = <a class=\"id\" href=\"#rlim\">rlim</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#rlim64_to_rlim\">rlim64_to_rlim</a>(const struct <a class=\"id\" href=\"#rlimit64\">rlimit64</a> *<a class=\"id\" href=\"#rlim64\">rlim64</a>, struct <a class=\"id\" href=\"#rlimit\">rlimit</a> *<a class=\"id\" href=\"#rlim\">rlim</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rlim64_is_infinity\">rlim64_is_infinity</a>(<a class=\"id\" href=\"#rlim64\">rlim64</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rlim\">rlim</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> = <a class=\"id\" href=\"#RLIM_INFINITY\">RLIM_INFINITY</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rlim\">rlim</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> = (unsigned long)<a class=\"id\" href=\"#rlim64\">rlim64</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rlim64_is_infinity\">rlim64_is_infinity</a>(<a class=\"id\" href=\"#rlim64\">rlim64</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rlim\">rlim</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a> = <a class=\"id\" href=\"#RLIM_INFINITY\">RLIM_INFINITY</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rlim\">rlim</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a> = (unsigned long)<a class=\"id\" href=\"#rlim64\">rlim64</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a>;", 
"}", 
"", 
"<span class=\"comment\">/* make sure you are allowed to change @tsk limits before calling this */</span>", 
"int <a class=\"id\" href=\"#do_prlimit\">do_prlimit</a>(struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#tsk\">tsk</a>, unsigned int <a class=\"id\" href=\"#resource\">resource</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#rlimit\">rlimit</a> *<a class=\"id\" href=\"#new_rlim\">new_rlim</a>, struct <a class=\"id\" href=\"#rlimit\">rlimit</a> *<a class=\"id\" href=\"#old_rlim\">old_rlim</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rlimit\">rlimit</a> *<a class=\"id\" href=\"#rlim\">rlim</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#resource\">resource</a> >= <a class=\"id\" href=\"#RLIM_NLIMITS\">RLIM_NLIMITS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#new_rlim\">new_rlim</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#new_rlim\">new_rlim</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> &gt; <a class=\"id\" href=\"#new_rlim\">new_rlim</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#resource\">resource</a> == <a class=\"id\" href=\"#RLIMIT_NOFILE\">RLIMIT_NOFILE</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new_rlim\">new_rlim</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a> &gt; <a class=\"id\" href=\"#sysctl_nr_open\">sysctl_nr_open</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* protect tsk-&gt;signal and tsk-&gt;sighand from disappearing */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_lock\">read_lock</a>(&amp;<a class=\"id\" href=\"#tasklist_lock\">tasklist_lock</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#tsk\">tsk</a>-><a class=\"id\" href=\"#sighand\">sighand</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rlim\">rlim</a> = <a class=\"id\" href=\"#tsk\">tsk</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#rlim\">rlim</a> + <a class=\"id\" href=\"#resource\">resource</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#task_lock\">task_lock</a>(<a class=\"id\" href=\"#tsk\">tsk</a>-><a class=\"id\" href=\"#group_leader\">group_leader</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#new_rlim\">new_rlim</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#new_rlim\">new_rlim</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a> &gt; <a class=\"id\" href=\"#rlim\">rlim</a>-><a class=\"id\" href=\"#rlim_max\">rlim_max</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_RESOURCE\">CAP_SYS_RESOURCE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#retval\">retval</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#security_task_setrlimit\">security_task_setrlimit</a>(<a class=\"id\" href=\"#tsk\">tsk</a>-><a class=\"id\" href=\"#group_leader\">group_leader</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#resource\">resource</a>, <a class=\"id\" href=\"#new_rlim\">new_rlim</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#resource\">resource</a> == <a class=\"id\" href=\"#RLIMIT_CPU\">RLIMIT_CPU</a> && <a class=\"id\" href=\"#new_rlim\">new_rlim</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * The caller is asking for an immediate RLIMIT_CPU</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * expiry.  But we use the zero value to mean \"it was</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * never set\".  So let's cheat and make it one second</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * instead</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new_rlim\">new_rlim</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#retval\">retval</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#old_rlim\">old_rlim</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#old_rlim\">old_rlim</a> = *<a class=\"id\" href=\"#rlim\">rlim</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#new_rlim\">new_rlim</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#rlim\">rlim</a> = *<a class=\"id\" href=\"#new_rlim\">new_rlim</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#task_unlock\">task_unlock</a>(<a class=\"id\" href=\"#tsk\">tsk</a>-><a class=\"id\" href=\"#group_leader\">group_leader</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * RLIMIT_CPU handling.   Note that the kernel fails to return an error</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * code if it rejected the user's attempt to set RLIMIT_CPU.  This is a</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * very long-standing error, and fixing it now risks breakage of</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * applications, so we live with it</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/> if (!<a class=\"id\" href=\"#retval\">retval</a> && <a class=\"id\" href=\"#new_rlim\">new_rlim</a> && <a class=\"id\" href=\"#resource\">resource</a> == <a class=\"id\" href=\"#RLIMIT_CPU\">RLIMIT_CPU</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#new_rlim\">new_rlim</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a> != <a class=\"id\" href=\"#RLIM_INFINITY\">RLIM_INFINITY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#update_rlimit_cpu\">update_rlimit_cpu</a>(<a class=\"id\" href=\"#tsk\">tsk</a>, <a class=\"id\" href=\"#new_rlim\">new_rlim</a>-><a class=\"id\" href=\"#rlim_cur\">rlim_cur</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_unlock\">read_unlock</a>(&amp;<a class=\"id\" href=\"#tasklist_lock\">tasklist_lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"<span class=\"comment\">/* rcu lock must be held */</span>", 
"static int <a class=\"id\" href=\"#check_prlimit_permission\">check_prlimit_permission</a>(struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#task\">task</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#cred\">cred</a> *<a class=\"id\" href=\"#cred\">cred</a> = <a class=\"id\" href=\"#current_cred\">current_cred</a>(), *<a class=\"id\" href=\"#tcred\">tcred</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcred\">tcred</a> = <a class=\"id\" href=\"#__task_cred\">__task_cred</a>(<a class=\"id\" href=\"#task\">task</a>);", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#uid\">uid</a> != <a class=\"id\" href=\"#tcred\">tcred</a>-><a class=\"id\" href=\"#euid\">euid</a> ||", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#uid\">uid</a> != <a class=\"id\" href=\"#tcred\">tcred</a>-><a class=\"id\" href=\"#suid\">suid</a> ||", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#uid\">uid</a> != <a class=\"id\" href=\"#tcred\">tcred</a>-><a class=\"id\" href=\"#uid\">uid</a>  ||", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#gid\">gid</a> != <a class=\"id\" href=\"#tcred\">tcred</a>-><a class=\"id\" href=\"#egid\">egid</a> ||", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#gid\">gid</a> != <a class=\"id\" href=\"#tcred\">tcred</a>-><a class=\"id\" href=\"#sgid\">sgid</a> ||", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#cred\">cred</a>-><a class=\"id\" href=\"#gid\">gid</a> != <a class=\"id\" href=\"#tcred\">tcred</a>-><a class=\"id\" href=\"#gid\">gid</a>) &&", 
"<span class=\"ts\"/>     !<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_RESOURCE\">CAP_SYS_RESOURCE</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE4\">SYSCALL_DEFINE4</a>(<a class=\"id\" href=\"#prlimit64\">prlimit64</a>, <a class=\"id\" href=\"#pid_t\">pid_t</a>, <a class=\"id\" href=\"#pid\">pid</a>, unsigned int, <a class=\"id\" href=\"#resource\">resource</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>const struct <a class=\"id\" href=\"#rlimit64\">rlimit64</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#new_rlim\">new_rlim</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#rlimit64\">rlimit64</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#old_rlim\">old_rlim</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rlimit64\">rlimit64</a> <a class=\"id\" href=\"#old64\">old64</a>, <a class=\"id\" href=\"#new64\">new64</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rlimit\">rlimit</a> <a class=\"id\" href=\"#old\">old</a>, <a class=\"id\" href=\"#new\">new</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#tsk\">tsk</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#new_rlim\">new_rlim</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#new64\">new64</a>, <a class=\"id\" href=\"#new_rlim\">new_rlim</a>, sizeof(<a class=\"id\" href=\"#new64\">new64</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rlim64_to_rlim\">rlim64_to_rlim</a>(&amp;<a class=\"id\" href=\"#new64\">new64</a>, &amp;<a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_lock\">rcu_read_lock</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tsk\">tsk</a> = <a class=\"id\" href=\"#pid\">pid</a> ? <a class=\"id\" href=\"#find_task_by_vpid\">find_task_by_vpid</a>(<a class=\"id\" href=\"#pid\">pid</a>) : <a class=\"id\" href=\"#current\">current</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#tsk\">tsk</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#check_prlimit_permission\">check_prlimit_permission</a>(<a class=\"id\" href=\"#tsk\">tsk</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#get_task_struct\">get_task_struct</a>(<a class=\"id\" href=\"#tsk\">tsk</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#do_prlimit\">do_prlimit</a>(<a class=\"id\" href=\"#tsk\">tsk</a>, <a class=\"id\" href=\"#resource\">resource</a>, <a class=\"id\" href=\"#new_rlim\">new_rlim</a> ? &amp;<a class=\"id\" href=\"#new\">new</a> : <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#old_rlim\">old_rlim</a> ? &amp;<a class=\"id\" href=\"#old\">old</a> : <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a> && <a class=\"id\" href=\"#old_rlim\">old_rlim</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rlim_to_rlim64\">rlim_to_rlim64</a>(&amp;<a class=\"id\" href=\"#old\">old</a>, &amp;<a class=\"id\" href=\"#old64\">old64</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#old_rlim\">old_rlim</a>, &amp;<a class=\"id\" href=\"#old64\">old64</a>, sizeof(<a class=\"id\" href=\"#old64\">old64</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#put_task_struct\">put_task_struct</a>(<a class=\"id\" href=\"#tsk\">tsk</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE2\">SYSCALL_DEFINE2</a>(<a class=\"id\" href=\"#setrlimit\">setrlimit</a>, unsigned int, <a class=\"id\" href=\"#resource\">resource</a>, struct <a class=\"id\" href=\"#rlimit\">rlimit</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#rlim\">rlim</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rlimit\">rlimit</a> <a class=\"id\" href=\"#new_rlim\">new_rlim</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#new_rlim\">new_rlim</a>, <a class=\"id\" href=\"#rlim\">rlim</a>, sizeof(*<a class=\"id\" href=\"#rlim\">rlim</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#do_prlimit\">do_prlimit</a>(<a class=\"id\" href=\"#current\">current</a>, <a class=\"id\" href=\"#resource\">resource</a>, &amp;<a class=\"id\" href=\"#new_rlim\">new_rlim</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * It would make sense to put struct rusage in the task_struct,</span>", 
"<span class=\"comment\"> * except that would make the task_struct be *really big*.  After</span>", 
"<span class=\"comment\"> * task_struct gets moved into malloc'ed memory, it would</span>", 
"<span class=\"comment\"> * make sense to do this.  It will make moving the rest of the information</span>", 
"<span class=\"comment\"> * a lot simpler!  (Which we're not doing right now because we're not</span>", 
"<span class=\"comment\"> * measuring them yet).</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * When sampling multiple threads for RUSAGE_SELF, under SMP we might have</span>", 
"<span class=\"comment\"> * races with threads incrementing their own counters.  But since word</span>", 
"<span class=\"comment\"> * reads are atomic, we either get new values or old values and we don't</span>", 
"<span class=\"comment\"> * care which for the sums.  We always take the siglock to protect reading</span>", 
"<span class=\"comment\"> * the c* fields from p-&gt;signal from races with exit.c updating those</span>", 
"<span class=\"comment\"> * fields when reaping, so a sample either gets all the additions of a</span>", 
"<span class=\"comment\"> * given child after it's reaped, or none so this sample is before reaping.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Locking:</span>", 
"<span class=\"comment\"> * We need to take the siglock for CHILDEREN, SELF and BOTH</span>", 
"<span class=\"comment\"> * for  the cases current multithreaded, non-current single threaded</span>", 
"<span class=\"comment\"> * non-current multithreaded.  Thread traversal is now safe with</span>", 
"<span class=\"comment\"> * the siglock held.</span>", 
"<span class=\"comment\"> * Strictly speaking, we donot need to take the siglock if we are current and</span>", 
"<span class=\"comment\"> * single threaded,  as no one else can take our signal_struct away, no one</span>", 
"<span class=\"comment\"> * else can  reap the  children to update signal-&gt;c* counters, and no one else</span>", 
"<span class=\"comment\"> * can race with the signal-&gt; fields. If we do not take any lock, the</span>", 
"<span class=\"comment\"> * signal-&gt; fields could be read out of order while another thread was just</span>", 
"<span class=\"comment\"> * exiting. So we should  place a read memory barrier when we avoid the lock.</span>", 
"<span class=\"comment\"> * On the writer side,  write memory barrier is implied in  __exit_signal</span>", 
"<span class=\"comment\"> * as __exit_signal releases  the siglock spinlock after updating the signal-&gt;</span>", 
"<span class=\"comment\"> * fields. But we don't do this yet to keep things simple.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static void <a class=\"id\" href=\"#accumulate_thread_rusage\">accumulate_thread_rusage</a>(struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#t\">t</a>, struct <a class=\"id\" href=\"#rusage\">rusage</a> *<a class=\"id\" href=\"#r\">r</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_nvcsw\">ru_nvcsw</a> += <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#nvcsw\">nvcsw</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_nivcsw\">ru_nivcsw</a> += <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#nivcsw\">nivcsw</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_minflt\">ru_minflt</a> += <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#min_flt\">min_flt</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_majflt\">ru_majflt</a> += <a class=\"id\" href=\"#t\">t</a>-><a class=\"id\" href=\"#maj_flt\">maj_flt</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_inblock\">ru_inblock</a> += <a class=\"id\" href=\"#task_io_get_inblock\">task_io_get_inblock</a>(<a class=\"id\" href=\"#t\">t</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_oublock\">ru_oublock</a> += <a class=\"id\" href=\"#task_io_get_oublock\">task_io_get_oublock</a>(<a class=\"id\" href=\"#t\">t</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#k_getrusage\">k_getrusage</a>(struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#p\">p</a>, int <a class=\"id\" href=\"#who\">who</a>, struct <a class=\"id\" href=\"#rusage\">rusage</a> *<a class=\"id\" href=\"#r\">r</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#t\">t</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#flags\">flags</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cputime_t\">cputime_t</a> <a class=\"id\" href=\"#tgutime\">tgutime</a>, <a class=\"id\" href=\"#tgstime\">tgstime</a>, <a class=\"id\" href=\"#utime\">utime</a>, <a class=\"id\" href=\"#stime\">stime</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#maxrss\">maxrss</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>((char *) <a class=\"id\" href=\"#r\">r</a>, 0, sizeof *<a class=\"id\" href=\"#r\">r</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#utime\">utime</a> = <a class=\"id\" href=\"#stime\">stime</a> = <a class=\"id\" href=\"#cputime_zero\">cputime_zero</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#who\">who</a> == <a class=\"id\" href=\"#RUSAGE_THREAD\">RUSAGE_THREAD</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#task_times\">task_times</a>(<a class=\"id\" href=\"#current\">current</a>, &amp;<a class=\"id\" href=\"#utime\">utime</a>, &amp;<a class=\"id\" href=\"#stime\">stime</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#accumulate_thread_rusage\">accumulate_thread_rusage</a>(<a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#r\">r</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#maxrss\">maxrss</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#maxrss\">maxrss</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_task_sighand\">lock_task_sighand</a>(<a class=\"id\" href=\"#p\">p</a>, &amp;<a class=\"id\" href=\"#flags\">flags</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#who\">who</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#RUSAGE_BOTH\">RUSAGE_BOTH</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#RUSAGE_CHILDREN\">RUSAGE_CHILDREN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#utime\">utime</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#cutime\">cutime</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#stime\">stime</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#cstime\">cstime</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_nvcsw\">ru_nvcsw</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#cnvcsw\">cnvcsw</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_nivcsw\">ru_nivcsw</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#cnivcsw\">cnivcsw</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_minflt\">ru_minflt</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#cmin_flt\">cmin_flt</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_majflt\">ru_majflt</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#cmaj_flt\">cmaj_flt</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_inblock\">ru_inblock</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#cinblock\">cinblock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_oublock\">ru_oublock</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#coublock\">coublock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#maxrss\">maxrss</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#cmaxrss\">cmaxrss</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#who\">who</a> == <a class=\"id\" href=\"#RUSAGE_CHILDREN\">RUSAGE_CHILDREN</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#RUSAGE_SELF\">RUSAGE_SELF</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#thread_group_times\">thread_group_times</a>(<a class=\"id\" href=\"#p\">p</a>, &amp;<a class=\"id\" href=\"#tgutime\">tgutime</a>, &amp;<a class=\"id\" href=\"#tgstime\">tgstime</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#utime\">utime</a> = <a class=\"id\" href=\"#cputime_add\">cputime_add</a>(<a class=\"id\" href=\"#utime\">utime</a>, <a class=\"id\" href=\"#tgutime\">tgutime</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#stime\">stime</a> = <a class=\"id\" href=\"#cputime_add\">cputime_add</a>(<a class=\"id\" href=\"#stime\">stime</a>, <a class=\"id\" href=\"#tgstime\">tgstime</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_nvcsw\">ru_nvcsw</a> += <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#nvcsw\">nvcsw</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_nivcsw\">ru_nivcsw</a> += <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#nivcsw\">nivcsw</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_minflt\">ru_minflt</a> += <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#min_flt\">min_flt</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_majflt\">ru_majflt</a> += <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#maj_flt\">maj_flt</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_inblock\">ru_inblock</a> += <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#inblock\">inblock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_oublock\">ru_oublock</a> += <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#oublock\">oublock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#maxrss\">maxrss</a> &lt; <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#maxrss\">maxrss</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#maxrss\">maxrss</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#signal\">signal</a>-><a class=\"id\" href=\"#maxrss\">maxrss</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#t\">t</a> = <a class=\"id\" href=\"#p\">p</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>do {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#accumulate_thread_rusage\">accumulate_thread_rusage</a>(<a class=\"id\" href=\"#t\">t</a>, <a class=\"id\" href=\"#r\">r</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#t\">t</a> = <a class=\"id\" href=\"#next_thread\">next_thread</a>(<a class=\"id\" href=\"#t\">t</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} while (<a class=\"id\" href=\"#t\">t</a> != <a class=\"id\" href=\"#p\">p</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#BUG\">BUG</a>();", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unlock_task_sighand\">unlock_task_sighand</a>(<a class=\"id\" href=\"#p\">p</a>, &amp;<a class=\"id\" href=\"#flags\">flags</a>);", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cputime_to_timeval\">cputime_to_timeval</a>(<a class=\"id\" href=\"#utime\">utime</a>, &amp;<a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_utime\">ru_utime</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cputime_to_timeval\">cputime_to_timeval</a>(<a class=\"id\" href=\"#stime\">stime</a>, &amp;<a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_stime\">ru_stime</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#who\">who</a> != <a class=\"id\" href=\"#RUSAGE_CHILDREN\">RUSAGE_CHILDREN</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#mm_struct\">mm_struct</a> *<a class=\"id\" href=\"#mm\">mm</a> = <a class=\"id\" href=\"#get_task_mm\">get_task_mm</a>(<a class=\"id\" href=\"#p\">p</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#mm\">mm</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#setmax_mm_hiwater_rss\">setmax_mm_hiwater_rss</a>(&amp;<a class=\"id\" href=\"#maxrss\">maxrss</a>, <a class=\"id\" href=\"#mm\">mm</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mmput\">mmput</a>(<a class=\"id\" href=\"#mm\">mm</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#r\">r</a>-><a class=\"id\" href=\"#ru_maxrss\">ru_maxrss</a> = <a class=\"id\" href=\"#maxrss\">maxrss</a> * (<a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a> / 1024); <span class=\"comment\">/* convert pages to KBs */</span>", 
"}", 
"", 
"int <a class=\"id\" href=\"#getrusage\">getrusage</a>(struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#p\">p</a>, int <a class=\"id\" href=\"#who\">who</a>, struct <a class=\"id\" href=\"#rusage\">rusage</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#ru\">ru</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rusage\">rusage</a> <a class=\"id\" href=\"#r\">r</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#k_getrusage\">k_getrusage</a>(<a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#who\">who</a>, &amp;<a class=\"id\" href=\"#r\">r</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#ru\">ru</a>, &amp;<a class=\"id\" href=\"#r\">r</a>, sizeof(<a class=\"id\" href=\"#r\">r</a>)) ? -<a class=\"id\" href=\"#EFAULT\">EFAULT</a> : 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE2\">SYSCALL_DEFINE2</a>(<a class=\"id\" href=\"#getrusage\">getrusage</a>, int, <a class=\"id\" href=\"#who\">who</a>, struct <a class=\"id\" href=\"#rusage\">rusage</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#ru\">ru</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#who\">who</a> != <a class=\"id\" href=\"#RUSAGE_SELF\">RUSAGE_SELF</a> && <a class=\"id\" href=\"#who\">who</a> != <a class=\"id\" href=\"#RUSAGE_CHILDREN\">RUSAGE_CHILDREN</a> &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#who\">who</a> != <a class=\"id\" href=\"#RUSAGE_THREAD\">RUSAGE_THREAD</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#getrusage\">getrusage</a>(<a class=\"id\" href=\"#current\">current</a>, <a class=\"id\" href=\"#who\">who</a>, <a class=\"id\" href=\"#ru\">ru</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE1\">SYSCALL_DEFINE1</a>(<a class=\"id\" href=\"#umask\">umask</a>, int, <a class=\"id\" href=\"#mask\">mask</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mask\">mask</a> = <a class=\"id\" href=\"#xchg\">xchg</a>(&amp;<a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#fs\">fs</a>-><a class=\"id\" href=\"#umask\">umask</a>, <a class=\"id\" href=\"#mask\">mask</a> &amp; <a class=\"id\" href=\"#S_IRWXUGO\">S_IRWXUGO</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#mask\">mask</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE5\">SYSCALL_DEFINE5</a>(<a class=\"id\" href=\"#prctl\">prctl</a>, int, <a class=\"id\" href=\"#option\">option</a>, unsigned long, <a class=\"id\" href=\"#arg2\">arg2</a>, unsigned long, <a class=\"id\" href=\"#arg3\">arg3</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned long, <a class=\"id\" href=\"#arg4\">arg4</a>, unsigned long, <a class=\"id\" href=\"#arg5\">arg5</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#task_struct\">task_struct</a> *<a class=\"id\" href=\"#me\">me</a> = <a class=\"id\" href=\"#current\">current</a>;", 
"<span class=\"ts\"/>unsigned char <a class=\"id\" href=\"#comm\">comm</a>[sizeof(<a class=\"id\" href=\"#me\">me</a>-><a class=\"id\" href=\"#comm\">comm</a>)];", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#security_task_prctl\">security_task_prctl</a>(<a class=\"id\" href=\"#option\">option</a>, <a class=\"id\" href=\"#arg2\">arg2</a>, <a class=\"id\" href=\"#arg3\">arg3</a>, <a class=\"id\" href=\"#arg4\">arg4</a>, <a class=\"id\" href=\"#arg5\">arg5</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a> != -<a class=\"id\" href=\"#ENOSYS\">ENOSYS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = 0;", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#option\">option</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_PDEATHSIG\">PR_SET_PDEATHSIG</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#valid_signal\">valid_signal</a>(<a class=\"id\" href=\"#arg2\">arg2</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#me\">me</a>-><a class=\"id\" href=\"#pdeath_signal\">pdeath_signal</a> = <a class=\"id\" href=\"#arg2\">arg2</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_PDEATHSIG\">PR_GET_PDEATHSIG</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#me\">me</a>-><a class=\"id\" href=\"#pdeath_signal\">pdeath_signal</a>, (int <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_DUMPABLE\">PR_GET_DUMPABLE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#get_dumpable\">get_dumpable</a>(<a class=\"id\" href=\"#me\">me</a>-><a class=\"id\" href=\"#mm\">mm</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_DUMPABLE\">PR_SET_DUMPABLE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#arg2\">arg2</a> &lt; 0 || <a class=\"id\" href=\"#arg2\">arg2</a> &gt; 1) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_dumpable\">set_dumpable</a>(<a class=\"id\" href=\"#me\">me</a>-><a class=\"id\" href=\"#mm\">mm</a>, <a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_UNALIGN\">PR_SET_UNALIGN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#SET_UNALIGN_CTL\">SET_UNALIGN_CTL</a>(<a class=\"id\" href=\"#me\">me</a>, <a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_UNALIGN\">PR_GET_UNALIGN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#GET_UNALIGN_CTL\">GET_UNALIGN_CTL</a>(<a class=\"id\" href=\"#me\">me</a>, <a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_FPEMU\">PR_SET_FPEMU</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#SET_FPEMU_CTL\">SET_FPEMU_CTL</a>(<a class=\"id\" href=\"#me\">me</a>, <a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_FPEMU\">PR_GET_FPEMU</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#GET_FPEMU_CTL\">GET_FPEMU_CTL</a>(<a class=\"id\" href=\"#me\">me</a>, <a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_FPEXC\">PR_SET_FPEXC</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#SET_FPEXC_CTL\">SET_FPEXC_CTL</a>(<a class=\"id\" href=\"#me\">me</a>, <a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_FPEXC\">PR_GET_FPEXC</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#GET_FPEXC_CTL\">GET_FPEXC_CTL</a>(<a class=\"id\" href=\"#me\">me</a>, <a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_TIMING\">PR_GET_TIMING</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#PR_TIMING_STATISTICAL\">PR_TIMING_STATISTICAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_TIMING\">PR_SET_TIMING</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#arg2\">arg2</a> != <a class=\"id\" href=\"#PR_TIMING_STATISTICAL\">PR_TIMING_STATISTICAL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_NAME\">PR_SET_NAME</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#comm\">comm</a>[sizeof(<a class=\"id\" href=\"#me\">me</a>-><a class=\"id\" href=\"#comm\">comm</a>)-1] = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#strncpy_from_user\">strncpy_from_user</a>(<a class=\"id\" href=\"#comm\">comm</a>, (char <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg2\">arg2</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      sizeof(<a class=\"id\" href=\"#me\">me</a>-><a class=\"id\" href=\"#comm\">comm</a>) - 1) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_task_comm\">set_task_comm</a>(<a class=\"id\" href=\"#me\">me</a>, <a class=\"id\" href=\"#comm\">comm</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_NAME\">PR_GET_NAME</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#get_task_comm\">get_task_comm</a>(<a class=\"id\" href=\"#comm\">comm</a>, <a class=\"id\" href=\"#me\">me</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>((char <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg2\">arg2</a>, <a class=\"id\" href=\"#comm\">comm</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> sizeof(<a class=\"id\" href=\"#comm\">comm</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_ENDIAN\">PR_GET_ENDIAN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#GET_ENDIAN\">GET_ENDIAN</a>(<a class=\"id\" href=\"#me\">me</a>, <a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_ENDIAN\">PR_SET_ENDIAN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#SET_ENDIAN\">SET_ENDIAN</a>(<a class=\"id\" href=\"#me\">me</a>, <a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_SECCOMP\">PR_GET_SECCOMP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#prctl_get_seccomp\">prctl_get_seccomp</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_SECCOMP\">PR_SET_SECCOMP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#prctl_set_seccomp\">prctl_set_seccomp</a>(<a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_TSC\">PR_GET_TSC</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#GET_TSC_CTL\">GET_TSC_CTL</a>(<a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_TSC\">PR_SET_TSC</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#SET_TSC_CTL\">SET_TSC_CTL</a>(<a class=\"id\" href=\"#arg2\">arg2</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_TASK_PERF_EVENTS_DISABLE\">PR_TASK_PERF_EVENTS_DISABLE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#perf_event_task_disable\">perf_event_task_disable</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_TASK_PERF_EVENTS_ENABLE\">PR_TASK_PERF_EVENTS_ENABLE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#perf_event_task_enable\">perf_event_task_enable</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_GET_TIMERSLACK\">PR_GET_TIMERSLACK</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#timer_slack_ns\">timer_slack_ns</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_SET_TIMERSLACK\">PR_SET_TIMERSLACK</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#arg2\">arg2</a> <= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#timer_slack_ns\">timer_slack_ns</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#default_timer_slack_ns\">default_timer_slack_ns</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#timer_slack_ns\">timer_slack_ns</a> = <a class=\"id\" href=\"#arg2\">arg2</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_MCE_KILL\">PR_MCE_KILL</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#arg4\">arg4</a> | <a class=\"id\" href=\"#arg5\">arg5</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>switch (<a class=\"id\" href=\"#arg2\">arg2</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_MCE_KILL_CLEAR\">PR_MCE_KILL_CLEAR</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#arg3\">arg3</a> != 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#flags\">flags</a> &= ~<a class=\"id\" href=\"#PF_MCE_PROCESS\">PF_MCE_PROCESS</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_MCE_KILL_SET\">PR_MCE_KILL_SET</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#PF_MCE_PROCESS\">PF_MCE_PROCESS</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#arg3\">arg3</a> == <a class=\"id\" href=\"#PR_MCE_KILL_EARLY\">PR_MCE_KILL_EARLY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#PF_MCE_EARLY\">PF_MCE_EARLY</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#arg3\">arg3</a> == <a class=\"id\" href=\"#PR_MCE_KILL_LATE\">PR_MCE_KILL_LATE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#flags\">flags</a> &= ~<a class=\"id\" href=\"#PF_MCE_EARLY\">PF_MCE_EARLY</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#arg3\">arg3</a> == <a class=\"id\" href=\"#PR_MCE_KILL_DEFAULT\">PR_MCE_KILL_DEFAULT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#flags\">flags</a> &=", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>~(<a class=\"id\" href=\"#PF_MCE_EARLY\">PF_MCE_EARLY</a>|<a class=\"id\" href=\"#PF_MCE_PROCESS\">PF_MCE_PROCESS</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#PR_MCE_KILL_GET\">PR_MCE_KILL_GET</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#arg2\">arg2</a> | <a class=\"id\" href=\"#arg3\">arg3</a> | <a class=\"id\" href=\"#arg4\">arg4</a> | <a class=\"id\" href=\"#arg5\">arg5</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#PF_MCE_PROCESS\">PF_MCE_PROCESS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = (<a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#PF_MCE_EARLY\">PF_MCE_EARLY</a>) ?", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#PR_MCE_KILL_EARLY\">PR_MCE_KILL_EARLY</a> : <a class=\"id\" href=\"#PR_MCE_KILL_LATE\">PR_MCE_KILL_LATE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#PR_MCE_KILL_DEFAULT\">PR_MCE_KILL_DEFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#SYSCALL_DEFINE3\">SYSCALL_DEFINE3</a>(<a class=\"id\" href=\"#getcpu\">getcpu</a>, unsigned <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#cpup\">cpup</a>, unsigned <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#nodep\">nodep</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#getcpu_cache\">getcpu_cache</a> <a class=\"id\" href=\"#__user\">__user</a> *, <a class=\"id\" href=\"#unused\">unused</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#cpu\">cpu</a> = <a class=\"id\" href=\"#raw_smp_processor_id\">raw_smp_processor_id</a>();", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cpup\">cpup</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#cpu\">cpu</a>, <a class=\"id\" href=\"#cpup\">cpup</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nodep\">nodep</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#cpu_to_node\">cpu_to_node</a>(<a class=\"id\" href=\"#cpu\">cpu</a>), <a class=\"id\" href=\"#nodep\">nodep</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a> ? -<a class=\"id\" href=\"#EFAULT\">EFAULT</a> : 0;", 
"}", 
"", 
"char <a class=\"id\" href=\"#poweroff_cmd\">poweroff_cmd</a>[<a class=\"id\" href=\"#POWEROFF_CMD_PATH_LEN\">POWEROFF_CMD_PATH_LEN</a>] = \"/sbin/poweroff\";", 
"", 
"static void <a class=\"id\" href=\"#argv_cleanup\">argv_cleanup</a>(struct <a class=\"id\" href=\"#subprocess_info\">subprocess_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#argv_free\">argv_free</a>(<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#argv\">argv</a>);", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * orderly_poweroff - Trigger an orderly system poweroff</span>", 
"<span class=\"comment\"> * @force: force poweroff if command execution fails</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This may be called from any context to trigger a system shutdown.</span>", 
"<span class=\"comment\"> * If the orderly shutdown fails, it will force an immediate shutdown.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#orderly_poweroff\">orderly_poweroff</a>(<a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#force\">force</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#argc\">argc</a>;", 
"<span class=\"ts\"/>char **<a class=\"id\" href=\"#argv\">argv</a> = <a class=\"id\" href=\"#argv_split\">argv_split</a>(<a class=\"id\" href=\"#GFP_ATOMIC\">GFP_ATOMIC</a>, <a class=\"id\" href=\"#poweroff_cmd\">poweroff_cmd</a>, &amp;<a class=\"id\" href=\"#argc\">argc</a>);", 
"<span class=\"ts\"/>static char *<a class=\"id\" href=\"#envp\">envp</a>[] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>\"HOME=/\",", 
"<span class=\"ts\"/><span class=\"ts\"/>\"PATH=/sbin:/bin:/usr/sbin:/usr/bin\",", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#NULL\">NULL</a>", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#subprocess_info\">subprocess_info</a> *<a class=\"id\" href=\"#info\">info</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#argv\">argv</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> \"%s failed to allocate memory for \\\"%s\\\"\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#__func__\">__func__</a>, <a class=\"id\" href=\"#poweroff_cmd\">poweroff_cmd</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#call_usermodehelper_setup\">call_usermodehelper_setup</a>(<a class=\"id\" href=\"#argv\">argv</a>[0], <a class=\"id\" href=\"#argv\">argv</a>, <a class=\"id\" href=\"#envp\">envp</a>, <a class=\"id\" href=\"#GFP_ATOMIC\">GFP_ATOMIC</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#argv_free\">argv_free</a>(<a class=\"id\" href=\"#argv\">argv</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#call_usermodehelper_setfns\">call_usermodehelper_setfns</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#argv_cleanup\">argv_cleanup</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#call_usermodehelper_exec\">call_usermodehelper_exec</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#UMH_NO_WAIT\">UMH_NO_WAIT</a>);", 
"", 
"  <a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> && <a class=\"id\" href=\"#force\">force</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> \"Failed to start orderly shutdown: \"", 
"<span class=\"ts\"/><span class=\"ts\"/>       \"forcing the issue\\n\");", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* I guess this should try to kick off some daemon to</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/>   sync and poweroff asap.  Or not even bother syncing</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/>   if we're doing an emergency shutdown? */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#emergency_sync\">emergency_sync</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kernel_power_off\">kernel_power_off</a>();", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#orderly_poweroff\">orderly_poweroff</a>);", 
];
xr_frag_insert('l/ae/f2784d64b8553ed77529dc5da3b6d22ba3baa3.xr', __xr_tmp);
