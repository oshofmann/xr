var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * linux/fs/xattr_acl.c</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Almost all from linux/fs/ext2/acl.c:</span>", 
"<span class=\"comment\"> * Copyright (C) 2001 by Andreas Gruenbacher, &lt;a.gruenbacher@computer.org&gt;</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#fs\">fs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#posix_acl_xattr\">posix_acl_xattr</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#gfp\">gfp</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Convert from extended attribute to in-memory representation.</span>", 
"<span class=\"comment\"> */</span>", 
"struct <a class=\"id\" href=\"#posix_acl\">posix_acl</a> *", 
"<a class=\"id\" href=\"#posix_acl_from_xattr\">posix_acl_from_xattr</a>(const void *<a class=\"id\" href=\"#value\">value</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#size\">size</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#posix_acl_xattr_header\">posix_acl_xattr_header</a> *<a class=\"id\" href=\"#header\">header</a> = (<a class=\"id\" href=\"#posix_acl_xattr_header\">posix_acl_xattr_header</a> *)<a class=\"id\" href=\"#value\">value</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#posix_acl_xattr_entry\">posix_acl_xattr_entry</a> *<a class=\"id\" href=\"#entry\">entry</a> = (<a class=\"id\" href=\"#posix_acl_xattr_entry\">posix_acl_xattr_entry</a> *)(<a class=\"id\" href=\"#header\">header</a>+1), *<a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#count\">count</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#posix_acl\">posix_acl</a> *<a class=\"id\" href=\"#acl\">acl</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#posix_acl_entry\">posix_acl_entry</a> *<a class=\"id\" href=\"#acl_e\">acl_e</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#value\">value</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a> &lt; sizeof(<a class=\"id\" href=\"#posix_acl_xattr_header\">posix_acl_xattr_header</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/> return <a class=\"id\" href=\"#ERR_PTR\">ERR_PTR</a>(-<a class=\"id\" href=\"#EINVAL\">EINVAL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#header\">header</a>-><a class=\"id\" href=\"#a_version\">a_version</a> != <a class=\"id\" href=\"#cpu_to_le32\">cpu_to_le32</a>(<a class=\"id\" href=\"#POSIX_ACL_XATTR_VERSION\">POSIX_ACL_XATTR_VERSION</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ERR_PTR\">ERR_PTR</a>(-<a class=\"id\" href=\"#EOPNOTSUPP\">EOPNOTSUPP</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#count\">count</a> = <a class=\"id\" href=\"#posix_acl_xattr_count\">posix_acl_xattr_count</a>(<a class=\"id\" href=\"#size\">size</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#count\">count</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ERR_PTR\">ERR_PTR</a>(-<a class=\"id\" href=\"#EINVAL\">EINVAL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#count\">count</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acl\">acl</a> = <a class=\"id\" href=\"#posix_acl_alloc\">posix_acl_alloc</a>(<a class=\"id\" href=\"#count\">count</a>, <a class=\"id\" href=\"#GFP_NOFS\">GFP_NOFS</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acl\">acl</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ERR_PTR\">ERR_PTR</a>(-<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acl_e\">acl_e</a> = <a class=\"id\" href=\"#acl\">acl</a>-><a class=\"id\" href=\"#a_entries\">a_entries</a>;", 
"<span class=\"ts\"/>", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#end\">end</a> = <a class=\"id\" href=\"#entry\">entry</a> + <a class=\"id\" href=\"#count\">count</a>; <a class=\"id\" href=\"#entry\">entry</a> != <a class=\"id\" href=\"#end\">end</a>; <a class=\"id\" href=\"#acl_e\">acl_e</a>++, <a class=\"id\" href=\"#entry\">entry</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acl_e\">acl_e</a>-><a class=\"id\" href=\"#e_tag\">e_tag</a>  = <a class=\"id\" href=\"#le16_to_cpu\">le16_to_cpu</a>(<a class=\"id\" href=\"#entry\">entry</a>-><a class=\"id\" href=\"#e_tag\">e_tag</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acl_e\">acl_e</a>-><a class=\"id\" href=\"#e_perm\">e_perm</a> = <a class=\"id\" href=\"#le16_to_cpu\">le16_to_cpu</a>(<a class=\"id\" href=\"#entry\">entry</a>-><a class=\"id\" href=\"#e_perm\">e_perm</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>switch(<a class=\"id\" href=\"#acl_e\">acl_e</a>-><a class=\"id\" href=\"#e_tag\">e_tag</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACL_USER_OBJ\">ACL_USER_OBJ</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACL_GROUP_OBJ\">ACL_GROUP_OBJ</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACL_MASK\">ACL_MASK</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACL_OTHER\">ACL_OTHER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acl_e\">acl_e</a>-><a class=\"id\" href=\"#e_id\">e_id</a> = <a class=\"id\" href=\"#ACL_UNDEFINED_ID\">ACL_UNDEFINED_ID</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACL_USER\">ACL_USER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#ACL_GROUP\">ACL_GROUP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acl_e\">acl_e</a>-><a class=\"id\" href=\"#e_id\">e_id</a> = <a class=\"id\" href=\"#le32_to_cpu\">le32_to_cpu</a>(<a class=\"id\" href=\"#entry\">entry</a>-><a class=\"id\" href=\"#e_id\">e_id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#fail\">fail</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#acl\">acl</a>;", 
"", 
"<a class=\"id\" href=\"#fail\">fail</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#posix_acl_release\">posix_acl_release</a>(<a class=\"id\" href=\"#acl\">acl</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ERR_PTR\">ERR_PTR</a>(-<a class=\"id\" href=\"#EINVAL\">EINVAL</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a> (<a class=\"id\" href=\"#posix_acl_from_xattr\">posix_acl_from_xattr</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Convert from in-memory to extended attribute representation.</span>", 
"<span class=\"comment\"> */</span>", 
"int", 
"<a class=\"id\" href=\"#posix_acl_to_xattr\">posix_acl_to_xattr</a>(const struct <a class=\"id\" href=\"#posix_acl\">posix_acl</a> *<a class=\"id\" href=\"#acl\">acl</a>, void *<a class=\"id\" href=\"#buffer\">buffer</a>, <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#size\">size</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#posix_acl_xattr_header\">posix_acl_xattr_header</a> *<a class=\"id\" href=\"#ext_acl\">ext_acl</a> = (<a class=\"id\" href=\"#posix_acl_xattr_header\">posix_acl_xattr_header</a> *)<a class=\"id\" href=\"#buffer\">buffer</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#posix_acl_xattr_entry\">posix_acl_xattr_entry</a> *<a class=\"id\" href=\"#ext_entry\">ext_entry</a> = <a class=\"id\" href=\"#ext_acl\">ext_acl</a>-><a class=\"id\" href=\"#a_entries\">a_entries</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#real_size\">real_size</a>, <a class=\"id\" href=\"#n\">n</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#real_size\">real_size</a> = <a class=\"id\" href=\"#posix_acl_xattr_size\">posix_acl_xattr_size</a>(<a class=\"id\" href=\"#acl\">acl</a>-><a class=\"id\" href=\"#a_count\">a_count</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#buffer\">buffer</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#real_size\">real_size</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#real_size\">real_size</a> &gt; <a class=\"id\" href=\"#size\">size</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ERANGE\">ERANGE</a>;", 
"<span class=\"ts\"/>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ext_acl\">ext_acl</a>-><a class=\"id\" href=\"#a_version\">a_version</a> = <a class=\"id\" href=\"#cpu_to_le32\">cpu_to_le32</a>(<a class=\"id\" href=\"#POSIX_ACL_XATTR_VERSION\">POSIX_ACL_XATTR_VERSION</a>);", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#n\">n</a>=0; <a class=\"id\" href=\"#n\">n</a> &lt; <a class=\"id\" href=\"#acl\">acl</a>-><a class=\"id\" href=\"#a_count\">a_count</a>; <a class=\"id\" href=\"#n\">n</a>++, <a class=\"id\" href=\"#ext_entry\">ext_entry</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext_entry\">ext_entry</a>-><a class=\"id\" href=\"#e_tag\">e_tag</a>  = <a class=\"id\" href=\"#cpu_to_le16\">cpu_to_le16</a>(<a class=\"id\" href=\"#acl\">acl</a>-><a class=\"id\" href=\"#a_entries\">a_entries</a>[<a class=\"id\" href=\"#n\">n</a>].<a class=\"id\" href=\"#e_tag\">e_tag</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext_entry\">ext_entry</a>-><a class=\"id\" href=\"#e_perm\">e_perm</a> = <a class=\"id\" href=\"#cpu_to_le16\">cpu_to_le16</a>(<a class=\"id\" href=\"#acl\">acl</a>-><a class=\"id\" href=\"#a_entries\">a_entries</a>[<a class=\"id\" href=\"#n\">n</a>].<a class=\"id\" href=\"#e_perm\">e_perm</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext_entry\">ext_entry</a>-><a class=\"id\" href=\"#e_id\">e_id</a>   = <a class=\"id\" href=\"#cpu_to_le32\">cpu_to_le32</a>(<a class=\"id\" href=\"#acl\">acl</a>-><a class=\"id\" href=\"#a_entries\">a_entries</a>[<a class=\"id\" href=\"#n\">n</a>].<a class=\"id\" href=\"#e_id\">e_id</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#real_size\">real_size</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a> (<a class=\"id\" href=\"#posix_acl_to_xattr\">posix_acl_to_xattr</a>);", 
];
xr_frag_insert('l/b3/5f6b88bca27fb606a7491d190072c065cc59f2.xr', __xr_tmp);
