var __xr_tmp = [
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#qdisc_watchdog_cancel\">qdisc_watchdog_cancel</a>);", 
"", 
"static struct <a class=\"id\" href=\"#hlist_head\">hlist_head</a> *<a class=\"id\" href=\"#qdisc_class_hash_alloc\">qdisc_class_hash_alloc</a>(unsigned int <a class=\"id\" href=\"#n\">n</a>)", 
"{", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#n\">n</a> * sizeof(struct <a class=\"id\" href=\"#hlist_head\">hlist_head</a>), <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hlist_head\">hlist_head</a> *<a class=\"id\" href=\"#h\">h</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a> <= <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#h\">h</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#size\">size</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#h\">h</a> = (struct <a class=\"id\" href=\"#hlist_head\">hlist_head</a> *)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__get_free_pages\">__get_free_pages</a>(<a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>, <a class=\"id\" href=\"#get_order\">get_order</a>(<a class=\"id\" href=\"#size\">size</a>));", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#h\">h</a> != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#n\">n</a>; <a class=\"id\" href=\"#i\">i</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#INIT_HLIST_HEAD\">INIT_HLIST_HEAD</a>(&amp;<a class=\"id\" href=\"#h\">h</a>[<a class=\"id\" href=\"#i\">i</a>]);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#h\">h</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#qdisc_class_hash_free\">qdisc_class_hash_free</a>(struct <a class=\"id\" href=\"#hlist_head\">hlist_head</a> *<a class=\"id\" href=\"#h\">h</a>, unsigned int <a class=\"id\" href=\"#n\">n</a>)", 
"{", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#n\">n</a> * sizeof(struct <a class=\"id\" href=\"#hlist_head\">hlist_head</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a> <= <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#h\">h</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#free_pages\">free_pages</a>((unsigned long)<a class=\"id\" href=\"#h\">h</a>, <a class=\"id\" href=\"#get_order\">get_order</a>(<a class=\"id\" href=\"#size\">size</a>));", 
"}", 
"", 
"void <a class=\"id\" href=\"#qdisc_class_hash_grow\">qdisc_class_hash_grow</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#sch\">sch</a>, struct <a class=\"id\" href=\"#Qdisc_class_hash\">Qdisc_class_hash</a> *<a class=\"id\" href=\"#clhash\">clhash</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc_class_common\">Qdisc_class_common</a> *<a class=\"id\" href=\"#cl\">cl</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hlist_node\">hlist_node</a> *<a class=\"id\" href=\"#n\">n</a>, *<a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hlist_head\">hlist_head</a> *<a class=\"id\" href=\"#nhash\">nhash</a>, *<a class=\"id\" href=\"#ohash\">ohash</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#nsize\">nsize</a>, <a class=\"id\" href=\"#nmask\">nmask</a>, <a class=\"id\" href=\"#osize\">osize</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#h\">h</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Rehash when load factor exceeds 0.75 */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashelems\">hashelems</a> * 4 <= <a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashsize\">hashsize</a> * 3)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nsize\">nsize</a> = <a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashsize\">hashsize</a> * 2;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nmask\">nmask</a> = <a class=\"id\" href=\"#nsize\">nsize</a> - 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nhash\">nhash</a> = <a class=\"id\" href=\"#qdisc_class_hash_alloc\">qdisc_class_hash_alloc</a>(<a class=\"id\" href=\"#nsize\">nsize</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nhash\">nhash</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ohash\">ohash</a> = <a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hash\">hash</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#osize\">osize</a> = <a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashsize\">hashsize</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sch_tree_lock\">sch_tree_lock</a>(<a class=\"id\" href=\"#sch\">sch</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#osize\">osize</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hlist_for_each_entry_safe\">hlist_for_each_entry_safe</a>(<a class=\"id\" href=\"#cl\">cl</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#next\">next</a>, &amp;<a class=\"id\" href=\"#ohash\">ohash</a>[<a class=\"id\" href=\"#i\">i</a>], <a class=\"id\" href=\"#hnode\">hnode</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#h\">h</a> = <a class=\"id\" href=\"#qdisc_class_hash\">qdisc_class_hash</a>(<a class=\"id\" href=\"#cl\">cl</a>-><a class=\"id\" href=\"#classid\">classid</a>, <a class=\"id\" href=\"#nmask\">nmask</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hlist_add_head\">hlist_add_head</a>(&amp;<a class=\"id\" href=\"#cl\">cl</a>-><a class=\"id\" href=\"#hnode\">hnode</a>, &amp;<a class=\"id\" href=\"#nhash\">nhash</a>[<a class=\"id\" href=\"#h\">h</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hash\">hash</a>     = <a class=\"id\" href=\"#nhash\">nhash</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashsize\">hashsize</a> = <a class=\"id\" href=\"#nsize\">nsize</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashmask\">hashmask</a> = <a class=\"id\" href=\"#nmask\">nmask</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sch_tree_unlock\">sch_tree_unlock</a>(<a class=\"id\" href=\"#sch\">sch</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#qdisc_class_hash_free\">qdisc_class_hash_free</a>(<a class=\"id\" href=\"#ohash\">ohash</a>, <a class=\"id\" href=\"#osize\">osize</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#qdisc_class_hash_grow\">qdisc_class_hash_grow</a>);", 
"", 
"int <a class=\"id\" href=\"#qdisc_class_hash_init\">qdisc_class_hash_init</a>(struct <a class=\"id\" href=\"#Qdisc_class_hash\">Qdisc_class_hash</a> *<a class=\"id\" href=\"#clhash\">clhash</a>)", 
"{", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#size\">size</a> = 4;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hash\">hash</a> = <a class=\"id\" href=\"#qdisc_class_hash_alloc\">qdisc_class_hash_alloc</a>(<a class=\"id\" href=\"#size\">size</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hash\">hash</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashsize\">hashsize</a>  = <a class=\"id\" href=\"#size\">size</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashmask\">hashmask</a>  = <a class=\"id\" href=\"#size\">size</a> - 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashelems\">hashelems</a> = 0;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#qdisc_class_hash_init\">qdisc_class_hash_init</a>);", 
"", 
"void <a class=\"id\" href=\"#qdisc_class_hash_destroy\">qdisc_class_hash_destroy</a>(struct <a class=\"id\" href=\"#Qdisc_class_hash\">Qdisc_class_hash</a> *<a class=\"id\" href=\"#clhash\">clhash</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#qdisc_class_hash_free\">qdisc_class_hash_free</a>(<a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hash\">hash</a>, <a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashsize\">hashsize</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#qdisc_class_hash_destroy\">qdisc_class_hash_destroy</a>);", 
"", 
"void <a class=\"id\" href=\"#qdisc_class_hash_insert\">qdisc_class_hash_insert</a>(struct <a class=\"id\" href=\"#Qdisc_class_hash\">Qdisc_class_hash</a> *<a class=\"id\" href=\"#clhash\">clhash</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#Qdisc_class_common\">Qdisc_class_common</a> *<a class=\"id\" href=\"#cl\">cl</a>)", 
"{", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#h\">h</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_HLIST_NODE\">INIT_HLIST_NODE</a>(&amp;<a class=\"id\" href=\"#cl\">cl</a>-><a class=\"id\" href=\"#hnode\">hnode</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#h\">h</a> = <a class=\"id\" href=\"#qdisc_class_hash\">qdisc_class_hash</a>(<a class=\"id\" href=\"#cl\">cl</a>-><a class=\"id\" href=\"#classid\">classid</a>, <a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashmask\">hashmask</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hlist_add_head\">hlist_add_head</a>(&amp;<a class=\"id\" href=\"#cl\">cl</a>-><a class=\"id\" href=\"#hnode\">hnode</a>, &amp;<a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hash\">hash</a>[<a class=\"id\" href=\"#h\">h</a>]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashelems\">hashelems</a>++;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#qdisc_class_hash_insert\">qdisc_class_hash_insert</a>);", 
"", 
"void <a class=\"id\" href=\"#qdisc_class_hash_remove\">qdisc_class_hash_remove</a>(struct <a class=\"id\" href=\"#Qdisc_class_hash\">Qdisc_class_hash</a> *<a class=\"id\" href=\"#clhash\">clhash</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#Qdisc_class_common\">Qdisc_class_common</a> *<a class=\"id\" href=\"#cl\">cl</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hlist_del\">hlist_del</a>(&amp;<a class=\"id\" href=\"#cl\">cl</a>-><a class=\"id\" href=\"#hnode\">hnode</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clhash\">clhash</a>-><a class=\"id\" href=\"#hashelems\">hashelems</a>--;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#qdisc_class_hash_remove\">qdisc_class_hash_remove</a>);", 
"", 
"<span class=\"comment\">/* Allocate an unique handle from space managed by kernel */</span>", 
"", 
"static <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#qdisc_alloc_handle\">qdisc_alloc_handle</a>(struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a> = 0x10000;", 
"<span class=\"ts\"/>static <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#autohandle\">autohandle</a> = <a class=\"id\" href=\"#TC_H_MAKE\">TC_H_MAKE</a>(0x80000000U, 0);", 
"", 
"<span class=\"ts\"/>do {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#autohandle\">autohandle</a> += <a class=\"id\" href=\"#TC_H_MAKE\">TC_H_MAKE</a>(0x10000U, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#autohandle\">autohandle</a> == <a class=\"id\" href=\"#TC_H_MAKE\">TC_H_MAKE</a>(<a class=\"id\" href=\"#TC_H_ROOT\">TC_H_ROOT</a>, 0))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#autohandle\">autohandle</a> = <a class=\"id\" href=\"#TC_H_MAKE\">TC_H_MAKE</a>(0x80000000U, 0);", 
"<span class=\"ts\"/>} while<span class=\"ts\"/>(<a class=\"id\" href=\"#qdisc_lookup\">qdisc_lookup</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#autohandle\">autohandle</a>) && --<a class=\"id\" href=\"#i\">i</a> &gt; 0);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#i\">i</a>&gt;0 ? <a class=\"id\" href=\"#autohandle\">autohandle</a> : 0;", 
"}", 
"", 
"void <a class=\"id\" href=\"#qdisc_tree_decrease_qlen\">qdisc_tree_decrease_qlen</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#sch\">sch</a>, unsigned int <a class=\"id\" href=\"#n\">n</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#Qdisc_class_ops\">Qdisc_class_ops</a> *<a class=\"id\" href=\"#cops\">cops</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#cl\">cl</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#parentid\">parentid</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>while ((<a class=\"id\" href=\"#parentid\">parentid</a> = <a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#parent\">parent</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#parentid\">parentid</a>) == <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#TC_H_INGRESS\">TC_H_INGRESS</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sch\">sch</a> = <a class=\"id\" href=\"#qdisc_lookup\">qdisc_lookup</a>(<a class=\"id\" href=\"#qdisc_dev\">qdisc_dev</a>(<a class=\"id\" href=\"#sch\">sch</a>), <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#parentid\">parentid</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sch\">sch</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#WARN_ON\">WARN_ON</a>(<a class=\"id\" href=\"#parentid\">parentid</a> != <a class=\"id\" href=\"#TC_H_ROOT\">TC_H_ROOT</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cops\">cops</a> = <a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#qlen_notify\">qlen_notify</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cl\">cl</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#get\">get</a>(<a class=\"id\" href=\"#sch\">sch</a>, <a class=\"id\" href=\"#parentid\">parentid</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#qlen_notify\">qlen_notify</a>(<a class=\"id\" href=\"#sch\">sch</a>, <a class=\"id\" href=\"#cl\">cl</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#put\">put</a>(<a class=\"id\" href=\"#sch\">sch</a>, <a class=\"id\" href=\"#cl\">cl</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#q\">q</a>.<a class=\"id\" href=\"#qlen\">qlen</a> -= <a class=\"id\" href=\"#n\">n</a>;", 
"<span class=\"ts\"/>}", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#qdisc_tree_decrease_qlen\">qdisc_tree_decrease_qlen</a>);", 
"", 
"static void <a class=\"id\" href=\"#notify_and_destroy\">notify_and_destroy</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#clid\">clid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#old\">old</a>, struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#new\">new</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#new\">new</a> || <a class=\"id\" href=\"#old\">old</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#qdisc_notify\">qdisc_notify</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#clid\">clid</a>, <a class=\"id\" href=\"#old\">old</a>, <a class=\"id\" href=\"#new\">new</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#old\">old</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#qdisc_destroy\">qdisc_destroy</a>(<a class=\"id\" href=\"#old\">old</a>);", 
"}", 
"", 
"<span class=\"comment\">/* Graft qdisc \"new\" to class \"classid\" of qdisc \"parent\" or</span>", 
"<span class=\"comment\"> * to device \"dev\".</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * When appropriate send a netlink notification using 'skb'</span>", 
"<span class=\"comment\"> * and \"n\".</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * On success, destroy old qdisc.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static int <a class=\"id\" href=\"#qdisc_graft\">qdisc_graft</a>(struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#parent\">parent</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>       struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#classid\">classid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>       struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#new\">new</a>, struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#old\">old</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#old\">old</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#parent\">parent</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#num_q\">num_q</a>, <a class=\"id\" href=\"#ingress\">ingress</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ingress\">ingress</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num_q\">num_q</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#num_tx_queues\">num_tx_queues</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#q\">q</a> && <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#TCQ_F_INGRESS\">TCQ_F_INGRESS</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#new\">new</a> && <a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#TCQ_F_INGRESS\">TCQ_F_INGRESS</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num_q\">num_q</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ingress\">ingress</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#IFF_UP\">IFF_UP</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_deactivate\">dev_deactivate</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#new\">new</a> && <a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#attach\">attach</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#attach\">attach</a>(<a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num_q\">num_q</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#num_q\">num_q</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#netdev_queue\">netdev_queue</a> *<a class=\"id\" href=\"#dev_queue\">dev_queue</a> = &amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#rx_queue\">rx_queue</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ingress\">ingress</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_queue\">dev_queue</a> = <a class=\"id\" href=\"#netdev_get_tx_queue\">netdev_get_tx_queue</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#i\">i</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#old\">old</a> = <a class=\"id\" href=\"#dev_graft_qdisc\">dev_graft_qdisc</a>(<a class=\"id\" href=\"#dev_queue\">dev_queue</a>, <a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#new\">new</a> && <a class=\"id\" href=\"#i\">i</a> &gt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#atomic_inc\">atomic_inc</a>(&amp;<a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#refcnt\">refcnt</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ingress\">ingress</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#qdisc_destroy\">qdisc_destroy</a>(<a class=\"id\" href=\"#old\">old</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ingress\">ingress</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#notify_and_destroy\">notify_and_destroy</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#classid\">classid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#qdisc\">qdisc</a>, <a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#new\">new</a> && !<a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#attach\">attach</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#atomic_inc\">atomic_inc</a>(&amp;<a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#refcnt\">refcnt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#qdisc\">qdisc</a> = <a class=\"id\" href=\"#new\">new</a> ? : &amp;<a class=\"id\" href=\"#noop_qdisc\">noop_qdisc</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#notify_and_destroy\">notify_and_destroy</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#classid\">classid</a>, <a class=\"id\" href=\"#old\">old</a>, <a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#IFF_UP\">IFF_UP</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_activate\">dev_activate</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>const struct <a class=\"id\" href=\"#Qdisc_class_ops\">Qdisc_class_ops</a> *<a class=\"id\" href=\"#cops\">cops</a> = <a class=\"id\" href=\"#parent\">parent</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EOPNOTSUPP\">EOPNOTSUPP</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cops\">cops</a> && <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#graft\">graft</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#cl\">cl</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#get\">get</a>(<a class=\"id\" href=\"#parent\">parent</a>, <a class=\"id\" href=\"#classid\">classid</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cl\">cl</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#graft\">graft</a>(<a class=\"id\" href=\"#parent\">parent</a>, <a class=\"id\" href=\"#cl\">cl</a>, <a class=\"id\" href=\"#new\">new</a>, &amp;<a class=\"id\" href=\"#old\">old</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#put\">put</a>(<a class=\"id\" href=\"#parent\">parent</a>, <a class=\"id\" href=\"#cl\">cl</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#notify_and_destroy\">notify_and_destroy</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#classid\">classid</a>, <a class=\"id\" href=\"#old\">old</a>, <a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"<span class=\"comment\">/* lockdep annotation is needed for ingress; egress gets it only for name */</span>", 
"static struct <a class=\"id\" href=\"#lock_class_key\">lock_class_key</a> <a class=\"id\" href=\"#qdisc_tx_lock\">qdisc_tx_lock</a>;", 
"static struct <a class=\"id\" href=\"#lock_class_key\">lock_class_key</a> <a class=\"id\" href=\"#qdisc_rx_lock\">qdisc_rx_lock</a>;", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\">   Allocate and initialize new qdisc.</span>", 
"<span class=\"comment\"></span>", 
"<span class=\"comment\">   Parameters are passed via opt.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *", 
"<a class=\"id\" href=\"#qdisc_create\">qdisc_create</a>(struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>, struct <a class=\"id\" href=\"#netdev_queue\">netdev_queue</a> *<a class=\"id\" href=\"#dev_queue\">dev_queue</a>,", 
"<span class=\"ts\"/>     struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#parent\">parent</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#handle\">handle</a>,", 
"<span class=\"ts\"/>     struct <a class=\"id\" href=\"#nlattr\">nlattr</a> **<a class=\"id\" href=\"#tca\">tca</a>, int *<a class=\"id\" href=\"#errp\">errp</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#kind\">kind</a> = <a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#sch\">sch</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc_ops\">Qdisc_ops</a> *<a class=\"id\" href=\"#ops\">ops</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#qdisc_size_table\">qdisc_size_table</a> *<a class=\"id\" href=\"#stab\">stab</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ops\">ops</a> = <a class=\"id\" href=\"#qdisc_lookup_ops\">qdisc_lookup_ops</a>(<a class=\"id\" href=\"#kind\">kind</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_MODULES\">CONFIG_MODULES</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ops\">ops</a> == <a class=\"id\" href=\"#NULL\">NULL</a> && <a class=\"id\" href=\"#kind\">kind</a> != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>char <a class=\"id\" href=\"#name\">name</a>[<a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nla_strlcpy\">nla_strlcpy</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#kind\">kind</a>, <a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>) &lt; <a class=\"id\" href=\"#IFNAMSIZ\">IFNAMSIZ</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* We dropped the RTNL semaphore in order to</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * perform the module load.  So, even if we</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * succeeded in loading the module we have to</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * tell the caller to replay the request.  We</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * indicate this using -EAGAIN.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * We replay the request because the device may</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * go away in the mean time.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtnl_unlock\">rtnl_unlock</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#request_module\">request_module</a>(\"sch_%s\", <a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtnl_lock\">rtnl_lock</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ops\">ops</a> = <a class=\"id\" href=\"#qdisc_lookup_ops\">qdisc_lookup_ops</a>(<a class=\"id\" href=\"#kind\">kind</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ops\">ops</a> != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* We will try again qdisc_lookup_ops,</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * so don't keep a reference.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#module_put\">module_put</a>(<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#owner\">owner</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EAGAIN\">EAGAIN</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out\">err_out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ops\">ops</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out\">err_out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sch\">sch</a> = <a class=\"id\" href=\"#qdisc_alloc\">qdisc_alloc</a>(<a class=\"id\" href=\"#dev_queue\">dev_queue</a>, <a class=\"id\" href=\"#ops\">ops</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#sch\">sch</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#sch\">sch</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out2\">err_out2</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#parent\">parent</a> = <a class=\"id\" href=\"#parent\">parent</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#handle\">handle</a> == <a class=\"id\" href=\"#TC_H_INGRESS\">TC_H_INGRESS</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#TCQ_F_INGRESS\">TCQ_F_INGRESS</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#handle\">handle</a> = <a class=\"id\" href=\"#TC_H_MAKE\">TC_H_MAKE</a>(<a class=\"id\" href=\"#TC_H_INGRESS\">TC_H_INGRESS</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#lockdep_set_class\">lockdep_set_class</a>(<a class=\"id\" href=\"#qdisc_lock\">qdisc_lock</a>(<a class=\"id\" href=\"#sch\">sch</a>), &amp;<a class=\"id\" href=\"#qdisc_rx_lock\">qdisc_rx_lock</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#handle\">handle</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#handle\">handle</a> = <a class=\"id\" href=\"#qdisc_alloc_handle\">qdisc_alloc_handle</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#handle\">handle</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out3\">err_out3</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#lockdep_set_class\">lockdep_set_class</a>(<a class=\"id\" href=\"#qdisc_lock\">qdisc_lock</a>(<a class=\"id\" href=\"#sch\">sch</a>), &amp;<a class=\"id\" href=\"#qdisc_tx_lock\">qdisc_tx_lock</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#handle\">handle</a> = <a class=\"id\" href=\"#handle\">handle</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#init\">init</a> || (<a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#init\">init</a>(<a class=\"id\" href=\"#sch\">sch</a>, <a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_OPTIONS\">TCA_OPTIONS</a>])) == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_STAB\">TCA_STAB</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#stab\">stab</a> = <a class=\"id\" href=\"#qdisc_get_stab\">qdisc_get_stab</a>(<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_STAB\">TCA_STAB</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#stab\">stab</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#stab\">stab</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out4\">err_out4</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#stab\">stab</a> = <a class=\"id\" href=\"#stab\">stab</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_RATE\">TCA_RATE</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spinlock_t\">spinlock_t</a> *<a class=\"id\" href=\"#root_lock\">root_lock</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EOPNOTSUPP\">EOPNOTSUPP</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#TCQ_F_MQROOT\">TCQ_F_MQROOT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out4\">err_out4</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#parent\">parent</a> != <a class=\"id\" href=\"#TC_H_ROOT\">TC_H_ROOT</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    !(<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#TCQ_F_INGRESS\">TCQ_F_INGRESS</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (!<a class=\"id\" href=\"#p\">p</a> || !(<a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#TCQ_F_MQROOT\">TCQ_F_MQROOT</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#root_lock\">root_lock</a> = <a class=\"id\" href=\"#qdisc_root_sleeping_lock\">qdisc_root_sleeping_lock</a>(<a class=\"id\" href=\"#sch\">sch</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#root_lock\">root_lock</a> = <a class=\"id\" href=\"#qdisc_lock\">qdisc_lock</a>(<a class=\"id\" href=\"#sch\">sch</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#gen_new_estimator\">gen_new_estimator</a>(&amp;<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#bstats\">bstats</a>, &amp;<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#rate_est\">rate_est</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#root_lock\">root_lock</a>, <a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_RATE\">TCA_RATE</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out4\">err_out4</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#qdisc_list_add\">qdisc_list_add</a>(<a class=\"id\" href=\"#sch\">sch</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sch\">sch</a>;", 
"<span class=\"ts\"/>}", 
"<a class=\"id\" href=\"#err_out3\">err_out3</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_put\">dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>((char *) <a class=\"id\" href=\"#sch\">sch</a> - <a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#padded\">padded</a>);", 
"<a class=\"id\" href=\"#err_out2\">err_out2</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#module_put\">module_put</a>(<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#owner\">owner</a>);", 
"<a class=\"id\" href=\"#err_out\">err_out</a>:", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#errp\">errp</a> = <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<a class=\"id\" href=\"#err_out4\">err_out4</a>:", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Any broken qdiscs that would require a ops-&gt;reset() here?</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * The qdisc was never in action so it shouldn't be necessary.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#qdisc_put_stab\">qdisc_put_stab</a>(<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#stab\">stab</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#destroy\">destroy</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#destroy\">destroy</a>(<a class=\"id\" href=\"#sch\">sch</a>);", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out3\">err_out3</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#qdisc_change\">qdisc_change</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#sch\">sch</a>, struct <a class=\"id\" href=\"#nlattr\">nlattr</a> **<a class=\"id\" href=\"#tca\">tca</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#qdisc_size_table\">qdisc_size_table</a> *<a class=\"id\" href=\"#stab\">stab</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_OPTIONS\">TCA_OPTIONS</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#change\">change</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#change\">change</a>(<a class=\"id\" href=\"#sch\">sch</a>, <a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_OPTIONS\">TCA_OPTIONS</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_STAB\">TCA_STAB</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#stab\">stab</a> = <a class=\"id\" href=\"#qdisc_get_stab\">qdisc_get_stab</a>(<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_STAB\">TCA_STAB</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#stab\">stab</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#stab\">stab</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#qdisc_put_stab\">qdisc_put_stab</a>(<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#stab\">stab</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#stab\">stab</a> = <a class=\"id\" href=\"#stab\">stab</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_RATE\">TCA_RATE</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* NB: ignores errors from replace_estimator</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/>   because change can't be undone. */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#TCQ_F_MQROOT\">TCQ_F_MQROOT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#gen_replace_estimator\">gen_replace_estimator</a>(&amp;<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#bstats\">bstats</a>, &amp;<a class=\"id\" href=\"#sch\">sch</a>-><a class=\"id\" href=\"#rate_est\">rate_est</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#qdisc_root_sleeping_lock\">qdisc_root_sleeping_lock</a>(<a class=\"id\" href=\"#sch\">sch</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_RATE\">TCA_RATE</a>]);", 
"<span class=\"ts\"/>}", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"struct <a class=\"id\" href=\"#check_loop_arg\">check_loop_arg</a>", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#qdisc_walker\">qdisc_walker</a> <span class=\"ts\"/><a class=\"id\" href=\"#w\">w</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#p\">p</a>;", 
"<span class=\"ts\"/>int<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#depth\">depth</a>;", 
"};", 
"", 
"static int <a class=\"id\" href=\"#check_loop_fn\">check_loop_fn</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>, unsigned long <a class=\"id\" href=\"#cl\">cl</a>, struct <a class=\"id\" href=\"#qdisc_walker\">qdisc_walker</a> *<a class=\"id\" href=\"#w\">w</a>);", 
"", 
"static int <a class=\"id\" href=\"#check_loop\">check_loop</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>, struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#p\">p</a>, int <a class=\"id\" href=\"#depth\">depth</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#check_loop_arg\">check_loop_arg</a><span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#stop\">stop</a> = <a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#skip\">skip</a> = <a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#count\">count</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#fn\">fn</a> = <a class=\"id\" href=\"#check_loop_fn\">check_loop_fn</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#depth\">depth</a> = <a class=\"id\" href=\"#depth\">depth</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#p\">p</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>-><a class=\"id\" href=\"#walk\">walk</a>(<a class=\"id\" href=\"#q\">q</a>, &amp;<a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#stop\">stop</a> ? -<a class=\"id\" href=\"#ELOOP\">ELOOP</a> : 0;", 
"}", 
"", 
"static int", 
"<a class=\"id\" href=\"#check_loop_fn\">check_loop_fn</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>, unsigned long <a class=\"id\" href=\"#cl\">cl</a>, struct <a class=\"id\" href=\"#qdisc_walker\">qdisc_walker</a> *<a class=\"id\" href=\"#w\">w</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#leaf\">leaf</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#Qdisc_class_ops\">Qdisc_class_ops</a> *<a class=\"id\" href=\"#cops\">cops</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#check_loop_arg\">check_loop_arg</a> *<a class=\"id\" href=\"#arg\">arg</a> = (struct <a class=\"id\" href=\"#check_loop_arg\">check_loop_arg</a> *)<a class=\"id\" href=\"#w\">w</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#leaf\">leaf</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#leaf\">leaf</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#leaf\">leaf</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#leaf\">leaf</a> == <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#p\">p</a> || <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#depth\">depth</a> &gt; 7)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ELOOP\">ELOOP</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#check_loop\">check_loop</a>(<a class=\"id\" href=\"#leaf\">leaf</a>, <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#depth\">depth</a> + 1);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Delete/get qdisc.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static int <a class=\"id\" href=\"#tc_get_qdisc\">tc_get_qdisc</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#n\">n</a>, void *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#tcm\">tcm</a> = <a class=\"id\" href=\"#NLMSG_DATA\">NLMSG_DATA</a>(<a class=\"id\" href=\"#n\">n</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_MAX\">TCA_MAX</a> + 1];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#clid\">clid</a> = <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#__dev_get_by_index\">__dev_get_by_index</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_ifindex\">tcm_ifindex</a>)) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#nlmsg_parse\">nlmsg_parse</a>(<a class=\"id\" href=\"#n\">n</a>, sizeof(*<a class=\"id\" href=\"#tcm\">tcm</a>), <a class=\"id\" href=\"#tca\">tca</a>, <a class=\"id\" href=\"#TCA_MAX\">TCA_MAX</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#clid\">clid</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#clid\">clid</a> != <a class=\"id\" href=\"#TC_H_ROOT\">TC_H_ROOT</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#clid\">clid</a>) != <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#TC_H_INGRESS\">TC_H_INGRESS</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#qdisc_lookup\">qdisc_lookup</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#clid\">clid</a>))) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#qdisc_leaf\">qdisc_leaf</a>(<a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#clid\">clid</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else { <span class=\"comment\">/* ingress */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#rx_queue\">rx_queue</a>.<a class=\"id\" href=\"#qdisc_sleeping\">qdisc_sleeping</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#qdisc\">qdisc</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#q\">q</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a> && <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#handle\">handle</a> != <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#qdisc_lookup\">qdisc_lookup</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>)) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>] && <a class=\"id\" href=\"#nla_strcmp\">nla_strcmp</a>(<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>], <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#id\">id</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_type\">nlmsg_type</a> == <a class=\"id\" href=\"#RTM_DELQDISC\">RTM_DELQDISC</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#clid\">clid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#handle\">handle</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#qdisc_graft\">qdisc_graft</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#clid\">clid</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#q\">q</a>)) != 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#qdisc_notify\">qdisc_notify</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#clid\">clid</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#q\">q</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\">   Create/change qdisc.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static int <a class=\"id\" href=\"#tc_modify_qdisc\">tc_modify_qdisc</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#n\">n</a>, void *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#tcm\">tcm</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_MAX\">TCA_MAX</a> + 1];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#clid\">clid</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>, *<a class=\"id\" href=\"#p\">p</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<a class=\"id\" href=\"#replay\">replay</a>:", 
"<span class=\"ts\"/><span class=\"comment\">/* Reinit, just in case something touches this. */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a> = <a class=\"id\" href=\"#NLMSG_DATA\">NLMSG_DATA</a>(<a class=\"id\" href=\"#n\">n</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clid\">clid</a> = <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#__dev_get_by_index\">__dev_get_by_index</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_ifindex\">tcm_ifindex</a>)) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#nlmsg_parse\">nlmsg_parse</a>(<a class=\"id\" href=\"#n\">n</a>, sizeof(*<a class=\"id\" href=\"#tcm\">tcm</a>), <a class=\"id\" href=\"#tca\">tca</a>, <a class=\"id\" href=\"#TCA_MAX\">TCA_MAX</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#clid\">clid</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#clid\">clid</a> != <a class=\"id\" href=\"#TC_H_ROOT\">TC_H_ROOT</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#clid\">clid</a> != <a class=\"id\" href=\"#TC_H_INGRESS\">TC_H_INGRESS</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#p\">p</a> = <a class=\"id\" href=\"#qdisc_lookup\">qdisc_lookup</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#clid\">clid</a>))) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#qdisc_leaf\">qdisc_leaf</a>(<a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#clid\">clid</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else { <span class=\"comment\">/*ingress */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#rx_queue\">rx_queue</a>.<a class=\"id\" href=\"#qdisc_sleeping\">qdisc_sleeping</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#qdisc\">qdisc</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* It may be default qdisc, ignore it */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a> && <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#handle\">handle</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#q\">q</a> || !<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a> || <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#handle\">handle</a> != <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a> && !(<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_REPLACE\">NLM_F_REPLACE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EEXIST\">EEXIST</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#TC_H_MIN\">TC_H_MIN</a>(<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#qdisc_lookup\">qdisc_lookup</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>)) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#create_n_graft\">create_n_graft</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_EXCL\">NLM_F_EXCL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EEXIST\">EEXIST</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>] && <a class=\"id\" href=\"#nla_strcmp\">nla_strcmp</a>(<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>], <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#id\">id</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a> == <a class=\"id\" href=\"#p\">p</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#p\">p</a> && <a class=\"id\" href=\"#check_loop\">check_loop</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#p\">p</a>, 0)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ELOOP\">ELOOP</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#atomic_inc\">atomic_inc</a>(&amp;<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#refcnt\">refcnt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#graft\">graft</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#create_n_graft\">create_n_graft</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* This magic test requires explanation.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   We know, that some child q is already</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   attached to this parent and have choice:</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   either to change it or to create/graft new one.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   1. We are allowed to create/graft only</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   if CREATE and REPLACE flags are set.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   2. If EXCL is set, requestor wanted to say,</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   that qdisc tcm_handle is not expected</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   to exist, so that we choose create/graft too.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   3. The last case is when no flags are set.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   Alas, it is sort of hole in API, we</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   cannot decide what to do unambiguously.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   For now we select create/graft, if</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> *   user gave KIND, which does not match existing.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_CREATE\">NLM_F_CREATE</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_REPLACE\">NLM_F_REPLACE</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    ((<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_EXCL\">NLM_F_EXCL</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>] &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#nla_strcmp\">nla_strcmp</a>(<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>], <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#id\">id</a>))))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#create_n_graft\">create_n_graft</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#qdisc_lookup\">qdisc_lookup</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Change qdisc parameters */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_EXCL\">NLM_F_EXCL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EEXIST\">EEXIST</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>] && <a class=\"id\" href=\"#nla_strcmp\">nla_strcmp</a>(<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>], <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#id\">id</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#qdisc_change\">qdisc_change</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#tca\">tca</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#qdisc_notify\">qdisc_notify</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#clid\">clid</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#q\">q</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<a class=\"id\" href=\"#create_n_graft\">create_n_graft</a>:", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_CREATE\">NLM_F_CREATE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#clid\">clid</a> == <a class=\"id\" href=\"#TC_H_INGRESS\">TC_H_INGRESS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#qdisc_create\">qdisc_create</a>(<a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#rx_queue\">rx_queue</a>, <a class=\"id\" href=\"#p\">p</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#tca\">tca</a>, &amp;<a class=\"id\" href=\"#err\">err</a>);", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#netdev_queue\">netdev_queue</a> *<a class=\"id\" href=\"#dev_queue\">dev_queue</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#p\">p</a> && <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a> && <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>-><a class=\"id\" href=\"#select_queue\">select_queue</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_queue\">dev_queue</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>-><a class=\"id\" href=\"#select_queue\">select_queue</a>(<a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#tcm\">tcm</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#p\">p</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_queue\">dev_queue</a> = <a class=\"id\" href=\"#p\">p</a>-><a class=\"id\" href=\"#dev_queue\">dev_queue</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_queue\">dev_queue</a> = <a class=\"id\" href=\"#netdev_get_tx_queue\">netdev_get_tx_queue</a>(<a class=\"id\" href=\"#dev\">dev</a>, 0);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#qdisc_create\">qdisc_create</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#dev_queue\">dev_queue</a>, <a class=\"id\" href=\"#p\">p</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#tca\">tca</a>, &amp;<a class=\"id\" href=\"#err\">err</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == -<a class=\"id\" href=\"#EAGAIN\">EAGAIN</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#replay\">replay</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#graft\">graft</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#qdisc_graft\">qdisc_graft</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#p\">p</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#clid\">clid</a>, <a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#qdisc_destroy\">qdisc_destroy</a>(<a class=\"id\" href=\"#q\">q</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#tc_fill_qdisc\">tc_fill_qdisc</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#clid\">clid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#seq\">seq</a>, <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#flags\">flags</a>, int <a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#tcm\">tcm</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a>  *<a class=\"id\" href=\"#nlh\">nlh</a>;", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#b\">b</a> = <a class=\"id\" href=\"#skb_tail_pointer\">skb_tail_pointer</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#gnet_dump\">gnet_dump</a> <a class=\"id\" href=\"#d\">d</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlh\">nlh</a> = <a class=\"id\" href=\"#NLMSG_NEW\">NLMSG_NEW</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#seq\">seq</a>, <a class=\"id\" href=\"#event\">event</a>, sizeof(*<a class=\"id\" href=\"#tcm\">tcm</a>), <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a> = <a class=\"id\" href=\"#NLMSG_DATA\">NLMSG_DATA</a>(<a class=\"id\" href=\"#nlh\">nlh</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_family\">tcm_family</a> = <a class=\"id\" href=\"#AF_UNSPEC\">AF_UNSPEC</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm__pad1\">tcm__pad1</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm__pad2\">tcm__pad2</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_ifindex\">tcm_ifindex</a> = <a class=\"id\" href=\"#qdisc_dev\">qdisc_dev</a>(<a class=\"id\" href=\"#q\">q</a>)-><a class=\"id\" href=\"#ifindex\">ifindex</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a> = <a class=\"id\" href=\"#clid\">clid</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_info\">tcm_info</a> = <a class=\"id\" href=\"#atomic_read\">atomic_read</a>(&amp;<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#refcnt\">refcnt</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT_STRING\">NLA_PUT_STRING</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>, <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#dump\">dump</a> && <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#dump\">dump</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#skb\">skb</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#qstats\">qstats</a>.<a class=\"id\" href=\"#qlen\">qlen</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#q\">q</a>.<a class=\"id\" href=\"#qlen\">qlen</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#stab\">stab</a> && <a class=\"id\" href=\"#qdisc_dump_stab\">qdisc_dump_stab</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#stab\">stab</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gnet_stats_start_copy_compat\">gnet_stats_start_copy_compat</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#TCA_STATS2\">TCA_STATS2</a>, <a class=\"id\" href=\"#TCA_STATS\">TCA_STATS</a>, <a class=\"id\" href=\"#TCA_XSTATS\">TCA_XSTATS</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#qdisc_root_sleeping_lock\">qdisc_root_sleeping_lock</a>(<a class=\"id\" href=\"#q\">q</a>), &amp;<a class=\"id\" href=\"#d\">d</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#dump_stats\">dump_stats</a> && <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#dump_stats\">dump_stats</a>(<a class=\"id\" href=\"#q\">q</a>, &amp;<a class=\"id\" href=\"#d\">d</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gnet_stats_copy_basic\">gnet_stats_copy_basic</a>(&amp;<a class=\"id\" href=\"#d\">d</a>, &amp;<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#bstats\">bstats</a>) &lt; 0 ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#gnet_stats_copy_rate_est\">gnet_stats_copy_rate_est</a>(&amp;<a class=\"id\" href=\"#d\">d</a>, &amp;<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#bstats\">bstats</a>, &amp;<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#rate_est\">rate_est</a>) &lt; 0 ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#gnet_stats_copy_queue\">gnet_stats_copy_queue</a>(&amp;<a class=\"id\" href=\"#d\">d</a>, &amp;<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#qstats\">qstats</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gnet_stats_finish_copy\">gnet_stats_finish_copy</a>(&amp;<a class=\"id\" href=\"#d\">d</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_len\">nlmsg_len</a> = <a class=\"id\" href=\"#skb_tail_pointer\">skb_tail_pointer</a>(<a class=\"id\" href=\"#skb\">skb</a>) - <a class=\"id\" href=\"#b\">b</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<a class=\"id\" href=\"#nlmsg_failure\">nlmsg_failure</a>:", 
"<a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlmsg_trim\">nlmsg_trim</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#b\">b</a>);", 
"<span class=\"ts\"/>return -1;", 
"}", 
"", 
"static <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#tc_qdisc_dump_ignore\">tc_qdisc_dump_ignore</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>)", 
"{", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#TCQ_F_BUILTIN\">TCQ_F_BUILTIN</a>) ? <a class=\"id\" href=\"#true\">true</a> : <a class=\"id\" href=\"#false\">false</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#qdisc_notify\">qdisc_notify</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#oskb\">oskb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#clid\">clid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#old\">old</a>, struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#new\">new</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#pid\">pid</a> = <a class=\"id\" href=\"#oskb\">oskb</a> ? <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#oskb\">oskb</a>).<a class=\"id\" href=\"#pid\">pid</a> : 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb\">skb</a> = <a class=\"id\" href=\"#alloc_skb\">alloc_skb</a>(<a class=\"id\" href=\"#NLMSG_GOODSIZE\">NLMSG_GOODSIZE</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#skb\">skb</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOBUFS\">ENOBUFS</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#old\">old</a> && !<a class=\"id\" href=\"#tc_qdisc_dump_ignore\">tc_qdisc_dump_ignore</a>(<a class=\"id\" href=\"#old\">old</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tc_fill_qdisc\">tc_fill_qdisc</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#old\">old</a>, <a class=\"id\" href=\"#clid\">clid</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>, 0, <a class=\"id\" href=\"#RTM_DELQDISC\">RTM_DELQDISC</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out\">err_out</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#new\">new</a> && !<a class=\"id\" href=\"#tc_qdisc_dump_ignore\">tc_qdisc_dump_ignore</a>(<a class=\"id\" href=\"#new\">new</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tc_fill_qdisc\">tc_fill_qdisc</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#new\">new</a>, <a class=\"id\" href=\"#clid\">clid</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>, <a class=\"id\" href=\"#old\">old</a> ? <a class=\"id\" href=\"#NLM_F_REPLACE\">NLM_F_REPLACE</a> : 0, <a class=\"id\" href=\"#RTM_NEWQDISC\">RTM_NEWQDISC</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out\">err_out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#len\">len</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#rtnetlink_send\">rtnetlink_send</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#RTNLGRP_TC\">RTNLGRP_TC</a>, <a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_ECHO\">NLM_F_ECHO</a>);", 
"", 
"<a class=\"id\" href=\"#err_out\">err_out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree_skb\">kfree_skb</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#tc_dump_qdisc_root\">tc_dump_qdisc_root</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#root\">root</a>, struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      struct <a class=\"id\" href=\"#netlink_callback\">netlink_callback</a> *<a class=\"id\" href=\"#cb\">cb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      int *<a class=\"id\" href=\"#q_idx_p\">q_idx_p</a>, int <a class=\"id\" href=\"#s_q_idx\">s_q_idx</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = 0, <a class=\"id\" href=\"#q_idx\">q_idx</a> = *<a class=\"id\" href=\"#q_idx_p\">q_idx_p</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#root\">root</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#root\">root</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#q_idx\">q_idx</a> &lt; <a class=\"id\" href=\"#s_q_idx\">s_q_idx</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q_idx\">q_idx</a>++;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#tc_qdisc_dump_ignore\">tc_qdisc_dump_ignore</a>(<a class=\"id\" href=\"#q\">q</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#tc_fill_qdisc\">tc_fill_qdisc</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#parent\">parent</a>, <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#skb\">skb</a>).<a class=\"id\" href=\"#pid\">pid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>, <a class=\"id\" href=\"#NLM_F_MULTI\">NLM_F_MULTI</a>, <a class=\"id\" href=\"#RTM_NEWQDISC\">RTM_NEWQDISC</a>) <= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q_idx\">q_idx</a>++;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#q\">q</a>, &amp;<a class=\"id\" href=\"#root\">root</a>-><a class=\"id\" href=\"#list\">list</a>, <a class=\"id\" href=\"#list\">list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#q_idx\">q_idx</a> &lt; <a class=\"id\" href=\"#s_q_idx\">s_q_idx</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q_idx\">q_idx</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#tc_qdisc_dump_ignore\">tc_qdisc_dump_ignore</a>(<a class=\"id\" href=\"#q\">q</a>) && ", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#tc_fill_qdisc\">tc_fill_qdisc</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#parent\">parent</a>, <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#skb\">skb</a>).<a class=\"id\" href=\"#pid\">pid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>, <a class=\"id\" href=\"#NLM_F_MULTI\">NLM_F_MULTI</a>, <a class=\"id\" href=\"#RTM_NEWQDISC\">RTM_NEWQDISC</a>) <= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q_idx\">q_idx</a>++;", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#q_idx_p\">q_idx_p</a> = <a class=\"id\" href=\"#q_idx\">q_idx</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"<a class=\"id\" href=\"#done\">done</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -1;", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#tc_dump_qdisc\">tc_dump_qdisc</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#netlink_callback\">netlink_callback</a> *<a class=\"id\" href=\"#cb\">cb</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#idx\">idx</a>, <a class=\"id\" href=\"#q_idx\">q_idx</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#s_idx\">s_idx</a>, <a class=\"id\" href=\"#s_q_idx\">s_q_idx</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#s_idx\">s_idx</a> = <a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[0];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#s_q_idx\">s_q_idx</a> = <a class=\"id\" href=\"#q_idx\">q_idx</a> = <a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[1];", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_lock\">rcu_read_lock</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#idx\">idx</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#for_each_netdev_rcu\">for_each_netdev_rcu</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#netdev_queue\">netdev_queue</a> *<a class=\"id\" href=\"#dev_queue\">dev_queue</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#idx\">idx</a> &lt; <a class=\"id\" href=\"#s_idx\">s_idx</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#cont\">cont</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#idx\">idx</a> &gt; <a class=\"id\" href=\"#s_idx\">s_idx</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#s_q_idx\">s_q_idx</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#q_idx\">q_idx</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tc_dump_qdisc_root\">tc_dump_qdisc_root</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#qdisc\">qdisc</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#cb\">cb</a>, &amp;<a class=\"id\" href=\"#q_idx\">q_idx</a>, <a class=\"id\" href=\"#s_q_idx\">s_q_idx</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_queue\">dev_queue</a> = &amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#rx_queue\">rx_queue</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tc_dump_qdisc_root\">tc_dump_qdisc_root</a>(<a class=\"id\" href=\"#dev_queue\">dev_queue</a>-><a class=\"id\" href=\"#qdisc_sleeping\">qdisc_sleeping</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#cb\">cb</a>, &amp;<a class=\"id\" href=\"#q_idx\">q_idx</a>, <a class=\"id\" href=\"#s_q_idx\">s_q_idx</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"", 
"<a class=\"id\" href=\"#cont\">cont</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#idx\">idx</a>++;", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#done\">done</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[0] = <a class=\"id\" href=\"#idx\">idx</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[1] = <a class=\"id\" href=\"#q_idx\">q_idx</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#len\">len</a>;", 
"}", 
"", 
"", 
"", 
"<span class=\"comment\">/************************************************</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Traffic classes manipulation.<span class=\"ts\"/><span class=\"ts\"/>*</span>", 
"<span class=\"comment\"> ************************************************/</span>", 
"", 
"", 
"", 
"static int <a class=\"id\" href=\"#tc_ctl_tclass\">tc_ctl_tclass</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#n\">n</a>, void *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#tcm\">tcm</a> = <a class=\"id\" href=\"#NLMSG_DATA\">NLMSG_DATA</a>(<a class=\"id\" href=\"#n\">n</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#tca\">tca</a>[<a class=\"id\" href=\"#TCA_MAX\">TCA_MAX</a> + 1];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#Qdisc_class_ops\">Qdisc_class_ops</a> *<a class=\"id\" href=\"#cops\">cops</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#cl\">cl</a> = 0;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#new_cl\">new_cl</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#pid\">pid</a> = <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#clid\">clid</a> = <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#qid\">qid</a> = <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#clid\">clid</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#__dev_get_by_index\">__dev_get_by_index</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_ifindex\">tcm_ifindex</a>)) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#nlmsg_parse\">nlmsg_parse</a>(<a class=\"id\" href=\"#n\">n</a>, sizeof(*<a class=\"id\" href=\"#tcm\">tcm</a>), <a class=\"id\" href=\"#tca\">tca</a>, <a class=\"id\" href=\"#TCA_MAX\">TCA_MAX</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   parent == TC_H_UNSPEC - unspecified parent.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   parent == TC_H_ROOT   - class is root, which has no parent.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   parent == X:0<span class=\"ts\"/> - parent is root class.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   parent == X:Y<span class=\"ts\"/> - parent is a node in hierarchy.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   parent == 0:Y<span class=\"ts\"/> - parent is X:Y, where X:0 is qdisc.</span>", 
"<span class=\"comment\"></span>", 
"<span class=\"comment\"><span class=\"ts\"/>   handle == 0:0<span class=\"ts\"/> - generate handle from kernel pool.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   handle == 0:Y<span class=\"ts\"/> - class is X:Y, where X:0 is qdisc.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   handle == X:Y<span class=\"ts\"/> - clear.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   handle == X:0<span class=\"ts\"/> - root class.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Step 1. Determine qdisc handle X:0 */</span>", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pid\">pid</a> != <a class=\"id\" href=\"#TC_H_ROOT\">TC_H_ROOT</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#qid1\">qid1</a> = <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#pid\">pid</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#qid\">qid</a> && <a class=\"id\" href=\"#qid1\">qid1</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* If both majors are known, they must be identical. */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#qid\">qid</a> != <a class=\"id\" href=\"#qid1\">qid1</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (<a class=\"id\" href=\"#qid1\">qid1</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#qid\">qid</a> = <a class=\"id\" href=\"#qid1\">qid1</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (<a class=\"id\" href=\"#qid\">qid</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#qid\">qid</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#qdisc\">qdisc</a>-><a class=\"id\" href=\"#handle\">handle</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Now qid is genuine qdisc handle consistent</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/>   both with parent and child.</span>", 
"<span class=\"comment\"></span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/>   TC_H_MAJ(pid) still may be unspecified, complete it now.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pid\">pid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pid\">pid</a> = <a class=\"id\" href=\"#TC_H_MAKE\">TC_H_MAKE</a>(<a class=\"id\" href=\"#qid\">qid</a>, <a class=\"id\" href=\"#pid\">pid</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#qid\">qid</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#qid\">qid</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#qdisc\">qdisc</a>-><a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* OK. Locate qdisc */</span>", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#q\">q</a> = <a class=\"id\" href=\"#qdisc_lookup\">qdisc_lookup</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#qid\">qid</a>)) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* An check that it supports classes */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cops\">cops</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cops\">cops</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Now try to get class */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#clid\">clid</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pid\">pid</a> == <a class=\"id\" href=\"#TC_H_ROOT\">TC_H_ROOT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#clid\">clid</a> = <a class=\"id\" href=\"#qid\">qid</a>;", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#clid\">clid</a> = <a class=\"id\" href=\"#TC_H_MAKE\">TC_H_MAKE</a>(<a class=\"id\" href=\"#qid\">qid</a>, <a class=\"id\" href=\"#clid\">clid</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#clid\">clid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cl\">cl</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#get\">get</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#clid\">clid</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cl\">cl</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_type\">nlmsg_type</a> != <a class=\"id\" href=\"#RTM_NEWTCLASS\">RTM_NEWTCLASS</a> || !(<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_CREATE\">NLM_F_CREATE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>switch (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_type\">nlmsg_type</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#RTM_NEWTCLASS\">RTM_NEWTCLASS</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EEXIST\">EEXIST</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_EXCL\">NLM_F_EXCL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#RTM_DELTCLASS\">RTM_DELTCLASS</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EOPNOTSUPP\">EOPNOTSUPP</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#delete\">delete</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#delete\">delete</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tclass_notify\">tclass_notify</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>, <a class=\"id\" href=\"#RTM_DELTCLASS\">RTM_DELTCLASS</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#RTM_GETTCLASS\">RTM_GETTCLASS</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#tclass_notify\">tclass_notify</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>, <a class=\"id\" href=\"#RTM_NEWTCLASS\">RTM_NEWTCLASS</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#new_cl\">new_cl</a> = <a class=\"id\" href=\"#cl\">cl</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EOPNOTSUPP\">EOPNOTSUPP</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#change\">change</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#change\">change</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#clid\">clid</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#tca\">tca</a>, &amp;<a class=\"id\" href=\"#new_cl\">new_cl</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tclass_notify\">tclass_notify</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#n\">n</a>, <a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#new_cl\">new_cl</a>, <a class=\"id\" href=\"#RTM_NEWTCLASS\">RTM_NEWTCLASS</a>);", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cl\">cl</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cops\">cops</a>-><a class=\"id\" href=\"#put\">put</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"", 
"static int <a class=\"id\" href=\"#tc_fill_tclass\">tc_fill_tclass</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  unsigned long <a class=\"id\" href=\"#cl\">cl</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#seq\">seq</a>, <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#flags\">flags</a>, int <a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#tcm\">tcm</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a>  *<a class=\"id\" href=\"#nlh\">nlh</a>;", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#b\">b</a> = <a class=\"id\" href=\"#skb_tail_pointer\">skb_tail_pointer</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#gnet_dump\">gnet_dump</a> <a class=\"id\" href=\"#d\">d</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#Qdisc_class_ops\">Qdisc_class_ops</a> *<a class=\"id\" href=\"#cl_ops\">cl_ops</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlh\">nlh</a> = <a class=\"id\" href=\"#NLMSG_NEW\">NLMSG_NEW</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#seq\">seq</a>, <a class=\"id\" href=\"#event\">event</a>, sizeof(*<a class=\"id\" href=\"#tcm\">tcm</a>), <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a> = <a class=\"id\" href=\"#NLMSG_DATA\">NLMSG_DATA</a>(<a class=\"id\" href=\"#nlh\">nlh</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_family\">tcm_family</a> = <a class=\"id\" href=\"#AF_UNSPEC\">AF_UNSPEC</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm__pad1\">tcm__pad1</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm__pad2\">tcm__pad2</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_ifindex\">tcm_ifindex</a> = <a class=\"id\" href=\"#qdisc_dev\">qdisc_dev</a>(<a class=\"id\" href=\"#q\">q</a>)-><a class=\"id\" href=\"#ifindex\">ifindex</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_handle\">tcm_handle</a> = <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#handle\">handle</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_info\">tcm_info</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT_STRING\">NLA_PUT_STRING</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#TCA_KIND\">TCA_KIND</a>, <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cl_ops\">cl_ops</a>-><a class=\"id\" href=\"#dump\">dump</a> && <a class=\"id\" href=\"#cl_ops\">cl_ops</a>-><a class=\"id\" href=\"#dump\">dump</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tcm\">tcm</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gnet_stats_start_copy_compat\">gnet_stats_start_copy_compat</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#TCA_STATS2\">TCA_STATS2</a>, <a class=\"id\" href=\"#TCA_STATS\">TCA_STATS</a>, <a class=\"id\" href=\"#TCA_XSTATS\">TCA_XSTATS</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#qdisc_root_sleeping_lock\">qdisc_root_sleeping_lock</a>(<a class=\"id\" href=\"#q\">q</a>), &amp;<a class=\"id\" href=\"#d\">d</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cl_ops\">cl_ops</a>-><a class=\"id\" href=\"#dump_stats\">dump_stats</a> && <a class=\"id\" href=\"#cl_ops\">cl_ops</a>-><a class=\"id\" href=\"#dump_stats\">dump_stats</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>, &amp;<a class=\"id\" href=\"#d\">d</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gnet_stats_finish_copy\">gnet_stats_finish_copy</a>(&amp;<a class=\"id\" href=\"#d\">d</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_len\">nlmsg_len</a> = <a class=\"id\" href=\"#skb_tail_pointer\">skb_tail_pointer</a>(<a class=\"id\" href=\"#skb\">skb</a>) - <a class=\"id\" href=\"#b\">b</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<a class=\"id\" href=\"#nlmsg_failure\">nlmsg_failure</a>:", 
"<a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlmsg_trim\">nlmsg_trim</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#b\">b</a>);", 
"<span class=\"ts\"/>return -1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#tclass_notify\">tclass_notify</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#oskb\">oskb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#n\">n</a>, struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> unsigned long <a class=\"id\" href=\"#cl\">cl</a>, int <a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#pid\">pid</a> = <a class=\"id\" href=\"#oskb\">oskb</a> ? <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#oskb\">oskb</a>).<a class=\"id\" href=\"#pid\">pid</a> : 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb\">skb</a> = <a class=\"id\" href=\"#alloc_skb\">alloc_skb</a>(<a class=\"id\" href=\"#NLMSG_GOODSIZE\">NLMSG_GOODSIZE</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#skb\">skb</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOBUFS\">ENOBUFS</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tc_fill_tclass\">tc_fill_tclass</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>, 0, <a class=\"id\" href=\"#event\">event</a>) &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree_skb\">kfree_skb</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rtnetlink_send\">rtnetlink_send</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#RTNLGRP_TC\">RTNLGRP_TC</a>, <a class=\"id\" href=\"#n\">n</a>-><a class=\"id\" href=\"#nlmsg_flags\">nlmsg_flags</a>&amp;<a class=\"id\" href=\"#NLM_F_ECHO\">NLM_F_ECHO</a>);", 
"}", 
"", 
"struct <a class=\"id\" href=\"#qdisc_dump_args\">qdisc_dump_args</a>", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#qdisc_walker\">qdisc_walker</a> <a class=\"id\" href=\"#w\">w</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#netlink_callback\">netlink_callback</a> *<a class=\"id\" href=\"#cb\">cb</a>;", 
"};", 
"", 
"static int <a class=\"id\" href=\"#qdisc_class_dump\">qdisc_class_dump</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>, unsigned long <a class=\"id\" href=\"#cl\">cl</a>, struct <a class=\"id\" href=\"#qdisc_walker\">qdisc_walker</a> *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#qdisc_dump_args\">qdisc_dump_args</a> *<a class=\"id\" href=\"#a\">a</a> = (struct <a class=\"id\" href=\"#qdisc_dump_args\">qdisc_dump_args</a> *)<a class=\"id\" href=\"#arg\">arg</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#tc_fill_tclass\">tc_fill_tclass</a>(<a class=\"id\" href=\"#a\">a</a>-><a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#cl\">cl</a>, <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#a\">a</a>-><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#skb\">skb</a>).<a class=\"id\" href=\"#pid\">pid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#a\">a</a>-><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>, <a class=\"id\" href=\"#NLM_F_MULTI\">NLM_F_MULTI</a>, <a class=\"id\" href=\"#RTM_NEWTCLASS\">RTM_NEWTCLASS</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#tc_dump_tclass_qdisc\">tc_dump_tclass_qdisc</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>, struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#tcm\">tcm</a>, struct <a class=\"id\" href=\"#netlink_callback\">netlink_callback</a> *<a class=\"id\" href=\"#cb\">cb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int *<a class=\"id\" href=\"#t_p\">t_p</a>, int <a class=\"id\" href=\"#s_t\">s_t</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#qdisc_dump_args\">qdisc_dump_args</a> <a class=\"id\" href=\"#arg\">arg</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tc_qdisc_dump_ignore\">tc_qdisc_dump_ignore</a>(<a class=\"id\" href=\"#q\">q</a>) ||", 
"<span class=\"ts\"/>    *<a class=\"id\" href=\"#t_p\">t_p</a> &lt; <a class=\"id\" href=\"#s_t\">s_t</a> || !<a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a> ||", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a> &&", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#TC_H_MAJ\">TC_H_MAJ</a>(<a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_parent\">tcm_parent</a>) != <a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#handle\">handle</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>(*<a class=\"id\" href=\"#t_p\">t_p</a>)++;", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (*<a class=\"id\" href=\"#t_p\">t_p</a> &gt; <a class=\"id\" href=\"#s_t\">s_t</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[1], 0, sizeof(<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>)-sizeof(<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[0]));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#fn\">fn</a> = <a class=\"id\" href=\"#qdisc_class_dump\">qdisc_class_dump</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#skb\">skb</a> = <a class=\"id\" href=\"#skb\">skb</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#cb\">cb</a> = <a class=\"id\" href=\"#cb\">cb</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#stop\">stop</a>  = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#skip\">skip</a> = <a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[1];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#count\">count</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#cl_ops\">cl_ops</a>-><a class=\"id\" href=\"#walk\">walk</a>(<a class=\"id\" href=\"#q\">q</a>, &amp;<a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[1] = <a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#count\">count</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#arg\">arg</a>.<a class=\"id\" href=\"#w\">w</a>.<a class=\"id\" href=\"#stop\">stop</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -1;", 
"<span class=\"ts\"/>(*<a class=\"id\" href=\"#t_p\">t_p</a>)++;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#tc_dump_tclass_root\">tc_dump_tclass_root</a>(struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#root\">root</a>, struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#tcm\">tcm</a>, struct <a class=\"id\" href=\"#netlink_callback\">netlink_callback</a> *<a class=\"id\" href=\"#cb\">cb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       int *<a class=\"id\" href=\"#t_p\">t_p</a>, int <a class=\"id\" href=\"#s_t\">s_t</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#Qdisc\">Qdisc</a> *<a class=\"id\" href=\"#q\">q</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#root\">root</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tc_dump_tclass_qdisc\">tc_dump_tclass_qdisc</a>(<a class=\"id\" href=\"#root\">root</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tcm\">tcm</a>, <a class=\"id\" href=\"#cb\">cb</a>, <a class=\"id\" href=\"#t_p\">t_p</a>, <a class=\"id\" href=\"#s_t\">s_t</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -1;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#q\">q</a>, &amp;<a class=\"id\" href=\"#root\">root</a>-><a class=\"id\" href=\"#list\">list</a>, <a class=\"id\" href=\"#list\">list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tc_dump_tclass_qdisc\">tc_dump_tclass_qdisc</a>(<a class=\"id\" href=\"#q\">q</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tcm\">tcm</a>, <a class=\"id\" href=\"#cb\">cb</a>, <a class=\"id\" href=\"#t_p\">t_p</a>, <a class=\"id\" href=\"#s_t\">s_t</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -1;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#tc_dump_tclass\">tc_dump_tclass</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#netlink_callback\">netlink_callback</a> *<a class=\"id\" href=\"#cb\">cb</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a> *<a class=\"id\" href=\"#tcm\">tcm</a> = (struct <a class=\"id\" href=\"#tcmsg\">tcmsg</a>*)<a class=\"id\" href=\"#NLMSG_DATA\">NLMSG_DATA</a>(<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#netdev_queue\">netdev_queue</a> *<a class=\"id\" href=\"#dev_queue\">dev_queue</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#t\">t</a>, <a class=\"id\" href=\"#s_t\">s_t</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_len\">nlmsg_len</a> &lt; <a class=\"id\" href=\"#NLMSG_LENGTH\">NLMSG_LENGTH</a>(sizeof(*<a class=\"id\" href=\"#tcm\">tcm</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#dev_get_by_index\">dev_get_by_index</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#tcm\">tcm</a>-><a class=\"id\" href=\"#tcm_ifindex\">tcm_ifindex</a>)) == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#s_t\">s_t</a> = <a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[0];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#t\">t</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tc_dump_tclass_root\">tc_dump_tclass_root</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#qdisc\">qdisc</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tcm\">tcm</a>, <a class=\"id\" href=\"#cb\">cb</a>, &amp;<a class=\"id\" href=\"#t\">t</a>, <a class=\"id\" href=\"#s_t\">s_t</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_queue\">dev_queue</a> = &amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#rx_queue\">rx_queue</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tc_dump_tclass_root\">tc_dump_tclass_root</a>(<a class=\"id\" href=\"#dev_queue\">dev_queue</a>-><a class=\"id\" href=\"#qdisc_sleeping\">qdisc_sleeping</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tcm\">tcm</a>, <a class=\"id\" href=\"#cb\">cb</a>, &amp;<a class=\"id\" href=\"#t\">t</a>, <a class=\"id\" href=\"#s_t\">s_t</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"", 
"<a class=\"id\" href=\"#done\">done</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#args\">args</a>[0] = <a class=\"id\" href=\"#t\">t</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_put\">dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#len\">len</a>;", 
"}", 
"", 
"<span class=\"comment\">/* Main classifier routine: scans classifier chain attached</span>", 
"<span class=\"comment\">   to this qdisc, (optionally) tests for protocol and asks</span>", 
"<span class=\"comment\">   specific classifiers.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#tc_classify_compat\">tc_classify_compat</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>       struct <a class=\"id\" href=\"#tcf_result\">tcf_result</a> *<a class=\"id\" href=\"#res\">res</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__be16\">__be16</a> <a class=\"id\" href=\"#protocol\">protocol</a> = <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#protocol\">protocol</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = 0;", 
"", 
"<span class=\"ts\"/>for (; <a class=\"id\" href=\"#tp\">tp</a>; <a class=\"id\" href=\"#tp\">tp</a> = <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#next\">next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#protocol\">protocol</a> == <a class=\"id\" href=\"#protocol\">protocol</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#protocol\">protocol</a> == <a class=\"id\" href=\"#htons\">htons</a>(<a class=\"id\" href=\"#ETH_P_ALL\">ETH_P_ALL</a>)) &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#classify\">classify</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#res\">res</a>)) >= 0) {", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_NET_CLS_ACT\">CONFIG_NET_CLS_ACT</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> != <a class=\"id\" href=\"#TC_ACT_RECLASSIFY\">TC_ACT_RECLASSIFY</a> && <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#tc_verd\">tc_verd</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#tc_verd\">tc_verd</a> = <a class=\"id\" href=\"#SET_TC_VERD\">SET_TC_VERD</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#tc_verd\">tc_verd</a>, 0);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return -1;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#tc_classify_compat\">tc_classify_compat</a>);", 
"", 
"int <a class=\"id\" href=\"#tc_classify\">tc_classify</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_result\">tcf_result</a> *<a class=\"id\" href=\"#res\">res</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__be16\">__be16</a> <a class=\"id\" href=\"#protocol\">protocol</a>;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_NET_CLS_ACT\">CONFIG_NET_CLS_ACT</a>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#otp\">otp</a> = <a class=\"id\" href=\"#tp\">tp</a>;", 
"<a class=\"id\" href=\"#reclassify\">reclassify</a>:", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#protocol\">protocol</a> = <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#protocol\">protocol</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#tc_classify_compat\">tc_classify_compat</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#tp\">tp</a>, <a class=\"id\" href=\"#res\">res</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_NET_CLS_ACT\">CONFIG_NET_CLS_ACT</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == <a class=\"id\" href=\"#TC_ACT_RECLASSIFY\">TC_ACT_RECLASSIFY</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#verd\">verd</a> = <a class=\"id\" href=\"#G_TC_VERD\">G_TC_VERD</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#tc_verd\">tc_verd</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a> = <a class=\"id\" href=\"#otp\">otp</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#verd\">verd</a>++ >= <a class=\"id\" href=\"#MAX_REC_LOOP\">MAX_REC_LOOP</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#net_ratelimit\">net_ratelimit</a>())", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_NOTICE\">KERN_NOTICE</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       \"%s: packet reclassify loop\"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \" rule prio %u protocol %02x\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#q\">q</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#id\">id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#prio\">prio</a> &amp; 0xffff, <a class=\"id\" href=\"#ntohs\">ntohs</a>(<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#protocol\">protocol</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#TC_ACT_SHOT\">TC_ACT_SHOT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#tc_verd\">tc_verd</a> = <a class=\"id\" href=\"#SET_TC_VERD\">SET_TC_VERD</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#tc_verd\">tc_verd</a>, <a class=\"id\" href=\"#verd\">verd</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#reclassify\">reclassify</a>;", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#tc_classify\">tc_classify</a>);", 
"", 
"void <a class=\"id\" href=\"#tcf_destroy\">tcf_destroy</a>(struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#destroy\">destroy</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#module_put\">module_put</a>(<a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#owner\">owner</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"}", 
"", 
"void <a class=\"id\" href=\"#tcf_destroy_chain\">tcf_destroy_chain</a>(struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> **<a class=\"id\" href=\"#fl\">fl</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#tcf_proto\">tcf_proto</a> *<a class=\"id\" href=\"#tp\">tp</a>;", 
"", 
"<span class=\"ts\"/>while ((<a class=\"id\" href=\"#tp\">tp</a> = *<a class=\"id\" href=\"#fl\">fl</a>) != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#fl\">fl</a> = <a class=\"id\" href=\"#tp\">tp</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tcf_destroy\">tcf_destroy</a>(<a class=\"id\" href=\"#tp\">tp</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#tcf_destroy_chain\">tcf_destroy_chain</a>);", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_PROC_FS\">CONFIG_PROC_FS</a>", 
"static int <a class=\"id\" href=\"#psched_show\">psched_show</a>(struct <a class=\"id\" href=\"#seq_file\">seq_file</a> *<a class=\"id\" href=\"#seq\">seq</a>, void *<a class=\"id\" href=\"#v\">v</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#timespec\">timespec</a> <a class=\"id\" href=\"#ts\">ts</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hrtimer_get_res\">hrtimer_get_res</a>(<a class=\"id\" href=\"#CLOCK_MONOTONIC\">CLOCK_MONOTONIC</a>, &amp;<a class=\"id\" href=\"#ts\">ts</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"%08x %08x %08x %08x\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   (<a class=\"id\" href=\"#u32\">u32</a>)<a class=\"id\" href=\"#NSEC_PER_USEC\">NSEC_PER_USEC</a>, (<a class=\"id\" href=\"#u32\">u32</a>)<a class=\"id\" href=\"#PSCHED_TICKS2NS\">PSCHED_TICKS2NS</a>(1),", 
"<span class=\"ts\"/><span class=\"ts\"/>   1000000,", 
"<span class=\"ts\"/><span class=\"ts\"/>   (<a class=\"id\" href=\"#u32\">u32</a>)<a class=\"id\" href=\"#NSEC_PER_SEC\">NSEC_PER_SEC</a>/(<a class=\"id\" href=\"#u32\">u32</a>)<a class=\"id\" href=\"#ktime_to_ns\">ktime_to_ns</a>(<a class=\"id\" href=\"#timespec_to_ktime\">timespec_to_ktime</a>(<a class=\"id\" href=\"#ts\">ts</a>)));", 
"", 
"<span class=\"ts\"/>return 0;", 
];
xr_frag_insert('l/b5/bbdaaa554b01ca8728cb9745228069500e0baf.xr', __xr_tmp);
