var __xr_tmp = [
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_flags\">i_flags</a> |= <a class=\"id\" href=\"#S_NOQUOTA\">S_NOQUOTA</a> | <a class=\"id\" href=\"#S_NOATIME\">S_NOATIME</a> | <a class=\"id\" href=\"#S_IMMUTABLE\">S_IMMUTABLE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_mutex\">i_mutex</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * When S_NOQUOTA is set, remove dquot references as no more</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * references can be added</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__dquot_drop\">__dquot_drop</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EIO\">EIO</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#files\">files</a>[<a class=\"id\" href=\"#type\">type</a>] = <a class=\"id\" href=\"#igrab\">igrab</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#files\">files</a>[<a class=\"id\" href=\"#type\">type</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_lock\">out_lock</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#fmt\">fmt</a>-><a class=\"id\" href=\"#qf_ops\">qf_ops</a>-><a class=\"id\" href=\"#check_quota_file\">check_quota_file</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_file_init\">out_file_init</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#ops\">ops</a>[<a class=\"id\" href=\"#type\">type</a>] = <a class=\"id\" href=\"#fmt\">fmt</a>-><a class=\"id\" href=\"#qf_ops\">qf_ops</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#info\">info</a>[<a class=\"id\" href=\"#type\">type</a>].<a class=\"id\" href=\"#dqi_format\">dqi_format</a> = <a class=\"id\" href=\"#fmt\">fmt</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#info\">info</a>[<a class=\"id\" href=\"#type\">type</a>].<a class=\"id\" href=\"#dqi_fmt_id\">dqi_fmt_id</a> = <a class=\"id\" href=\"#format_id\">format_id</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#info\">info</a>[<a class=\"id\" href=\"#type\">type</a>].<a class=\"id\" href=\"#dqi_dirty_list\">dqi_dirty_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqio_mutex\">dqio_mutex</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#ops\">ops</a>[<a class=\"id\" href=\"#type\">type</a>]-><a class=\"id\" href=\"#read_file_info\">read_file_info</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqio_mutex\">dqio_mutex</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_file_init\">out_file_init</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqio_mutex\">dqio_mutex</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#dq_state_lock\">dq_state_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#dquot_state_flag\">dquot_state_flag</a>(<a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#type\">type</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#dq_state_lock\">dq_state_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#add_dquot_ref\">add_dquot_ref</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"", 
"<a class=\"id\" href=\"#out_file_init\">out_file_init</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#files\">files</a>[<a class=\"id\" href=\"#type\">type</a>] = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#iput\">iput</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<a class=\"id\" href=\"#out_lock\">out_lock</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#oldflags\">oldflags</a> != -1) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock_nested\">mutex_lock_nested</a>(&amp;<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_mutex\">i_mutex</a>, <a class=\"id\" href=\"#I_MUTEX_QUOTA\">I_MUTEX_QUOTA</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Set the flags back (in the case of accidental quotaon()</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * on a wrong file we don't want to mess up the flags) */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_flags\">i_flags</a> &= ~(<a class=\"id\" href=\"#S_NOATIME\">S_NOATIME</a> | <a class=\"id\" href=\"#S_NOQUOTA\">S_NOQUOTA</a> | <a class=\"id\" href=\"#S_IMMUTABLE\">S_IMMUTABLE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_flags\">i_flags</a> |= <a class=\"id\" href=\"#oldflags\">oldflags</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_mutex\">i_mutex</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"<a class=\"id\" href=\"#out_fmt\">out_fmt</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#put_quota_format\">put_quota_format</a>(<a class=\"id\" href=\"#fmt\">fmt</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>; ", 
"}", 
"", 
"<span class=\"comment\">/* Reenable quotas on remount RW */</span>", 
"int <a class=\"id\" href=\"#dquot_resume\">dquot_resume</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#quota_info\">quota_info</a> *<a class=\"id\" href=\"#dqopt\">dqopt</a> = <a class=\"id\" href=\"#sb_dqopt\">sb_dqopt</a>(<a class=\"id\" href=\"#sb\">sb</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = 0, <a class=\"id\" href=\"#cnt\">cnt</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#flags\">flags</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#cnt\">cnt</a> = 0; <a class=\"id\" href=\"#cnt\">cnt</a> &lt; <a class=\"id\" href=\"#MAXQUOTAS\">MAXQUOTAS</a>; <a class=\"id\" href=\"#cnt\">cnt</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#type\">type</a> != -1 && <a class=\"id\" href=\"#cnt\">cnt</a> != <a class=\"id\" href=\"#type\">type</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#sb_has_quota_suspended\">sb_has_quota_suspended</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#cnt\">cnt</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#inode\">inode</a> = <a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#files\">files</a>[<a class=\"id\" href=\"#cnt\">cnt</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#files\">files</a>[<a class=\"id\" href=\"#cnt\">cnt</a>] = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#dq_state_lock\">dq_state_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#dquot_state_flag\">dquot_state_flag</a>(<a class=\"id\" href=\"#DQUOT_USAGE_ENABLED\">DQUOT_USAGE_ENABLED</a> |", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DQUOT_LIMITS_ENABLED\">DQUOT_LIMITS_ENABLED</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cnt\">cnt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#flags\">flags</a> &= ~<a class=\"id\" href=\"#dquot_state_flag\">dquot_state_flag</a>(<a class=\"id\" href=\"#DQUOT_STATE_FLAGS\">DQUOT_STATE_FLAGS</a>, <a class=\"id\" href=\"#cnt\">cnt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#dq_state_lock\">dq_state_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#dquot_generic_flag\">dquot_generic_flag</a>(<a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#cnt\">cnt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#vfs_load_quota_inode\">vfs_load_quota_inode</a>(<a class=\"id\" href=\"#inode\">inode</a>, <a class=\"id\" href=\"#cnt\">cnt</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#info\">info</a>[<a class=\"id\" href=\"#cnt\">cnt</a>].<a class=\"id\" href=\"#dqi_fmt_id\">dqi_fmt_id</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#iput\">iput</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#dquot_resume\">dquot_resume</a>);", 
"", 
"int <a class=\"id\" href=\"#dquot_quota_on_path\">dquot_quota_on_path</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#type\">type</a>, int <a class=\"id\" href=\"#format_id\">format_id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>      struct <a class=\"id\" href=\"#path\">path</a> *<a class=\"id\" href=\"#path\">path</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#security_quota_on\">security_quota_on</a>(<a class=\"id\" href=\"#path\">path</a>-><a class=\"id\" href=\"#dentry\">dentry</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/><span class=\"comment\">/* Quota file not on the same filesystem? */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#path\">path</a>-><a class=\"id\" href=\"#mnt\">mnt</a>-><a class=\"id\" href=\"#mnt_sb\">mnt_sb</a> != <a class=\"id\" href=\"#sb\">sb</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#EXDEV\">EXDEV</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#vfs_load_quota_inode\">vfs_load_quota_inode</a>(<a class=\"id\" href=\"#path\">path</a>-><a class=\"id\" href=\"#dentry\">dentry</a>-><a class=\"id\" href=\"#d_inode\">d_inode</a>, <a class=\"id\" href=\"#type\">type</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#format_id\">format_id</a>, <a class=\"id\" href=\"#DQUOT_USAGE_ENABLED\">DQUOT_USAGE_ENABLED</a> |", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#DQUOT_LIMITS_ENABLED\">DQUOT_LIMITS_ENABLED</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#dquot_quota_on_path\">dquot_quota_on_path</a>);", 
"", 
"int <a class=\"id\" href=\"#dquot_quota_on\">dquot_quota_on</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#type\">type</a>, int <a class=\"id\" href=\"#format_id\">format_id</a>, char *<a class=\"id\" href=\"#name\">name</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#path\">path</a> <a class=\"id\" href=\"#path\">path</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#kern_path\">kern_path</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#LOOKUP_FOLLOW\">LOOKUP_FOLLOW</a>, &amp;<a class=\"id\" href=\"#path\">path</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#dquot_quota_on_path\">dquot_quota_on_path</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>, <a class=\"id\" href=\"#format_id\">format_id</a>, &amp;<a class=\"id\" href=\"#path\">path</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#path_put\">path_put</a>(&amp;<a class=\"id\" href=\"#path\">path</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#dquot_quota_on\">dquot_quota_on</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * More powerful function for turning on quotas allowing setting</span>", 
"<span class=\"comment\"> * of individual quota flags</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#dquot_enable\">dquot_enable</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, int <a class=\"id\" href=\"#type\">type</a>, int <a class=\"id\" href=\"#format_id\">format_id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/> unsigned int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a> = <a class=\"id\" href=\"#inode\">inode</a>-><a class=\"id\" href=\"#i_sb\">i_sb</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#quota_info\">quota_info</a> *<a class=\"id\" href=\"#dqopt\">dqopt</a> = <a class=\"id\" href=\"#sb_dqopt\">sb_dqopt</a>(<a class=\"id\" href=\"#sb\">sb</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Just unsuspend quotas? */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BUG_ON\">BUG_ON</a>(<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#DQUOT_SUSPENDED\">DQUOT_SUSPENDED</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#flags\">flags</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><span class=\"comment\">/* Just updating flags needed? */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sb_has_quota_loaded\">sb_has_quota_loaded</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Now do a reliable test... */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#sb_has_quota_loaded\">sb_has_quota_loaded</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#load_quota\">load_quota</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#DQUOT_USAGE_ENABLED\">DQUOT_USAGE_ENABLED</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#sb_has_quota_usage_enabled\">sb_has_quota_usage_enabled</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EBUSY\">EBUSY</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_lock\">out_lock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#DQUOT_LIMITS_ENABLED\">DQUOT_LIMITS_ENABLED</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#sb_has_quota_limits_enabled\">sb_has_quota_limits_enabled</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EBUSY\">EBUSY</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_lock\">out_lock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#dq_state_lock\">dq_state_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sb_dqopt\">sb_dqopt</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#dquot_state_flag\">dquot_state_flag</a>(<a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#type\">type</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#dq_state_lock\">dq_state_lock</a>);", 
"<a class=\"id\" href=\"#out_lock\">out_lock</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#dqopt\">dqopt</a>-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#load_quota\">load_quota</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#vfs_load_quota_inode\">vfs_load_quota_inode</a>(<a class=\"id\" href=\"#inode\">inode</a>, <a class=\"id\" href=\"#type\">type</a>, <a class=\"id\" href=\"#format_id\">format_id</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#dquot_enable\">dquot_enable</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * This function is used when filesystem needs to initialize quotas</span>", 
"<span class=\"comment\"> * during mount time.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#dquot_quota_on_mount\">dquot_quota_on_mount</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, char *<a class=\"id\" href=\"#qf_name\">qf_name</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#format_id\">format_id</a>, int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dentry\">dentry</a> *<a class=\"id\" href=\"#dentry\">dentry</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#sb\">sb</a>-><a class=\"id\" href=\"#s_root\">s_root</a>-><a class=\"id\" href=\"#d_inode\">d_inode</a>-><a class=\"id\" href=\"#i_mutex\">i_mutex</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dentry\">dentry</a> = <a class=\"id\" href=\"#lookup_one_len\">lookup_one_len</a>(<a class=\"id\" href=\"#qf_name\">qf_name</a>, <a class=\"id\" href=\"#sb\">sb</a>-><a class=\"id\" href=\"#s_root\">s_root</a>, <a class=\"id\" href=\"#strlen\">strlen</a>(<a class=\"id\" href=\"#qf_name\">qf_name</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#sb\">sb</a>-><a class=\"id\" href=\"#s_root\">s_root</a>-><a class=\"id\" href=\"#d_inode\">d_inode</a>-><a class=\"id\" href=\"#i_mutex\">i_mutex</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#dentry\">dentry</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#dentry\">dentry</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dentry\">dentry</a>-><a class=\"id\" href=\"#d_inode\">d_inode</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#security_quota_on\">security_quota_on</a>(<a class=\"id\" href=\"#dentry\">dentry</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#error\">error</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#vfs_load_quota_inode\">vfs_load_quota_inode</a>(<a class=\"id\" href=\"#dentry\">dentry</a>-><a class=\"id\" href=\"#d_inode\">d_inode</a>, <a class=\"id\" href=\"#type\">type</a>, <a class=\"id\" href=\"#format_id\">format_id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DQUOT_USAGE_ENABLED\">DQUOT_USAGE_ENABLED</a> | <a class=\"id\" href=\"#DQUOT_LIMITS_ENABLED\">DQUOT_LIMITS_ENABLED</a>);", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dput\">dput</a>(<a class=\"id\" href=\"#dentry\">dentry</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#dquot_quota_on_mount\">dquot_quota_on_mount</a>);", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> <a class=\"id\" href=\"#qsize_t\">qsize_t</a> <a class=\"id\" href=\"#qbtos\">qbtos</a>(<a class=\"id\" href=\"#qsize_t\">qsize_t</a> <a class=\"id\" href=\"#blocks\">blocks</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#blocks\">blocks</a> << <a class=\"id\" href=\"#QIF_DQBLKSIZE_BITS\">QIF_DQBLKSIZE_BITS</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> <a class=\"id\" href=\"#qsize_t\">qsize_t</a> <a class=\"id\" href=\"#stoqb\">stoqb</a>(<a class=\"id\" href=\"#qsize_t\">qsize_t</a> <a class=\"id\" href=\"#space\">space</a>)", 
"{", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#space\">space</a> + <a class=\"id\" href=\"#QIF_DQBLKSIZE\">QIF_DQBLKSIZE</a> - 1) >> <a class=\"id\" href=\"#QIF_DQBLKSIZE_BITS\">QIF_DQBLKSIZE_BITS</a>;", 
"}", 
"", 
"<span class=\"comment\">/* Generic routine for getting common part of quota structure */</span>", 
"static void <a class=\"id\" href=\"#do_get_dqblk\">do_get_dqblk</a>(struct <a class=\"id\" href=\"#dquot\">dquot</a> *<a class=\"id\" href=\"#dquot\">dquot</a>, struct <a class=\"id\" href=\"#fs_disk_quota\">fs_disk_quota</a> *<a class=\"id\" href=\"#di\">di</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#mem_dqblk\">mem_dqblk</a> *<a class=\"id\" href=\"#dm\">dm</a> = &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_dqb\">dq_dqb</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(<a class=\"id\" href=\"#di\">di</a>, 0, sizeof(*<a class=\"id\" href=\"#di\">di</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_version\">d_version</a> = <a class=\"id\" href=\"#FS_DQUOT_VERSION\">FS_DQUOT_VERSION</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_flags\">d_flags</a> = <a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_type\">dq_type</a> == <a class=\"id\" href=\"#USRQUOTA\">USRQUOTA</a> ?", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#FS_USER_QUOTA\">FS_USER_QUOTA</a> : <a class=\"id\" href=\"#FS_GROUP_QUOTA\">FS_GROUP_QUOTA</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_id\">d_id</a> = <a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_id\">dq_id</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#dq_data_lock\">dq_data_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_blk_hardlimit\">d_blk_hardlimit</a> = <a class=\"id\" href=\"#stoqb\">stoqb</a>(<a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_bhardlimit\">dqb_bhardlimit</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_blk_softlimit\">d_blk_softlimit</a> = <a class=\"id\" href=\"#stoqb\">stoqb</a>(<a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_bsoftlimit\">dqb_bsoftlimit</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_ino_hardlimit\">d_ino_hardlimit</a> = <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_ihardlimit\">dqb_ihardlimit</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_ino_softlimit\">d_ino_softlimit</a> = <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_isoftlimit\">dqb_isoftlimit</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_bcount\">d_bcount</a> = <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_curspace\">dqb_curspace</a> + <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_rsvspace\">dqb_rsvspace</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_icount\">d_icount</a> = <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_curinodes\">dqb_curinodes</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_btimer\">d_btimer</a> = <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_btime\">dqb_btime</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_itimer\">d_itimer</a> = <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_itime\">dqb_itime</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#dq_data_lock\">dq_data_lock</a>);", 
"}", 
"", 
"int <a class=\"id\" href=\"#dquot_get_dqblk\">dquot_get_dqblk</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#type\">type</a>, <a class=\"id\" href=\"#qid_t\">qid_t</a> <a class=\"id\" href=\"#id\">id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#fs_disk_quota\">fs_disk_quota</a> *<a class=\"id\" href=\"#di\">di</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dquot\">dquot</a> *<a class=\"id\" href=\"#dquot\">dquot</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dquot\">dquot</a> = <a class=\"id\" href=\"#dqget\">dqget</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#type\">type</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dquot\">dquot</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#do_get_dqblk\">do_get_dqblk</a>(<a class=\"id\" href=\"#dquot\">dquot</a>, <a class=\"id\" href=\"#di\">di</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dqput\">dqput</a>(<a class=\"id\" href=\"#dquot\">dquot</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#dquot_get_dqblk\">dquot_get_dqblk</a>);", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#VFS_FS_DQ_MASK\">VFS_FS_DQ_MASK</a> \\", 
"<span class=\"ts\"/>(<a class=\"id\" href=\"#FS_DQ_BCOUNT\">FS_DQ_BCOUNT</a> | <a class=\"id\" href=\"#FS_DQ_BSOFT\">FS_DQ_BSOFT</a> | <a class=\"id\" href=\"#FS_DQ_BHARD\">FS_DQ_BHARD</a> | \\", 
"<span class=\"ts\"/> <a class=\"id\" href=\"#FS_DQ_ICOUNT\">FS_DQ_ICOUNT</a> | <a class=\"id\" href=\"#FS_DQ_ISOFT\">FS_DQ_ISOFT</a> | <a class=\"id\" href=\"#FS_DQ_IHARD\">FS_DQ_IHARD</a> | \\", 
"<span class=\"ts\"/> <a class=\"id\" href=\"#FS_DQ_BTIMER\">FS_DQ_BTIMER</a> | <a class=\"id\" href=\"#FS_DQ_ITIMER\">FS_DQ_ITIMER</a>)", 
"", 
"<span class=\"comment\">/* Generic routine for setting common part of quota structure */</span>", 
"static int <a class=\"id\" href=\"#do_set_dqblk\">do_set_dqblk</a>(struct <a class=\"id\" href=\"#dquot\">dquot</a> *<a class=\"id\" href=\"#dquot\">dquot</a>, struct <a class=\"id\" href=\"#fs_disk_quota\">fs_disk_quota</a> *<a class=\"id\" href=\"#di\">di</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#mem_dqblk\">mem_dqblk</a> *<a class=\"id\" href=\"#dm\">dm</a> = &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_dqb\">dq_dqb</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#check_blim\">check_blim</a> = 0, <a class=\"id\" href=\"#check_ilim\">check_ilim</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#mem_dqinfo\">mem_dqinfo</a> *<a class=\"id\" href=\"#dqi\">dqi</a> = &amp;<a class=\"id\" href=\"#sb_dqopt\">sb_dqopt</a>(<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_sb\">dq_sb</a>)-><a class=\"id\" href=\"#info\">info</a>[<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_type\">dq_type</a>];", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; ~<a class=\"id\" href=\"#VFS_FS_DQ_MASK\">VFS_FS_DQ_MASK</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (((<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_BSOFT\">FS_DQ_BSOFT</a>) &&", 
"<span class=\"ts\"/>     (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_blk_softlimit\">d_blk_softlimit</a> &gt; <a class=\"id\" href=\"#dqi\">dqi</a>-><a class=\"id\" href=\"#dqi_maxblimit\">dqi_maxblimit</a>)) ||", 
"<span class=\"ts\"/>    ((<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_BHARD\">FS_DQ_BHARD</a>) &&", 
"<span class=\"ts\"/>     (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_blk_hardlimit\">d_blk_hardlimit</a> &gt; <a class=\"id\" href=\"#dqi\">dqi</a>-><a class=\"id\" href=\"#dqi_maxblimit\">dqi_maxblimit</a>)) ||", 
"<span class=\"ts\"/>    ((<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_ISOFT\">FS_DQ_ISOFT</a>) &&", 
"<span class=\"ts\"/>     (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_ino_softlimit\">d_ino_softlimit</a> &gt; <a class=\"id\" href=\"#dqi\">dqi</a>-><a class=\"id\" href=\"#dqi_maxilimit\">dqi_maxilimit</a>)) ||", 
"<span class=\"ts\"/>    ((<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_IHARD\">FS_DQ_IHARD</a>) &&", 
"<span class=\"ts\"/>     (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_ino_hardlimit\">d_ino_hardlimit</a> &gt; <a class=\"id\" href=\"#dqi\">dqi</a>-><a class=\"id\" href=\"#dqi_maxilimit\">dqi_maxilimit</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ERANGE\">ERANGE</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#dq_data_lock\">dq_data_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_BCOUNT\">FS_DQ_BCOUNT</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_curspace\">dqb_curspace</a> = <a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_bcount\">d_bcount</a> - <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_rsvspace\">dqb_rsvspace</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#check_blim\">check_blim</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#DQ_LASTSET_B\">DQ_LASTSET_B</a> + <a class=\"id\" href=\"#QIF_SPACE_B\">QIF_SPACE_B</a>, &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_flags\">dq_flags</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_BSOFT\">FS_DQ_BSOFT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_bsoftlimit\">dqb_bsoftlimit</a> = <a class=\"id\" href=\"#qbtos\">qbtos</a>(<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_blk_softlimit\">d_blk_softlimit</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_BHARD\">FS_DQ_BHARD</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_bhardlimit\">dqb_bhardlimit</a> = <a class=\"id\" href=\"#qbtos\">qbtos</a>(<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_blk_hardlimit\">d_blk_hardlimit</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; (<a class=\"id\" href=\"#FS_DQ_BSOFT\">FS_DQ_BSOFT</a> | <a class=\"id\" href=\"#FS_DQ_BHARD\">FS_DQ_BHARD</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#check_blim\">check_blim</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#DQ_LASTSET_B\">DQ_LASTSET_B</a> + <a class=\"id\" href=\"#QIF_BLIMITS_B\">QIF_BLIMITS_B</a>, &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_flags\">dq_flags</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_ICOUNT\">FS_DQ_ICOUNT</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_curinodes\">dqb_curinodes</a> = <a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_icount\">d_icount</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#check_ilim\">check_ilim</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#DQ_LASTSET_B\">DQ_LASTSET_B</a> + <a class=\"id\" href=\"#QIF_INODES_B\">QIF_INODES_B</a>, &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_flags\">dq_flags</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_ISOFT\">FS_DQ_ISOFT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_isoftlimit\">dqb_isoftlimit</a> = <a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_ino_softlimit\">d_ino_softlimit</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_IHARD\">FS_DQ_IHARD</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_ihardlimit\">dqb_ihardlimit</a> = <a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_ino_hardlimit\">d_ino_hardlimit</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; (<a class=\"id\" href=\"#FS_DQ_ISOFT\">FS_DQ_ISOFT</a> | <a class=\"id\" href=\"#FS_DQ_IHARD\">FS_DQ_IHARD</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#check_ilim\">check_ilim</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#DQ_LASTSET_B\">DQ_LASTSET_B</a> + <a class=\"id\" href=\"#QIF_ILIMITS_B\">QIF_ILIMITS_B</a>, &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_flags\">dq_flags</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_BTIMER\">FS_DQ_BTIMER</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_btime\">dqb_btime</a> = <a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_btimer\">d_btimer</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#check_blim\">check_blim</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#DQ_LASTSET_B\">DQ_LASTSET_B</a> + <a class=\"id\" href=\"#QIF_BTIME_B\">QIF_BTIME_B</a>, &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_flags\">dq_flags</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_ITIMER\">FS_DQ_ITIMER</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_itime\">dqb_itime</a> = <a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_itimer\">d_itimer</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#check_ilim\">check_ilim</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#DQ_LASTSET_B\">DQ_LASTSET_B</a> + <a class=\"id\" href=\"#QIF_ITIME_B\">QIF_ITIME_B</a>, &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_flags\">dq_flags</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#check_blim\">check_blim</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_bsoftlimit\">dqb_bsoftlimit</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_curspace\">dqb_curspace</a> &lt; <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_bsoftlimit\">dqb_bsoftlimit</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_btime\">dqb_btime</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#clear_bit\">clear_bit</a>(<a class=\"id\" href=\"#DQ_BLKS_B\">DQ_BLKS_B</a>, &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_flags\">dq_flags</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (!(<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_BTIMER\">FS_DQ_BTIMER</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Set grace only if user hasn't provided his own... */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_btime\">dqb_btime</a> = <a class=\"id\" href=\"#get_seconds\">get_seconds</a>() + <a class=\"id\" href=\"#dqi\">dqi</a>-><a class=\"id\" href=\"#dqi_bgrace\">dqi_bgrace</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#check_ilim\">check_ilim</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_isoftlimit\">dqb_isoftlimit</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_curinodes\">dqb_curinodes</a> &lt; <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_isoftlimit\">dqb_isoftlimit</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_itime\">dqb_itime</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#clear_bit\">clear_bit</a>(<a class=\"id\" href=\"#DQ_INODES_B\">DQ_INODES_B</a>, &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_flags\">dq_flags</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (!(<a class=\"id\" href=\"#di\">di</a>-><a class=\"id\" href=\"#d_fieldmask\">d_fieldmask</a> &amp; <a class=\"id\" href=\"#FS_DQ_ITIMER\">FS_DQ_ITIMER</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Set grace only if user hasn't provided his own... */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_itime\">dqb_itime</a> = <a class=\"id\" href=\"#get_seconds\">get_seconds</a>() + <a class=\"id\" href=\"#dqi\">dqi</a>-><a class=\"id\" href=\"#dqi_igrace\">dqi_igrace</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_bhardlimit\">dqb_bhardlimit</a> || <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_bsoftlimit\">dqb_bsoftlimit</a> || <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_ihardlimit\">dqb_ihardlimit</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#dm\">dm</a>-><a class=\"id\" href=\"#dqb_isoftlimit\">dqb_isoftlimit</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#clear_bit\">clear_bit</a>(<a class=\"id\" href=\"#DQ_FAKE_B\">DQ_FAKE_B</a>, &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_flags\">dq_flags</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#set_bit\">set_bit</a>(<a class=\"id\" href=\"#DQ_FAKE_B\">DQ_FAKE_B</a>, &amp;<a class=\"id\" href=\"#dquot\">dquot</a>-><a class=\"id\" href=\"#dq_flags\">dq_flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#dq_data_lock\">dq_data_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mark_dquot_dirty\">mark_dquot_dirty</a>(<a class=\"id\" href=\"#dquot\">dquot</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"int <a class=\"id\" href=\"#dquot_set_dqblk\">dquot_set_dqblk</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#type\">type</a>, <a class=\"id\" href=\"#qid_t\">qid_t</a> <a class=\"id\" href=\"#id\">id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#fs_disk_quota\">fs_disk_quota</a> *<a class=\"id\" href=\"#di\">di</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dquot\">dquot</a> *<a class=\"id\" href=\"#dquot\">dquot</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rc\">rc</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dquot\">dquot</a> = <a class=\"id\" href=\"#dqget\">dqget</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#type\">type</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dquot\">dquot</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = <a class=\"id\" href=\"#do_set_dqblk\">do_set_dqblk</a>(<a class=\"id\" href=\"#dquot\">dquot</a>, <a class=\"id\" href=\"#di\">di</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dqput\">dqput</a>(<a class=\"id\" href=\"#dquot\">dquot</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#dquot_set_dqblk\">dquot_set_dqblk</a>);", 
"", 
"<span class=\"comment\">/* Generic routine for getting common part of quota file information */</span>", 
"int <a class=\"id\" href=\"#dquot_get_dqinfo\">dquot_get_dqinfo</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#type\">type</a>, struct <a class=\"id\" href=\"#if_dqinfo\">if_dqinfo</a> *<a class=\"id\" href=\"#ii\">ii</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#mem_dqinfo\">mem_dqinfo</a> *<a class=\"id\" href=\"#mi\">mi</a>;", 
"  ", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#sb_dqopt\">sb_dqopt</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#sb_has_quota_active\">sb_has_quota_active</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#sb_dqopt\">sb_dqopt</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mi\">mi</a> = <a class=\"id\" href=\"#sb_dqopt\">sb_dqopt</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#info\">info</a> + <a class=\"id\" href=\"#type\">type</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#dq_data_lock\">dq_data_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ii\">ii</a>-><a class=\"id\" href=\"#dqi_bgrace\">dqi_bgrace</a> = <a class=\"id\" href=\"#mi\">mi</a>-><a class=\"id\" href=\"#dqi_bgrace\">dqi_bgrace</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ii\">ii</a>-><a class=\"id\" href=\"#dqi_igrace\">dqi_igrace</a> = <a class=\"id\" href=\"#mi\">mi</a>-><a class=\"id\" href=\"#dqi_igrace\">dqi_igrace</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ii\">ii</a>-><a class=\"id\" href=\"#dqi_flags\">dqi_flags</a> = <a class=\"id\" href=\"#mi\">mi</a>-><a class=\"id\" href=\"#dqi_flags\">dqi_flags</a> &amp; <a class=\"id\" href=\"#DQF_MASK\">DQF_MASK</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ii\">ii</a>-><a class=\"id\" href=\"#dqi_valid\">dqi_valid</a> = <a class=\"id\" href=\"#IIF_ALL\">IIF_ALL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#dq_data_lock\">dq_data_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#sb_dqopt\">sb_dqopt</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#dquot_get_dqinfo\">dquot_get_dqinfo</a>);", 
"", 
"<span class=\"comment\">/* Generic routine for setting common part of quota file information */</span>", 
"int <a class=\"id\" href=\"#dquot_set_dqinfo\">dquot_set_dqinfo</a>(struct <a class=\"id\" href=\"#super_block\">super_block</a> *<a class=\"id\" href=\"#sb\">sb</a>, int <a class=\"id\" href=\"#type\">type</a>, struct <a class=\"id\" href=\"#if_dqinfo\">if_dqinfo</a> *<a class=\"id\" href=\"#ii\">ii</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#mem_dqinfo\">mem_dqinfo</a> *<a class=\"id\" href=\"#mi\">mi</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#sb_dqopt\">sb_dqopt</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#dqonoff_mutex\">dqonoff_mutex</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#sb_has_quota_active\">sb_has_quota_active</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mi\">mi</a> = <a class=\"id\" href=\"#sb_dqopt\">sb_dqopt</a>(<a class=\"id\" href=\"#sb\">sb</a>)-><a class=\"id\" href=\"#info\">info</a> + <a class=\"id\" href=\"#type\">type</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#dq_data_lock\">dq_data_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ii\">ii</a>-><a class=\"id\" href=\"#dqi_valid\">dqi_valid</a> &amp; <a class=\"id\" href=\"#IIF_BGRACE\">IIF_BGRACE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mi\">mi</a>-><a class=\"id\" href=\"#dqi_bgrace\">dqi_bgrace</a> = <a class=\"id\" href=\"#ii\">ii</a>-><a class=\"id\" href=\"#dqi_bgrace\">dqi_bgrace</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ii\">ii</a>-><a class=\"id\" href=\"#dqi_valid\">dqi_valid</a> &amp; <a class=\"id\" href=\"#IIF_IGRACE\">IIF_IGRACE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mi\">mi</a>-><a class=\"id\" href=\"#dqi_igrace\">dqi_igrace</a> = <a class=\"id\" href=\"#ii\">ii</a>-><a class=\"id\" href=\"#dqi_igrace\">dqi_igrace</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ii\">ii</a>-><a class=\"id\" href=\"#dqi_valid\">dqi_valid</a> &amp; <a class=\"id\" href=\"#IIF_FLAGS\">IIF_FLAGS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mi\">mi</a>-><a class=\"id\" href=\"#dqi_flags\">dqi_flags</a> = (<a class=\"id\" href=\"#mi\">mi</a>-><a class=\"id\" href=\"#dqi_flags\">dqi_flags</a> &amp; ~<a class=\"id\" href=\"#DQF_MASK\">DQF_MASK</a>) |", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#ii\">ii</a>-><a class=\"id\" href=\"#dqi_flags\">dqi_flags</a> &amp; <a class=\"id\" href=\"#DQF_MASK\">DQF_MASK</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#dq_data_lock\">dq_data_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mark_info_dirty\">mark_info_dirty</a>(<a class=\"id\" href=\"#sb\">sb</a>, <a class=\"id\" href=\"#type\">type</a>);", 
];
xr_frag_insert('l/b6/bae1ba417e04ccf26f3ec426a3973e9fd03b7c.xr', __xr_tmp);
