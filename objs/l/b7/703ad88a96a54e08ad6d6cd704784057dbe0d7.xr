var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * processor_thermal.c - Passive cooling submodule of the ACPI processor driver</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Copyright (C) 2001, 2002 Andy Grover &lt;andrew.grover@intel.com&gt;</span>", 
"<span class=\"comment\"> *  Copyright (C) 2001, 2002 Paul Diefenbaugh &lt;paul.s.diefenbaugh@intel.com&gt;</span>", 
"<span class=\"comment\"> *  Copyright (C) 2004       Dominik Brodowski &lt;linux@brodo.de&gt;</span>", 
"<span class=\"comment\"> *  Copyright (C) 2004  Anil S Keshavamurthy &lt;anil.s.keshavamurthy@intel.com&gt;</span>", 
"<span class=\"comment\"> *  <span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>- Added processor hotplug support</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is free software; you can redistribute it and/or modify</span>", 
"<span class=\"comment\"> *  it under the terms of the GNU General Public License as published by</span>", 
"<span class=\"comment\"> *  the Free Software Foundation; either version 2 of the License, or (at</span>", 
"<span class=\"comment\"> *  your option) any later version.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  This program is distributed in the hope that it will be useful, but</span>", 
"<span class=\"comment\"> *  WITHOUT ANY WARRANTY; without even the implied warranty of</span>", 
"<span class=\"comment\"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>", 
"<span class=\"comment\"> *  General Public License for more details.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  You should have received a copy of the GNU General Public License along</span>", 
"<span class=\"comment\"> *  with this program; if not, write to the Free Software Foundation, Inc.,</span>", 
"<span class=\"comment\"> *  59 Temple Place, Suite 330, Boston, MA 02111-1307 USA.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#cpufreq\">cpufreq</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#sysdev\">sysdev</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#uaccess\">uaccess</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_bus\">acpi_bus</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#processor\">processor</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_drivers\">acpi_drivers</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"ACPI: \"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#ACPI_PROCESSOR_CLASS\">ACPI_PROCESSOR_CLASS</a>            \"processor\"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#_COMPONENT\">_COMPONENT</a>              <a class=\"id\" href=\"#ACPI_PROCESSOR_COMPONENT\">ACPI_PROCESSOR_COMPONENT</a>", 
"<a class=\"id\" href=\"#ACPI_MODULE_NAME\">ACPI_MODULE_NAME</a>(\"processor_thermal\");", 
"", 
"<span class=\"comment\">/* --------------------------------------------------------------------------</span>", 
"<span class=\"comment\">                                 Limit Interface</span>", 
"<span class=\"comment\">   -------------------------------------------------------------------------- */</span>", 
"static int <a class=\"id\" href=\"#acpi_processor_apply_limit\">acpi_processor_apply_limit</a>(struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#px\">px</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#tx\">tx</a> = 0;", 
"", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pr\">pr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#limit\">limit</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#throttling\">throttling</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#user\">user</a>.<a class=\"id\" href=\"#tx\">tx</a> &gt; <a class=\"id\" href=\"#tx\">tx</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tx\">tx</a> = <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#user\">user</a>.<a class=\"id\" href=\"#tx\">tx</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#thermal\">thermal</a>.<a class=\"id\" href=\"#tx\">tx</a> &gt; <a class=\"id\" href=\"#tx\">tx</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tx\">tx</a> = <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#thermal\">thermal</a>.<a class=\"id\" href=\"#tx\">tx</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_processor_set_throttling\">acpi_processor_set_throttling</a>(<a class=\"id\" href=\"#pr\">pr</a>, <a class=\"id\" href=\"#tx\">tx</a>, <a class=\"id\" href=\"#false\">false</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#px\">px</a> = <a class=\"id\" href=\"#px\">px</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#tx\">tx</a> = <a class=\"id\" href=\"#tx\">tx</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"Processor [%d] limit set to (P%d:T%d)\\n\", <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#px\">px</a>, <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#tx\">tx</a>));", 
"", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Unable to set limit\\n\");", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_CPU_FREQ\">CONFIG_CPU_FREQ</a>", 
"", 
"<span class=\"comment\">/* If a passive cooling situation is detected, primarily CPUfreq is used, as it</span>", 
"<span class=\"comment\"> * offers (in most cases) voltage scaling in addition to frequency scaling, and</span>", 
"<span class=\"comment\"> * thus a cubic (instead of linear) reduction of energy. Also, we allow for</span>", 
"<span class=\"comment\"> * _any_ cpufreq driver and not only the acpi-cpufreq driver.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#CPUFREQ_THERMAL_MIN_STEP\">CPUFREQ_THERMAL_MIN_STEP</a> 0", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#CPUFREQ_THERMAL_MAX_STEP\">CPUFREQ_THERMAL_MAX_STEP</a> 3", 
"", 
"static <a class=\"id\" href=\"#DEFINE_PER_CPU\">DEFINE_PER_CPU</a>(unsigned int, <a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>);", 
"static unsigned int <a class=\"id\" href=\"#acpi_thermal_cpufreq_is_init\">acpi_thermal_cpufreq_is_init</a> = 0;", 
"", 
"static int <a class=\"id\" href=\"#cpu_has_cpufreq\">cpu_has_cpufreq</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpufreq_policy\">cpufreq_policy</a> <a class=\"id\" href=\"#policy\">policy</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#acpi_thermal_cpufreq_is_init\">acpi_thermal_cpufreq_is_init</a> || <a class=\"id\" href=\"#cpufreq_get_policy\">cpufreq_get_policy</a>(&amp;<a class=\"id\" href=\"#policy\">policy</a>, <a class=\"id\" href=\"#cpu\">cpu</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_thermal_cpufreq_increase\">acpi_thermal_cpufreq_increase</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#cpu_has_cpufreq\">cpu_has_cpufreq</a>(<a class=\"id\" href=\"#cpu\">cpu</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>, <a class=\"id\" href=\"#cpu\">cpu</a>) &lt;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#CPUFREQ_THERMAL_MAX_STEP\">CPUFREQ_THERMAL_MAX_STEP</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>, <a class=\"id\" href=\"#cpu\">cpu</a>)++;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpufreq_update_policy\">cpufreq_update_policy</a>(<a class=\"id\" href=\"#cpu\">cpu</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#ERANGE\">ERANGE</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_thermal_cpufreq_decrease\">acpi_thermal_cpufreq_decrease</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#cpu_has_cpufreq\">cpu_has_cpufreq</a>(<a class=\"id\" href=\"#cpu\">cpu</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>, <a class=\"id\" href=\"#cpu\">cpu</a>) &gt;", 
"<span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#CPUFREQ_THERMAL_MIN_STEP\">CPUFREQ_THERMAL_MIN_STEP</a> + 1))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>, <a class=\"id\" href=\"#cpu\">cpu</a>)--;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>, <a class=\"id\" href=\"#cpu\">cpu</a>) = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpufreq_update_policy\">cpufreq_update_policy</a>(<a class=\"id\" href=\"#cpu\">cpu</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/* We reached max freq again and can leave passive mode */</span>", 
"<span class=\"ts\"/>return !<a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>, <a class=\"id\" href=\"#cpu\">cpu</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_thermal_cpufreq_notifier\">acpi_thermal_cpufreq_notifier</a>(struct <a class=\"id\" href=\"#notifier_block\">notifier_block</a> *<a class=\"id\" href=\"#nb\">nb</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> unsigned long <a class=\"id\" href=\"#event\">event</a>, void *<a class=\"id\" href=\"#data\">data</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpufreq_policy\">cpufreq_policy</a> *<a class=\"id\" href=\"#policy\">policy</a> = <a class=\"id\" href=\"#data\">data</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#max_freq\">max_freq</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#event\">event</a> != <a class=\"id\" href=\"#CPUFREQ_ADJUST\">CPUFREQ_ADJUST</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#max_freq\">max_freq</a> = (", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#policy\">policy</a>-><a class=\"id\" href=\"#cpuinfo\">cpuinfo</a>.<a class=\"id\" href=\"#max_freq\">max_freq</a> *", 
"<span class=\"ts\"/>    (100 - <a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>, <a class=\"id\" href=\"#policy\">policy</a>-><a class=\"id\" href=\"#cpu\">cpu</a>) * 20)", 
"<span class=\"ts\"/>) / 100;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpufreq_verify_within_limits\">cpufreq_verify_within_limits</a>(<a class=\"id\" href=\"#policy\">policy</a>, 0, <a class=\"id\" href=\"#max_freq\">max_freq</a>);", 
"", 
"      <a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#notifier_block\">notifier_block</a> <a class=\"id\" href=\"#acpi_thermal_cpufreq_notifier_block\">acpi_thermal_cpufreq_notifier_block</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#notifier_call\">notifier_call</a> = <a class=\"id\" href=\"#acpi_thermal_cpufreq_notifier\">acpi_thermal_cpufreq_notifier</a>,", 
"};", 
"", 
"static int <a class=\"id\" href=\"#cpufreq_get_max_state\">cpufreq_get_max_state</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#cpu_has_cpufreq\">cpu_has_cpufreq</a>(<a class=\"id\" href=\"#cpu\">cpu</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#CPUFREQ_THERMAL_MAX_STEP\">CPUFREQ_THERMAL_MAX_STEP</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#cpufreq_get_cur_state\">cpufreq_get_cur_state</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#cpu_has_cpufreq\">cpu_has_cpufreq</a>(<a class=\"id\" href=\"#cpu\">cpu</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>, <a class=\"id\" href=\"#cpu\">cpu</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#cpufreq_set_cur_state\">cpufreq_set_cur_state</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>, int <a class=\"id\" href=\"#state\">state</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#cpu_has_cpufreq\">cpu_has_cpufreq</a>(<a class=\"id\" href=\"#cpu\">cpu</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>, <a class=\"id\" href=\"#cpu\">cpu</a>) = <a class=\"id\" href=\"#state\">state</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpufreq_update_policy\">cpufreq_update_policy</a>(<a class=\"id\" href=\"#cpu\">cpu</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"void <a class=\"id\" href=\"#acpi_thermal_cpufreq_init\">acpi_thermal_cpufreq_init</a>(void)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#nr_cpu_ids\">nr_cpu_ids</a>; <a class=\"id\" href=\"#i\">i</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cpu_present\">cpu_present</a>(<a class=\"id\" href=\"#i\">i</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#per_cpu\">per_cpu</a>(<a class=\"id\" href=\"#cpufreq_thermal_reduction_pctg\">cpufreq_thermal_reduction_pctg</a>, <a class=\"id\" href=\"#i\">i</a>) = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#cpufreq_register_notifier\">cpufreq_register_notifier</a>(&amp;<a class=\"id\" href=\"#acpi_thermal_cpufreq_notifier_block\">acpi_thermal_cpufreq_notifier_block</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#CPUFREQ_POLICY_NOTIFIER\">CPUFREQ_POLICY_NOTIFIER</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#i\">i</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_thermal_cpufreq_is_init\">acpi_thermal_cpufreq_is_init</a> = 1;", 
"}", 
"", 
"void <a class=\"id\" href=\"#acpi_thermal_cpufreq_exit\">acpi_thermal_cpufreq_exit</a>(void)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_thermal_cpufreq_is_init\">acpi_thermal_cpufreq_is_init</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpufreq_unregister_notifier\">cpufreq_unregister_notifier</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>    (&amp;<a class=\"id\" href=\"#acpi_thermal_cpufreq_notifier_block\">acpi_thermal_cpufreq_notifier_block</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#CPUFREQ_POLICY_NOTIFIER\">CPUFREQ_POLICY_NOTIFIER</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_thermal_cpufreq_is_init\">acpi_thermal_cpufreq_is_init</a> = 0;", 
"}", 
"", 
"#else<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* ! CONFIG_CPU_FREQ */</span>", 
"static int <a class=\"id\" href=\"#cpufreq_get_max_state\">cpufreq_get_max_state</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#cpufreq_get_cur_state\">cpufreq_get_cur_state</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#cpufreq_set_cur_state\">cpufreq_set_cur_state</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>, int <a class=\"id\" href=\"#state\">state</a>)", 
"{", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#acpi_thermal_cpufreq_increase\">acpi_thermal_cpufreq_increase</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"}", 
"static int <a class=\"id\" href=\"#acpi_thermal_cpufreq_decrease\">acpi_thermal_cpufreq_decrease</a>(unsigned int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"int <a class=\"id\" href=\"#acpi_processor_set_thermal_limit\">acpi_processor_set_thermal_limit</a>(<a class=\"id\" href=\"#acpi_handle\">acpi_handle</a> <a class=\"id\" href=\"#handle\">handle</a>, int <a class=\"id\" href=\"#type\">type</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#tx\">tx</a> = 0, <a class=\"id\" href=\"#max_tx_px\">max_tx_px</a> = 0;", 
"", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#type\">type</a> &lt; <a class=\"id\" href=\"#ACPI_PROCESSOR_LIMIT_NONE\">ACPI_PROCESSOR_LIMIT_NONE</a>)", 
"<span class=\"ts\"/>    || (<a class=\"id\" href=\"#type\">type</a> &gt; <a class=\"id\" href=\"#ACPI_PROCESSOR_LIMIT_DECREMENT\">ACPI_PROCESSOR_LIMIT_DECREMENT</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_bus_get_device\">acpi_bus_get_device</a>(<a class=\"id\" href=\"#handle\">handle</a>, &amp;<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pr\">pr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Thermal limits are always relative to the current Px/Tx state. */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#throttling\">throttling</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#thermal\">thermal</a>.<a class=\"id\" href=\"#tx\">tx</a> = <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#state\">state</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Our default policy is to only use throttling at the lowest</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * performance state.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tx\">tx</a> = <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#thermal\">thermal</a>.<a class=\"id\" href=\"#tx\">tx</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#type\">type</a>) {", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_PROCESSOR_LIMIT_NONE\">ACPI_PROCESSOR_LIMIT_NONE</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>do {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_thermal_cpufreq_decrease\">acpi_thermal_cpufreq_decrease</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} while (!<a class=\"id\" href=\"#result\">result</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tx\">tx</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_PROCESSOR_LIMIT_INCREMENT\">ACPI_PROCESSOR_LIMIT_INCREMENT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* if going up: P-states first, T-states later */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_thermal_cpufreq_increase\">acpi_thermal_cpufreq_increase</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#result\">result</a> == -<a class=\"id\" href=\"#ERANGE\">ERANGE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"At maximum performance state\\n\"));", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#throttling\">throttling</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tx\">tx</a> == (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#state_count\">state_count</a> - 1))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"At maximum throttling state\\n\"));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tx\">tx</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ACPI_PROCESSOR_LIMIT_DECREMENT\">ACPI_PROCESSOR_LIMIT_DECREMENT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* if going down: T-states first, P-states later */</span>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#throttling\">throttling</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#tx\">tx</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#max_tx_px\">max_tx_px</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"At minimum throttling state\\n\"));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tx\">tx</a>--;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#end\">end</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_thermal_cpufreq_decrease\">acpi_thermal_cpufreq_decrease</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * We only could get -ERANGE, 1 or 0.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> * In the first two cases we reached max freq again.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  \"At minimum performance state\\n\"));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#max_tx_px\">max_tx_px</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#max_tx_px\">max_tx_px</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"      <a class=\"id\" href=\"#end\">end</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#throttling\">throttling</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#thermal\">thermal</a>.<a class=\"id\" href=\"#px\">px</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#thermal\">thermal</a>.<a class=\"id\" href=\"#tx\">tx</a> = <a class=\"id\" href=\"#tx\">tx</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_processor_apply_limit\">acpi_processor_apply_limit</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#result\">result</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"Unable to set thermal limit\\n\");", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_DEBUG_PRINT\">ACPI_DEBUG_PRINT</a>((<a class=\"id\" href=\"#ACPI_DB_INFO\">ACPI_DB_INFO</a>, \"Thermal limit now (P%d:T%d)\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#thermal\">thermal</a>.<a class=\"id\" href=\"#px\">px</a>, <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#limit\">limit</a>.<a class=\"id\" href=\"#thermal\">thermal</a>.<a class=\"id\" href=\"#tx\">tx</a>));", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#max_tx_px\">max_tx_px</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#acpi_processor_get_limit_info\">acpi_processor_get_limit_info</a>(struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a>)", 
"{", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pr\">pr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#throttling\">throttling</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#limit\">limit</a> = 1;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/* thermal coolign device callbacks */</span>", 
"static int <a class=\"id\" href=\"#acpi_processor_max_state\">acpi_processor_max_state</a>(struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#max_state\">max_state</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * There exists four states according to</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * cpufreq_thermal_reduction_ptg. 0, 1, 2, 3</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#max_state\">max_state</a> += <a class=\"id\" href=\"#cpufreq_get_max_state\">cpufreq_get_max_state</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#throttling\">throttling</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#max_state\">max_state</a> += (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#state_count\">state_count</a> -1);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#max_state\">max_state</a>;", 
"}", 
"static int", 
"<a class=\"id\" href=\"#processor_get_max_state\">processor_get_max_state</a>(struct <a class=\"id\" href=\"#thermal_cooling_device\">thermal_cooling_device</a> *<a class=\"id\" href=\"#cdev\">cdev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>unsigned long *<a class=\"id\" href=\"#state\">state</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#cdev\">cdev</a>-><a class=\"id\" href=\"#devdata\">devdata</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a> || !<a class=\"id\" href=\"#pr\">pr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#state\">state</a> = <a class=\"id\" href=\"#acpi_processor_max_state\">acpi_processor_max_state</a>(<a class=\"id\" href=\"#pr\">pr</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int", 
"<a class=\"id\" href=\"#processor_get_cur_state\">processor_get_cur_state</a>(struct <a class=\"id\" href=\"#thermal_cooling_device\">thermal_cooling_device</a> *<a class=\"id\" href=\"#cdev\">cdev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>unsigned long *<a class=\"id\" href=\"#cur_state\">cur_state</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#cdev\">cdev</a>-><a class=\"id\" href=\"#devdata\">devdata</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a> || !<a class=\"id\" href=\"#pr\">pr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#cur_state\">cur_state</a> = <a class=\"id\" href=\"#cpufreq_get_cur_state\">cpufreq_get_cur_state</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#throttling\">throttling</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#cur_state\">cur_state</a> += <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#state\">state</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int", 
"<a class=\"id\" href=\"#processor_set_cur_state\">processor_set_cur_state</a>(struct <a class=\"id\" href=\"#thermal_cooling_device\">thermal_cooling_device</a> *<a class=\"id\" href=\"#cdev\">cdev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#state\">state</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#device\">device</a> = <a class=\"id\" href=\"#cdev\">cdev</a>-><a class=\"id\" href=\"#devdata\">devdata</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_processor\">acpi_processor</a> *<a class=\"id\" href=\"#pr\">pr</a> = <a class=\"id\" href=\"#acpi_driver_data\">acpi_driver_data</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#result\">result</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#max_pstate\">max_pstate</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#device\">device</a> || !<a class=\"id\" href=\"#pr\">pr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#max_pstate\">max_pstate</a> = <a class=\"id\" href=\"#cpufreq_get_max_state\">cpufreq_get_max_state</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#state\">state</a> &gt; <a class=\"id\" href=\"#acpi_processor_max_state\">acpi_processor_max_state</a>(<a class=\"id\" href=\"#pr\">pr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#state\">state</a> <= <a class=\"id\" href=\"#max_pstate\">max_pstate</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#throttling\">throttling</a> && <a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#throttling\">throttling</a>.<a class=\"id\" href=\"#state\">state</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_processor_set_throttling\">acpi_processor_set_throttling</a>(<a class=\"id\" href=\"#pr\">pr</a>, 0, <a class=\"id\" href=\"#false\">false</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpufreq_set_cur_state\">cpufreq_set_cur_state</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#state\">state</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpufreq_set_cur_state\">cpufreq_set_cur_state</a>(<a class=\"id\" href=\"#pr\">pr</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#max_pstate\">max_pstate</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#result\">result</a> = <a class=\"id\" href=\"#acpi_processor_set_throttling\">acpi_processor_set_throttling</a>(<a class=\"id\" href=\"#pr\">pr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#state\">state</a> - <a class=\"id\" href=\"#max_pstate\">max_pstate</a>, <a class=\"id\" href=\"#false\">false</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#result\">result</a>;", 
"}", 
"", 
"struct <a class=\"id\" href=\"#thermal_cooling_device_ops\">thermal_cooling_device_ops</a> <a class=\"id\" href=\"#processor_cooling_ops\">processor_cooling_ops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#get_max_state\">get_max_state</a> = <a class=\"id\" href=\"#processor_get_max_state\">processor_get_max_state</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#get_cur_state\">get_cur_state</a> = <a class=\"id\" href=\"#processor_get_cur_state\">processor_get_cur_state</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#set_cur_state\">set_cur_state</a> = <a class=\"id\" href=\"#processor_set_cur_state\">processor_set_cur_state</a>,", 
"};", 
];
xr_frag_insert('l/b7/703ad88a96a54e08ad6d6cd704784057dbe0d7.xr', __xr_tmp);
