var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * linux/drivers/video/fbmon.c</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright (C) 2002 James Simmons &lt;jsimmons@users.sf.net&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Credits:</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * The EDID Parser is a conglomeration from the following sources:</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *   1. SciTech SNAP Graphics Architecture</span>", 
"<span class=\"comment\"> *      Copyright (C) 1991-2002 SciTech Software, Inc. All rights reserved.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *   2. XFree86 4.3.0, interpret_edid.c</span>", 
"<span class=\"comment\"> *      Copyright 1998 by Egbert Eich &lt;Egbert.Eich@Physik.TU-Darmstadt.DE&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *   3. John Fremlin &lt;vii@users.sourceforge.net&gt; and</span>", 
"<span class=\"comment\"> *      Ani Joshi &lt;ajoshi@unixbox.com&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Generalized Timing Formula is derived from:</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *      GTF Spreadsheet by Andy Morrish (1/5/97)</span>", 
"<span class=\"comment\"> *      available at http://www.vesa.org</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This file is subject to the terms and conditions of the GNU General Public</span>", 
"<span class=\"comment\"> * License.  See the file COPYING in the main directory of this archive</span>", 
"<span class=\"comment\"> * for more details.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#fb\">fb</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#pci\">pci</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#video\">video</a>/<a class=\"id\" href=\"#edid\">edid</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_PPC_OF\">CONFIG_PPC_OF</a>", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#prom\">prom</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#pci\">pci</a>-<a class=\"id\" href=\"#bridge\">bridge</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#include\">include</a> \"edid.h\"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * EDID parser</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#undef\">undef</a> <a class=\"id\" href=\"#DEBUG\">DEBUG</a>  <span class=\"comment\">/* define this for verbose EDID parsing output */</span>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#DEBUG\">DEBUG</a>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(<a class=\"id\" href=\"#fmt\">fmt</a>, <a class=\"id\" href=\"#args\">args</a>...) <a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#fmt\">fmt</a>,## <a class=\"id\" href=\"#args\">args</a>)", 
"#else", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(<a class=\"id\" href=\"#fmt\">fmt</a>, <a class=\"id\" href=\"#args\">args</a>...)", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#FBMON_FIX_HEADER\">FBMON_FIX_HEADER</a>  1", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#FBMON_FIX_INPUT\">FBMON_FIX_INPUT</a>   2", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#FBMON_FIX_TIMINGS\">FBMON_FIX_TIMINGS</a> 3", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_FB_MODE_HELPERS\">CONFIG_FB_MODE_HELPERS</a>", 
"struct <a class=\"id\" href=\"#broken_edid\">broken_edid</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a>  <a class=\"id\" href=\"#manufacturer\">manufacturer</a>[4];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#model\">model</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#fix\">fix</a>;", 
"};", 
"", 
"static const struct <a class=\"id\" href=\"#broken_edid\">broken_edid</a> <a class=\"id\" href=\"#brokendb\">brokendb</a>[] = {", 
"<span class=\"ts\"/><span class=\"comment\">/* DEC FR-PCXAV-YZ */</span>", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#manufacturer\">manufacturer</a> = \"DEC\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#model\">model</a>        = 0x073a,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fix\">fix</a>          = <a class=\"id\" href=\"#FBMON_FIX_HEADER\">FBMON_FIX_HEADER</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/><span class=\"comment\">/* ViewSonic PF775a */</span>", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#manufacturer\">manufacturer</a> = \"VSC\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#model\">model</a>        = 0x5a44,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fix\">fix</a>          = <a class=\"id\" href=\"#FBMON_FIX_INPUT\">FBMON_FIX_INPUT</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/><span class=\"comment\">/* Sharp UXGA? */</span>", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#manufacturer\">manufacturer</a> = \"SHP\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#model\">model</a>        = 0x138e,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fix\">fix</a>          = <a class=\"id\" href=\"#FBMON_FIX_TIMINGS\">FBMON_FIX_TIMINGS</a>,", 
"<span class=\"ts\"/>},", 
"};", 
"", 
"static const unsigned char <a class=\"id\" href=\"#edid_v1_header\">edid_v1_header</a>[] = { 0x00, 0xff, 0xff, 0xff,", 
"<span class=\"ts\"/>0xff, 0xff, 0xff, 0x00", 
"};", 
"", 
"static void <a class=\"id\" href=\"#copy_string\">copy_string</a>(unsigned char *<a class=\"id\" href=\"#c\">c</a>, unsigned char *<a class=\"id\" href=\"#s\">s</a>)", 
"{", 
"  int <a class=\"id\" href=\"#i\">i</a>;", 
"  <a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#c\">c</a> + 5;", 
"  for (<a class=\"id\" href=\"#i\">i</a> = 0; (<a class=\"id\" href=\"#i\">i</a> &lt; 13 && *<a class=\"id\" href=\"#c\">c</a> != 0x0A); <a class=\"id\" href=\"#i\">i</a>++)", 
"    *(<a class=\"id\" href=\"#s\">s</a>++) = *(<a class=\"id\" href=\"#c\">c</a>++);", 
"  *<a class=\"id\" href=\"#s\">s</a> = 0;", 
"  while (<a class=\"id\" href=\"#i\">i</a>-- && (*--<a class=\"id\" href=\"#s\">s</a> == 0x20)) *<a class=\"id\" href=\"#s\">s</a> = 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#edid_is_serial_block\">edid_is_serial_block</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>)", 
"{", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#block\">block</a>[0] == 0x00) && (<a class=\"id\" href=\"#block\">block</a>[1] == 0x00) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#block\">block</a>[2] == 0x00) && (<a class=\"id\" href=\"#block\">block</a>[3] == 0xff) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#block\">block</a>[4] == 0x00))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#edid_is_ascii_block\">edid_is_ascii_block</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>)", 
"{", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#block\">block</a>[0] == 0x00) && (<a class=\"id\" href=\"#block\">block</a>[1] == 0x00) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#block\">block</a>[2] == 0x00) && (<a class=\"id\" href=\"#block\">block</a>[3] == 0xfe) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#block\">block</a>[4] == 0x00))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#edid_is_limits_block\">edid_is_limits_block</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>)", 
"{", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#block\">block</a>[0] == 0x00) && (<a class=\"id\" href=\"#block\">block</a>[1] == 0x00) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#block\">block</a>[2] == 0x00) && (<a class=\"id\" href=\"#block\">block</a>[3] == 0xfd) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#block\">block</a>[4] == 0x00))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#edid_is_monitor_block\">edid_is_monitor_block</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>)", 
"{", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#block\">block</a>[0] == 0x00) && (<a class=\"id\" href=\"#block\">block</a>[1] == 0x00) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#block\">block</a>[2] == 0x00) && (<a class=\"id\" href=\"#block\">block</a>[3] == 0xfc) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#block\">block</a>[4] == 0x00))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#edid_is_timing_block\">edid_is_timing_block</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>)", 
"{", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#block\">block</a>[0] != 0x00) || (<a class=\"id\" href=\"#block\">block</a>[1] != 0x00) ||", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#block\">block</a>[2] != 0x00) || (<a class=\"id\" href=\"#block\">block</a>[4] != 0x00))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#check_edid\">check_edid</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>)", 
"{", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#block\">block</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#ID_MANUFACTURER_NAME\">ID_MANUFACTURER_NAME</a>, <a class=\"id\" href=\"#manufacturer\">manufacturer</a>[4];", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#b\">b</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#model\">model</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#fix\">fix</a> = 0, <a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#manufacturer\">manufacturer</a>[0] = ((<a class=\"id\" href=\"#block\">block</a>[0] &amp; 0x7c) >> 2) + '@';", 
"<span class=\"ts\"/><a class=\"id\" href=\"#manufacturer\">manufacturer</a>[1] = ((<a class=\"id\" href=\"#block\">block</a>[0] &amp; 0x03) << 3) +", 
"<span class=\"ts\"/><span class=\"ts\"/>((<a class=\"id\" href=\"#block\">block</a>[1] &amp; 0xe0) >> 5) + '@';", 
"<span class=\"ts\"/><a class=\"id\" href=\"#manufacturer\">manufacturer</a>[2] = (<a class=\"id\" href=\"#block\">block</a>[1] &amp; 0x1f) + '@';", 
"<span class=\"ts\"/><a class=\"id\" href=\"#manufacturer\">manufacturer</a>[3] = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#model\">model</a> = <a class=\"id\" href=\"#block\">block</a>[2] + (<a class=\"id\" href=\"#block\">block</a>[3] << 8);", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#brokendb\">brokendb</a>); <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#manufacturer\">manufacturer</a>, <a class=\"id\" href=\"#brokendb\">brokendb</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#manufacturer\">manufacturer</a>, 4) &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#brokendb\">brokendb</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#model\">model</a> == <a class=\"id\" href=\"#model\">model</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fix\">fix</a> = <a class=\"id\" href=\"#brokendb\">brokendb</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#fix\">fix</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#fix\">fix</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBMON_FIX_HEADER\">FBMON_FIX_HEADER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 8; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#edid\">edid</a>[<a class=\"id\" href=\"#i\">i</a>] != <a class=\"id\" href=\"#edid_v1_header\">edid_v1_header</a>[<a class=\"id\" href=\"#i\">i</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fix\">fix</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBMON_FIX_INPUT\">FBMON_FIX_INPUT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#EDID_STRUCT_DISPLAY\">EDID_STRUCT_DISPLAY</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Only if display is GTF capable will</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/>   the input type be reset to analog */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#b\">b</a>[4] &amp; 0x01 && <a class=\"id\" href=\"#b\">b</a>[0] &amp; 0x80)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fix\">fix</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBMON_FIX_TIMINGS\">FBMON_FIX_TIMINGS</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTIONS_START\">DETAILED_TIMING_DESCRIPTIONS_START</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fix\">fix</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 4; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#edid_is_limits_block\">edid_is_limits_block</a>(<a class=\"id\" href=\"#b\">b</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a> += <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTION_SIZE\">DETAILED_TIMING_DESCRIPTION_SIZE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"fbmon: The EDID Block of \"", 
"<span class=\"ts\"/><span class=\"ts\"/>       \"Manufacturer: %s Model: 0x%x is known to \"", 
"<span class=\"ts\"/><span class=\"ts\"/>       \"be broken,\\n\",  <a class=\"id\" href=\"#manufacturer\">manufacturer</a>, <a class=\"id\" href=\"#model\">model</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#fix_edid\">fix_edid</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>, int <a class=\"id\" href=\"#fix\">fix</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#b\">b</a>, <a class=\"id\" href=\"#csum\">csum</a> = 0;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#fix\">fix</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBMON_FIX_HEADER\">FBMON_FIX_HEADER</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"fbmon: trying a header reconstruct\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#edid\">edid</a>, <a class=\"id\" href=\"#edid_v1_header\">edid_v1_header</a>, 8);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBMON_FIX_INPUT\">FBMON_FIX_INPUT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"fbmon: trying to fix input type\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#EDID_STRUCT_DISPLAY\">EDID_STRUCT_DISPLAY</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[0] &= ~0x80;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#edid\">edid</a>[127] += 0x80;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBMON_FIX_TIMINGS\">FBMON_FIX_TIMINGS</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"fbmon: trying to fix monitor timings\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTIONS_START\">DETAILED_TIMING_DESCRIPTIONS_START</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 4; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#edid_is_serial_block\">edid_is_serial_block</a>(<a class=\"id\" href=\"#b\">b</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#edid_is_ascii_block\">edid_is_ascii_block</a>(<a class=\"id\" href=\"#b\">b</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#edid_is_monitor_block\">edid_is_monitor_block</a>(<a class=\"id\" href=\"#b\">b</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#edid_is_timing_block\">edid_is_timing_block</a>(<a class=\"id\" href=\"#b\">b</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[0] = 0x00;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[1] = 0x00;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[2] = 0x00;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[3] = 0xfd;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[4] = 0x00;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[5] = 60;   <span class=\"comment\">/* vfmin */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[6] = 60;   <span class=\"comment\">/* vfmax */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[7] = 30;   <span class=\"comment\">/* hfmin */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[8] = 75;   <span class=\"comment\">/* hfmax */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[9] = 17;   <span class=\"comment\">/* pixclock - 170 MHz*/</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a>[10] = 0;   <span class=\"comment\">/* GTF */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#b\">b</a> += <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTION_SIZE\">DETAILED_TIMING_DESCRIPTION_SIZE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#EDID_LENGTH\">EDID_LENGTH</a> - 1; <a class=\"id\" href=\"#i\">i</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#csum\">csum</a> += <a class=\"id\" href=\"#edid\">edid</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#edid\">edid</a>[127] = 256 - <a class=\"id\" href=\"#csum\">csum</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static int <a class=\"id\" href=\"#edid_checksum\">edid_checksum</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>)", 
"{", 
"<span class=\"ts\"/>unsigned char <a class=\"id\" href=\"#csum\">csum</a> = 0, <a class=\"id\" href=\"#all_null\">all_null</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#err\">err</a> = 0, <a class=\"id\" href=\"#fix\">fix</a> = <a class=\"id\" href=\"#check_edid\">check_edid</a>(<a class=\"id\" href=\"#edid\">edid</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fix\">fix</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fix_edid\">fix_edid</a>(<a class=\"id\" href=\"#edid\">edid</a>, <a class=\"id\" href=\"#fix\">fix</a>);", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#EDID_LENGTH\">EDID_LENGTH</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#csum\">csum</a> += <a class=\"id\" href=\"#edid\">edid</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#all_null\">all_null</a> |= <a class=\"id\" href=\"#edid\">edid</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#csum\">csum</a> == 0x00 && <a class=\"id\" href=\"#all_null\">all_null</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* checksum passed, everything's good */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = 1;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#edid_check_header\">edid_check_header</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#err\">err</a> = 1, <a class=\"id\" href=\"#fix\">fix</a> = <a class=\"id\" href=\"#check_edid\">check_edid</a>(<a class=\"id\" href=\"#edid\">edid</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fix\">fix</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fix_edid\">fix_edid</a>(<a class=\"id\" href=\"#edid\">edid</a>, <a class=\"id\" href=\"#fix\">fix</a>);", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 8; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#edid\">edid</a>[<a class=\"id\" href=\"#i\">i</a>] != <a class=\"id\" href=\"#edid_v1_header\">edid_v1_header</a>[<a class=\"id\" href=\"#i\">i</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = 0;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#parse_vendor_block\">parse_vendor_block</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>, struct <a class=\"id\" href=\"#fb_monspecs\">fb_monspecs</a> *<a class=\"id\" href=\"#specs\">specs</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#manufacturer\">manufacturer</a>[0] = ((<a class=\"id\" href=\"#block\">block</a>[0] &amp; 0x7c) >> 2) + '@';", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#manufacturer\">manufacturer</a>[1] = ((<a class=\"id\" href=\"#block\">block</a>[0] &amp; 0x03) << 3) +", 
"<span class=\"ts\"/><span class=\"ts\"/>((<a class=\"id\" href=\"#block\">block</a>[1] &amp; 0xe0) >> 5) + '@';", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#manufacturer\">manufacturer</a>[2] = (<a class=\"id\" href=\"#block\">block</a>[1] &amp; 0x1f) + '@';", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#manufacturer\">manufacturer</a>[3] = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#model\">model</a> = <a class=\"id\" href=\"#block\">block</a>[2] + (<a class=\"id\" href=\"#block\">block</a>[3] << 8);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#serial\">serial</a> = <a class=\"id\" href=\"#block\">block</a>[4] + (<a class=\"id\" href=\"#block\">block</a>[5] << 8) +", 
"<span class=\"ts\"/>       (<a class=\"id\" href=\"#block\">block</a>[6] << 16) + (<a class=\"id\" href=\"#block\">block</a>[7] << 24);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#year\">year</a> = <a class=\"id\" href=\"#block\">block</a>[9] + 1990;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#week\">week</a> = <a class=\"id\" href=\"#block\">block</a>[8];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   Manufacturer: %s\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#manufacturer\">manufacturer</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   Model: %x\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#model\">model</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   Serial#: %u\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#serial\">serial</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   Year: %u Week %u\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#year\">year</a>, <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#week\">week</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#get_dpms_capabilities\">get_dpms_capabilities</a>(unsigned char <a class=\"id\" href=\"#flags\">flags</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#fb_monspecs\">fb_monspecs</a> *<a class=\"id\" href=\"#specs\">specs</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dpms\">dpms</a> = 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#DPMS_ACTIVE_OFF\">DPMS_ACTIVE_OFF</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dpms\">dpms</a> |= <a class=\"id\" href=\"#FB_DPMS_ACTIVE_OFF\">FB_DPMS_ACTIVE_OFF</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#DPMS_SUSPEND\">DPMS_SUSPEND</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dpms\">dpms</a> |= <a class=\"id\" href=\"#FB_DPMS_SUSPEND\">FB_DPMS_SUSPEND</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#DPMS_STANDBY\">DPMS_STANDBY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dpms\">dpms</a> |= <a class=\"id\" href=\"#FB_DPMS_STANDBY\">FB_DPMS_STANDBY</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      DPMS: Active %s, Suspend %s, Standby %s\\n\",", 
"<span class=\"ts\"/>       (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#DPMS_ACTIVE_OFF\">DPMS_ACTIVE_OFF</a>) ? \"yes\" : \"no\",", 
"<span class=\"ts\"/>       (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#DPMS_SUSPEND\">DPMS_SUSPEND</a>)    ? \"yes\" : \"no\",", 
"<span class=\"ts\"/>       (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#DPMS_STANDBY\">DPMS_STANDBY</a>)    ? \"yes\" : \"no\");", 
"}", 
"", 
"static void <a class=\"id\" href=\"#get_chroma\">get_chroma</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>, struct <a class=\"id\" href=\"#fb_monspecs\">fb_monspecs</a> *<a class=\"id\" href=\"#specs\">specs</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#tmp\">tmp</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Chroma\\n\");", 
"<span class=\"ts\"/><span class=\"comment\">/* Chromaticity data */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> = ((<a class=\"id\" href=\"#block\">block</a>[5] &amp; (3 << 6)) >> 6) | (<a class=\"id\" href=\"#block\">block</a>[0x7] << 2);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> *= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> += 512;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#redx\">redx</a> = <a class=\"id\" href=\"#tmp\">tmp</a>/1024;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"         RedX:     0.%03d \", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#redx\">redx</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> = ((<a class=\"id\" href=\"#block\">block</a>[5] &amp; (3 << 4)) >> 4) | (<a class=\"id\" href=\"#block\">block</a>[0x8] << 2);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> *= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> += 512;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#redy\">redy</a> = <a class=\"id\" href=\"#tmp\">tmp</a>/1024;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"RedY:     0.%03d\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#redy\">redy</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> = ((<a class=\"id\" href=\"#block\">block</a>[5] &amp; (3 << 2)) >> 2) | (<a class=\"id\" href=\"#block\">block</a>[0x9] << 2);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> *= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> += 512;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#greenx\">greenx</a> = <a class=\"id\" href=\"#tmp\">tmp</a>/1024;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"         GreenX:   0.%03d \", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#greenx\">greenx</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> = (<a class=\"id\" href=\"#block\">block</a>[5] &amp; 3) | (<a class=\"id\" href=\"#block\">block</a>[0xa] << 2);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> *= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> += 512;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#greeny\">greeny</a> = <a class=\"id\" href=\"#tmp\">tmp</a>/1024;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"GreenY:   0.%03d\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#greeny\">greeny</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> = ((<a class=\"id\" href=\"#block\">block</a>[6] &amp; (3 << 6)) >> 6) | (<a class=\"id\" href=\"#block\">block</a>[0xb] << 2);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> *= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> += 512;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#bluex\">bluex</a> = <a class=\"id\" href=\"#tmp\">tmp</a>/1024;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"         BlueX:    0.%03d \", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#bluex\">bluex</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> = ((<a class=\"id\" href=\"#block\">block</a>[6] &amp; (3 << 4)) >> 4) | (<a class=\"id\" href=\"#block\">block</a>[0xc] << 2);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> *= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> += 512;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#bluey\">bluey</a> = <a class=\"id\" href=\"#tmp\">tmp</a>/1024;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"BlueY:    0.%03d\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#bluey\">bluey</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> = ((<a class=\"id\" href=\"#block\">block</a>[6] &amp; (3 << 2)) >> 2) | (<a class=\"id\" href=\"#block\">block</a>[0xd] << 2);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> *= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> += 512;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#whitex\">whitex</a> = <a class=\"id\" href=\"#tmp\">tmp</a>/1024;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"         WhiteX:   0.%03d \", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#whitex\">whitex</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> = (<a class=\"id\" href=\"#block\">block</a>[6] &amp; 3) | (<a class=\"id\" href=\"#block\">block</a>[0xe] << 2);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> *= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tmp\">tmp</a> += 512;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#whitey\">whitey</a> = <a class=\"id\" href=\"#tmp\">tmp</a>/1024;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"WhiteY:   0.%03d\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#chroma\">chroma</a>.<a class=\"id\" href=\"#whitey\">whitey</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#calc_mode_timings\">calc_mode_timings</a>(int <a class=\"id\" href=\"#xres\">xres</a>, int <a class=\"id\" href=\"#yres\">yres</a>, int <a class=\"id\" href=\"#refresh\">refresh</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#mode\">mode</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> *<a class=\"id\" href=\"#var\">var</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#var\">var</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#xres\">xres</a> = <a class=\"id\" href=\"#xres\">xres</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#yres\">yres</a> = <a class=\"id\" href=\"#yres\">yres</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_get_mode\">fb_get_mode</a>(<a class=\"id\" href=\"#FB_VSYNCTIMINGS\">FB_VSYNCTIMINGS</a> | <a class=\"id\" href=\"#FB_IGNOREMON\">FB_IGNOREMON</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#refresh\">refresh</a>, <a class=\"id\" href=\"#var\">var</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#xres\">xres</a> = <a class=\"id\" href=\"#xres\">xres</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#yres\">yres</a> = <a class=\"id\" href=\"#yres\">yres</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#refresh\">refresh</a> = <a class=\"id\" href=\"#refresh\">refresh</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#left_margin\">left_margin</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#left_margin\">left_margin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#right_margin\">right_margin</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#right_margin\">right_margin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#upper_margin\">upper_margin</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#upper_margin\">upper_margin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#lower_margin\">lower_margin</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#lower_margin\">lower_margin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#hsync_len\">hsync_len</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#hsync_len\">hsync_len</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#vsync_len\">vsync_len</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#vsync_len\">vsync_len</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#vmode\">vmode</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#sync\">sync</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#var\">var</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static int <a class=\"id\" href=\"#get_est_timing\">get_est_timing</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>, struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#mode\">mode</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#num\">num</a> = 0;", 
"<span class=\"ts\"/>unsigned char <a class=\"id\" href=\"#c\">c</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#block\">block</a>[0];", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x80) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#calc_mode_timings\">calc_mode_timings</a>(720, 400, 70, &amp;<a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++].<a class=\"id\" href=\"#flag\">flag</a> = <a class=\"id\" href=\"#FB_MODE_IS_CALCULATED\">FB_MODE_IS_CALCULATED</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      720x400@70Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x40) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#calc_mode_timings\">calc_mode_timings</a>(720, 400, 88, &amp;<a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++].<a class=\"id\" href=\"#flag\">flag</a> = <a class=\"id\" href=\"#FB_MODE_IS_CALCULATED\">FB_MODE_IS_CALCULATED</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      720x400@88Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x20) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[3];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      640x480@60Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x10) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#calc_mode_timings\">calc_mode_timings</a>(640, 480, 67, &amp;<a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++].<a class=\"id\" href=\"#flag\">flag</a> = <a class=\"id\" href=\"#FB_MODE_IS_CALCULATED\">FB_MODE_IS_CALCULATED</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      640x480@67Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x08) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[4];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      640x480@72Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x04) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[5];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      640x480@75Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x02) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[7];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      800x600@56Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x01) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[8];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      800x600@60Hz\\n\");", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#block\">block</a>[1];", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x80) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[9];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      800x600@72Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x40) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[10];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      800x600@75Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x20) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#calc_mode_timings\">calc_mode_timings</a>(832, 624, 75, &amp;<a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++].<a class=\"id\" href=\"#flag\">flag</a> = <a class=\"id\" href=\"#FB_MODE_IS_CALCULATED\">FB_MODE_IS_CALCULATED</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      832x624@75Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x10) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[12];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      1024x768@87Hz Interlaced\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x08) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[13];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      1024x768@60Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x04) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[14];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      1024x768@70Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x02) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[15];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      1024x768@75Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x01) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[21];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      1280x1024@75Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#block\">block</a>[2];", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>&amp;0x80) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>++] = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[17];", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      1152x870@75Hz\\n\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Manufacturer's mask: %x\\n\",<a class=\"id\" href=\"#c\">c</a>&amp;0x7F);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#num\">num</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#get_std_timing\">get_std_timing</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>, struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#mode\">mode</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#xres\">xres</a>, <a class=\"id\" href=\"#yres\">yres</a> = 0, <a class=\"id\" href=\"#refresh\">refresh</a>, <a class=\"id\" href=\"#ratio\">ratio</a>, <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#xres\">xres</a> = (<a class=\"id\" href=\"#block\">block</a>[0] + 31) * 8;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#xres\">xres</a> <= 256)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ratio\">ratio</a> = (<a class=\"id\" href=\"#block\">block</a>[1] &amp; 0xc0) >> 6;", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#ratio\">ratio</a>) {", 
"<span class=\"ts\"/>case 0:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#yres\">yres</a> = <a class=\"id\" href=\"#xres\">xres</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case 1:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#yres\">yres</a> = (<a class=\"id\" href=\"#xres\">xres</a> * 3)/4;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case 2:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#yres\">yres</a> = (<a class=\"id\" href=\"#xres\">xres</a> * 4)/5;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case 3:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#yres\">yres</a> = (<a class=\"id\" href=\"#xres\">xres</a> * 9)/16;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#refresh\">refresh</a> = (<a class=\"id\" href=\"#block\">block</a>[1] &amp; 0x3f) + 60;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      %dx%d@%dHz\\n\", <a class=\"id\" href=\"#xres\">xres</a>, <a class=\"id\" href=\"#yres\">yres</a>, <a class=\"id\" href=\"#refresh\">refresh</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#VESA_MODEDB_SIZE\">VESA_MODEDB_SIZE</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#xres\">xres</a> == <a class=\"id\" href=\"#xres\">xres</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#yres\">yres</a> == <a class=\"id\" href=\"#yres\">yres</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#refresh\">refresh</a> == <a class=\"id\" href=\"#refresh\">refresh</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#mode\">mode</a> = <a class=\"id\" href=\"#vesa_modes\">vesa_modes</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#flag\">flag</a> |= <a class=\"id\" href=\"#FB_MODE_IS_STANDARD\">FB_MODE_IS_STANDARD</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#calc_mode_timings\">calc_mode_timings</a>(<a class=\"id\" href=\"#xres\">xres</a>, <a class=\"id\" href=\"#yres\">yres</a>, <a class=\"id\" href=\"#refresh\">refresh</a>, <a class=\"id\" href=\"#mode\">mode</a>);", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#get_dst_timing\">get_dst_timing</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#mode\">mode</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#j\">j</a>, <a class=\"id\" href=\"#num\">num</a> = 0;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#j\">j</a> = 0; <a class=\"id\" href=\"#j\">j</a> &lt; 6; <a class=\"id\" href=\"#j\">j</a>++, <a class=\"id\" href=\"#block\">block</a> += <a class=\"id\" href=\"#STD_TIMING_DESCRIPTION_SIZE\">STD_TIMING_DESCRIPTION_SIZE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num\">num</a> += <a class=\"id\" href=\"#get_std_timing\">get_std_timing</a>(<a class=\"id\" href=\"#block\">block</a>, &amp;<a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>]);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#num\">num</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#get_detailed_timing\">get_detailed_timing</a>(unsigned char *<a class=\"id\" href=\"#block\">block</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#mode\">mode</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#xres\">xres</a> = <a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#yres\">yres</a> = <a class=\"id\" href=\"#V_ACTIVE\">V_ACTIVE</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a> = <a class=\"id\" href=\"#PIXEL_CLOCK\">PIXEL_CLOCK</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a> /= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a> = <a class=\"id\" href=\"#KHZ2PICOS\">KHZ2PICOS</a>(<a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#right_margin\">right_margin</a> = <a class=\"id\" href=\"#H_SYNC_OFFSET\">H_SYNC_OFFSET</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#left_margin\">left_margin</a> = (<a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a> + <a class=\"id\" href=\"#H_BLANKING\">H_BLANKING</a>) -", 
"<span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a> + <a class=\"id\" href=\"#H_SYNC_OFFSET\">H_SYNC_OFFSET</a> + <a class=\"id\" href=\"#H_SYNC_WIDTH\">H_SYNC_WIDTH</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#upper_margin\">upper_margin</a> = <a class=\"id\" href=\"#V_BLANKING\">V_BLANKING</a> - <a class=\"id\" href=\"#V_SYNC_OFFSET\">V_SYNC_OFFSET</a> -", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#V_SYNC_WIDTH\">V_SYNC_WIDTH</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#lower_margin\">lower_margin</a> = <a class=\"id\" href=\"#V_SYNC_OFFSET\">V_SYNC_OFFSET</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#hsync_len\">hsync_len</a> = <a class=\"id\" href=\"#H_SYNC_WIDTH\">H_SYNC_WIDTH</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#vsync_len\">vsync_len</a> = <a class=\"id\" href=\"#V_SYNC_WIDTH\">V_SYNC_WIDTH</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#HSYNC_POSITIVE\">HSYNC_POSITIVE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#sync\">sync</a> |= <a class=\"id\" href=\"#FB_SYNC_HOR_HIGH_ACT\">FB_SYNC_HOR_HIGH_ACT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#VSYNC_POSITIVE\">VSYNC_POSITIVE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#sync\">sync</a> |= <a class=\"id\" href=\"#FB_SYNC_VERT_HIGH_ACT\">FB_SYNC_VERT_HIGH_ACT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#refresh\">refresh</a> = <a class=\"id\" href=\"#PIXEL_CLOCK\">PIXEL_CLOCK</a>/((<a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a> + <a class=\"id\" href=\"#H_BLANKING\">H_BLANKING</a>) *", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     (<a class=\"id\" href=\"#V_ACTIVE\">V_ACTIVE</a> + <a class=\"id\" href=\"#V_BLANKING\">V_BLANKING</a>));", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#INTERLACED\">INTERLACED</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#yres\">yres</a> *= 2;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#upper_margin\">upper_margin</a> *= 2;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#lower_margin\">lower_margin</a> *= 2;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#vsync_len\">vsync_len</a> *= 2;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#vmode\">vmode</a> |= <a class=\"id\" href=\"#FB_VMODE_INTERLACED\">FB_VMODE_INTERLACED</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#flag\">flag</a> = <a class=\"id\" href=\"#FB_MODE_IS_DETAILED\">FB_MODE_IS_DETAILED</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      %d MHz \",  <a class=\"id\" href=\"#PIXEL_CLOCK\">PIXEL_CLOCK</a>/1000000);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"%d %d %d %d \", <a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a>, <a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a> + <a class=\"id\" href=\"#H_SYNC_OFFSET\">H_SYNC_OFFSET</a>,", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a> + <a class=\"id\" href=\"#H_SYNC_OFFSET\">H_SYNC_OFFSET</a> + <a class=\"id\" href=\"#H_SYNC_WIDTH\">H_SYNC_WIDTH</a>, <a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a> + <a class=\"id\" href=\"#H_BLANKING\">H_BLANKING</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"%d %d %d %d \", <a class=\"id\" href=\"#V_ACTIVE\">V_ACTIVE</a>, <a class=\"id\" href=\"#V_ACTIVE\">V_ACTIVE</a> + <a class=\"id\" href=\"#V_SYNC_OFFSET\">V_SYNC_OFFSET</a>,", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#V_ACTIVE\">V_ACTIVE</a> + <a class=\"id\" href=\"#V_SYNC_OFFSET\">V_SYNC_OFFSET</a> + <a class=\"id\" href=\"#V_SYNC_WIDTH\">V_SYNC_WIDTH</a>, <a class=\"id\" href=\"#V_ACTIVE\">V_ACTIVE</a> + <a class=\"id\" href=\"#V_BLANKING\">V_BLANKING</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"%sHSync %sVSync\\n\\n\", (<a class=\"id\" href=\"#HSYNC_POSITIVE\">HSYNC_POSITIVE</a>) ? \"+\" : \"-\",", 
"<span class=\"ts\"/>       (<a class=\"id\" href=\"#VSYNC_POSITIVE\">VSYNC_POSITIVE</a>) ? \"+\" : \"-\");", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * fb_create_modedb - create video mode database</span>", 
"<span class=\"comment\"> * @edid: EDID data</span>", 
"<span class=\"comment\"> * @dbsize: database size</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * RETURNS: struct fb_videomode, @dbsize contains length of database</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION:</span>", 
"<span class=\"comment\"> * This function builds a mode database using the contents of the EDID</span>", 
"<span class=\"comment\"> * data</span>", 
"<span class=\"comment\"> */</span>", 
"static struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#fb_create_modedb\">fb_create_modedb</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>, int *<a class=\"id\" href=\"#dbsize\">dbsize</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#mode\">mode</a>, *<a class=\"id\" href=\"#m\">m</a>;", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#block\">block</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#num\">num</a> = 0, <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#first\">first</a> = 1;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(50 * sizeof(struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#mode\">mode</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#edid\">edid</a> == <a class=\"id\" href=\"#NULL\">NULL</a> || !<a class=\"id\" href=\"#edid_checksum\">edid_checksum</a>(<a class=\"id\" href=\"#edid\">edid</a>) ||", 
"<span class=\"ts\"/>    !<a class=\"id\" href=\"#edid_check_header\">edid_check_header</a>(<a class=\"id\" href=\"#edid\">edid</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#mode\">mode</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#dbsize\">dbsize</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   Detailed Timings\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#block\">block</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTIONS_START\">DETAILED_TIMING_DESCRIPTIONS_START</a>;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 4; <a class=\"id\" href=\"#i\">i</a>++, <a class=\"id\" href=\"#block\">block</a>+= <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTION_SIZE\">DETAILED_TIMING_DESCRIPTION_SIZE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#block\">block</a>[0] == 0x00 && <a class=\"id\" href=\"#block\">block</a>[1] == 0x00)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#get_detailed_timing\">get_detailed_timing</a>(<a class=\"id\" href=\"#block\">block</a>, &amp;<a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#first\">first</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>        <a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>].<a class=\"id\" href=\"#flag\">flag</a> |= <a class=\"id\" href=\"#FB_MODE_IS_FIRST\">FB_MODE_IS_FIRST</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#first\">first</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num\">num</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   Supported VESA Modes\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#block\">block</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#ESTABLISHED_TIMING_1\">ESTABLISHED_TIMING_1</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#num\">num</a> += <a class=\"id\" href=\"#get_est_timing\">get_est_timing</a>(<a class=\"id\" href=\"#block\">block</a>, &amp;<a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>]);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   Standard Timings\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#block\">block</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#STD_TIMING_DESCRIPTIONS_START\">STD_TIMING_DESCRIPTIONS_START</a>;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#STD_TIMING\">STD_TIMING</a>; <a class=\"id\" href=\"#i\">i</a>++, <a class=\"id\" href=\"#block\">block</a> += <a class=\"id\" href=\"#STD_TIMING_DESCRIPTION_SIZE\">STD_TIMING_DESCRIPTION_SIZE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num\">num</a> += <a class=\"id\" href=\"#get_std_timing\">get_std_timing</a>(<a class=\"id\" href=\"#block\">block</a>, &amp;<a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>]);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#block\">block</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTIONS_START\">DETAILED_TIMING_DESCRIPTIONS_START</a>;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 4; <a class=\"id\" href=\"#i\">i</a>++, <a class=\"id\" href=\"#block\">block</a>+= <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTION_SIZE\">DETAILED_TIMING_DESCRIPTION_SIZE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#block\">block</a>[0] == 0x00 && <a class=\"id\" href=\"#block\">block</a>[1] == 0x00 && <a class=\"id\" href=\"#block\">block</a>[3] == 0xfa)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num\">num</a> += <a class=\"id\" href=\"#get_dst_timing\">get_dst_timing</a>(<a class=\"id\" href=\"#block\">block</a> + 5, &amp;<a class=\"id\" href=\"#mode\">mode</a>[<a class=\"id\" href=\"#num\">num</a>]);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Yikes, EDID data is totally useless */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#num\">num</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#mode\">mode</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#dbsize\">dbsize</a> = <a class=\"id\" href=\"#num\">num</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#num\">num</a> * sizeof(struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#m\">m</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memmove\">memmove</a>(<a class=\"id\" href=\"#m\">m</a>, <a class=\"id\" href=\"#mode\">mode</a>, <a class=\"id\" href=\"#num\">num</a> * sizeof(struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#mode\">mode</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#m\">m</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * fb_destroy_modedb - destroys mode database</span>", 
"<span class=\"comment\"> * @modedb: mode database to destroy</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION:</span>", 
"<span class=\"comment\"> * Destroy mode database created by fb_create_modedb</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#fb_destroy_modedb\">fb_destroy_modedb</a>(struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#modedb\">modedb</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#modedb\">modedb</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#fb_get_monitor_limits\">fb_get_monitor_limits</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>, struct <a class=\"id\" href=\"#fb_monspecs\">fb_monspecs</a> *<a class=\"id\" href=\"#specs\">specs</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#retval\">retval</a> = 1;", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#block\">block</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#block\">block</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTIONS_START\">DETAILED_TIMING_DESCRIPTIONS_START</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Monitor Operating Limits: \");", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 4; <a class=\"id\" href=\"#i\">i</a>++, <a class=\"id\" href=\"#block\">block</a> += <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTION_SIZE\">DETAILED_TIMING_DESCRIPTION_SIZE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#edid_is_limits_block\">edid_is_limits_block</a>(<a class=\"id\" href=\"#block\">block</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#hfmin\">hfmin</a> = <a class=\"id\" href=\"#H_MIN_RATE\">H_MIN_RATE</a> * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#hfmax\">hfmax</a> = <a class=\"id\" href=\"#H_MAX_RATE\">H_MAX_RATE</a> * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#vfmin\">vfmin</a> = <a class=\"id\" href=\"#V_MIN_RATE\">V_MIN_RATE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#vfmax\">vfmax</a> = <a class=\"id\" href=\"#V_MAX_RATE\">V_MAX_RATE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dclkmax\">dclkmax</a> = <a class=\"id\" href=\"#MAX_PIXEL_CLOCK\">MAX_PIXEL_CLOCK</a> * 1000000;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#gtf\">gtf</a> = (<a class=\"id\" href=\"#GTF_SUPPORT\">GTF_SUPPORT</a>) ? 1 : 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"From EDID\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* estimate monitor limits based on modes supported */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#retval\">retval</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#modes\">modes</a>, *<a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#num_modes\">num_modes</a>, <a class=\"id\" href=\"#hz\">hz</a>, <a class=\"id\" href=\"#hscan\">hscan</a>, <a class=\"id\" href=\"#pixclock\">pixclock</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#vtotal\">vtotal</a>, <a class=\"id\" href=\"#htotal\">htotal</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#modes\">modes</a> = <a class=\"id\" href=\"#fb_create_modedb\">fb_create_modedb</a>(<a class=\"id\" href=\"#edid\">edid</a>, &amp;<a class=\"id\" href=\"#num_modes\">num_modes</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#modes\">modes</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"None Available\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#num_modes\">num_modes</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mode\">mode</a> = &amp;<a class=\"id\" href=\"#modes\">modes</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pixclock\">pixclock</a> = <a class=\"id\" href=\"#PICOS2KHZ\">PICOS2KHZ</a>(<a class=\"id\" href=\"#modes\">modes</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#pixclock\">pixclock</a>) * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#htotal\">htotal</a> = <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#xres\">xres</a> + <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#right_margin\">right_margin</a> + <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#hsync_len\">hsync_len</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>+ <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#left_margin\">left_margin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vtotal\">vtotal</a> = <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#yres\">yres</a> + <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#lower_margin\">lower_margin</a> + <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#vsync_len\">vsync_len</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>+ <a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#upper_margin\">upper_margin</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#vmode\">vmode</a> &amp; <a class=\"id\" href=\"#FB_VMODE_INTERLACED\">FB_VMODE_INTERLACED</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vtotal\">vtotal</a> /= 2;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#mode\">mode</a>-><a class=\"id\" href=\"#vmode\">vmode</a> &amp; <a class=\"id\" href=\"#FB_VMODE_DOUBLE\">FB_VMODE_DOUBLE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vtotal\">vtotal</a> *= 2;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hscan\">hscan</a> = (<a class=\"id\" href=\"#pixclock\">pixclock</a> + <a class=\"id\" href=\"#htotal\">htotal</a> / 2) / <a class=\"id\" href=\"#htotal\">htotal</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hscan\">hscan</a> = (<a class=\"id\" href=\"#hscan\">hscan</a> + 500) / 1000 * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hz\">hz</a> = (<a class=\"id\" href=\"#hscan\">hscan</a> + <a class=\"id\" href=\"#vtotal\">vtotal</a> / 2) / <a class=\"id\" href=\"#vtotal\">vtotal</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dclkmax\">dclkmax</a> == 0 || <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dclkmax\">dclkmax</a> &lt; <a class=\"id\" href=\"#pixclock\">pixclock</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dclkmax\">dclkmax</a> = <a class=\"id\" href=\"#pixclock\">pixclock</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dclkmin\">dclkmin</a> == 0 || <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dclkmin\">dclkmin</a> &gt; <a class=\"id\" href=\"#pixclock\">pixclock</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dclkmin\">dclkmin</a> = <a class=\"id\" href=\"#pixclock\">pixclock</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#hfmax\">hfmax</a> == 0 || <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#hfmax\">hfmax</a> &lt; <a class=\"id\" href=\"#hscan\">hscan</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#hfmax\">hfmax</a> = <a class=\"id\" href=\"#hscan\">hscan</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#hfmin\">hfmin</a> == 0 || <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#hfmin\">hfmin</a> &gt; <a class=\"id\" href=\"#hscan\">hscan</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#hfmin\">hfmin</a> = <a class=\"id\" href=\"#hscan\">hscan</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#vfmax\">vfmax</a> == 0 || <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#vfmax\">vfmax</a> &lt; <a class=\"id\" href=\"#hz\">hz</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#vfmax\">vfmax</a> = <a class=\"id\" href=\"#hz\">hz</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#vfmin\">vfmin</a> == 0 || <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#vfmin\">vfmin</a> &gt; <a class=\"id\" href=\"#hz\">hz</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#vfmin\">vfmin</a> = <a class=\"id\" href=\"#hz\">hz</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"Extrapolated\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_destroy_modedb\">fb_destroy_modedb</a>(<a class=\"id\" href=\"#modes\">modes</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"           H: %d-%dKHz V: %d-%dHz DCLK: %dMHz\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#hfmin\">hfmin</a>/1000, <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#hfmax\">hfmax</a>/1000, <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#vfmin\">vfmin</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#vfmax\">vfmax</a>, <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#dclkmax\">dclkmax</a>/1000000);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#get_monspecs\">get_monspecs</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>, struct <a class=\"id\" href=\"#fb_monspecs\">fb_monspecs</a> *<a class=\"id\" href=\"#specs\">specs</a>)", 
"{", 
"<span class=\"ts\"/>unsigned char <a class=\"id\" href=\"#c\">c</a>, *<a class=\"id\" href=\"#block\">block</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#block\">block</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#EDID_STRUCT_DISPLAY\">EDID_STRUCT_DISPLAY</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_get_monitor_limits\">fb_get_monitor_limits</a>(<a class=\"id\" href=\"#edid\">edid</a>, <a class=\"id\" href=\"#specs\">specs</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#block\">block</a>[0] &amp; 0x80;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#input\">input</a> = 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#input\">input</a> |= <a class=\"id\" href=\"#FB_DISP_DDI\">FB_DISP_DDI</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Digital Display Input\");", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Analog Display Input: Input Voltage - \");", 
"<span class=\"ts\"/><span class=\"ts\"/>switch ((<a class=\"id\" href=\"#block\">block</a>[0] &amp; 0x60) >> 5) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case 0:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"0.700V/0.300V\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#input\">input</a> |= <a class=\"id\" href=\"#FB_DISP_ANA_700_300\">FB_DISP_ANA_700_300</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case 1:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"0.714V/0.286V\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#input\">input</a> |= <a class=\"id\" href=\"#FB_DISP_ANA_714_286\">FB_DISP_ANA_714_286</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case 2:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"1.000V/0.400V\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#input\">input</a> |= <a class=\"id\" href=\"#FB_DISP_ANA_1000_400\">FB_DISP_ANA_1000_400</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case 3:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"0.700V/0.000V\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#input\">input</a> |= <a class=\"id\" href=\"#FB_DISP_ANA_700_000\">FB_DISP_ANA_700_000</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"\\n      Sync: \");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#block\">block</a>[0] &amp; 0x10;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Configurable signal level\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#block\">block</a>[0] &amp; 0x0f;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#signal\">signal</a> = 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a> &amp; 0x10) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"Blank to Blank \");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#signal\">signal</a> |= <a class=\"id\" href=\"#FB_SIGNAL_BLANK_BLANK\">FB_SIGNAL_BLANK_BLANK</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a> &amp; 0x08) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"Separate \");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#signal\">signal</a> |= <a class=\"id\" href=\"#FB_SIGNAL_SEPARATE\">FB_SIGNAL_SEPARATE</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a> &amp; 0x04) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"Composite \");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#signal\">signal</a> |= <a class=\"id\" href=\"#FB_SIGNAL_COMPOSITE\">FB_SIGNAL_COMPOSITE</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a> &amp; 0x02) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"Sync on Green \");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#signal\">signal</a> |= <a class=\"id\" href=\"#FB_SIGNAL_SYNC_ON_GREEN\">FB_SIGNAL_SYNC_ON_GREEN</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a> &amp; 0x01) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"Serration on \");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#signal\">signal</a> |= <a class=\"id\" href=\"#FB_SIGNAL_SERRATION_ON\">FB_SIGNAL_SERRATION_ON</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#max_x\">max_x</a> = <a class=\"id\" href=\"#block\">block</a>[1];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#max_y\">max_y</a> = <a class=\"id\" href=\"#block\">block</a>[2];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Max H-size in cm: \");", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#max_x\">max_x</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"%d\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#max_x\">max_x</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"variable\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Max V-size in cm: \");", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#max_y\">max_y</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"%d\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#max_y\">max_y</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"variable\\n\");", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#block\">block</a>[3];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#gamma\">gamma</a> = <a class=\"id\" href=\"#c\">c</a>+100;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Gamma: \");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"%d.%d\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#gamma\">gamma</a>/100, <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#gamma\">gamma</a> % 100);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#get_dpms_capabilities\">get_dpms_capabilities</a>(<a class=\"id\" href=\"#block\">block</a>[4], <a class=\"id\" href=\"#specs\">specs</a>);", 
"", 
"<span class=\"ts\"/>switch ((<a class=\"id\" href=\"#block\">block</a>[4] &amp; 0x18) >> 3) {", 
"<span class=\"ts\"/>case 0:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Monochrome/Grayscale\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#input\">input</a> |= <a class=\"id\" href=\"#FB_DISP_MONO\">FB_DISP_MONO</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case 1:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      RGB Color Display\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#input\">input</a> |= <a class=\"id\" href=\"#FB_DISP_RGB\">FB_DISP_RGB</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case 2:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Non-RGB Multicolor Display\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#input\">input</a> |= <a class=\"id\" href=\"#FB_DISP_MULTI\">FB_DISP_MULTI</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Unknown\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#input\">input</a> |= <a class=\"id\" href=\"#FB_DISP_UNKNOWN\">FB_DISP_UNKNOWN</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#get_chroma\">get_chroma</a>(<a class=\"id\" href=\"#block\">block</a>, <a class=\"id\" href=\"#specs\">specs</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#misc\">misc</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#block\">block</a>[4] &amp; 0x7;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a> &amp; 0x04) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      Default color format is primary\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#misc\">misc</a> |= <a class=\"id\" href=\"#FB_MISC_PRIM_COLOR\">FB_MISC_PRIM_COLOR</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a> &amp; 0x02) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"      First DETAILED Timing is preferred\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#misc\">misc</a> |= <a class=\"id\" href=\"#FB_MISC_1ST_DETAIL\">FB_MISC_1ST_DETAIL</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a> &amp; 0x01) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"      Display is GTF capable\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#gtf\">gtf</a> = 1;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"int <a class=\"id\" href=\"#fb_parse_edid\">fb_parse_edid</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>, struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> *<a class=\"id\" href=\"#var\">var</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#block\">block</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#edid\">edid</a> == <a class=\"id\" href=\"#NULL\">NULL</a> || <a class=\"id\" href=\"#var\">var</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#edid_checksum\">edid_checksum</a>(<a class=\"id\" href=\"#edid\">edid</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#edid_check_header\">edid_check_header</a>(<a class=\"id\" href=\"#edid\">edid</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#block\">block</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTIONS_START\">DETAILED_TIMING_DESCRIPTIONS_START</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 4; <a class=\"id\" href=\"#i\">i</a>++, <a class=\"id\" href=\"#block\">block</a> += <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTION_SIZE\">DETAILED_TIMING_DESCRIPTION_SIZE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#edid_is_timing_block\">edid_is_timing_block</a>(<a class=\"id\" href=\"#block\">block</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#xres\">xres</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#xres_virtual\">xres_virtual</a> = <a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#yres\">yres</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#yres_virtual\">yres_virtual</a> = <a class=\"id\" href=\"#V_ACTIVE\">V_ACTIVE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#height\">height</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#width\">width</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#right_margin\">right_margin</a> = <a class=\"id\" href=\"#H_SYNC_OFFSET\">H_SYNC_OFFSET</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#left_margin\">left_margin</a> = (<a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a> + <a class=\"id\" href=\"#H_BLANKING\">H_BLANKING</a>) -", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#H_ACTIVE\">H_ACTIVE</a> + <a class=\"id\" href=\"#H_SYNC_OFFSET\">H_SYNC_OFFSET</a> + <a class=\"id\" href=\"#H_SYNC_WIDTH\">H_SYNC_WIDTH</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#upper_margin\">upper_margin</a> = <a class=\"id\" href=\"#V_BLANKING\">V_BLANKING</a> - <a class=\"id\" href=\"#V_SYNC_OFFSET\">V_SYNC_OFFSET</a> -", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#V_SYNC_WIDTH\">V_SYNC_WIDTH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#lower_margin\">lower_margin</a> = <a class=\"id\" href=\"#V_SYNC_OFFSET\">V_SYNC_OFFSET</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#hsync_len\">hsync_len</a> = <a class=\"id\" href=\"#H_SYNC_WIDTH\">H_SYNC_WIDTH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#vsync_len\">vsync_len</a> = <a class=\"id\" href=\"#V_SYNC_WIDTH\">V_SYNC_WIDTH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a> = <a class=\"id\" href=\"#PIXEL_CLOCK\">PIXEL_CLOCK</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a> /= 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a> = <a class=\"id\" href=\"#KHZ2PICOS\">KHZ2PICOS</a>(<a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#HSYNC_POSITIVE\">HSYNC_POSITIVE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#sync\">sync</a> |= <a class=\"id\" href=\"#FB_SYNC_HOR_HIGH_ACT\">FB_SYNC_HOR_HIGH_ACT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#VSYNC_POSITIVE\">VSYNC_POSITIVE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#sync\">sync</a> |= <a class=\"id\" href=\"#FB_SYNC_VERT_HIGH_ACT\">FB_SYNC_VERT_HIGH_ACT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"void <a class=\"id\" href=\"#fb_edid_to_monspecs\">fb_edid_to_monspecs</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>, struct <a class=\"id\" href=\"#fb_monspecs\">fb_monspecs</a> *<a class=\"id\" href=\"#specs\">specs</a>)", 
"{", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#block\">block</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#found\">found</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#edid\">edid</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#edid_checksum\">edid_checksum</a>(<a class=\"id\" href=\"#edid\">edid</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#edid_check_header\">edid_check_header</a>(<a class=\"id\" href=\"#edid\">edid</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(<a class=\"id\" href=\"#specs\">specs</a>, 0, sizeof(struct <a class=\"id\" href=\"#fb_monspecs\">fb_monspecs</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#version\">version</a> = <a class=\"id\" href=\"#edid\">edid</a>[<a class=\"id\" href=\"#EDID_STRUCT_VERSION\">EDID_STRUCT_VERSION</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#revision\">revision</a> = <a class=\"id\" href=\"#edid\">edid</a>[<a class=\"id\" href=\"#EDID_STRUCT_REVISION\">EDID_STRUCT_REVISION</a>];", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"========================================\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"Display Information (EDID)\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"========================================\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   EDID Version %d.%d\\n\", (int) <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#version\">version</a>,", 
"<span class=\"ts\"/>       (int) <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#revision\">revision</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#parse_vendor_block\">parse_vendor_block</a>(<a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#ID_MANUFACTURER_NAME\">ID_MANUFACTURER_NAME</a>, <a class=\"id\" href=\"#specs\">specs</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#block\">block</a> = <a class=\"id\" href=\"#edid\">edid</a> + <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTIONS_START\">DETAILED_TIMING_DESCRIPTIONS_START</a>;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 4; <a class=\"id\" href=\"#i\">i</a>++, <a class=\"id\" href=\"#block\">block</a> += <a class=\"id\" href=\"#DETAILED_TIMING_DESCRIPTION_SIZE\">DETAILED_TIMING_DESCRIPTION_SIZE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#edid_is_serial_block\">edid_is_serial_block</a>(<a class=\"id\" href=\"#block\">block</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#copy_string\">copy_string</a>(<a class=\"id\" href=\"#block\">block</a>, <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#serial_no\">serial_no</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   Serial Number: %s\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#serial_no\">serial_no</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (<a class=\"id\" href=\"#edid_is_ascii_block\">edid_is_ascii_block</a>(<a class=\"id\" href=\"#block\">block</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#copy_string\">copy_string</a>(<a class=\"id\" href=\"#block\">block</a>, <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#ascii\">ascii</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   ASCII Block: %s\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#ascii\">ascii</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (<a class=\"id\" href=\"#edid_is_monitor_block\">edid_is_monitor_block</a>(<a class=\"id\" href=\"#block\">block</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#copy_string\">copy_string</a>(<a class=\"id\" href=\"#block\">block</a>, <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#monitor\">monitor</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   Monitor Name: %s\\n\", <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#monitor\">monitor</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"   Display Characteristics:\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#get_monspecs\">get_monspecs</a>(<a class=\"id\" href=\"#edid\">edid</a>, <a class=\"id\" href=\"#specs\">specs</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#modedb\">modedb</a> = <a class=\"id\" href=\"#fb_create_modedb\">fb_create_modedb</a>(<a class=\"id\" href=\"#edid\">edid</a>, &amp;<a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#modedb_len\">modedb_len</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Workaround for buggy EDIDs that sets that the first</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * detailed timing is preferred but has not detailed</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * timing specified</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#modedb_len\">modedb_len</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#modedb\">modedb</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#flag\">flag</a> &amp; <a class=\"id\" href=\"#FB_MODE_IS_DETAILED\">FB_MODE_IS_DETAILED</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#found\">found</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#found\">found</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a>-><a class=\"id\" href=\"#misc\">misc</a> &= ~<a class=\"id\" href=\"#FB_MISC_1ST_DETAIL\">FB_MISC_1ST_DETAIL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#DPRINTK\">DPRINTK</a>(\"========================================\\n\");", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * VESA Generalized Timing Formula (GTF)</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#FLYBACK\">FLYBACK</a>                     550", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#V_FRONTPORCH\">V_FRONTPORCH</a>                1", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#H_OFFSET\">H_OFFSET</a>                    40", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#H_SCALEFACTOR\">H_SCALEFACTOR</a>               20", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#H_BLANKSCALE\">H_BLANKSCALE</a>                128", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#H_GRADIENT\">H_GRADIENT</a>                  600", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#C_VAL\">C_VAL</a>                       30", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#M_VAL\">M_VAL</a>                       300", 
"", 
"struct <a class=\"id\" href=\"#__fb_timings\">__fb_timings</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#dclk\">dclk</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#hfreq\">hfreq</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#vfreq\">vfreq</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#hactive\">hactive</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#vactive\">vactive</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#hblank\">hblank</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#vblank\">vblank</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#htotal\">htotal</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#vtotal\">vtotal</a>;", 
"};", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * fb_get_vblank - get vertical blank time</span>", 
"<span class=\"comment\"> * @hfreq: horizontal freq</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION:</span>", 
"<span class=\"comment\"> * vblank = right_margin + vsync_len + left_margin</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *    given: right_margin = 1 (V_FRONTPORCH)</span>", 
"<span class=\"comment\"> *           vsync_len    = 3</span>", 
"<span class=\"comment\"> *           flyback      = 550</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *                          flyback * hfreq</span>", 
"<span class=\"comment\"> *           left_margin  = --------------- - vsync_len</span>", 
"<span class=\"comment\"> *                           1000000</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#fb_get_vblank\">fb_get_vblank</a>(<a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#hfreq\">hfreq</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#vblank\">vblank</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vblank\">vblank</a> = (<a class=\"id\" href=\"#hfreq\">hfreq</a> * <a class=\"id\" href=\"#FLYBACK\">FLYBACK</a>)/1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vblank\">vblank</a> = (<a class=\"id\" href=\"#vblank\">vblank</a> + 500)/1000;", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#vblank\">vblank</a> + <a class=\"id\" href=\"#V_FRONTPORCH\">V_FRONTPORCH</a>);", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * fb_get_hblank_by_freq - get horizontal blank time given hfreq</span>", 
"<span class=\"comment\"> * @hfreq: horizontal freq</span>", 
"<span class=\"comment\"> * @xres: horizontal resolution in pixels</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION:</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *           xres * duty_cycle</span>", 
"<span class=\"comment\"> * hblank = ------------------</span>", 
"<span class=\"comment\"> *           100 - duty_cycle</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * duty cycle = percent of htotal assigned to inactive display</span>", 
"<span class=\"comment\"> * duty cycle = C - (M/Hfreq)</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * where: C = ((offset - scale factor) * blank_scale)</span>", 
"<span class=\"comment\"> *            -------------------------------------- + scale factor</span>", 
"<span class=\"comment\"> *                        256</span>", 
"<span class=\"comment\"> *        M = blank_scale * gradient</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#fb_get_hblank_by_hfreq\">fb_get_hblank_by_hfreq</a>(<a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#hfreq\">hfreq</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#xres\">xres</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#c_val\">c_val</a>, <a class=\"id\" href=\"#m_val\">m_val</a>, <a class=\"id\" href=\"#duty_cycle\">duty_cycle</a>, <a class=\"id\" href=\"#hblank\">hblank</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c_val\">c_val</a> = (((<a class=\"id\" href=\"#H_OFFSET\">H_OFFSET</a> - <a class=\"id\" href=\"#H_SCALEFACTOR\">H_SCALEFACTOR</a>) * <a class=\"id\" href=\"#H_BLANKSCALE\">H_BLANKSCALE</a>)/256 +", 
"<span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#H_SCALEFACTOR\">H_SCALEFACTOR</a>) * 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#m_val\">m_val</a> = (<a class=\"id\" href=\"#H_BLANKSCALE\">H_BLANKSCALE</a> * <a class=\"id\" href=\"#H_GRADIENT\">H_GRADIENT</a>)/256;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#m_val\">m_val</a> = (<a class=\"id\" href=\"#m_val\">m_val</a> * 1000000)/<a class=\"id\" href=\"#hfreq\">hfreq</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#duty_cycle\">duty_cycle</a> = <a class=\"id\" href=\"#c_val\">c_val</a> - <a class=\"id\" href=\"#m_val\">m_val</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hblank\">hblank</a> = (<a class=\"id\" href=\"#xres\">xres</a> * <a class=\"id\" href=\"#duty_cycle\">duty_cycle</a>)/(100000 - <a class=\"id\" href=\"#duty_cycle\">duty_cycle</a>);", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#hblank\">hblank</a>);", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * fb_get_hblank_by_dclk - get horizontal blank time given pixelclock</span>", 
"<span class=\"comment\"> * @dclk: pixelclock in Hz</span>", 
"<span class=\"comment\"> * @xres: horizontal resolution in pixels</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION:</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *           xres * duty_cycle</span>", 
"<span class=\"comment\"> * hblank = ------------------</span>", 
"<span class=\"comment\"> *           100 - duty_cycle</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * duty cycle = percent of htotal assigned to inactive display</span>", 
"<span class=\"comment\"> * duty cycle = C - (M * h_period)</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * where: h_period = SQRT(100 - C + (0.4 * xres * M)/dclk) + C - 100</span>", 
"<span class=\"comment\"> *                   -----------------------------------------------</span>", 
"<span class=\"comment\"> *                                    2 * M</span>", 
"<span class=\"comment\"> *        M = 300;</span>", 
"<span class=\"comment\"> *        C = 30;</span>", 
"<span class=\"comment\"></span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#fb_get_hblank_by_dclk\">fb_get_hblank_by_dclk</a>(<a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#dclk\">dclk</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#xres\">xres</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#duty_cycle\">duty_cycle</a>, <a class=\"id\" href=\"#h_period\">h_period</a>, <a class=\"id\" href=\"#hblank\">hblank</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dclk\">dclk</a> /= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#h_period\">h_period</a> = 100 - <a class=\"id\" href=\"#C_VAL\">C_VAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#h_period\">h_period</a> *= <a class=\"id\" href=\"#h_period\">h_period</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#h_period\">h_period</a> += (<a class=\"id\" href=\"#M_VAL\">M_VAL</a> * <a class=\"id\" href=\"#xres\">xres</a> * 2 * 1000)/(5 * <a class=\"id\" href=\"#dclk\">dclk</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#h_period\">h_period</a> *= 10000;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#h_period\">h_period</a> = <a class=\"id\" href=\"#int_sqrt\">int_sqrt</a>(<a class=\"id\" href=\"#h_period\">h_period</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#h_period\">h_period</a> -= (100 - <a class=\"id\" href=\"#C_VAL\">C_VAL</a>) * 100;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#h_period\">h_period</a> *= 1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#h_period\">h_period</a> /= 2 * <a class=\"id\" href=\"#M_VAL\">M_VAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#duty_cycle\">duty_cycle</a> = <a class=\"id\" href=\"#C_VAL\">C_VAL</a> * 1000 - (<a class=\"id\" href=\"#M_VAL\">M_VAL</a> * <a class=\"id\" href=\"#h_period\">h_period</a>)/100;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hblank\">hblank</a> = (<a class=\"id\" href=\"#xres\">xres</a> * <a class=\"id\" href=\"#duty_cycle\">duty_cycle</a>)/(100000 - <a class=\"id\" href=\"#duty_cycle\">duty_cycle</a>) + 8;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hblank\">hblank</a> &= ~15;", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#hblank\">hblank</a>);", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * fb_get_hfreq - estimate hsync</span>", 
"<span class=\"comment\"> * @vfreq: vertical refresh rate</span>", 
"<span class=\"comment\"> * @yres: vertical resolution</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION:</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *          (yres + front_port) * vfreq * 1000000</span>", 
"<span class=\"comment\"> * hfreq = -------------------------------------</span>", 
"<span class=\"comment\"> *          (1000000 - (vfreq * FLYBACK)</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#fb_get_hfreq\">fb_get_hfreq</a>(<a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#vfreq\">vfreq</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#yres\">yres</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#divisor\">divisor</a>, <a class=\"id\" href=\"#hfreq\">hfreq</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#divisor\">divisor</a> = (1000000 - (<a class=\"id\" href=\"#vfreq\">vfreq</a> * <a class=\"id\" href=\"#FLYBACK\">FLYBACK</a>))/1000;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hfreq\">hfreq</a> = (<a class=\"id\" href=\"#yres\">yres</a> + <a class=\"id\" href=\"#V_FRONTPORCH\">V_FRONTPORCH</a>) * <a class=\"id\" href=\"#vfreq\">vfreq</a>  * 1000;", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#hfreq\">hfreq</a>/<a class=\"id\" href=\"#divisor\">divisor</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#fb_timings_vfreq\">fb_timings_vfreq</a>(struct <a class=\"id\" href=\"#__fb_timings\">__fb_timings</a> *<a class=\"id\" href=\"#timings\">timings</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a> = <a class=\"id\" href=\"#fb_get_hfreq\">fb_get_hfreq</a>(<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vfreq\">vfreq</a>, <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vactive\">vactive</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vblank\">vblank</a> = <a class=\"id\" href=\"#fb_get_vblank\">fb_get_vblank</a>(<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vtotal\">vtotal</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vactive\">vactive</a> + <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vblank\">vblank</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hblank\">hblank</a> = <a class=\"id\" href=\"#fb_get_hblank_by_hfreq\">fb_get_hblank_by_hfreq</a>(<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hactive\">hactive</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#htotal\">htotal</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hactive\">hactive</a> + <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hblank\">hblank</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#dclk\">dclk</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#htotal\">htotal</a> * <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#fb_timings_hfreq\">fb_timings_hfreq</a>(struct <a class=\"id\" href=\"#__fb_timings\">__fb_timings</a> *<a class=\"id\" href=\"#timings\">timings</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vblank\">vblank</a> = <a class=\"id\" href=\"#fb_get_vblank\">fb_get_vblank</a>(<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vtotal\">vtotal</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vactive\">vactive</a> + <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vblank\">vblank</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vfreq\">vfreq</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a>/<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vtotal\">vtotal</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hblank\">hblank</a> = <a class=\"id\" href=\"#fb_get_hblank_by_hfreq\">fb_get_hblank_by_hfreq</a>(<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hactive\">hactive</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#htotal\">htotal</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hactive\">hactive</a> + <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hblank\">hblank</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#dclk\">dclk</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#htotal\">htotal</a> * <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#fb_timings_dclk\">fb_timings_dclk</a>(struct <a class=\"id\" href=\"#__fb_timings\">__fb_timings</a> *<a class=\"id\" href=\"#timings\">timings</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hblank\">hblank</a> = <a class=\"id\" href=\"#fb_get_hblank_by_dclk\">fb_get_hblank_by_dclk</a>(<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#dclk\">dclk</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hactive\">hactive</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#htotal\">htotal</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hactive\">hactive</a> + <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hblank\">hblank</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#dclk\">dclk</a>/<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#htotal\">htotal</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vblank\">vblank</a> = <a class=\"id\" href=\"#fb_get_vblank\">fb_get_vblank</a>(<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vtotal\">vtotal</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vactive\">vactive</a> + <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vblank\">vblank</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vfreq\">vfreq</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a>/<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vtotal\">vtotal</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * fb_get_mode - calculates video mode using VESA GTF</span>", 
"<span class=\"comment\"> * @flags: if: 0 - maximize vertical refresh rate</span>", 
"<span class=\"comment\"> *             1 - vrefresh-driven calculation;</span>", 
"<span class=\"comment\"> *             2 - hscan-driven calculation;</span>", 
"<span class=\"comment\"> *             3 - pixelclock-driven calculation;</span>", 
"<span class=\"comment\"> * @val: depending on @flags, ignored, vrefresh, hsync or pixelclock</span>", 
"<span class=\"comment\"> * @var: pointer to fb_var_screeninfo</span>", 
"<span class=\"comment\"> * @info: pointer to fb_info</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION:</span>", 
"<span class=\"comment\"> * Calculates video mode based on monitor specs using VESA GTF.</span>", 
"<span class=\"comment\"> * The GTF is best for VESA GTF compliant monitors but is</span>", 
"<span class=\"comment\"> * specifically formulated to work for older monitors as well.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * If @flag==0, the function will attempt to maximize the</span>", 
"<span class=\"comment\"> * refresh rate.  Otherwise, it will calculate timings based on</span>", 
"<span class=\"comment\"> * the flag and accompanying value.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * If FB_IGNOREMON bit is set in @flags, monitor specs will be</span>", 
"<span class=\"comment\"> * ignored and @var will be filled with the calculated timings.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * All calculations are based on the VESA GTF Spreadsheet</span>", 
"<span class=\"comment\"> * available at VESA's public ftp (http://www.vesa.org).</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * NOTES:</span>", 
"<span class=\"comment\"> * The timings generated by the GTF will be different from VESA</span>", 
"<span class=\"comment\"> * DMT.  It might be a good idea to keep a table of standard</span>", 
"<span class=\"comment\"> * VESA modes as well.  The GTF may also not work for some displays,</span>", 
"<span class=\"comment\"> * such as, and especially, analog TV.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * REQUIRES:</span>", 
"<span class=\"comment\"> * A valid info-&gt;monspecs, otherwise 'safe numbers' will be used.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#fb_get_mode\">fb_get_mode</a>(int <a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#val\">val</a>, struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> *<a class=\"id\" href=\"#var\">var</a>, struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#__fb_timings\">__fb_timings</a> *<a class=\"id\" href=\"#timings\">timings</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#interlace\">interlace</a> = 1, <a class=\"id\" href=\"#dscan\">dscan</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#hfmin\">hfmin</a>, <a class=\"id\" href=\"#hfmax\">hfmax</a>, <a class=\"id\" href=\"#vfmin\">vfmin</a>, <a class=\"id\" href=\"#vfmax\">vfmax</a>, <a class=\"id\" href=\"#dclkmin\">dclkmin</a>, <a class=\"id\" href=\"#dclkmax\">dclkmax</a>, <a class=\"id\" href=\"#err\">err</a> = 0;", 
"", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#__fb_timings\">__fb_timings</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#timings\">timings</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * If monspecs are invalid, use values that are enough</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * for 640x480@60</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#info\">info</a> || !<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#hfmax\">hfmax</a> || !<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#vfmax\">vfmax</a> ||", 
"<span class=\"ts\"/>    !<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#dclkmax\">dclkmax</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#hfmax\">hfmax</a> &lt; <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#hfmin\">hfmin</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#vfmax\">vfmax</a> &lt; <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#vfmin\">vfmin</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#dclkmax\">dclkmax</a> &lt; <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#dclkmin\">dclkmin</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hfmin\">hfmin</a> = 29000; <a class=\"id\" href=\"#hfmax\">hfmax</a> = 30000;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vfmin\">vfmin</a> = 60; <a class=\"id\" href=\"#vfmax\">vfmax</a> = 60;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dclkmin\">dclkmin</a> = 0; <a class=\"id\" href=\"#dclkmax\">dclkmax</a> = 25000000;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hfmin\">hfmin</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#hfmin\">hfmin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hfmax\">hfmax</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#hfmax\">hfmax</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vfmin\">vfmin</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#vfmin\">vfmin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vfmax\">vfmax</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#vfmax\">vfmax</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dclkmin\">dclkmin</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#dclkmin\">dclkmin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dclkmax\">dclkmax</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#dclkmax\">dclkmax</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hactive\">hactive</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#xres\">xres</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vactive\">vactive</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#yres\">yres</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#vmode\">vmode</a> &amp; <a class=\"id\" href=\"#FB_VMODE_INTERLACED\">FB_VMODE_INTERLACED</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vactive\">vactive</a> /= 2;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#interlace\">interlace</a> = 2;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#vmode\">vmode</a> &amp; <a class=\"id\" href=\"#FB_VMODE_DOUBLE\">FB_VMODE_DOUBLE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vactive\">vactive</a> *= 2;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dscan\">dscan</a> = 2;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#flags\">flags</a> &amp; ~<a class=\"id\" href=\"#FB_IGNOREMON\">FB_IGNOREMON</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FB_MAXTIMINGS\">FB_MAXTIMINGS</a>: <span class=\"comment\">/* maximize refresh rate */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a> = <a class=\"id\" href=\"#hfmax\">hfmax</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_timings_hfreq\">fb_timings_hfreq</a>(<a class=\"id\" href=\"#timings\">timings</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vfreq\">vfreq</a> &gt; <a class=\"id\" href=\"#vfmax\">vfmax</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vfreq\">vfreq</a> = <a class=\"id\" href=\"#vfmax\">vfmax</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_timings_vfreq\">fb_timings_vfreq</a>(<a class=\"id\" href=\"#timings\">timings</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#dclk\">dclk</a> &gt; <a class=\"id\" href=\"#dclkmax\">dclkmax</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#dclk\">dclk</a> = <a class=\"id\" href=\"#dclkmax\">dclkmax</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_timings_dclk\">fb_timings_dclk</a>(<a class=\"id\" href=\"#timings\">timings</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FB_VSYNCTIMINGS\">FB_VSYNCTIMINGS</a>: <span class=\"comment\">/* vrefresh driven */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vfreq\">vfreq</a> = <a class=\"id\" href=\"#val\">val</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_timings_vfreq\">fb_timings_vfreq</a>(<a class=\"id\" href=\"#timings\">timings</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FB_HSYNCTIMINGS\">FB_HSYNCTIMINGS</a>: <span class=\"comment\">/* hsync driven */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a> = <a class=\"id\" href=\"#val\">val</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_timings_hfreq\">fb_timings_hfreq</a>(<a class=\"id\" href=\"#timings\">timings</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FB_DCLKTIMINGS\">FB_DCLKTIMINGS</a>: <span class=\"comment\">/* pixelclock driven */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#dclk\">dclk</a> = <a class=\"id\" href=\"#PICOS2KHZ\">PICOS2KHZ</a>(<a class=\"id\" href=\"#val\">val</a>) * 1000;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_timings_dclk\">fb_timings_dclk</a>(<a class=\"id\" href=\"#timings\">timings</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> || (!(<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#FB_IGNOREMON\">FB_IGNOREMON</a>) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vfreq\">vfreq</a> &lt; <a class=\"id\" href=\"#vfmin\">vfmin</a> || <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vfreq\">vfreq</a> &gt; <a class=\"id\" href=\"#vfmax\">vfmax</a> ||", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a> &lt; <a class=\"id\" href=\"#hfmin\">hfmin</a> || <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hfreq\">hfreq</a> &gt; <a class=\"id\" href=\"#hfmax\">hfmax</a> ||", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#dclk\">dclk</a> &lt; <a class=\"id\" href=\"#dclkmin\">dclkmin</a> || <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#dclk\">dclk</a> &gt; <a class=\"id\" href=\"#dclkmax\">dclkmax</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a> = <a class=\"id\" href=\"#KHZ2PICOS\">KHZ2PICOS</a>(<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#dclk\">dclk</a>/1000);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#hsync_len\">hsync_len</a> = (<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#htotal\">htotal</a> * 8)/100;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#right_margin\">right_margin</a> = (<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hblank\">hblank</a>/2) - <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#hsync_len\">hsync_len</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#left_margin\">left_margin</a> = <a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#hblank\">hblank</a> - <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#right_margin\">right_margin</a> -", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#hsync_len\">hsync_len</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#vsync_len\">vsync_len</a> = (3 * <a class=\"id\" href=\"#interlace\">interlace</a>)/<a class=\"id\" href=\"#dscan\">dscan</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#lower_margin\">lower_margin</a> = (1 * <a class=\"id\" href=\"#interlace\">interlace</a>)/<a class=\"id\" href=\"#dscan\">dscan</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#upper_margin\">upper_margin</a> = (<a class=\"id\" href=\"#timings\">timings</a>-><a class=\"id\" href=\"#vblank\">vblank</a> * <a class=\"id\" href=\"#interlace\">interlace</a>)/<a class=\"id\" href=\"#dscan\">dscan</a> -", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#vsync_len\">vsync_len</a> + <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#lower_margin\">lower_margin</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#timings\">timings</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"#else", 
"int <a class=\"id\" href=\"#fb_parse_edid\">fb_parse_edid</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>, struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> *<a class=\"id\" href=\"#var\">var</a>)", 
"{", 
"<span class=\"ts\"/>return 1;", 
"}", 
"void <a class=\"id\" href=\"#fb_edid_to_monspecs\">fb_edid_to_monspecs</a>(unsigned char *<a class=\"id\" href=\"#edid\">edid</a>, struct <a class=\"id\" href=\"#fb_monspecs\">fb_monspecs</a> *<a class=\"id\" href=\"#specs\">specs</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#specs\">specs</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"void <a class=\"id\" href=\"#fb_destroy_modedb\">fb_destroy_modedb</a>(struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#modedb\">modedb</a>)", 
"{", 
"}", 
"int <a class=\"id\" href=\"#fb_get_mode\">fb_get_mode</a>(int <a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#val\">val</a>, struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> *<a class=\"id\" href=\"#var\">var</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* CONFIG_FB_MODE_HELPERS */</span>", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * fb_validate_mode - validates var against monitor capabilities</span>", 
"<span class=\"comment\"> * @var: pointer to fb_var_screeninfo</span>", 
"<span class=\"comment\"> * @info: pointer to fb_info</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * DESCRIPTION:</span>", 
"<span class=\"comment\"> * Validates video mode against monitor capabilities specified in</span>", 
"<span class=\"comment\"> * info-&gt;monspecs.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * REQUIRES:</span>", 
"<span class=\"comment\"> * A valid info-&gt;monspecs.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#fb_validate_mode\">fb_validate_mode</a>(const struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> *<a class=\"id\" href=\"#var\">var</a>, struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#hfreq\">hfreq</a>, <a class=\"id\" href=\"#vfreq\">vfreq</a>, <a class=\"id\" href=\"#htotal\">htotal</a>, <a class=\"id\" href=\"#vtotal\">vtotal</a>, <a class=\"id\" href=\"#pixclock\">pixclock</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#hfmin\">hfmin</a>, <a class=\"id\" href=\"#hfmax\">hfmax</a>, <a class=\"id\" href=\"#vfmin\">vfmin</a>, <a class=\"id\" href=\"#vfmax\">vfmax</a>, <a class=\"id\" href=\"#dclkmin\">dclkmin</a>, <a class=\"id\" href=\"#dclkmax\">dclkmax</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * If monspecs are invalid, use values that are enough</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * for 640x480@60</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#hfmax\">hfmax</a> || !<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#vfmax\">vfmax</a> ||", 
"<span class=\"ts\"/>    !<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#dclkmax\">dclkmax</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#hfmax\">hfmax</a> &lt; <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#hfmin\">hfmin</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#vfmax\">vfmax</a> &lt; <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#vfmin\">vfmin</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#dclkmax\">dclkmax</a> &lt; <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#dclkmin\">dclkmin</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hfmin\">hfmin</a> = 29000; <a class=\"id\" href=\"#hfmax\">hfmax</a> = 30000;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vfmin\">vfmin</a> = 60; <a class=\"id\" href=\"#vfmax\">vfmax</a> = 60;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dclkmin\">dclkmin</a> = 0; <a class=\"id\" href=\"#dclkmax\">dclkmax</a> = 25000000;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hfmin\">hfmin</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#hfmin\">hfmin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hfmax\">hfmax</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#hfmax\">hfmax</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vfmin\">vfmin</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#vfmin\">vfmin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vfmax\">vfmax</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#vfmax\">vfmax</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dclkmin\">dclkmin</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#dclkmin\">dclkmin</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dclkmax\">dclkmax</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#monspecs\">monspecs</a>.<a class=\"id\" href=\"#dclkmax\">dclkmax</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pixclock\">pixclock</a> = <a class=\"id\" href=\"#PICOS2KHZ\">PICOS2KHZ</a>(<a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#pixclock\">pixclock</a>) * 1000;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#htotal\">htotal</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#xres\">xres</a> + <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#right_margin\">right_margin</a> + <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#hsync_len\">hsync_len</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#left_margin\">left_margin</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vtotal\">vtotal</a> = <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#yres\">yres</a> + <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#lower_margin\">lower_margin</a> + <a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#vsync_len\">vsync_len</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#upper_margin\">upper_margin</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#vmode\">vmode</a> &amp; <a class=\"id\" href=\"#FB_VMODE_INTERLACED\">FB_VMODE_INTERLACED</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vtotal\">vtotal</a> /= 2;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#var\">var</a>-><a class=\"id\" href=\"#vmode\">vmode</a> &amp; <a class=\"id\" href=\"#FB_VMODE_DOUBLE\">FB_VMODE_DOUBLE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#vtotal\">vtotal</a> *= 2;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hfreq\">hfreq</a> = <a class=\"id\" href=\"#pixclock\">pixclock</a>/<a class=\"id\" href=\"#htotal\">htotal</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hfreq\">hfreq</a> = (<a class=\"id\" href=\"#hfreq\">hfreq</a> + 500) / 1000 * 1000;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vfreq\">vfreq</a> = <a class=\"id\" href=\"#hfreq\">hfreq</a>/<a class=\"id\" href=\"#vtotal\">vtotal</a>;", 
"", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#vfreq\">vfreq</a> &lt; <a class=\"id\" href=\"#vfmin\">vfmin</a> || <a class=\"id\" href=\"#vfreq\">vfreq</a> &gt; <a class=\"id\" href=\"#vfmax\">vfmax</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hfreq\">hfreq</a> &lt; <a class=\"id\" href=\"#hfmin\">hfmin</a> || <a class=\"id\" href=\"#hfreq\">hfreq</a> &gt; <a class=\"id\" href=\"#hfmax\">hfmax</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pixclock\">pixclock</a> &lt; <a class=\"id\" href=\"#dclkmin\">dclkmin</a> || <a class=\"id\" href=\"#pixclock\">pixclock</a> &gt; <a class=\"id\" href=\"#dclkmax\">dclkmax</a>) ?", 
"<span class=\"ts\"/><span class=\"ts\"/>-<a class=\"id\" href=\"#EINVAL\">EINVAL</a> : 0;", 
"}", 
"", 
"#if <a class=\"id\" href=\"#defined\">defined</a>(<a class=\"id\" href=\"#CONFIG_FIRMWARE_EDID\">CONFIG_FIRMWARE_EDID</a>) && <a class=\"id\" href=\"#defined\">defined</a>(<a class=\"id\" href=\"#CONFIG_X86\">CONFIG_X86</a>)", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * We need to ensure that the EDID block is only returned for</span>", 
"<span class=\"comment\"> * the primary graphics adapter.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"const unsigned char *<a class=\"id\" href=\"#fb_firmware_edid\">fb_firmware_edid</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_dev\">pci_dev</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#resource\">resource</a> *<a class=\"id\" href=\"#res\">res</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>unsigned char *<a class=\"id\" href=\"#edid\">edid</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device\">device</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#to_pci_dev\">to_pci_dev</a>(<a class=\"id\" href=\"#device\">device</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#res\">res</a> = &amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#resource\">resource</a>[<a class=\"id\" href=\"#PCI_ROM_RESOURCE\">PCI_ROM_RESOURCE</a>];", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#res\">res</a> && <a class=\"id\" href=\"#res\">res</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#IORESOURCE_ROM_SHADOW\">IORESOURCE_ROM_SHADOW</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#edid\">edid</a> = <a class=\"id\" href=\"#edid_info\">edid_info</a>.<a class=\"id\" href=\"#dummy\">dummy</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#edid\">edid</a>;", 
"}", 
"#else", 
"const unsigned char *<a class=\"id\" href=\"#fb_firmware_edid\">fb_firmware_edid</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#device\">device</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_firmware_edid\">fb_firmware_edid</a>);", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_parse_edid\">fb_parse_edid</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_edid_to_monspecs\">fb_edid_to_monspecs</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_get_mode\">fb_get_mode</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_validate_mode\">fb_validate_mode</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_destroy_modedb\">fb_destroy_modedb</a>);", 
];
xr_frag_insert('l/b8/6584360a056348691bb62bacae5e237f3fab19.xr', __xr_tmp);
