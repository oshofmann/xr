var __xr_tmp = [
"", 
"static <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#red4\">red4</a>[] <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> = {", 
"    0x0000, 0xaaaa, 0x5555, 0xffff", 
"};", 
"static <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#green4\">green4</a>[] <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> = {", 
"    0x0000, 0xaaaa, 0x5555, 0xffff", 
"};", 
"static <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#blue4\">blue4</a>[] <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> = {", 
"    0x0000, 0xaaaa, 0x5555, 0xffff", 
"};", 
"", 
"static <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#red8\">red8</a>[] <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> = {", 
"    0x0000, 0x0000, 0x0000, 0x0000, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa", 
"};", 
"static <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#green8\">green8</a>[] <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> = {", 
"    0x0000, 0x0000, 0xaaaa, 0xaaaa, 0x0000, 0x0000, 0x5555, 0xaaaa", 
"};", 
"static <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#blue8\">blue8</a>[] <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> = {", 
"    0x0000, 0xaaaa, 0x0000, 0xaaaa, 0x0000, 0xaaaa, 0x0000, 0xaaaa", 
"};", 
"", 
"static <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#red16\">red16</a>[] <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> = {", 
"    0x0000, 0x0000, 0x0000, 0x0000, 0xaaaa, 0xaaaa, 0xaaaa, 0xaaaa,", 
"    0x5555, 0x5555, 0x5555, 0x5555, 0xffff, 0xffff, 0xffff, 0xffff", 
"};", 
"static <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#green16\">green16</a>[] <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> = {", 
"    0x0000, 0x0000, 0xaaaa, 0xaaaa, 0x0000, 0x0000, 0x5555, 0xaaaa,", 
"    0x5555, 0x5555, 0xffff, 0xffff, 0x5555, 0x5555, 0xffff, 0xffff", 
"};", 
"static <a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#blue16\">blue16</a>[] <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a> = {", 
"    0x0000, 0xaaaa, 0x0000, 0xaaaa, 0x0000, 0xaaaa, 0x0000, 0xaaaa,", 
"    0x5555, 0xffff, 0x5555, 0xffff, 0x5555, 0xffff, 0x5555, 0xffff", 
"};", 
"", 
"static const struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> <a class=\"id\" href=\"#default_2_colors\">default_2_colors</a> = {", 
"    .<a class=\"id\" href=\"#len\">len</a>=2, .<a class=\"id\" href=\"#red\">red</a>=<a class=\"id\" href=\"#red2\">red2</a>, .<a class=\"id\" href=\"#green\">green</a>=<a class=\"id\" href=\"#green2\">green2</a>, .<a class=\"id\" href=\"#blue\">blue</a>=<a class=\"id\" href=\"#blue2\">blue2</a>", 
"};", 
"static const struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> <a class=\"id\" href=\"#default_8_colors\">default_8_colors</a> = {", 
"    .<a class=\"id\" href=\"#len\">len</a>=8, .<a class=\"id\" href=\"#red\">red</a>=<a class=\"id\" href=\"#red8\">red8</a>, .<a class=\"id\" href=\"#green\">green</a>=<a class=\"id\" href=\"#green8\">green8</a>, .<a class=\"id\" href=\"#blue\">blue</a>=<a class=\"id\" href=\"#blue8\">blue8</a>", 
"};", 
"static const struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> <a class=\"id\" href=\"#default_4_colors\">default_4_colors</a> = {", 
"    .<a class=\"id\" href=\"#len\">len</a>=4, .<a class=\"id\" href=\"#red\">red</a>=<a class=\"id\" href=\"#red4\">red4</a>, .<a class=\"id\" href=\"#green\">green</a>=<a class=\"id\" href=\"#green4\">green4</a>, .<a class=\"id\" href=\"#blue\">blue</a>=<a class=\"id\" href=\"#blue4\">blue4</a>", 
"};", 
"static const struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> <a class=\"id\" href=\"#default_16_colors\">default_16_colors</a> = {", 
"    .<a class=\"id\" href=\"#len\">len</a>=16, .<a class=\"id\" href=\"#red\">red</a>=<a class=\"id\" href=\"#red16\">red16</a>, .<a class=\"id\" href=\"#green\">green</a>=<a class=\"id\" href=\"#green16\">green16</a>, .<a class=\"id\" href=\"#blue\">blue</a>=<a class=\"id\" href=\"#blue16\">blue16</a>", 
"};", 
"", 
"", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>fb_alloc_cmap - allocate a colormap</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@cmap: frame buffer colormap structure</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@len: length of @cmap</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@transp: boolean, 1 if there is transparency, 0 otherwise</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Allocates memory for a colormap @cmap.  @len is the</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>number of entries in the palette.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Returns negative errno on error, or zero on success.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"int <a class=\"id\" href=\"#fb_alloc_cmap\">fb_alloc_cmap</a>(struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> *<a class=\"id\" href=\"#cmap\">cmap</a>, int <a class=\"id\" href=\"#len\">len</a>, int <a class=\"id\" href=\"#transp\">transp</a>)", 
"{", 
"    int <a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#len\">len</a>*sizeof(<a class=\"id\" href=\"#u16\">u16</a>);", 
"", 
"    if (<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#len\">len</a> != <a class=\"id\" href=\"#len\">len</a>) {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_dealloc_cmap\">fb_dealloc_cmap</a>(<a class=\"id\" href=\"#cmap\">cmap</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#len\">len</a>)", 
"<span class=\"ts\"/>    return 0;", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#red\">red</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#size\">size</a>, <a class=\"id\" href=\"#GFP_ATOMIC\">GFP_ATOMIC</a>)))", 
"<span class=\"ts\"/>    goto <a class=\"id\" href=\"#fail\">fail</a>;", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#green\">green</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#size\">size</a>, <a class=\"id\" href=\"#GFP_ATOMIC\">GFP_ATOMIC</a>)))", 
"<span class=\"ts\"/>    goto <a class=\"id\" href=\"#fail\">fail</a>;", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#blue\">blue</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#size\">size</a>, <a class=\"id\" href=\"#GFP_ATOMIC\">GFP_ATOMIC</a>)))", 
"<span class=\"ts\"/>    goto <a class=\"id\" href=\"#fail\">fail</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#transp\">transp</a>) {", 
"<span class=\"ts\"/>    if (!(<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#transp\">transp</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#size\">size</a>, <a class=\"id\" href=\"#GFP_ATOMIC\">GFP_ATOMIC</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#fail\">fail</a>;", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#transp\">transp</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"    }", 
"    <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#start\">start</a> = 0;", 
"    <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#len\">len</a>;", 
"    <a class=\"id\" href=\"#fb_copy_cmap\">fb_copy_cmap</a>(<a class=\"id\" href=\"#fb_default_cmap\">fb_default_cmap</a>(<a class=\"id\" href=\"#len\">len</a>), <a class=\"id\" href=\"#cmap\">cmap</a>);", 
"    return 0;", 
"", 
"<a class=\"id\" href=\"#fail\">fail</a>:", 
"    <a class=\"id\" href=\"#fb_dealloc_cmap\">fb_dealloc_cmap</a>(<a class=\"id\" href=\"#cmap\">cmap</a>);", 
"    return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *      fb_dealloc_cmap - deallocate a colormap</span>", 
"<span class=\"comment\"> *      @cmap: frame buffer colormap structure</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *      Deallocates a colormap that was previously allocated with</span>", 
"<span class=\"comment\"> *      fb_alloc_cmap().</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"void <a class=\"id\" href=\"#fb_dealloc_cmap\">fb_dealloc_cmap</a>(struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> *<a class=\"id\" href=\"#cmap\">cmap</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#red\">red</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#green\">green</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#blue\">blue</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#transp\">transp</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#red\">red</a> = <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#green\">green</a> = <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#blue\">blue</a> = <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#transp\">transp</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#len\">len</a> = 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>fb_copy_cmap - copy a colormap</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@from: frame buffer colormap structure</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@to: frame buffer colormap structure</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Copy contents of colormap from @from to @to.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"int <a class=\"id\" href=\"#fb_copy_cmap\">fb_copy_cmap</a>(const struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> *<a class=\"id\" href=\"#from\">from</a>, struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> *<a class=\"id\" href=\"#to\">to</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#tooff\">tooff</a> = 0, <a class=\"id\" href=\"#fromoff\">fromoff</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#size\">size</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#start\">start</a> &gt; <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#start\">start</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fromoff\">fromoff</a> = <a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#start\">start</a> - <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tooff\">tooff</a> = <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#start\">start</a> - <a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#len\">len</a> - <a class=\"id\" href=\"#tooff\">tooff</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a> &gt; (int) (<a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#len\">len</a> - <a class=\"id\" href=\"#fromoff\">fromoff</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#len\">len</a> - <a class=\"id\" href=\"#fromoff\">fromoff</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a> <= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#size\">size</a> *= sizeof(<a class=\"id\" href=\"#u16\">u16</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#red\">red</a>+<a class=\"id\" href=\"#tooff\">tooff</a>, <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#red\">red</a>+<a class=\"id\" href=\"#fromoff\">fromoff</a>, <a class=\"id\" href=\"#size\">size</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#green\">green</a>+<a class=\"id\" href=\"#tooff\">tooff</a>, <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#green\">green</a>+<a class=\"id\" href=\"#fromoff\">fromoff</a>, <a class=\"id\" href=\"#size\">size</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#blue\">blue</a>+<a class=\"id\" href=\"#tooff\">tooff</a>, <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#blue\">blue</a>+<a class=\"id\" href=\"#fromoff\">fromoff</a>, <a class=\"id\" href=\"#size\">size</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#transp\">transp</a> && <a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#transp\">transp</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#transp\">transp</a>+<a class=\"id\" href=\"#tooff\">tooff</a>, <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#transp\">transp</a>+<a class=\"id\" href=\"#fromoff\">fromoff</a>, <a class=\"id\" href=\"#size\">size</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"int <a class=\"id\" href=\"#fb_cmap_to_user\">fb_cmap_to_user</a>(const struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> *<a class=\"id\" href=\"#from\">from</a>, struct <a class=\"id\" href=\"#fb_cmap_user\">fb_cmap_user</a> *<a class=\"id\" href=\"#to\">to</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#tooff\">tooff</a> = 0, <a class=\"id\" href=\"#fromoff\">fromoff</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#size\">size</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#start\">start</a> &gt; <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#start\">start</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fromoff\">fromoff</a> = <a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#start\">start</a> - <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tooff\">tooff</a> = <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#start\">start</a> - <a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#len\">len</a> - <a class=\"id\" href=\"#tooff\">tooff</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a> &gt; (int) (<a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#len\">len</a> - <a class=\"id\" href=\"#fromoff\">fromoff</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#len\">len</a> - <a class=\"id\" href=\"#fromoff\">fromoff</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a> <= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#size\">size</a> *= sizeof(<a class=\"id\" href=\"#u16\">u16</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#red\">red</a>+<a class=\"id\" href=\"#tooff\">tooff</a>, <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#red\">red</a>+<a class=\"id\" href=\"#fromoff\">fromoff</a>, <a class=\"id\" href=\"#size\">size</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#green\">green</a>+<a class=\"id\" href=\"#tooff\">tooff</a>, <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#green\">green</a>+<a class=\"id\" href=\"#fromoff\">fromoff</a>, <a class=\"id\" href=\"#size\">size</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#blue\">blue</a>+<a class=\"id\" href=\"#tooff\">tooff</a>, <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#blue\">blue</a>+<a class=\"id\" href=\"#fromoff\">fromoff</a>, <a class=\"id\" href=\"#size\">size</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#transp\">transp</a> && <a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#transp\">transp</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#to\">to</a>-><a class=\"id\" href=\"#transp\">transp</a>+<a class=\"id\" href=\"#tooff\">tooff</a>, <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#transp\">transp</a>+<a class=\"id\" href=\"#fromoff\">fromoff</a>, <a class=\"id\" href=\"#size\">size</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>fb_set_cmap - set the colormap</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@cmap: frame buffer colormap structure</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@info: frame buffer info structure</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Sets the colormap @cmap for a screen of device @info.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Returns negative errno on error, or zero on success.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"int <a class=\"id\" href=\"#fb_set_cmap\">fb_set_cmap</a>(struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> *<a class=\"id\" href=\"#cmap\">cmap</a>, struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#start\">start</a>, <a class=\"id\" href=\"#rc\">rc</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> *<a class=\"id\" href=\"#red\">red</a>, *<a class=\"id\" href=\"#green\">green</a>, *<a class=\"id\" href=\"#blue\">blue</a>, *<a class=\"id\" href=\"#transp\">transp</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u_int\">u_int</a> <a class=\"id\" href=\"#hred\">hred</a>, <a class=\"id\" href=\"#hgreen\">hgreen</a>, <a class=\"id\" href=\"#hblue\">hblue</a>, <a class=\"id\" href=\"#htransp\">htransp</a> = 0xffff;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#red\">red</a> = <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#red\">red</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#green\">green</a> = <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#green\">green</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#blue\">blue</a> = <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#blue\">blue</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#transp\">transp</a> = <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#transp\">transp</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#start\">start</a> = <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#start\">start</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#start\">start</a> &lt; 0 || (!<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_setcolreg\">fb_setcolreg</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  !<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_setcmap\">fb_setcmap</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_setcmap\">fb_setcmap</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_setcmap\">fb_setcmap</a>(<a class=\"id\" href=\"#cmap\">cmap</a>, <a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#len\">len</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hred\">hred</a> = *<a class=\"id\" href=\"#red\">red</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hgreen\">hgreen</a> = *<a class=\"id\" href=\"#green\">green</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hblue\">hblue</a> = *<a class=\"id\" href=\"#blue\">blue</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#transp\">transp</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#htransp\">htransp</a> = *<a class=\"id\" href=\"#transp\">transp</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_setcolreg\">fb_setcolreg</a>(<a class=\"id\" href=\"#start\">start</a>++,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hred\">hred</a>, <a class=\"id\" href=\"#hgreen\">hgreen</a>, <a class=\"id\" href=\"#hblue\">hblue</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#htransp\">htransp</a>, <a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rc\">rc</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_copy_cmap\">fb_copy_cmap</a>(<a class=\"id\" href=\"#cmap\">cmap</a>, &amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#cmap\">cmap</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#fb_set_user_cmap\">fb_set_user_cmap</a>(struct <a class=\"id\" href=\"#fb_cmap_user\">fb_cmap_user</a> *<a class=\"id\" href=\"#cmap\">cmap</a>, struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rc\">rc</a>, <a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#len\">len</a> * sizeof(<a class=\"id\" href=\"#u16\">u16</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> <a class=\"id\" href=\"#umap\">umap</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#umap\">umap</a>, 0, sizeof(struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = <a class=\"id\" href=\"#fb_alloc_cmap\">fb_alloc_cmap</a>(&amp;<a class=\"id\" href=\"#umap\">umap</a>, <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#len\">len</a>, <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#transp\">transp</a> != <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rc\">rc</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#umap\">umap</a>.<a class=\"id\" href=\"#red\">red</a>, <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#red\">red</a>, <a class=\"id\" href=\"#size\">size</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#umap\">umap</a>.<a class=\"id\" href=\"#green\">green</a>, <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#green\">green</a>, <a class=\"id\" href=\"#size\">size</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#umap\">umap</a>.<a class=\"id\" href=\"#blue\">blue</a>, <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#blue\">blue</a>, <a class=\"id\" href=\"#size\">size</a>) ||", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#transp\">transp</a> && <a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#umap\">umap</a>.<a class=\"id\" href=\"#transp\">transp</a>, <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#transp\">transp</a>, <a class=\"id\" href=\"#size\">size</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#umap\">umap</a>.<a class=\"id\" href=\"#start\">start</a> = <a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#start\">start</a> &lt; 0 || (!<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_setcolreg\">fb_setcolreg</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>!<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_setcmap\">fb_setcmap</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out1\">out1</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = <a class=\"id\" href=\"#fb_set_cmap\">fb_set_cmap</a>(&amp;<a class=\"id\" href=\"#umap\">umap</a>, <a class=\"id\" href=\"#info\">info</a>);", 
"<a class=\"id\" href=\"#out1\">out1</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_dealloc_cmap\">fb_dealloc_cmap</a>(&amp;<a class=\"id\" href=\"#umap\">umap</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>fb_default_cmap - get default colormap</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@len: size of palette for a depth</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Gets the default colormap for a specific screen depth.  @len</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>is the size of the palette for a particular screen depth.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Returns pointer to a frame buffer colormap structure.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"const struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> *<a class=\"id\" href=\"#fb_default_cmap\">fb_default_cmap</a>(int <a class=\"id\" href=\"#len\">len</a>)", 
"{", 
"    if (<a class=\"id\" href=\"#len\">len</a> <= 2)", 
"<span class=\"ts\"/>return &amp;<a class=\"id\" href=\"#default_2_colors\">default_2_colors</a>;", 
"    if (<a class=\"id\" href=\"#len\">len</a> <= 4)", 
"<span class=\"ts\"/>return &amp;<a class=\"id\" href=\"#default_4_colors\">default_4_colors</a>;", 
"    if (<a class=\"id\" href=\"#len\">len</a> <= 8)", 
"<span class=\"ts\"/>return &amp;<a class=\"id\" href=\"#default_8_colors\">default_8_colors</a>;", 
"    return &amp;<a class=\"id\" href=\"#default_16_colors\">default_16_colors</a>;", 
"}", 
"", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>fb_invert_cmaps - invert all defaults colormaps</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Invert all default colormaps.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"void <a class=\"id\" href=\"#fb_invert_cmaps\">fb_invert_cmaps</a>(void)", 
"{", 
"    <a class=\"id\" href=\"#u_int\">u_int</a> <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"    for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#red2\">red2</a>); <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#red2\">red2</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#red2\">red2</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#green2\">green2</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#green2\">green2</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#blue2\">blue2</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#blue2\">blue2</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"    }", 
"    for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#red4\">red4</a>); <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#red4\">red4</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#red4\">red4</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#green4\">green4</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#green4\">green4</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#blue4\">blue4</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#blue4\">blue4</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"    }", 
"    for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#red8\">red8</a>); <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#red8\">red8</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#red8\">red8</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#green8\">green8</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#green8\">green8</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#blue8\">blue8</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#blue8\">blue8</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"    }", 
"    for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#red16\">red16</a>); <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#red16\">red16</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#red16\">red16</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#green16\">green16</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#green16\">green16</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#blue16\">blue16</a>[<a class=\"id\" href=\"#i\">i</a>] = ~<a class=\"id\" href=\"#blue16\">blue16</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"    }", 
"}", 
"", 
"", 
"    <span class=\"comment\">/*</span>", 
"<span class=\"comment\">     *  Visible symbols for modules</span>", 
"<span class=\"comment\">     */</span>", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_alloc_cmap\">fb_alloc_cmap</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_dealloc_cmap\">fb_dealloc_cmap</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_copy_cmap\">fb_copy_cmap</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_set_cmap\">fb_set_cmap</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_default_cmap\">fb_default_cmap</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_invert_cmaps\">fb_invert_cmaps</a>);", 
];
xr_frag_insert('l/be/715bb637c83677a1e88366be56384676d11fdd.xr', __xr_tmp);
