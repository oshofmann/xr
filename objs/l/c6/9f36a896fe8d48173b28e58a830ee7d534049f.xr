var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * card.c - contains functions for managing groups of PnP devices</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright 2002 Adam Belay &lt;ambx1@neo.rr.com&gt;</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#ctype\">ctype</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#pnp\">pnp</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#dma\">dma</a>-<a class=\"id\" href=\"#mapping\">mapping</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> \"base.h\"", 
"", 
"<a class=\"id\" href=\"#LIST_HEAD\">LIST_HEAD</a>(<a class=\"id\" href=\"#pnp_cards\">pnp_cards</a>);", 
"static <a class=\"id\" href=\"#LIST_HEAD\">LIST_HEAD</a>(<a class=\"id\" href=\"#pnp_card_drivers\">pnp_card_drivers</a>);", 
"", 
"static const struct <a class=\"id\" href=\"#pnp_card_device_id\">pnp_card_device_id</a> *<a class=\"id\" href=\"#match_card\">match_card</a>(struct <a class=\"id\" href=\"#pnp_card_driver\">pnp_card_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#pnp_card_device_id\">pnp_card_device_id</a> *<a class=\"id\" href=\"#drv_id\">drv_id</a> = <a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#id_table\">id_table</a>;", 
"", 
"<span class=\"ts\"/>while (*<a class=\"id\" href=\"#drv_id\">drv_id</a>-><a class=\"id\" href=\"#id\">id</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#compare_pnp_id\">compare_pnp_id</a>(<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#drv_id\">drv_id</a>-><a class=\"id\" href=\"#id\">id</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>for (;;) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#found\">found</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#i\">i</a> == <a class=\"id\" href=\"#PNP_MAX_DEVICES\">PNP_MAX_DEVICES</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    !*<a class=\"id\" href=\"#drv_id\">drv_id</a>-><a class=\"id\" href=\"#devs\">devs</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#id\">id</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#drv_id\">drv_id</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#found\">found</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#card_for_each_dev\">card_for_each_dev</a>(<a class=\"id\" href=\"#card\">card</a>, <a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#compare_pnp_id\">compare_pnp_id</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#id\">id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#drv_id\">drv_id</a>-><a class=\"id\" href=\"#devs\">devs</a>[<a class=\"id\" href=\"#i\">i</a>].<a class=\"id\" href=\"#id\">id</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#found\">found</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#found\">found</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drv_id\">drv_id</a>++;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#card_remove\">card_remove</a>(struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#card_remove_first\">card_remove_first</a>(struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card_driver\">pnp_card_driver</a> *<a class=\"id\" href=\"#drv\">drv</a> = <a class=\"id\" href=\"#to_pnp_card_driver\">to_pnp_card_driver</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#driver\">driver</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card\">card</a> || !<a class=\"id\" href=\"#drv\">drv</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#remove\">remove</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#remove\">remove</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#remove\">remove</a> = &amp;<a class=\"id\" href=\"#card_remove\">card_remove</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card_remove\">card_remove</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#card_probe\">card_probe</a>(struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a>, struct <a class=\"id\" href=\"#pnp_card_driver\">pnp_card_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>)", 
"{", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#pnp_card_device_id\">pnp_card_device_id</a> *<a class=\"id\" href=\"#id\">id</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card_link\">pnp_card_link</a> *<a class=\"id\" href=\"#clink\">clink</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#probe\">probe</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#match_card\">match_card</a>(<a class=\"id\" href=\"#drv\">drv</a>, <a class=\"id\" href=\"#card\">card</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#id\">id</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clink\">clink</a> = <a class=\"id\" href=\"#pnp_alloc\">pnp_alloc</a>(sizeof(*<a class=\"id\" href=\"#clink\">clink</a>));", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#clink\">clink</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clink\">clink</a>-><a class=\"id\" href=\"#card\">card</a> = <a class=\"id\" href=\"#card\">card</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clink\">clink</a>-><a class=\"id\" href=\"#driver\">driver</a> = <a class=\"id\" href=\"#drv\">drv</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#clink\">clink</a>-><a class=\"id\" href=\"#pm_state\">pm_state</a> = <a class=\"id\" href=\"#PMSG_ON\">PMSG_ON</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#probe\">probe</a>(<a class=\"id\" href=\"#clink\">clink</a>, <a class=\"id\" href=\"#id\">id</a>) >= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Recovery */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card_for_each_dev\">card_for_each_dev</a>(<a class=\"id\" href=\"#card\">card</a>, <a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a> == <a class=\"id\" href=\"#clink\">clink</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pnp_release_card_device\">pnp_release_card_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#clink\">clink</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pnp_add_card_id - adds an EISA id to the specified card</span>", 
"<span class=\"comment\"> * @id: pointer to a pnp_id structure</span>", 
"<span class=\"comment\"> * @card: pointer to the desired card</span>", 
"<span class=\"comment\"> */</span>", 
"static struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a> *<a class=\"id\" href=\"#pnp_add_card_id\">pnp_add_card_id</a>(struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a>, char *<a class=\"id\" href=\"#id\">id</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a> *<a class=\"id\" href=\"#dev_id\">dev_id</a>, *<a class=\"id\" href=\"#ptr\">ptr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev_id\">dev_id</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[0] = <a class=\"id\" href=\"#id\">id</a>[0];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[1] = <a class=\"id\" href=\"#id\">id</a>[1];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[2] = <a class=\"id\" href=\"#id\">id</a>[2];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[3] = <a class=\"id\" href=\"#tolower\">tolower</a>(<a class=\"id\" href=\"#id\">id</a>[3]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[4] = <a class=\"id\" href=\"#tolower\">tolower</a>(<a class=\"id\" href=\"#id\">id</a>[4]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[5] = <a class=\"id\" href=\"#tolower\">tolower</a>(<a class=\"id\" href=\"#id\">id</a>[5]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[6] = <a class=\"id\" href=\"#tolower\">tolower</a>(<a class=\"id\" href=\"#id\">id</a>[6]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#id\">id</a>[7] = '\\0';", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ptr\">ptr</a> = <a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#id\">id</a>;", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#ptr\">ptr</a> && <a class=\"id\" href=\"#ptr\">ptr</a>-><a class=\"id\" href=\"#next\">next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ptr\">ptr</a> = <a class=\"id\" href=\"#ptr\">ptr</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ptr\">ptr</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ptr\">ptr</a>-><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#dev_id\">dev_id</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#dev_id\">dev_id</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#dev_id\">dev_id</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#pnp_free_card_ids\">pnp_free_card_ids</a>(struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a> *<a class=\"id\" href=\"#id\">id</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a> *<a class=\"id\" href=\"#next\">next</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#id\">id</a>;", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#id\">id</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#id\">id</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#id\">id</a> = <a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static void <a class=\"id\" href=\"#pnp_release_card\">pnp_release_card</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dmdev\">dmdev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a> = <a class=\"id\" href=\"#to_pnp_card\">to_pnp_card</a>(<a class=\"id\" href=\"#dmdev\">dmdev</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pnp_free_card_ids\">pnp_free_card_ids</a>(<a class=\"id\" href=\"#card\">card</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#card\">card</a>);", 
"}", 
"", 
"struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#pnp_alloc_card\">pnp_alloc_card</a>(struct <a class=\"id\" href=\"#pnp_protocol\">pnp_protocol</a> *<a class=\"id\" href=\"#protocol\">protocol</a>, int <a class=\"id\" href=\"#id\">id</a>, char *<a class=\"id\" href=\"#pnpid\">pnpid</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a> *<a class=\"id\" href=\"#dev_id\">dev_id</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card\">card</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#card\">card</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#protocol\">protocol</a> = <a class=\"id\" href=\"#protocol\">protocol</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#number\">number</a> = <a class=\"id\" href=\"#id\">id</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#parent\">parent</a> = &amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#protocol\">protocol</a>-><a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_set_name\">dev_set_name</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>, \"%02x:%02x\", <a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#protocol\">protocol</a>-><a class=\"id\" href=\"#number\">number</a>, <a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#number\">number</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#coherent_dma_mask\">coherent_dma_mask</a> = <a class=\"id\" href=\"#DMA_BIT_MASK\">DMA_BIT_MASK</a>(24);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#dma_mask\">dma_mask</a> = &amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#coherent_dma_mask\">coherent_dma_mask</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_id\">dev_id</a> = <a class=\"id\" href=\"#pnp_add_card_id\">pnp_add_card_id</a>(<a class=\"id\" href=\"#card\">card</a>, <a class=\"id\" href=\"#pnpid\">pnpid</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev_id\">dev_id</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#card\">card</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#card\">card</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#pnp_show_card_name\">pnp_show_card_name</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dmdev\">dmdev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#str\">str</a> = <a class=\"id\" href=\"#buf\">buf</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a> = <a class=\"id\" href=\"#to_pnp_card\">to_pnp_card</a>(<a class=\"id\" href=\"#dmdev\">dmdev</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#str\">str</a> += <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#str\">str</a>, \"%s\\n\", <a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#str\">str</a> - <a class=\"id\" href=\"#buf\">buf</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#DEVICE_ATTR\">DEVICE_ATTR</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>, <a class=\"id\" href=\"#pnp_show_card_name\">pnp_show_card_name</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#pnp_show_card_ids\">pnp_show_card_ids</a>(struct <a class=\"id\" href=\"#device\">device</a> *<a class=\"id\" href=\"#dmdev\">dmdev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#device_attribute\">device_attribute</a> *<a class=\"id\" href=\"#attr\">attr</a>, char *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#str\">str</a> = <a class=\"id\" href=\"#buf\">buf</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a> = <a class=\"id\" href=\"#to_pnp_card\">to_pnp_card</a>(<a class=\"id\" href=\"#dmdev\">dmdev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_id\">pnp_id</a> *<a class=\"id\" href=\"#pos\">pos</a> = <a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#id\">id</a>;", 
"", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#pos\">pos</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#str\">str</a> += <a class=\"id\" href=\"#sprintf\">sprintf</a>(<a class=\"id\" href=\"#str\">str</a>, \"%s\\n\", <a class=\"id\" href=\"#pos\">pos</a>-><a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pos\">pos</a> = <a class=\"id\" href=\"#pos\">pos</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#str\">str</a> - <a class=\"id\" href=\"#buf\">buf</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#DEVICE_ATTR\">DEVICE_ATTR</a>(<a class=\"id\" href=\"#card_id\">card_id</a>, <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>, <a class=\"id\" href=\"#pnp_show_card_ids\">pnp_show_card_ids</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"static int <a class=\"id\" href=\"#pnp_interface_attach_card\">pnp_interface_attach_card</a>(struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rc\">rc</a> = <a class=\"id\" href=\"#device_create_file\">device_create_file</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_name\">dev_attr_name</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rc\">rc</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = <a class=\"id\" href=\"#device_create_file\">device_create_file</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_card_id\">dev_attr_card_id</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rc\">rc</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_name\">err_name</a>;", 
"", 
"<span class=\"ts\"/>return 0;", 
"", 
"<a class=\"id\" href=\"#err_name\">err_name</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device_remove_file\">device_remove_file</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>, &amp;<a class=\"id\" href=\"#dev_attr_name\">dev_attr_name</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pnp_add_card - adds a PnP card to the PnP Layer</span>", 
"<span class=\"comment\"> * @card: pointer to the card to add</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#pnp_add_card\">pnp_add_card</a>(struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> *<a class=\"id\" href=\"#pos\">pos</a>, *<a class=\"id\" href=\"#temp\">temp</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#bus\">bus</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#release\">release</a> = &amp;<a class=\"id\" href=\"#pnp_release_card\">pnp_release_card</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#device_register\">device_register</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_err\">dev_err</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>, \"could not register (err=%d)\\n\", <a class=\"id\" href=\"#error\">error</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pnp_interface_attach_card\">pnp_interface_attach_card</a>(<a class=\"id\" href=\"#card\">card</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#global_list\">global_list</a>, &amp;<a class=\"id\" href=\"#pnp_cards\">pnp_cards</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#protocol_list\">protocol_list</a>, &amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#protocol\">protocol</a>-><a class=\"id\" href=\"#cards\">cards</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* we wait until now to add devices in order to ensure the drivers</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * will be able to use all of the related devices on the card</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * without waiting an unreasonable length of time */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each\">list_for_each</a>(<a class=\"id\" href=\"#pos\">pos</a>, &amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#devices\">devices</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#card_to_pnp_dev\">card_to_pnp_dev</a>(<a class=\"id\" href=\"#pos\">pos</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__pnp_add_device\">__pnp_add_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* match with card drivers */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_safe\">list_for_each_safe</a>(<a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#temp\">temp</a>, &amp;<a class=\"id\" href=\"#pnp_card_drivers\">pnp_card_drivers</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card_driver\">pnp_card_driver</a> *<a class=\"id\" href=\"#drv\">drv</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#list_entry\">list_entry</a>(<a class=\"id\" href=\"#pos\">pos</a>, struct <a class=\"id\" href=\"#pnp_card_driver\">pnp_card_driver</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#global_list\">global_list</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#card_probe\">card_probe</a>(<a class=\"id\" href=\"#card\">card</a>, <a class=\"id\" href=\"#drv\">drv</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pnp_remove_card - removes a PnP card from the PnP Layer</span>", 
"<span class=\"comment\"> * @card: pointer to the card to remove</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#pnp_remove_card\">pnp_remove_card</a>(struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> *<a class=\"id\" href=\"#pos\">pos</a>, *<a class=\"id\" href=\"#temp\">temp</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device_unregister\">device_unregister</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#global_list\">global_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#protocol_list\">protocol_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_safe\">list_for_each_safe</a>(<a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#temp\">temp</a>, &amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#devices\">devices</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#card_to_pnp_dev\">card_to_pnp_dev</a>(<a class=\"id\" href=\"#pos\">pos</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pnp_remove_card_device\">pnp_remove_card_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pnp_add_card_device - adds a device to the specified card</span>", 
"<span class=\"comment\"> * @card: pointer to the card to add to</span>", 
"<span class=\"comment\"> * @dev: pointer to the device to add</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#pnp_add_card_device\">pnp_add_card_device</a>(struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a>, struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#parent\">parent</a> = &amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_set_name\">dev_set_name</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>, \"%02x:%02x.%02x\",", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#protocol\">protocol</a>-><a class=\"id\" href=\"#number\">number</a>, <a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#number\">number</a>, <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#number\">number</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card\">card</a> = <a class=\"id\" href=\"#card\">card</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_list\">card_list</a>, &amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#devices\">devices</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pnp_remove_card_device- removes a device from the specified card</span>", 
"<span class=\"comment\"> * @dev: pointer to the device to remove</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#pnp_remove_card_device\">pnp_remove_card_device</a>(struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card\">card</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_list\">card_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__pnp_remove_device\">__pnp_remove_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pnp_request_card_device - Searches for a PnP device under the specified card</span>", 
"<span class=\"comment\"> * @clink: pointer to the card link, cannot be NULL</span>", 
"<span class=\"comment\"> * @id: pointer to a PnP ID structure that explains the rules for finding the device</span>", 
"<span class=\"comment\"> * @from: Starting place to search from. If NULL it will start from the begining.</span>", 
"<span class=\"comment\"> */</span>", 
"struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#pnp_request_card_device\">pnp_request_card_device</a>(struct <a class=\"id\" href=\"#pnp_card_link\">pnp_card_link</a> *<a class=\"id\" href=\"#clink\">clink</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>const char *<a class=\"id\" href=\"#id\">id</a>, struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#from\">from</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> *<a class=\"id\" href=\"#pos\">pos</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card_driver\">pnp_card_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#clink\">clink</a> || !<a class=\"id\" href=\"#id\">id</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#card\">card</a> = <a class=\"id\" href=\"#clink\">clink</a>-><a class=\"id\" href=\"#card\">card</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a> = <a class=\"id\" href=\"#clink\">clink</a>-><a class=\"id\" href=\"#driver\">driver</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#from\">from</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pos\">pos</a> = <a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#devices\">devices</a>.<a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#card\">card</a> != <a class=\"id\" href=\"#card\">card</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pos\">pos</a> = <a class=\"id\" href=\"#from\">from</a>-><a class=\"id\" href=\"#card_list\">card_list</a>.<a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#pos\">pos</a> != &amp;<a class=\"id\" href=\"#card\">card</a>-><a class=\"id\" href=\"#devices\">devices</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#card_to_pnp_dev\">card_to_pnp_dev</a>(<a class=\"id\" href=\"#pos\">pos</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((!<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a>) && <a class=\"id\" href=\"#compare_pnp_id\">compare_pnp_id</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#id\">id</a>, <a class=\"id\" href=\"#id\">id</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#found\">found</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pos\">pos</a> = <a class=\"id\" href=\"#pos\">pos</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<a class=\"id\" href=\"#found\">found</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a> = <a class=\"id\" href=\"#clink\">clink</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#driver\">driver</a> = &amp;<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#driver\">driver</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pnp_bus_type\">pnp_bus_type</a>.<a class=\"id\" href=\"#probe\">probe</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out\">err_out</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#device_bind_driver\">device_bind_driver</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#err_out\">err_out</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"<a class=\"id\" href=\"#err_out\">err_out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>.<a class=\"id\" href=\"#driver\">driver</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pnp_release_card_device - call this when the driver no longer needs the device</span>", 
"<span class=\"comment\"> * @dev: pointer to the PnP device stucture</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#pnp_release_card_device\">pnp_release_card_device</a>(struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card_driver\">pnp_card_driver</a> *<a class=\"id\" href=\"#drv\">drv</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a>-><a class=\"id\" href=\"#driver\">driver</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#remove\">remove</a> = &amp;<a class=\"id\" href=\"#card_remove\">card_remove</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device_release_driver\">device_release_driver</a>(&amp;<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#remove\">remove</a> = &amp;<a class=\"id\" href=\"#card_remove_first\">card_remove_first</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * suspend/resume callbacks</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#card_suspend\">card_suspend</a>(struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#pm_message_t\">pm_message_t</a> <a class=\"id\" href=\"#state\">state</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card_link\">pnp_card_link</a> *<a class=\"id\" href=\"#link\">link</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#link\">link</a>-><a class=\"id\" href=\"#pm_state\">pm_state</a>.<a class=\"id\" href=\"#event\">event</a> == <a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#event\">event</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#link\">link</a>-><a class=\"id\" href=\"#pm_state\">pm_state</a> = <a class=\"id\" href=\"#state\">state</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#link\">link</a>-><a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#suspend\">suspend</a>(<a class=\"id\" href=\"#link\">link</a>, <a class=\"id\" href=\"#state\">state</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#card_resume\">card_resume</a>(struct <a class=\"id\" href=\"#pnp_dev\">pnp_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card_link\">pnp_card_link</a> *<a class=\"id\" href=\"#link\">link</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#card_link\">card_link</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#link\">link</a>-><a class=\"id\" href=\"#pm_state\">pm_state</a>.<a class=\"id\" href=\"#event\">event</a> == <a class=\"id\" href=\"#PM_EVENT_ON\">PM_EVENT_ON</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#link\">link</a>-><a class=\"id\" href=\"#pm_state\">pm_state</a> = <a class=\"id\" href=\"#PMSG_ON\">PMSG_ON</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#link\">link</a>-><a class=\"id\" href=\"#driver\">driver</a>-><a class=\"id\" href=\"#resume\">resume</a>(<a class=\"id\" href=\"#link\">link</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pnp_register_card_driver - registers a PnP card driver with the PnP Layer</span>", 
"<span class=\"comment\"> * @drv: pointer to the driver to register</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#pnp_register_card_driver\">pnp_register_card_driver</a>(struct <a class=\"id\" href=\"#pnp_card_driver\">pnp_card_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> *<a class=\"id\" href=\"#pos\">pos</a>, *<a class=\"id\" href=\"#temp\">temp</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#name\">name</a> = <a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#name\">name</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#id_table\">id_table</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;<span class=\"ts\"/><span class=\"comment\">/* this will disable auto matching */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#flags\">flags</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#probe\">probe</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#remove\">remove</a> = &amp;<a class=\"id\" href=\"#card_remove_first\">card_remove_first</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#suspend\">suspend</a> = <a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#suspend\">suspend</a> ? <a class=\"id\" href=\"#card_suspend\">card_suspend</a> : <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>.<a class=\"id\" href=\"#resume\">resume</a> = <a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#resume\">resume</a> ? <a class=\"id\" href=\"#card_resume\">card_resume</a> : <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#pnp_register_driver\">pnp_register_driver</a>(&amp;<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#error\">error</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#error\">error</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_add_tail\">list_add_tail</a>(&amp;<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#global_list\">global_list</a>, &amp;<a class=\"id\" href=\"#pnp_card_drivers\">pnp_card_drivers</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_safe\">list_for_each_safe</a>(<a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#temp\">temp</a>, &amp;<a class=\"id\" href=\"#pnp_cards\">pnp_cards</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a> *<a class=\"id\" href=\"#card\">card</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#list_entry\">list_entry</a>(<a class=\"id\" href=\"#pos\">pos</a>, struct <a class=\"id\" href=\"#pnp_card\">pnp_card</a>, <a class=\"id\" href=\"#global_list\">global_list</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#card_probe\">card_probe</a>(<a class=\"id\" href=\"#card\">card</a>, <a class=\"id\" href=\"#drv\">drv</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pnp_unregister_card_driver - unregisters a PnP card driver from the PnP Layer</span>", 
"<span class=\"comment\"> * @drv: pointer to the driver to unregister</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#pnp_unregister_card_driver\">pnp_unregister_card_driver</a>(struct <a class=\"id\" href=\"#pnp_card_driver\">pnp_card_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(&amp;<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#global_list\">global_list</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#pnp_lock\">pnp_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pnp_unregister_driver\">pnp_unregister_driver</a>(&amp;<a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#link\">link</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#pnp_request_card_device\">pnp_request_card_device</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#pnp_release_card_device\">pnp_release_card_device</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#pnp_register_card_driver\">pnp_register_card_driver</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#pnp_unregister_card_driver\">pnp_unregister_card_driver</a>);", 
];
xr_frag_insert('l/c6/9f36a896fe8d48173b28e58a830ee7d534049f.xr', __xr_tmp);
