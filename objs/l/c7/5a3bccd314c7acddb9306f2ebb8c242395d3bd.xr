var __xr_tmp = [
"<span class=\"comment\">/* kernel/rwsem.c: R/W semaphores, public implementation</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Written by David Howells (dhowells@redhat.com).</span>", 
"<span class=\"comment\"> * Derived from asm-i386/semaphore.h</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#sched\">sched</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#rwsem\">rwsem</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#system\">system</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#atomic\">atomic</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * lock for reading</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#__sched\">__sched</a> <a class=\"id\" href=\"#down_read\">down_read</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#might_sleep\">might_sleep</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rwsem_acquire_read\">rwsem_acquire_read</a>(&amp;<a class=\"id\" href=\"#sem\">sem</a>-><a class=\"id\" href=\"#dep_map\">dep_map</a>, 0, 0, <a class=\"id\" href=\"#_RET_IP_\">_RET_IP_</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#LOCK_CONTENDED\">LOCK_CONTENDED</a>(<a class=\"id\" href=\"#sem\">sem</a>, <a class=\"id\" href=\"#__down_read_trylock\">__down_read_trylock</a>, <a class=\"id\" href=\"#__down_read\">__down_read</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#down_read\">down_read</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * trylock for reading -- returns 1 if successful, 0 if contention</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#down_read_trylock\">down_read_trylock</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#__down_read_trylock\">__down_read_trylock</a>(<a class=\"id\" href=\"#sem\">sem</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == 1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rwsem_acquire_read\">rwsem_acquire_read</a>(&amp;<a class=\"id\" href=\"#sem\">sem</a>-><a class=\"id\" href=\"#dep_map\">dep_map</a>, 0, 1, <a class=\"id\" href=\"#_RET_IP_\">_RET_IP_</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#down_read_trylock\">down_read_trylock</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * lock for writing</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#__sched\">__sched</a> <a class=\"id\" href=\"#down_write\">down_write</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#might_sleep\">might_sleep</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rwsem_acquire\">rwsem_acquire</a>(&amp;<a class=\"id\" href=\"#sem\">sem</a>-><a class=\"id\" href=\"#dep_map\">dep_map</a>, 0, 0, <a class=\"id\" href=\"#_RET_IP_\">_RET_IP_</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#LOCK_CONTENDED\">LOCK_CONTENDED</a>(<a class=\"id\" href=\"#sem\">sem</a>, <a class=\"id\" href=\"#__down_write_trylock\">__down_write_trylock</a>, <a class=\"id\" href=\"#__down_write\">__down_write</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#down_write\">down_write</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * trylock for writing -- returns 1 if successful, 0 if contention</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#down_write_trylock\">down_write_trylock</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#__down_write_trylock\">__down_write_trylock</a>(<a class=\"id\" href=\"#sem\">sem</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == 1)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rwsem_acquire\">rwsem_acquire</a>(&amp;<a class=\"id\" href=\"#sem\">sem</a>-><a class=\"id\" href=\"#dep_map\">dep_map</a>, 0, 1, <a class=\"id\" href=\"#_RET_IP_\">_RET_IP_</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#down_write_trylock\">down_write_trylock</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * release a read lock</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#up_read\">up_read</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rwsem_release\">rwsem_release</a>(&amp;<a class=\"id\" href=\"#sem\">sem</a>-><a class=\"id\" href=\"#dep_map\">dep_map</a>, 1, <a class=\"id\" href=\"#_RET_IP_\">_RET_IP_</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__up_read\">__up_read</a>(<a class=\"id\" href=\"#sem\">sem</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#up_read\">up_read</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * release a write lock</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#up_write\">up_write</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rwsem_release\">rwsem_release</a>(&amp;<a class=\"id\" href=\"#sem\">sem</a>-><a class=\"id\" href=\"#dep_map\">dep_map</a>, 1, <a class=\"id\" href=\"#_RET_IP_\">_RET_IP_</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__up_write\">__up_write</a>(<a class=\"id\" href=\"#sem\">sem</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#up_write\">up_write</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * downgrade write lock to read lock</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#downgrade_write\">downgrade_write</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * lockdep: a downgraded write will live on as a write</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * dependency.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__downgrade_write\">__downgrade_write</a>(<a class=\"id\" href=\"#sem\">sem</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#downgrade_write\">downgrade_write</a>);", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_DEBUG_LOCK_ALLOC\">CONFIG_DEBUG_LOCK_ALLOC</a>", 
"", 
"void <a class=\"id\" href=\"#down_read_nested\">down_read_nested</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>, int <a class=\"id\" href=\"#subclass\">subclass</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#might_sleep\">might_sleep</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rwsem_acquire_read\">rwsem_acquire_read</a>(&amp;<a class=\"id\" href=\"#sem\">sem</a>-><a class=\"id\" href=\"#dep_map\">dep_map</a>, <a class=\"id\" href=\"#subclass\">subclass</a>, 0, <a class=\"id\" href=\"#_RET_IP_\">_RET_IP_</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#LOCK_CONTENDED\">LOCK_CONTENDED</a>(<a class=\"id\" href=\"#sem\">sem</a>, <a class=\"id\" href=\"#__down_read_trylock\">__down_read_trylock</a>, <a class=\"id\" href=\"#__down_read\">__down_read</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#down_read_nested\">down_read_nested</a>);", 
"", 
"void <a class=\"id\" href=\"#down_read_non_owner\">down_read_non_owner</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#might_sleep\">might_sleep</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__down_read\">__down_read</a>(<a class=\"id\" href=\"#sem\">sem</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#down_read_non_owner\">down_read_non_owner</a>);", 
"", 
"void <a class=\"id\" href=\"#down_write_nested\">down_write_nested</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>, int <a class=\"id\" href=\"#subclass\">subclass</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#might_sleep\">might_sleep</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rwsem_acquire\">rwsem_acquire</a>(&amp;<a class=\"id\" href=\"#sem\">sem</a>-><a class=\"id\" href=\"#dep_map\">dep_map</a>, <a class=\"id\" href=\"#subclass\">subclass</a>, 0, <a class=\"id\" href=\"#_RET_IP_\">_RET_IP_</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#LOCK_CONTENDED\">LOCK_CONTENDED</a>(<a class=\"id\" href=\"#sem\">sem</a>, <a class=\"id\" href=\"#__down_write_trylock\">__down_write_trylock</a>, <a class=\"id\" href=\"#__down_write\">__down_write</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#down_write_nested\">down_write_nested</a>);", 
"", 
"void <a class=\"id\" href=\"#up_read_non_owner\">up_read_non_owner</a>(struct <a class=\"id\" href=\"#rw_semaphore\">rw_semaphore</a> *<a class=\"id\" href=\"#sem\">sem</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__up_read\">__up_read</a>(<a class=\"id\" href=\"#sem\">sem</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#up_read_non_owner\">up_read_non_owner</a>);", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"", 
];
xr_frag_insert('l/c7/5a3bccd314c7acddb9306f2ebb8c242395d3bd.xr', __xr_tmp);
