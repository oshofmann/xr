var __xr_tmp = [
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#im\">im</a>=(struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *)<a class=\"id\" href=\"#data\">data</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a> = <a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#interface\">interface</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#tm_running\">tm_running</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#unsolicit_count\">unsolicit_count</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#unsolicit_count\">unsolicit_count</a>--;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_start_timer\">igmp_start_timer</a>(<a class=\"id\" href=\"#im\">im</a>, <a class=\"id\" href=\"#IGMP_Unsolicited_Report_Interval\">IGMP_Unsolicited_Report_Interval</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#reporter\">reporter</a> = 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#im\">im</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#IGMP_V1_SEEN\">IGMP_V1_SEEN</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_send_report\">igmp_send_report</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#im\">im</a>, <a class=\"id\" href=\"#IGMP_HOST_MEMBERSHIP_REPORT\">IGMP_HOST_MEMBERSHIP_REPORT</a>);", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#IGMP_V2_SEEN\">IGMP_V2_SEEN</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_send_report\">igmp_send_report</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#im\">im</a>, <a class=\"id\" href=\"#IGMPV2_HOST_MEMBERSHIP_REPORT\">IGMPV2_HOST_MEMBERSHIP_REPORT</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#igmp_send_report\">igmp_send_report</a>(<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#im\">im</a>, <a class=\"id\" href=\"#IGMPV3_HOST_MEMBERSHIP_REPORT\">IGMPV3_HOST_MEMBERSHIP_REPORT</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ip_ma_put\">ip_ma_put</a>(<a class=\"id\" href=\"#im\">im</a>);", 
"}", 
"", 
"<span class=\"comment\">/* mark EXCLUDE-mode sources */</span>", 
"static int <a class=\"id\" href=\"#igmp_xmarksources\">igmp_xmarksources</a>(struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#pmc\">pmc</a>, int <a class=\"id\" href=\"#nsrcs\">nsrcs</a>, <a class=\"id\" href=\"#__be32\">__be32</a> *<a class=\"id\" href=\"#srcs\">srcs</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_sf_list\">ip_sf_list</a> *<a class=\"id\" href=\"#psf\">psf</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#scount\">scount</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#scount\">scount</a> = 0;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#psf\">psf</a>=<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#sources\">sources</a>; <a class=\"id\" href=\"#psf\">psf</a>; <a class=\"id\" href=\"#psf\">psf</a>=<a class=\"id\" href=\"#psf\">psf</a>-><a class=\"id\" href=\"#sf_next\">sf_next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#scount\">scount</a> == <a class=\"id\" href=\"#nsrcs\">nsrcs</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a>=0; <a class=\"id\" href=\"#i\">i</a>&lt;<a class=\"id\" href=\"#nsrcs\">nsrcs</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* skip inactive filters */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#sfcount\">sfcount</a>[<a class=\"id\" href=\"#MCAST_INCLUDE\">MCAST_INCLUDE</a>] ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#sfcount\">sfcount</a>[<a class=\"id\" href=\"#MCAST_EXCLUDE\">MCAST_EXCLUDE</a>] !=", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#psf\">psf</a>-><a class=\"id\" href=\"#sf_count\">sf_count</a>[<a class=\"id\" href=\"#MCAST_EXCLUDE\">MCAST_EXCLUDE</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#srcs\">srcs</a>[<a class=\"id\" href=\"#i\">i</a>] == <a class=\"id\" href=\"#psf\">psf</a>-><a class=\"id\" href=\"#sf_inaddr\">sf_inaddr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#scount\">scount</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#gsquery\">gsquery</a> = 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#scount\">scount</a> == <a class=\"id\" href=\"#nsrcs\">nsrcs</a>)<span class=\"ts\"/><span class=\"comment\">/* all sources excluded */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#igmp_marksources\">igmp_marksources</a>(struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#pmc\">pmc</a>, int <a class=\"id\" href=\"#nsrcs\">nsrcs</a>, <a class=\"id\" href=\"#__be32\">__be32</a> *<a class=\"id\" href=\"#srcs\">srcs</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_sf_list\">ip_sf_list</a> *<a class=\"id\" href=\"#psf\">psf</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#scount\">scount</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#sfmode\">sfmode</a> == <a class=\"id\" href=\"#MCAST_EXCLUDE\">MCAST_EXCLUDE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#igmp_xmarksources\">igmp_xmarksources</a>(<a class=\"id\" href=\"#pmc\">pmc</a>, <a class=\"id\" href=\"#nsrcs\">nsrcs</a>, <a class=\"id\" href=\"#srcs\">srcs</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* mark INCLUDE-mode sources */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#scount\">scount</a> = 0;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#psf\">psf</a>=<a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#sources\">sources</a>; <a class=\"id\" href=\"#psf\">psf</a>; <a class=\"id\" href=\"#psf\">psf</a>=<a class=\"id\" href=\"#psf\">psf</a>-><a class=\"id\" href=\"#sf_next\">sf_next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#scount\">scount</a> == <a class=\"id\" href=\"#nsrcs\">nsrcs</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a>=0; <a class=\"id\" href=\"#i\">i</a>&lt;<a class=\"id\" href=\"#nsrcs\">nsrcs</a>; <a class=\"id\" href=\"#i\">i</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#srcs\">srcs</a>[<a class=\"id\" href=\"#i\">i</a>] == <a class=\"id\" href=\"#psf\">psf</a>-><a class=\"id\" href=\"#sf_inaddr\">sf_inaddr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#psf\">psf</a>-><a class=\"id\" href=\"#sf_gsresp\">sf_gsresp</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#scount\">scount</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#scount\">scount</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#gsquery\">gsquery</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pmc\">pmc</a>-><a class=\"id\" href=\"#gsquery\">gsquery</a> = 1;", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#igmp_heard_report\">igmp_heard_report</a>(struct <a class=\"id\" href=\"#in_device\">in_device</a> *<a class=\"id\" href=\"#in_dev\">in_dev</a>, <a class=\"id\" href=\"#__be32\">__be32</a> <a class=\"id\" href=\"#group\">group</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip_mc_list\">ip_mc_list</a> *<a class=\"id\" href=\"#im\">im</a>;", 
];
xr_frag_insert('l/c7/a04bf14317b13c14473bbc6bec8b087322ba1a.xr', __xr_tmp);
