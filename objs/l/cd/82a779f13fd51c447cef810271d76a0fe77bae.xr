var __xr_tmp = [
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#intel_perfmon_event_map\">intel_perfmon_event_map</a>[<a class=\"id\" href=\"#hw_event\">hw_event</a>];", 
"}", 
"", 
"static <a class=\"id\" href=\"#__initconst\">__initconst</a> const <a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#westmere_hw_cache_event_ids\">westmere_hw_cache_event_ids</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_MAX\">PERF_COUNT_HW_CACHE_MAX</a>]", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_OP_MAX\">PERF_COUNT_HW_CACHE_OP_MAX</a>]", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_RESULT_MAX\">PERF_COUNT_HW_CACHE_RESULT_MAX</a>] =", 
"{", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#L1D\">L1D</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x010b, <span class=\"comment\">/* MEM_INST_RETIRED.LOADS       */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0151, <span class=\"comment\">/* L1D.REPL                     */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x020b, <span class=\"comment\">/* MEM_INST_RETURED.STORES      */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0251, <span class=\"comment\">/* L1D.M_REPL                   */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x014e, <span class=\"comment\">/* L1D_PREFETCH.REQUESTS        */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x024e, <span class=\"comment\">/* L1D_PREFETCH.MISS            */</span>", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#L1I\">L1I</a> ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0380, <span class=\"comment\">/* L1I.READS                    */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0280, <span class=\"comment\">/* L1I.MISSES                   */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#LL\">LL</a>  ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0324, <span class=\"comment\">/* L2_RQSTS.LOADS               */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0224, <span class=\"comment\">/* L2_RQSTS.LD_MISS             */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0c24, <span class=\"comment\">/* L2_RQSTS.RFOS                */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0824, <span class=\"comment\">/* L2_RQSTS.RFO_MISS            */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x4f2e, <span class=\"comment\">/* LLC Reference                */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x412e, <span class=\"comment\">/* LLC Misses                   */</span>", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#DTLB\">DTLB</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x010b, <span class=\"comment\">/* MEM_INST_RETIRED.LOADS       */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0108, <span class=\"comment\">/* DTLB_LOAD_MISSES.ANY         */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x020b, <span class=\"comment\">/* MEM_INST_RETURED.STORES      */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x010c, <span class=\"comment\">/* MEM_STORE_RETIRED.DTLB_MISS  */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#ITLB\">ITLB</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x01c0, <span class=\"comment\">/* INST_RETIRED.ANY_P           */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0185, <span class=\"comment\">/* ITLB_MISSES.ANY              */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#BPU\">BPU</a> ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x00c4, <span class=\"comment\">/* BR_INST_RETIRED.ALL_BRANCHES */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x03e8, <span class=\"comment\">/* BPU_CLEARS.ANY               */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
" },", 
"};", 
"", 
"static <a class=\"id\" href=\"#__initconst\">__initconst</a> const <a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#nehalem_hw_cache_event_ids\">nehalem_hw_cache_event_ids</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_MAX\">PERF_COUNT_HW_CACHE_MAX</a>]", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_OP_MAX\">PERF_COUNT_HW_CACHE_OP_MAX</a>]", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_RESULT_MAX\">PERF_COUNT_HW_CACHE_RESULT_MAX</a>] =", 
"{", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#L1D\">L1D</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0f40, <span class=\"comment\">/* L1D_CACHE_LD.MESI            */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0140, <span class=\"comment\">/* L1D_CACHE_LD.I_STATE         */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0f41, <span class=\"comment\">/* L1D_CACHE_ST.MESI            */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0141, <span class=\"comment\">/* L1D_CACHE_ST.I_STATE         */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x014e, <span class=\"comment\">/* L1D_PREFETCH.REQUESTS        */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x024e, <span class=\"comment\">/* L1D_PREFETCH.MISS            */</span>", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#L1I\">L1I</a> ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0380, <span class=\"comment\">/* L1I.READS                    */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0280, <span class=\"comment\">/* L1I.MISSES                   */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#LL\">LL</a>  ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0324, <span class=\"comment\">/* L2_RQSTS.LOADS               */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0224, <span class=\"comment\">/* L2_RQSTS.LD_MISS             */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0c24, <span class=\"comment\">/* L2_RQSTS.RFOS                */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0824, <span class=\"comment\">/* L2_RQSTS.RFO_MISS            */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x4f2e, <span class=\"comment\">/* LLC Reference                */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x412e, <span class=\"comment\">/* LLC Misses                   */</span>", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#DTLB\">DTLB</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0f40, <span class=\"comment\">/* L1D_CACHE_LD.MESI   (alias)  */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0108, <span class=\"comment\">/* DTLB_LOAD_MISSES.ANY         */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0f41, <span class=\"comment\">/* L1D_CACHE_ST.MESI   (alias)  */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x010c, <span class=\"comment\">/* MEM_STORE_RETIRED.DTLB_MISS  */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#ITLB\">ITLB</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x01c0, <span class=\"comment\">/* INST_RETIRED.ANY_P           */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x20c8, <span class=\"comment\">/* ITLB_MISS_RETIRED            */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#BPU\">BPU</a> ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x00c4, <span class=\"comment\">/* BR_INST_RETIRED.ALL_BRANCHES */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x03e8, <span class=\"comment\">/* BPU_CLEARS.ANY               */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
" },", 
"};", 
"", 
"static <a class=\"id\" href=\"#__initconst\">__initconst</a> const <a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#core2_hw_cache_event_ids\">core2_hw_cache_event_ids</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_MAX\">PERF_COUNT_HW_CACHE_MAX</a>]", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_OP_MAX\">PERF_COUNT_HW_CACHE_OP_MAX</a>]", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_RESULT_MAX\">PERF_COUNT_HW_CACHE_RESULT_MAX</a>] =", 
"{", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#L1D\">L1D</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0f40, <span class=\"comment\">/* L1D_CACHE_LD.MESI          */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0140, <span class=\"comment\">/* L1D_CACHE_LD.I_STATE       */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0f41, <span class=\"comment\">/* L1D_CACHE_ST.MESI          */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0141, <span class=\"comment\">/* L1D_CACHE_ST.I_STATE       */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x104e, <span class=\"comment\">/* L1D_PREFETCH.REQUESTS      */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#L1I\">L1I</a> ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0080, <span class=\"comment\">/* L1I.READS                  */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0081, <span class=\"comment\">/* L1I.MISSES                 */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#LL\">LL</a>  ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x4f29, <span class=\"comment\">/* L2_LD.MESI                 */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x4129, <span class=\"comment\">/* L2_LD.ISTATE               */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x4f2A, <span class=\"comment\">/* L2_ST.MESI                 */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x412A, <span class=\"comment\">/* L2_ST.ISTATE               */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#DTLB\">DTLB</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0f40, <span class=\"comment\">/* L1D_CACHE_LD.MESI  (alias) */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0208, <span class=\"comment\">/* DTLB_MISSES.MISS_LD        */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0f41, <span class=\"comment\">/* L1D_CACHE_ST.MESI  (alias) */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0808, <span class=\"comment\">/* DTLB_MISSES.MISS_ST        */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#ITLB\">ITLB</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x00c0, <span class=\"comment\">/* INST_RETIRED.ANY_P         */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x1282, <span class=\"comment\">/* ITLBMISSES                 */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#BPU\">BPU</a> ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x00c4, <span class=\"comment\">/* BR_INST_RETIRED.ANY        */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x00c5, <span class=\"comment\">/* BP_INST_RETIRED.MISPRED    */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
" },", 
"};", 
"", 
"static <a class=\"id\" href=\"#__initconst\">__initconst</a> const <a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#atom_hw_cache_event_ids\">atom_hw_cache_event_ids</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_MAX\">PERF_COUNT_HW_CACHE_MAX</a>]", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_OP_MAX\">PERF_COUNT_HW_CACHE_OP_MAX</a>]", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>[<a class=\"id\" href=\"#PERF_COUNT_HW_CACHE_RESULT_MAX\">PERF_COUNT_HW_CACHE_RESULT_MAX</a>] =", 
"{", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#L1D\">L1D</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x2140, <span class=\"comment\">/* L1D_CACHE.LD               */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x2240, <span class=\"comment\">/* L1D_CACHE.ST               */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#L1I\">L1I</a> ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x0380, <span class=\"comment\">/* L1I.READS                  */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0280, <span class=\"comment\">/* L1I.MISSES                 */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#LL\">LL</a>  ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x4f29, <span class=\"comment\">/* L2_LD.MESI                 */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x4129, <span class=\"comment\">/* L2_LD.ISTATE               */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x4f2A, <span class=\"comment\">/* L2_ST.MESI                 */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x412A, <span class=\"comment\">/* L2_ST.ISTATE               */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#DTLB\">DTLB</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x2140, <span class=\"comment\">/* L1D_CACHE_LD.MESI  (alias) */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0508, <span class=\"comment\">/* DTLB_MISSES.MISS_LD        */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x2240, <span class=\"comment\">/* L1D_CACHE_ST.MESI  (alias) */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0608, <span class=\"comment\">/* DTLB_MISSES.MISS_ST        */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#ITLB\">ITLB</a>) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x00c0, <span class=\"comment\">/* INST_RETIRED.ANY_P         */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x0282, <span class=\"comment\">/* ITLB.MISSES                */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
" },", 
" [ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#BPU\">BPU</a> ) ] = {", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_READ\">OP_READ</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = 0x00c4, <span class=\"comment\">/* BR_INST_RETIRED.ANY        */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = 0x00c5, <span class=\"comment\">/* BP_INST_RETIRED.MISPRED    */</span>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_WRITE\">OP_WRITE</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#OP_PREFETCH\">OP_PREFETCH</a>) ] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_ACCESS\">RESULT_ACCESS</a>) ] = -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>[ <a class=\"id\" href=\"#C\">C</a>(<a class=\"id\" href=\"#RESULT_MISS\">RESULT_MISS</a>)   ] = -1,", 
"<span class=\"ts\"/>},", 
" },", 
"};", 
"", 
"static void <a class=\"id\" href=\"#intel_pmu_disable_all\">intel_pmu_disable_all</a>(void)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a> *<a class=\"id\" href=\"#cpuc\">cpuc</a> = &amp;<a class=\"id\" href=\"#__get_cpu_var\">__get_cpu_var</a>(<a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wrmsrl\">wrmsrl</a>(<a class=\"id\" href=\"#MSR_CORE_PERF_GLOBAL_CTRL\">MSR_CORE_PERF_GLOBAL_CTRL</a>, 0);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#test_bit\">test_bit</a>(<a class=\"id\" href=\"#X86_PMC_IDX_FIXED_BTS\">X86_PMC_IDX_FIXED_BTS</a>, <a class=\"id\" href=\"#cpuc\">cpuc</a>-><a class=\"id\" href=\"#active_mask\">active_mask</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_disable_bts\">intel_pmu_disable_bts</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_pebs_disable_all\">intel_pmu_pebs_disable_all</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_lbr_disable_all\">intel_pmu_lbr_disable_all</a>();", 
"}", 
"", 
"static void <a class=\"id\" href=\"#intel_pmu_enable_all\">intel_pmu_enable_all</a>(int <a class=\"id\" href=\"#added\">added</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a> *<a class=\"id\" href=\"#cpuc\">cpuc</a> = &amp;<a class=\"id\" href=\"#__get_cpu_var\">__get_cpu_var</a>(<a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_pebs_enable_all\">intel_pmu_pebs_enable_all</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_lbr_enable_all\">intel_pmu_lbr_enable_all</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wrmsrl\">wrmsrl</a>(<a class=\"id\" href=\"#MSR_CORE_PERF_GLOBAL_CTRL\">MSR_CORE_PERF_GLOBAL_CTRL</a>, <a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#intel_ctrl\">intel_ctrl</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#test_bit\">test_bit</a>(<a class=\"id\" href=\"#X86_PMC_IDX_FIXED_BTS\">X86_PMC_IDX_FIXED_BTS</a>, <a class=\"id\" href=\"#cpuc\">cpuc</a>-><a class=\"id\" href=\"#active_mask\">active_mask</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#perf_event\">perf_event</a> *<a class=\"id\" href=\"#event\">event</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cpuc\">cpuc</a>-><a class=\"id\" href=\"#events\">events</a>[<a class=\"id\" href=\"#X86_PMC_IDX_FIXED_BTS\">X86_PMC_IDX_FIXED_BTS</a>];", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#WARN_ON_ONCE\">WARN_ON_ONCE</a>(!<a class=\"id\" href=\"#event\">event</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_enable_bts\">intel_pmu_enable_bts</a>(<a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#hw\">hw</a>.<a class=\"id\" href=\"#config\">config</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Workaround for:</span>", 
"<span class=\"comment\"> *   Intel Errata AAK100 (model 26)</span>", 
"<span class=\"comment\"> *   Intel Errata AAP53  (model 30)</span>", 
"<span class=\"comment\"> *   Intel Errata BD53   (model 44)</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * The official story:</span>", 
"<span class=\"comment\"> *   These chips need to be 'reset' when adding counters by programming the</span>", 
"<span class=\"comment\"> *   magic three (non-counting) events 0x4300B5, 0x4300D2, and 0x4300B1 either</span>", 
"<span class=\"comment\"> *   in sequence on the same PMC or on different PMCs.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * In practise it appears some of these events do in fact count, and</span>", 
"<span class=\"comment\"> * we need to programm all 4 events.</span>", 
"<span class=\"comment\"> */</span>", 
"static void <a class=\"id\" href=\"#intel_pmu_nhm_workaround\">intel_pmu_nhm_workaround</a>(void)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a> *<a class=\"id\" href=\"#cpuc\">cpuc</a> = &amp;<a class=\"id\" href=\"#__get_cpu_var\">__get_cpu_var</a>(<a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a>);", 
"<span class=\"ts\"/>static const unsigned long <a class=\"id\" href=\"#nhm_magic\">nhm_magic</a>[4] = {", 
"<span class=\"ts\"/><span class=\"ts\"/>0x4300B5,", 
"<span class=\"ts\"/><span class=\"ts\"/>0x4300D2,", 
"<span class=\"ts\"/><span class=\"ts\"/>0x4300B1,", 
"<span class=\"ts\"/><span class=\"ts\"/>0x4300B1", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#perf_event\">perf_event</a> *<a class=\"id\" href=\"#event\">event</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * The Errata requires below steps:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * 1) Clear MSR_IA32_PEBS_ENABLE and MSR_CORE_PERF_GLOBAL_CTRL;</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * 2) Configure 4 PERFEVTSELx with the magic events and clear</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *    the corresponding PMCx;</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * 3) set bit0~bit3 of MSR_CORE_PERF_GLOBAL_CTRL;</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * 4) Clear MSR_CORE_PERF_GLOBAL_CTRL;</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * 5) Clear 4 pairs of ERFEVTSELx and PMCx;</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * The real steps we choose are a little different from above.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * A) To reduce MSR operations, we don't run step 1) as they</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *    are already cleared before this function is called;</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * B) Call x86_perf_event_update to save PMCx before configuring</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *    PERFEVTSELx with magic number;</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * C) With step 5), we do clear only when the PERFEVTSELx is</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *    not used currently.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * D) Call x86_perf_event_set_period to restore PMCx;</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* We always operate 4 pairs of PERF Counters */</span>", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 4; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a> = <a class=\"id\" href=\"#cpuc\">cpuc</a>-><a class=\"id\" href=\"#events\">events</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#event\">event</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x86_perf_event_update\">x86_perf_event_update</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 4; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#wrmsrl\">wrmsrl</a>(<a class=\"id\" href=\"#MSR_ARCH_PERFMON_EVENTSEL0\">MSR_ARCH_PERFMON_EVENTSEL0</a> + <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#nhm_magic\">nhm_magic</a>[<a class=\"id\" href=\"#i\">i</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#wrmsrl\">wrmsrl</a>(<a class=\"id\" href=\"#MSR_ARCH_PERFMON_PERFCTR0\">MSR_ARCH_PERFMON_PERFCTR0</a> + <a class=\"id\" href=\"#i\">i</a>, 0x0);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wrmsrl\">wrmsrl</a>(<a class=\"id\" href=\"#MSR_CORE_PERF_GLOBAL_CTRL\">MSR_CORE_PERF_GLOBAL_CTRL</a>, 0xf);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wrmsrl\">wrmsrl</a>(<a class=\"id\" href=\"#MSR_CORE_PERF_GLOBAL_CTRL\">MSR_CORE_PERF_GLOBAL_CTRL</a>, 0x0);", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 4; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a> = <a class=\"id\" href=\"#cpuc\">cpuc</a>-><a class=\"id\" href=\"#events\">events</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#event\">event</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x86_perf_event_set_period\">x86_perf_event_set_period</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#__x86_pmu_enable_event\">__x86_pmu_enable_event</a>(&amp;<a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#hw\">hw</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ARCH_PERFMON_EVENTSEL_ENABLE\">ARCH_PERFMON_EVENTSEL_ENABLE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#wrmsrl\">wrmsrl</a>(<a class=\"id\" href=\"#MSR_ARCH_PERFMON_EVENTSEL0\">MSR_ARCH_PERFMON_EVENTSEL0</a> + <a class=\"id\" href=\"#i\">i</a>, 0x0);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static void <a class=\"id\" href=\"#intel_pmu_nhm_enable_all\">intel_pmu_nhm_enable_all</a>(int <a class=\"id\" href=\"#added\">added</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#added\">added</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_nhm_workaround\">intel_pmu_nhm_workaround</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_enable_all\">intel_pmu_enable_all</a>(<a class=\"id\" href=\"#added\">added</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> <a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#intel_pmu_get_status\">intel_pmu_get_status</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#status\">status</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rdmsrl\">rdmsrl</a>(<a class=\"id\" href=\"#MSR_CORE_PERF_GLOBAL_STATUS\">MSR_CORE_PERF_GLOBAL_STATUS</a>, <a class=\"id\" href=\"#status\">status</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#status\">status</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#intel_pmu_ack_status\">intel_pmu_ack_status</a>(<a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#ack\">ack</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wrmsrl\">wrmsrl</a>(<a class=\"id\" href=\"#MSR_CORE_PERF_GLOBAL_OVF_CTRL\">MSR_CORE_PERF_GLOBAL_OVF_CTRL</a>, <a class=\"id\" href=\"#ack\">ack</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#intel_pmu_disable_fixed\">intel_pmu_disable_fixed</a>(struct <a class=\"id\" href=\"#hw_perf_event\">hw_perf_event</a> *<a class=\"id\" href=\"#hwc\">hwc</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#idx\">idx</a> = <a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#idx\">idx</a> - <a class=\"id\" href=\"#X86_PMC_IDX_FIXED\">X86_PMC_IDX_FIXED</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#ctrl_val\">ctrl_val</a>, <a class=\"id\" href=\"#mask\">mask</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mask\">mask</a> = 0xfULL << (<a class=\"id\" href=\"#idx\">idx</a> * 4);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rdmsrl\">rdmsrl</a>(<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config_base\">config_base</a>, <a class=\"id\" href=\"#ctrl_val\">ctrl_val</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ctrl_val\">ctrl_val</a> &= ~<a class=\"id\" href=\"#mask\">mask</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wrmsrl\">wrmsrl</a>(<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config_base\">config_base</a>, <a class=\"id\" href=\"#ctrl_val\">ctrl_val</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#intel_pmu_disable_event\">intel_pmu_disable_event</a>(struct <a class=\"id\" href=\"#perf_event\">perf_event</a> *<a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hw_perf_event\">hw_perf_event</a> *<a class=\"id\" href=\"#hwc\">hwc</a> = &amp;<a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#hw\">hw</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#idx\">idx</a> == <a class=\"id\" href=\"#X86_PMC_IDX_FIXED_BTS\">X86_PMC_IDX_FIXED_BTS</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_disable_bts\">intel_pmu_disable_bts</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_drain_bts_buffer\">intel_pmu_drain_bts_buffer</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config_base\">config_base</a> == <a class=\"id\" href=\"#MSR_ARCH_PERFMON_FIXED_CTR_CTRL\">MSR_ARCH_PERFMON_FIXED_CTR_CTRL</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_disable_fixed\">intel_pmu_disable_fixed</a>(<a class=\"id\" href=\"#hwc\">hwc</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu_disable_event\">x86_pmu_disable_event</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#attr\">attr</a>.<a class=\"id\" href=\"#precise_ip\">precise_ip</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_pebs_disable\">intel_pmu_pebs_disable</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#intel_pmu_enable_fixed\">intel_pmu_enable_fixed</a>(struct <a class=\"id\" href=\"#hw_perf_event\">hw_perf_event</a> *<a class=\"id\" href=\"#hwc\">hwc</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#idx\">idx</a> = <a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#idx\">idx</a> - <a class=\"id\" href=\"#X86_PMC_IDX_FIXED\">X86_PMC_IDX_FIXED</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#ctrl_val\">ctrl_val</a>, <a class=\"id\" href=\"#bits\">bits</a>, <a class=\"id\" href=\"#mask\">mask</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Enable IRQ generation (0x8),</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * and enable ring-3 counting (0x2) and ring-0 counting (0x1)</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * if requested:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#bits\">bits</a> = 0x8ULL;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config\">config</a> &amp; <a class=\"id\" href=\"#ARCH_PERFMON_EVENTSEL_USR\">ARCH_PERFMON_EVENTSEL_USR</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#bits\">bits</a> |= 0x2;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config\">config</a> &amp; <a class=\"id\" href=\"#ARCH_PERFMON_EVENTSEL_OS\">ARCH_PERFMON_EVENTSEL_OS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#bits\">bits</a> |= 0x1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * ANY bit is supported in v3 and up</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#version\">version</a> &gt; 2 && <a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config\">config</a> &amp; <a class=\"id\" href=\"#ARCH_PERFMON_EVENTSEL_ANY\">ARCH_PERFMON_EVENTSEL_ANY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#bits\">bits</a> |= 0x4;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#bits\">bits</a> <<= (<a class=\"id\" href=\"#idx\">idx</a> * 4);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mask\">mask</a> = 0xfULL << (<a class=\"id\" href=\"#idx\">idx</a> * 4);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rdmsrl\">rdmsrl</a>(<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config_base\">config_base</a>, <a class=\"id\" href=\"#ctrl_val\">ctrl_val</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ctrl_val\">ctrl_val</a> &= ~<a class=\"id\" href=\"#mask\">mask</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ctrl_val\">ctrl_val</a> |= <a class=\"id\" href=\"#bits\">bits</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wrmsrl\">wrmsrl</a>(<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config_base\">config_base</a>, <a class=\"id\" href=\"#ctrl_val\">ctrl_val</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#intel_pmu_enable_event\">intel_pmu_enable_event</a>(struct <a class=\"id\" href=\"#perf_event\">perf_event</a> *<a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hw_perf_event\">hw_perf_event</a> *<a class=\"id\" href=\"#hwc\">hwc</a> = &amp;<a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#hw\">hw</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#idx\">idx</a> == <a class=\"id\" href=\"#X86_PMC_IDX_FIXED_BTS\">X86_PMC_IDX_FIXED_BTS</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#__get_cpu_var\">__get_cpu_var</a>(<a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a>).<a class=\"id\" href=\"#enabled\">enabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_enable_bts\">intel_pmu_enable_bts</a>(<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config\">config</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config_base\">config_base</a> == <a class=\"id\" href=\"#MSR_ARCH_PERFMON_FIXED_CTR_CTRL\">MSR_ARCH_PERFMON_FIXED_CTR_CTRL</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_enable_fixed\">intel_pmu_enable_fixed</a>(<a class=\"id\" href=\"#hwc\">hwc</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#attr\">attr</a>.<a class=\"id\" href=\"#precise_ip\">precise_ip</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_pebs_enable\">intel_pmu_pebs_enable</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__x86_pmu_enable_event\">__x86_pmu_enable_event</a>(<a class=\"id\" href=\"#hwc\">hwc</a>, <a class=\"id\" href=\"#ARCH_PERFMON_EVENTSEL_ENABLE\">ARCH_PERFMON_EVENTSEL_ENABLE</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Save and restart an expired event. Called by NMI contexts,</span>", 
"<span class=\"comment\"> * so it has to be careful about preempting normal event ops:</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#intel_pmu_save_and_restart\">intel_pmu_save_and_restart</a>(struct <a class=\"id\" href=\"#perf_event\">perf_event</a> *<a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#x86_perf_event_update\">x86_perf_event_update</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#x86_perf_event_set_period\">x86_perf_event_set_period</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#intel_pmu_reset\">intel_pmu_reset</a>(void)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#debug_store\">debug_store</a> *<a class=\"id\" href=\"#ds\">ds</a> = <a class=\"id\" href=\"#__get_cpu_var\">__get_cpu_var</a>(<a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a>).<a class=\"id\" href=\"#ds\">ds</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#flags\">flags</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#idx\">idx</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#num_counters\">num_counters</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#local_irq_save\">local_irq_save</a>(<a class=\"id\" href=\"#flags\">flags</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"clearing PMU state on CPU#%d\\n\", <a class=\"id\" href=\"#smp_processor_id\">smp_processor_id</a>());", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#idx\">idx</a> = 0; <a class=\"id\" href=\"#idx\">idx</a> &lt; <a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#num_counters\">num_counters</a>; <a class=\"id\" href=\"#idx\">idx</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#checking_wrmsrl\">checking_wrmsrl</a>(<a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#eventsel\">eventsel</a> + <a class=\"id\" href=\"#idx\">idx</a>, 0ull);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#checking_wrmsrl\">checking_wrmsrl</a>(<a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#perfctr\">perfctr</a>  + <a class=\"id\" href=\"#idx\">idx</a>, 0ull);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#idx\">idx</a> = 0; <a class=\"id\" href=\"#idx\">idx</a> &lt; <a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#num_counters_fixed\">num_counters_fixed</a>; <a class=\"id\" href=\"#idx\">idx</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#checking_wrmsrl\">checking_wrmsrl</a>(<a class=\"id\" href=\"#MSR_ARCH_PERFMON_FIXED_CTR0\">MSR_ARCH_PERFMON_FIXED_CTR0</a> + <a class=\"id\" href=\"#idx\">idx</a>, 0ull);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ds\">ds</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#bts_index\">bts_index</a> = <a class=\"id\" href=\"#ds\">ds</a>-><a class=\"id\" href=\"#bts_buffer_base\">bts_buffer_base</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#local_irq_restore\">local_irq_restore</a>(<a class=\"id\" href=\"#flags\">flags</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * This handler is triggered by the local APIC, so the APIC IRQ handling</span>", 
"<span class=\"comment\"> * rules apply:</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#intel_pmu_handle_irq\">intel_pmu_handle_irq</a>(struct <a class=\"id\" href=\"#pt_regs\">pt_regs</a> *<a class=\"id\" href=\"#regs\">regs</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#perf_sample_data\">perf_sample_data</a> <a class=\"id\" href=\"#data\">data</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a> *<a class=\"id\" href=\"#cpuc\">cpuc</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#bit\">bit</a>, <a class=\"id\" href=\"#loops\">loops</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#status\">status</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#handled\">handled</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#perf_sample_data_init\">perf_sample_data_init</a>(&amp;<a class=\"id\" href=\"#data\">data</a>, 0);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpuc\">cpuc</a> = &amp;<a class=\"id\" href=\"#__get_cpu_var\">__get_cpu_var</a>(<a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_disable_all\">intel_pmu_disable_all</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_drain_bts_buffer\">intel_pmu_drain_bts_buffer</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#intel_pmu_get_status\">intel_pmu_get_status</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#status\">status</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_enable_all\">intel_pmu_enable_all</a>(0);", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#loops\">loops</a> = 0;", 
"<a class=\"id\" href=\"#again\">again</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_ack_status\">intel_pmu_ack_status</a>(<a class=\"id\" href=\"#status\">status</a>);", 
"<span class=\"ts\"/>if (++<a class=\"id\" href=\"#loops\">loops</a> &gt; 100) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#WARN_ONCE\">WARN_ONCE</a>(1, \"perfevents: irq loop stuck!\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#perf_event_print_debug\">perf_event_print_debug</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_reset\">intel_pmu_reset</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#inc_irq_stat\">inc_irq_stat</a>(<a class=\"id\" href=\"#apic_perf_irqs\">apic_perf_irqs</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_lbr_read\">intel_pmu_lbr_read</a>();", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * PEBS overflow sets bit 62 in the global status register</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#__test_and_clear_bit\">__test_and_clear_bit</a>(62, (unsigned long *)&amp;<a class=\"id\" href=\"#status\">status</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#handled\">handled</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#drain_pebs\">drain_pebs</a>(<a class=\"id\" href=\"#regs\">regs</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#for_each_set_bit\">for_each_set_bit</a>(<a class=\"id\" href=\"#bit\">bit</a>, (unsigned long *)&amp;<a class=\"id\" href=\"#status\">status</a>, <a class=\"id\" href=\"#X86_PMC_IDX_MAX\">X86_PMC_IDX_MAX</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#perf_event\">perf_event</a> *<a class=\"id\" href=\"#event\">event</a> = <a class=\"id\" href=\"#cpuc\">cpuc</a>-><a class=\"id\" href=\"#events\">events</a>[<a class=\"id\" href=\"#bit\">bit</a>];", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#handled\">handled</a>++;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#test_bit\">test_bit</a>(<a class=\"id\" href=\"#bit\">bit</a>, <a class=\"id\" href=\"#cpuc\">cpuc</a>-><a class=\"id\" href=\"#active_mask\">active_mask</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#intel_pmu_save_and_restart\">intel_pmu_save_and_restart</a>(<a class=\"id\" href=\"#event\">event</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#data\">data</a>.<a class=\"id\" href=\"#period\">period</a> = <a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#hw\">hw</a>.<a class=\"id\" href=\"#last_period\">last_period</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#perf_event_overflow\">perf_event_overflow</a>(<a class=\"id\" href=\"#event\">event</a>, 1, &amp;<a class=\"id\" href=\"#data\">data</a>, <a class=\"id\" href=\"#regs\">regs</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu_stop\">x86_pmu_stop</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Repeat if there is more work to be done:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#status\">status</a> = <a class=\"id\" href=\"#intel_pmu_get_status\">intel_pmu_get_status</a>();", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#status\">status</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#again\">again</a>;", 
"", 
"<a class=\"id\" href=\"#done\">done</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_enable_all\">intel_pmu_enable_all</a>(0);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#handled\">handled</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#event_constraint\">event_constraint</a> *", 
"<a class=\"id\" href=\"#intel_bts_constraints\">intel_bts_constraints</a>(struct <a class=\"id\" href=\"#perf_event\">perf_event</a> *<a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#hw_perf_event\">hw_perf_event</a> *<a class=\"id\" href=\"#hwc\">hwc</a> = &amp;<a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#hw\">hw</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#hw_event\">hw_event</a>, <a class=\"id\" href=\"#bts_event\">bts_event</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hw_event\">hw_event</a> = <a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#config\">config</a> &amp; <a class=\"id\" href=\"#INTEL_ARCH_EVENT_MASK\">INTEL_ARCH_EVENT_MASK</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#bts_event\">bts_event</a> = <a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#event_map\">event_map</a>(<a class=\"id\" href=\"#PERF_COUNT_HW_BRANCH_INSTRUCTIONS\">PERF_COUNT_HW_BRANCH_INSTRUCTIONS</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#hw_event\">hw_event</a> == <a class=\"id\" href=\"#bts_event\">bts_event</a> && <a class=\"id\" href=\"#hwc\">hwc</a>-><a class=\"id\" href=\"#sample_period\">sample_period</a> == 1))", 
"<span class=\"ts\"/><span class=\"ts\"/>return &amp;<a class=\"id\" href=\"#bts_constraint\">bts_constraint</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#event_constraint\">event_constraint</a> *", 
"<a class=\"id\" href=\"#intel_get_event_constraints\">intel_get_event_constraints</a>(struct <a class=\"id\" href=\"#cpu_hw_events\">cpu_hw_events</a> *<a class=\"id\" href=\"#cpuc\">cpuc</a>, struct <a class=\"id\" href=\"#perf_event\">perf_event</a> *<a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#event_constraint\">event_constraint</a> *<a class=\"id\" href=\"#c\">c</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#intel_bts_constraints\">intel_bts_constraints</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#c\">c</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#c\">c</a> = <a class=\"id\" href=\"#intel_pebs_constraints\">intel_pebs_constraints</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#c\">c</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#c\">c</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#x86_get_event_constraints\">x86_get_event_constraints</a>(<a class=\"id\" href=\"#cpuc\">cpuc</a>, <a class=\"id\" href=\"#event\">event</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#intel_pmu_hw_config\">intel_pmu_hw_config</a>(struct <a class=\"id\" href=\"#perf_event\">perf_event</a> *<a class=\"id\" href=\"#event\">event</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#x86_pmu_hw_config\">x86_pmu_hw_config</a>(<a class=\"id\" href=\"#event\">event</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#attr\">attr</a>.<a class=\"id\" href=\"#type\">type</a> != <a class=\"id\" href=\"#PERF_TYPE_RAW\">PERF_TYPE_RAW</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#attr\">attr</a>.<a class=\"id\" href=\"#config\">config</a> &amp; <a class=\"id\" href=\"#ARCH_PERFMON_EVENTSEL_ANY\">ARCH_PERFMON_EVENTSEL_ANY</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#version\">version</a> &lt; 3)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#perf_paranoid_cpu\">perf_paranoid_cpu</a>() && !<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_SYS_ADMIN\">CAP_SYS_ADMIN</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EACCES\">EACCES</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>-><a class=\"id\" href=\"#hw\">hw</a>.<a class=\"id\" href=\"#config\">config</a> |= <a class=\"id\" href=\"#ARCH_PERFMON_EVENTSEL_ANY\">ARCH_PERFMON_EVENTSEL_ANY</a>;", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#__initconst\">__initconst</a> const struct <a class=\"id\" href=\"#x86_pmu\">x86_pmu</a> <a class=\"id\" href=\"#core_pmu\">core_pmu</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>= \"core\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handle_irq\">handle_irq</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#x86_pmu_handle_irq\">x86_pmu_handle_irq</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#disable_all\">disable_all</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#x86_pmu_disable_all\">x86_pmu_disable_all</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_all\">enable_all</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#x86_pmu_enable_all\">x86_pmu_enable_all</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable\">enable</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#x86_pmu_enable_event\">x86_pmu_enable_event</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#disable\">disable</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#x86_pmu_disable_event\">x86_pmu_disable_event</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#hw_config\">hw_config</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#x86_pmu_hw_config\">x86_pmu_hw_config</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#schedule_events\">schedule_events</a><span class=\"ts\"/>= <a class=\"id\" href=\"#x86_schedule_events\">x86_schedule_events</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#eventsel\">eventsel</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#MSR_ARCH_PERFMON_EVENTSEL0\">MSR_ARCH_PERFMON_EVENTSEL0</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#perfctr\">perfctr</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#MSR_ARCH_PERFMON_PERFCTR0\">MSR_ARCH_PERFMON_PERFCTR0</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#event_map\">event_map</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_pmu_event_map\">intel_pmu_event_map</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#max_events\">max_events</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#intel_perfmon_event_map\">intel_perfmon_event_map</a>),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#apic\">apic</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>= 1,", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Intel PMCs cannot be accessed sanely above 32 bit width,</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * so we install an artificial 1&lt;&lt;31 period regardless of</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * the generic event period:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#max_period\">max_period</a><span class=\"ts\"/><span class=\"ts\"/>= (1ULL << 31) - 1,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#get_event_constraints\">get_event_constraints</a><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_get_event_constraints\">intel_get_event_constraints</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#event_constraints\">event_constraints</a><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_core_event_constraints\">intel_core_event_constraints</a>,", 
"};", 
"", 
"static void <a class=\"id\" href=\"#intel_pmu_cpu_starting\">intel_pmu_cpu_starting</a>(int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#init_debug_store_on_cpu\">init_debug_store_on_cpu</a>(<a class=\"id\" href=\"#cpu\">cpu</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Deal with CPUs that don't clear their LBRs on power-up.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#intel_pmu_lbr_reset\">intel_pmu_lbr_reset</a>();", 
"}", 
"", 
"static void <a class=\"id\" href=\"#intel_pmu_cpu_dying\">intel_pmu_cpu_dying</a>(int <a class=\"id\" href=\"#cpu\">cpu</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fini_debug_store_on_cpu\">fini_debug_store_on_cpu</a>(<a class=\"id\" href=\"#cpu\">cpu</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#__initconst\">__initconst</a> const struct <a class=\"id\" href=\"#x86_pmu\">x86_pmu</a> <a class=\"id\" href=\"#intel_pmu\">intel_pmu</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>= \"Intel\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#handle_irq\">handle_irq</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_pmu_handle_irq\">intel_pmu_handle_irq</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#disable_all\">disable_all</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_pmu_disable_all\">intel_pmu_disable_all</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable_all\">enable_all</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_pmu_enable_all\">intel_pmu_enable_all</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#enable\">enable</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_pmu_enable_event\">intel_pmu_enable_event</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#disable\">disable</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_pmu_disable_event\">intel_pmu_disable_event</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#hw_config\">hw_config</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_pmu_hw_config\">intel_pmu_hw_config</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#schedule_events\">schedule_events</a><span class=\"ts\"/>= <a class=\"id\" href=\"#x86_schedule_events\">x86_schedule_events</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#eventsel\">eventsel</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#MSR_ARCH_PERFMON_EVENTSEL0\">MSR_ARCH_PERFMON_EVENTSEL0</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#perfctr\">perfctr</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#MSR_ARCH_PERFMON_PERFCTR0\">MSR_ARCH_PERFMON_PERFCTR0</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#event_map\">event_map</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_pmu_event_map\">intel_pmu_event_map</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#max_events\">max_events</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#ARRAY_SIZE\">ARRAY_SIZE</a>(<a class=\"id\" href=\"#intel_perfmon_event_map\">intel_perfmon_event_map</a>),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#apic\">apic</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>= 1,", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Intel PMCs cannot be accessed sanely above 32 bit width,</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * so we install an artificial 1&lt;&lt;31 period regardless of</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * the generic event period:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#max_period\">max_period</a><span class=\"ts\"/><span class=\"ts\"/>= (1ULL << 31) - 1,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#get_event_constraints\">get_event_constraints</a><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_get_event_constraints\">intel_get_event_constraints</a>,", 
"", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#cpu_starting\">cpu_starting</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_pmu_cpu_starting\">intel_pmu_cpu_starting</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#cpu_dying\">cpu_dying</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#intel_pmu_cpu_dying\">intel_pmu_cpu_dying</a>,", 
"};", 
"", 
"static void <a class=\"id\" href=\"#intel_clovertown_quirks\">intel_clovertown_quirks</a>(void)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * PEBS is unreliable due to:</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *   AJ67  - PEBS may experience CPL leaks</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *   AJ68  - PEBS PMI may be delayed by one event</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *   AJ69  - GLOBAL_STATUS[62] will only be set when DEBUGCTL[12]</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *   AJ106 - FREEZE_LBRS_ON_PMI doesn't work in combination with PEBS</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * AJ67 could be worked around by restricting the OS/USR flags.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * AJ69 could be worked around by setting PMU_FREEZE_ON_PMI.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * AJ106 could possibly be worked around by not allowing LBR</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *       usage from PEBS, including the fixup.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * AJ68  could possibly be worked around by always programming</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * <span class=\"ts\"/> a pebs_event_reset[0] value and coping with the lost events.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * But taken together it might just make sense to not enable PEBS on</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * these chips.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> \"PEBS disabled due to CPU errata.\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#pebs\">pebs</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#pebs_constraints\">pebs_constraints</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#__init\">__init</a> int <a class=\"id\" href=\"#intel_pmu_init\">intel_pmu_init</a>(void)", 
"{", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#cpuid10_edx\">cpuid10_edx</a> <a class=\"id\" href=\"#edx\">edx</a>;", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#cpuid10_eax\">cpuid10_eax</a> <a class=\"id\" href=\"#eax\">eax</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#unused\">unused</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#ebx\">ebx</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#version\">version</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#cpu_has\">cpu_has</a>(&amp;<a class=\"id\" href=\"#boot_cpu_data\">boot_cpu_data</a>, <a class=\"id\" href=\"#X86_FEATURE_ARCH_PERFMON\">X86_FEATURE_ARCH_PERFMON</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>switch (<a class=\"id\" href=\"#boot_cpu_data\">boot_cpu_data</a>.<a class=\"id\" href=\"#x86\">x86</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case 0x6:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#p6_pmu_init\">p6_pmu_init</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>case 0xf:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#p4_pmu_init\">p4_pmu_init</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Check whether the Architectural PerfMon supports</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Branch Misses Retired hw_event or not.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpuid\">cpuid</a>(10, &amp;<a class=\"id\" href=\"#eax\">eax</a>.<a class=\"id\" href=\"#full\">full</a>, &amp;<a class=\"id\" href=\"#ebx\">ebx</a>, &amp;<a class=\"id\" href=\"#unused\">unused</a>, &amp;<a class=\"id\" href=\"#edx\">edx</a>.<a class=\"id\" href=\"#full\">full</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#eax\">eax</a>.<a class=\"id\" href=\"#split\">split</a>.<a class=\"id\" href=\"#mask_length\">mask_length</a> <= <a class=\"id\" href=\"#ARCH_PERFMON_BRANCH_MISSES_RETIRED\">ARCH_PERFMON_BRANCH_MISSES_RETIRED</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#version\">version</a> = <a class=\"id\" href=\"#eax\">eax</a>.<a class=\"id\" href=\"#split\">split</a>.<a class=\"id\" href=\"#version_id\">version_id</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#version\">version</a> &lt; 2)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu\">x86_pmu</a> = <a class=\"id\" href=\"#core_pmu\">core_pmu</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu\">x86_pmu</a> = <a class=\"id\" href=\"#intel_pmu\">intel_pmu</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#version\">version</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#version\">version</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#num_counters\">num_counters</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#eax\">eax</a>.<a class=\"id\" href=\"#split\">split</a>.<a class=\"id\" href=\"#num_counters\">num_counters</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#cntval_bits\">cntval_bits</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#eax\">eax</a>.<a class=\"id\" href=\"#split\">split</a>.<a class=\"id\" href=\"#bit_width\">bit_width</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#x86_pmu\">x86_pmu</a>.<a class=\"id\" href=\"#cntval_mask\">cntval_mask</a><span class=\"ts\"/><span class=\"ts\"/>= (1ULL << <a class=\"id\" href=\"#eax\">eax</a>.<a class=\"id\" href=\"#split\">split</a>.<a class=\"id\" href=\"#bit_width\">bit_width</a>) - 1;", 
];
xr_frag_insert('l/cd/82a779f13fd51c447cef810271d76a0fe77bae.xr', __xr_tmp);
