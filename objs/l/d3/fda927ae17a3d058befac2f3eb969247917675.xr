var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *  Copyright (C) 2000-2002<span class=\"ts\"/>   Michael Cornwell &lt;cornwell@acm.org&gt;</span>", 
"<span class=\"comment\"> *  Copyright (C) 2000-2002<span class=\"ts\"/>   Andre Hedrick &lt;andre@linux-ide.org&gt;</span>", 
"<span class=\"comment\"> *  Copyright (C) 2001-2002<span class=\"ts\"/>   Klaus Smolin</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>IBM Storage Technology Division</span>", 
"<span class=\"comment\"> *  Copyright (C) 2003-2004, 2007  Bartlomiej Zolnierkiewicz</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  The big the bad and the ugly.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#string\">string</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#sched\">sched</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#interrupt\">interrupt</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#errno\">errno</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#delay\">delay</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#hdreg\">hdreg</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#ide\">ide</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#scatterlist\">scatterlist</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#uaccess\">uaccess</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#io\">io</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"void <a class=\"id\" href=\"#ide_tf_readback\">ide_tf_readback</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *<a class=\"id\" href=\"#cmd\">cmd</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_hwif_t\">ide_hwif_t</a> *<a class=\"id\" href=\"#hwif\">hwif</a> = <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#hwif\">hwif</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#ide_tp_ops\">ide_tp_ops</a> *<a class=\"id\" href=\"#tp_ops\">tp_ops</a> = <a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#tp_ops\">tp_ops</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Be sure we're looking at the low order bytes */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#write_devctl\">write_devctl</a>(<a class=\"id\" href=\"#hwif\">hwif</a>, <a class=\"id\" href=\"#ATA_DEVCTL_OBS\">ATA_DEVCTL_OBS</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#tf_read\">tf_read</a>(<a class=\"id\" href=\"#drive\">drive</a>, &amp;<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#in\">in</a>.<a class=\"id\" href=\"#tf\">tf</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_LBA48\">IDE_TFLAG_LBA48</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#write_devctl\">write_devctl</a>(<a class=\"id\" href=\"#hwif\">hwif</a>, <a class=\"id\" href=\"#ATA_HOB\">ATA_HOB</a> | <a class=\"id\" href=\"#ATA_DEVCTL_OBS\">ATA_DEVCTL_OBS</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#tf_read\">tf_read</a>(<a class=\"id\" href=\"#drive\">drive</a>, &amp;<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#hob\">hob</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#in\">in</a>.<a class=\"id\" href=\"#hob\">hob</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"void <a class=\"id\" href=\"#ide_tf_dump\">ide_tf_dump</a>(const char *<a class=\"id\" href=\"#s\">s</a>, struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *<a class=\"id\" href=\"#cmd\">cmd</a>)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#DEBUG\">DEBUG</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"%s: tf: feat 0x%02x nsect 0x%02x lbal 0x%02x \"", 
"<span class=\"ts\"/><span class=\"ts\"/>\"lbam 0x%02x lbah 0x%02x dev 0x%02x cmd 0x%02x\\n\",", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#s\">s</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#feature\">feature</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#nsect\">nsect</a>,", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#lbal\">lbal</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#lbam\">lbam</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#lbah\">lbah</a>,", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#device\">device</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#command\">command</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"%s: hob: nsect 0x%02x lbal 0x%02x lbam 0x%02x lbah 0x%02x\\n\",", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#s\">s</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#hob\">hob</a>.<a class=\"id\" href=\"#nsect\">nsect</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#hob\">hob</a>.<a class=\"id\" href=\"#lbal\">lbal</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#hob\">hob</a>.<a class=\"id\" href=\"#lbam\">lbam</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#hob\">hob</a>.<a class=\"id\" href=\"#lbah\">lbah</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"int <a class=\"id\" href=\"#taskfile_lib_get_identify\">taskfile_lib_get_identify</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#buf\">buf</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> <a class=\"id\" href=\"#cmd\">cmd</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#cmd\">cmd</a>, 0, sizeof(<a class=\"id\" href=\"#cmd\">cmd</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#nsect\">nsect</a> = 0x01;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#media\">media</a> == <a class=\"id\" href=\"#ide_disk\">ide_disk</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#command\">command</a> = <a class=\"id\" href=\"#ATA_CMD_ID_ATA\">ATA_CMD_ID_ATA</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#command\">command</a> = <a class=\"id\" href=\"#ATA_CMD_ID_ATAPI\">ATA_CMD_ID_ATAPI</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#out\">out</a>.<a class=\"id\" href=\"#tf\">tf</a> = <a class=\"id\" href=\"#IDE_VALID_OUT_TF\">IDE_VALID_OUT_TF</a> | <a class=\"id\" href=\"#IDE_VALID_DEVICE\">IDE_VALID_DEVICE</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#in\">in</a>.<a class=\"id\" href=\"#tf\">tf</a>  = <a class=\"id\" href=\"#IDE_VALID_IN_TF\">IDE_VALID_IN_TF</a>  | <a class=\"id\" href=\"#IDE_VALID_DEVICE\">IDE_VALID_DEVICE</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>.<a class=\"id\" href=\"#protocol\">protocol</a> = <a class=\"id\" href=\"#ATA_PROT_PIO\">ATA_PROT_PIO</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ide_raw_taskfile\">ide_raw_taskfile</a>(<a class=\"id\" href=\"#drive\">drive</a>, &amp;<a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#buf\">buf</a>, 1);", 
"}", 
"", 
"static <a class=\"id\" href=\"#ide_startstop_t\">ide_startstop_t</a> <a class=\"id\" href=\"#task_no_data_intr\">task_no_data_intr</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *);", 
"static <a class=\"id\" href=\"#ide_startstop_t\">ide_startstop_t</a> <a class=\"id\" href=\"#pre_task_out_intr\">pre_task_out_intr</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *, struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *);", 
"static <a class=\"id\" href=\"#ide_startstop_t\">ide_startstop_t</a> <a class=\"id\" href=\"#task_pio_intr\">task_pio_intr</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *);", 
"", 
"<a class=\"id\" href=\"#ide_startstop_t\">ide_startstop_t</a> <a class=\"id\" href=\"#do_rw_taskfile\">do_rw_taskfile</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *<a class=\"id\" href=\"#orig_cmd\">orig_cmd</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_hwif_t\">ide_hwif_t</a> *<a class=\"id\" href=\"#hwif\">hwif</a> = <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#hwif\">hwif</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *<a class=\"id\" href=\"#cmd\">cmd</a> = &amp;<a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#cmd\">cmd</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ide_taskfile\">ide_taskfile</a> *<a class=\"id\" href=\"#tf\">tf</a> = &amp;<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_handler_t\">ide_handler_t</a> *<a class=\"id\" href=\"#handler\">handler</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#ide_tp_ops\">ide_tp_ops</a> *<a class=\"id\" href=\"#tp_ops\">tp_ops</a> = <a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#tp_ops\">tp_ops</a>;", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#ide_dma_ops\">ide_dma_ops</a> *<a class=\"id\" href=\"#dma_ops\">dma_ops</a> = <a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#dma_ops\">dma_ops</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#orig_cmd\">orig_cmd</a>-><a class=\"id\" href=\"#protocol\">protocol</a> == <a class=\"id\" href=\"#ATA_PROT_PIO\">ATA_PROT_PIO</a> &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#orig_cmd\">orig_cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_MULTI_PIO\">IDE_TFLAG_MULTI_PIO</a>) &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#mult_count\">mult_count</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_err\">pr_err</a>(\"%s: multimode not set!\\n\", <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_stopped\">ide_stopped</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#orig_cmd\">orig_cmd</a>-><a class=\"id\" href=\"#ftf_flags\">ftf_flags</a> &amp; <a class=\"id\" href=\"#IDE_FTFLAG_FLAGGED\">IDE_FTFLAG_FLAGGED</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#orig_cmd\">orig_cmd</a>-><a class=\"id\" href=\"#ftf_flags\">ftf_flags</a> |= <a class=\"id\" href=\"#IDE_FTFLAG_SET_IN_FLAGS\">IDE_FTFLAG_SET_IN_FLAGS</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#orig_cmd\">orig_cmd</a>, sizeof(*<a class=\"id\" href=\"#cmd\">cmd</a>));", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_DMA_PIO_FALLBACK\">IDE_TFLAG_DMA_PIO_FALLBACK</a>) == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_tf_dump\">ide_tf_dump</a>(<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#cmd\">cmd</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#write_devctl\">write_devctl</a>(<a class=\"id\" href=\"#hwif\">hwif</a>, <a class=\"id\" href=\"#ATA_DEVCTL_OBS\">ATA_DEVCTL_OBS</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#ftf_flags\">ftf_flags</a> &amp; <a class=\"id\" href=\"#IDE_FTFLAG_OUT_DATA\">IDE_FTFLAG_OUT_DATA</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#data\">data</a>[2] = { <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#data\">data</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#hob\">hob</a>.<a class=\"id\" href=\"#data\">data</a> };", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#output_data\">output_data</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#data\">data</a>, 2);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#out\">out</a>.<a class=\"id\" href=\"#tf\">tf</a> &amp; <a class=\"id\" href=\"#IDE_VALID_DEVICE\">IDE_VALID_DEVICE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#HIHI\">HIHI</a> = (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_LBA48\">IDE_TFLAG_LBA48</a>) ?", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  0xE0 : 0xEF;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#ftf_flags\">ftf_flags</a> &amp; <a class=\"id\" href=\"#IDE_FTFLAG_FLAGGED\">IDE_FTFLAG_FLAGGED</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#device\">device</a> &= <a class=\"id\" href=\"#HIHI\">HIHI</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#device\">device</a> |= <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#select\">select</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#tf_load\">tf_load</a>(<a class=\"id\" href=\"#drive\">drive</a>, &amp;<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#hob\">hob</a>, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#out\">out</a>.<a class=\"id\" href=\"#hob\">hob</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#tf_load\">tf_load</a>(<a class=\"id\" href=\"#drive\">drive</a>, &amp;<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>,  <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#valid\">valid</a>.<a class=\"id\" href=\"#out\">out</a>.<a class=\"id\" href=\"#tf\">tf</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#protocol\">protocol</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ATA_PROT_PIO\">ATA_PROT_PIO</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_WRITE\">IDE_TFLAG_WRITE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#exec_command\">exec_command</a>(<a class=\"id\" href=\"#hwif\">hwif</a>, <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#command\">command</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ndelay\">ndelay</a>(400);<span class=\"ts\"/><span class=\"comment\">/* FIXME */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#pre_task_out_intr\">pre_task_out_intr</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#handler\">handler</a> = <a class=\"id\" href=\"#task_pio_intr\">task_pio_intr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* fall-through */</span>", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ATA_PROT_NODATA\">ATA_PROT_NODATA</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#handler\">handler</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#handler\">handler</a> = <a class=\"id\" href=\"#task_no_data_intr\">task_no_data_intr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_execute_command\">ide_execute_command</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#handler\">handler</a>, <a class=\"id\" href=\"#WAIT_WORSTCASE\">WAIT_WORSTCASE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_started\">ide_started</a>;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#ATA_PROT_DMA\">ATA_PROT_DMA</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ide_dma_prepare\">ide_dma_prepare</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_stopped\">ide_stopped</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#expiry\">expiry</a> = <a class=\"id\" href=\"#dma_ops\">dma_ops</a>-><a class=\"id\" href=\"#dma_timer_expiry\">dma_timer_expiry</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_execute_command\">ide_execute_command</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#ide_dma_intr\">ide_dma_intr</a>, 2 * <a class=\"id\" href=\"#WAIT_CMD\">WAIT_CMD</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dma_ops\">dma_ops</a>-><a class=\"id\" href=\"#dma_start\">dma_start</a>(<a class=\"id\" href=\"#drive\">drive</a>);", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_started\">ide_started</a>;", 
"<span class=\"ts\"/>}", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#do_rw_taskfile\">do_rw_taskfile</a>);", 
"", 
"static <a class=\"id\" href=\"#ide_startstop_t\">ide_startstop_t</a> <a class=\"id\" href=\"#task_no_data_intr\">task_no_data_intr</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_hwif_t\">ide_hwif_t</a> *<a class=\"id\" href=\"#hwif\">hwif</a> = <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#hwif\">hwif</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *<a class=\"id\" href=\"#cmd\">cmd</a> = &amp;<a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#cmd\">cmd</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ide_taskfile\">ide_taskfile</a> *<a class=\"id\" href=\"#tf\">tf</a> = &amp;<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#custom\">custom</a> = (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_CUSTOM_HANDLER\">IDE_TFLAG_CUSTOM_HANDLER</a>) ? 1 : 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retries\">retries</a> = (<a class=\"id\" href=\"#custom\">custom</a> && <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#command\">command</a> == <a class=\"id\" href=\"#ATA_CMD_INIT_DEV_PARAMS\">ATA_CMD_INIT_DEV_PARAMS</a>) ? 5 : 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#stat\">stat</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#local_irq_enable_in_hardirq\">local_irq_enable_in_hardirq</a>();", 
"", 
"<span class=\"ts\"/>while (1) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#stat\">stat</a> = <a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#read_status\">read_status</a>(<a class=\"id\" href=\"#hwif\">hwif</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#stat\">stat</a> &amp; <a class=\"id\" href=\"#ATA_BUSY\">ATA_BUSY</a>) == 0 || <a class=\"id\" href=\"#retries\">retries</a>-- == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#udelay\">udelay</a>(10);", 
"<span class=\"ts\"/>};", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#OK_STAT\">OK_STAT</a>(<a class=\"id\" href=\"#stat\">stat</a>, <a class=\"id\" href=\"#ATA_DRDY\">ATA_DRDY</a>, <a class=\"id\" href=\"#BAD_STAT\">BAD_STAT</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#custom\">custom</a> && <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#command\">command</a> == <a class=\"id\" href=\"#ATA_CMD_SET_MULTI\">ATA_CMD_SET_MULTI</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#mult_req\">mult_req</a> = <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#mult_count\">mult_count</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#special_flags\">special_flags</a> |= <a class=\"id\" href=\"#IDE_SFLAG_RECALIBRATE\">IDE_SFLAG_RECALIBRATE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(void)<a class=\"id\" href=\"#ide_dump_status\">ide_dump_status</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#__func__\">__func__</a>, <a class=\"id\" href=\"#stat\">stat</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_stopped\">ide_stopped</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (<a class=\"id\" href=\"#custom\">custom</a> && <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#command\">command</a> == <a class=\"id\" href=\"#ATA_CMD_INIT_DEV_PARAMS\">ATA_CMD_INIT_DEV_PARAMS</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#stat\">stat</a> &amp; (<a class=\"id\" href=\"#ATA_ERR\">ATA_ERR</a> | <a class=\"id\" href=\"#ATA_DRQ\">ATA_DRQ</a>)) == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_set_handler\">ide_set_handler</a>(<a class=\"id\" href=\"#drive\">drive</a>, &amp;<a class=\"id\" href=\"#task_no_data_intr\">task_no_data_intr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#WAIT_WORSTCASE\">WAIT_WORSTCASE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_started\">ide_started</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ide_error\">ide_error</a>(<a class=\"id\" href=\"#drive\">drive</a>, \"task_no_data_intr\", <a class=\"id\" href=\"#stat\">stat</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#custom\">custom</a> && <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#command\">command</a> == <a class=\"id\" href=\"#ATA_CMD_SET_MULTI\">ATA_CMD_SET_MULTI</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#mult_count\">mult_count</a> = <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#mult_req\">mult_req</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#custom\">custom</a> == 0 || <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#command\">command</a> == <a class=\"id\" href=\"#ATA_CMD_IDLEIMMEDIATE\">ATA_CMD_IDLEIMMEDIATE</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#tf\">tf</a>-><a class=\"id\" href=\"#command\">command</a> == <a class=\"id\" href=\"#ATA_CMD_CHK_POWER\">ATA_CMD_CHK_POWER</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a> = <a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#rq\">rq</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#blk_pm_request\">blk_pm_request</a>(<a class=\"id\" href=\"#rq\">rq</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_complete_pm_rq\">ide_complete_pm_rq</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#rq\">rq</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_finish_cmd\">ide_finish_cmd</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#stat\">stat</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ide_stopped\">ide_stopped</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#wait_drive_not_busy\">wait_drive_not_busy</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_hwif_t\">ide_hwif_t</a> *<a class=\"id\" href=\"#hwif\">hwif</a> = <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#hwif\">hwif</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retries\">retries</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#stat\">stat</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Last sector was transfered, wait until device is ready.  This can</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * take up to 6 ms on some ATAPI devices, so we will wait max 10 ms.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#retries\">retries</a> = 0; <a class=\"id\" href=\"#retries\">retries</a> &lt; 1000; <a class=\"id\" href=\"#retries\">retries</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#stat\">stat</a> = <a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#read_status\">read_status</a>(<a class=\"id\" href=\"#hwif\">hwif</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#stat\">stat</a> &amp; <a class=\"id\" href=\"#ATA_BUSY\">ATA_BUSY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#udelay\">udelay</a>(10);", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#stat\">stat</a> &amp; <a class=\"id\" href=\"#ATA_BUSY\">ATA_BUSY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_err\">pr_err</a>(\"%s: drive still BUSY!\\n\", <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#stat\">stat</a>;", 
"}", 
"", 
"void <a class=\"id\" href=\"#ide_pio_bytes\">ide_pio_bytes</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *<a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   unsigned int <a class=\"id\" href=\"#write\">write</a>, unsigned int <a class=\"id\" href=\"#len\">len</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_hwif_t\">ide_hwif_t</a> *<a class=\"id\" href=\"#hwif\">hwif</a> = <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#hwif\">hwif</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#scatterlist\">scatterlist</a> *<a class=\"id\" href=\"#sg\">sg</a> = <a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#sg_table\">sg_table</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#scatterlist\">scatterlist</a> *<a class=\"id\" href=\"#cursg\">cursg</a> = <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#cursg\">cursg</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#uninitialized_var\">uninitialized_var</a>(<a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page\">page</a> *<a class=\"id\" href=\"#page\">page</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#offset\">offset</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#buf\">buf</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cursg\">cursg</a> = <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#cursg\">cursg</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cursg\">cursg</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cursg\">cursg</a> = <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#cursg\">cursg</a> = <a class=\"id\" href=\"#sg\">sg</a>;", 
"", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#len\">len</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>unsigned <a class=\"id\" href=\"#nr_bytes\">nr_bytes</a> = <a class=\"id\" href=\"#min\">min</a>(<a class=\"id\" href=\"#len\">len</a>, <a class=\"id\" href=\"#cursg\">cursg</a>-><a class=\"id\" href=\"#length\">length</a> - <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#cursg_ofs\">cursg_ofs</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#page_is_high\">page_is_high</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nr_bytes\">nr_bytes</a> &gt; <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nr_bytes\">nr_bytes</a> = <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#sg_page\">sg_page</a>(<a class=\"id\" href=\"#cursg\">cursg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#offset\">offset</a> = <a class=\"id\" href=\"#cursg\">cursg</a>-><a class=\"id\" href=\"#offset\">offset</a> + <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#cursg_ofs\">cursg_ofs</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* get the current page and offset */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#page\">page</a> = <a class=\"id\" href=\"#nth_page\">nth_page</a>(<a class=\"id\" href=\"#page\">page</a>, (<a class=\"id\" href=\"#offset\">offset</a> >> <a class=\"id\" href=\"#PAGE_SHIFT\">PAGE_SHIFT</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#offset\">offset</a> %= <a class=\"id\" href=\"#PAGE_SIZE\">PAGE_SIZE</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#page_is_high\">page_is_high</a> = <a class=\"id\" href=\"#PageHighMem\">PageHighMem</a>(<a class=\"id\" href=\"#page\">page</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#page_is_high\">page_is_high</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#local_irq_save\">local_irq_save</a>(<a class=\"id\" href=\"#flags\">flags</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#buf\">buf</a> = <a class=\"id\" href=\"#kmap_atomic\">kmap_atomic</a>(<a class=\"id\" href=\"#page\">page</a>, <a class=\"id\" href=\"#KM_BIO_SRC_IRQ\">KM_BIO_SRC_IRQ</a>) + <a class=\"id\" href=\"#offset\">offset</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#nleft\">nleft</a> -= <a class=\"id\" href=\"#nr_bytes\">nr_bytes</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#cursg_ofs\">cursg_ofs</a> += <a class=\"id\" href=\"#nr_bytes\">nr_bytes</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#cursg_ofs\">cursg_ofs</a> == <a class=\"id\" href=\"#cursg\">cursg</a>-><a class=\"id\" href=\"#length\">length</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cursg\">cursg</a> = <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#cursg\">cursg</a> = <a class=\"id\" href=\"#sg_next\">sg_next</a>(<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#cursg\">cursg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#cursg_ofs\">cursg_ofs</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* do the actual data transfer */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#write\">write</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#output_data\">output_data</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#nr_bytes\">nr_bytes</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#input_data\">input_data</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#nr_bytes\">nr_bytes</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kunmap_atomic\">kunmap_atomic</a>(<a class=\"id\" href=\"#buf\">buf</a>, <a class=\"id\" href=\"#KM_BIO_SRC_IRQ\">KM_BIO_SRC_IRQ</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#page_is_high\">page_is_high</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#local_irq_restore\">local_irq_restore</a>(<a class=\"id\" href=\"#flags\">flags</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a> -= <a class=\"id\" href=\"#nr_bytes\">nr_bytes</a>;", 
"<span class=\"ts\"/>}", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#ide_pio_bytes\">ide_pio_bytes</a>);", 
"", 
"static void <a class=\"id\" href=\"#ide_pio_datablock\">ide_pio_datablock</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *<a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      unsigned int <a class=\"id\" href=\"#write\">write</a>)", 
"{", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#nr_bytes\">nr_bytes</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#saved_io_32bit\">saved_io_32bit</a> = <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#io_32bit\">io_32bit</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_FS\">IDE_TFLAG_FS</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#rq\">rq</a>-><a class=\"id\" href=\"#errors\">errors</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_IO_16BIT\">IDE_TFLAG_IO_16BIT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#io_32bit\">io_32bit</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#touch_softlockup_watchdog\">touch_softlockup_watchdog</a>();", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_MULTI_PIO\">IDE_TFLAG_MULTI_PIO</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nr_bytes\">nr_bytes</a> = <a class=\"id\" href=\"#min_t\">min_t</a>(unsigned, <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#nleft\">nleft</a>, <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#mult_count\">mult_count</a> << 9);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nr_bytes\">nr_bytes</a> = <a class=\"id\" href=\"#SECTOR_SIZE\">SECTOR_SIZE</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_pio_bytes\">ide_pio_bytes</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#write\">write</a>, <a class=\"id\" href=\"#nr_bytes\">nr_bytes</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#io_32bit\">io_32bit</a> = <a class=\"id\" href=\"#saved_io_32bit\">saved_io_32bit</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#ide_error_cmd\">ide_error_cmd</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *<a class=\"id\" href=\"#cmd\">cmd</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_FS\">IDE_TFLAG_FS</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#nr_bytes\">nr_bytes</a> = <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#nbytes\">nbytes</a> - <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#nleft\">nleft</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#protocol\">protocol</a> == <a class=\"id\" href=\"#ATA_PROT_PIO\">ATA_PROT_PIO</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    ((<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_WRITE\">IDE_TFLAG_WRITE</a>) || <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#nleft\">nleft</a> == 0)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_MULTI_PIO\">IDE_TFLAG_MULTI_PIO</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nr_bytes\">nr_bytes</a> -= <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#mult_count\">mult_count</a> << 9;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nr_bytes\">nr_bytes</a> -= <a class=\"id\" href=\"#SECTOR_SIZE\">SECTOR_SIZE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nr_bytes\">nr_bytes</a> &gt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_complete_rq\">ide_complete_rq</a>(<a class=\"id\" href=\"#drive\">drive</a>, 0, <a class=\"id\" href=\"#nr_bytes\">nr_bytes</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"void <a class=\"id\" href=\"#ide_finish_cmd\">ide_finish_cmd</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>, struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *<a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#stat\">stat</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#request\">request</a> *<a class=\"id\" href=\"#rq\">rq</a> = <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#rq\">rq</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ide_read_error\">ide_read_error</a>(<a class=\"id\" href=\"#drive\">drive</a>), <a class=\"id\" href=\"#nsect\">nsect</a> = <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf\">tf</a>.<a class=\"id\" href=\"#nsect\">nsect</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#set_xfer\">set_xfer</a> = !!(<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_SET_XFER\">IDE_TFLAG_SET_XFER</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_complete_cmd\">ide_complete_cmd</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#stat\">stat</a>, <a class=\"id\" href=\"#err\">err</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rq\">rq</a>-><a class=\"id\" href=\"#errors\">errors</a> = <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == 0 && <a class=\"id\" href=\"#set_xfer\">set_xfer</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_set_xfer_rate\">ide_set_xfer_rate</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#nsect\">nsect</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_driveid_update\">ide_driveid_update</a>(<a class=\"id\" href=\"#drive\">drive</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_complete_rq\">ide_complete_rq</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#err\">err</a> ? -<a class=\"id\" href=\"#EIO\">EIO</a> : 0, <a class=\"id\" href=\"#blk_rq_bytes\">blk_rq_bytes</a>(<a class=\"id\" href=\"#rq\">rq</a>));", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Handler for command with PIO data phase.</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#ide_startstop_t\">ide_startstop_t</a> <a class=\"id\" href=\"#task_pio_intr\">task_pio_intr</a>(<a class=\"id\" href=\"#ide_drive_t\">ide_drive_t</a> *<a class=\"id\" href=\"#drive\">drive</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_hwif_t\">ide_hwif_t</a> *<a class=\"id\" href=\"#hwif\">hwif</a> = <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#hwif\">hwif</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ide_cmd\">ide_cmd</a> *<a class=\"id\" href=\"#cmd\">cmd</a> = &amp;<a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#cmd\">cmd</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#stat\">stat</a> = <a class=\"id\" href=\"#hwif\">hwif</a>-><a class=\"id\" href=\"#tp_ops\">tp_ops</a>-><a class=\"id\" href=\"#read_status\">read_status</a>(<a class=\"id\" href=\"#hwif\">hwif</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#write\">write</a> = !!(<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_WRITE\">IDE_TFLAG_WRITE</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#write\">write</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Error? */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#stat\">stat</a> &amp; <a class=\"id\" href=\"#ATA_ERR\">ATA_ERR</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_err\">out_err</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Didn't want any data? Odd. */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#stat\">stat</a> &amp; <a class=\"id\" href=\"#ATA_DRQ\">ATA_DRQ</a>) == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Command all done? */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#OK_STAT\">OK_STAT</a>(<a class=\"id\" href=\"#stat\">stat</a>, <a class=\"id\" href=\"#ATA_DRDY\">ATA_DRDY</a>, <a class=\"id\" href=\"#ATA_BUSY\">ATA_BUSY</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_end\">out_end</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Assume it was a spurious irq */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_wait\">out_wait</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#OK_STAT\">OK_STAT</a>(<a class=\"id\" href=\"#stat\">stat</a>, <a class=\"id\" href=\"#DRIVE_READY\">DRIVE_READY</a>, <a class=\"id\" href=\"#drive\">drive</a>-><a class=\"id\" href=\"#bad_wstat\">bad_wstat</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_err\">out_err</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Deal with unexpected ATA data phase. */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (((<a class=\"id\" href=\"#stat\">stat</a> &amp; <a class=\"id\" href=\"#ATA_DRQ\">ATA_DRQ</a>) == 0) ^ (<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#nleft\">nleft</a> == 0))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_err\">out_err</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#write\">write</a> && <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#nleft\">nleft</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_end\">out_end</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Still data left to transfer. */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_pio_datablock\">ide_pio_datablock</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#write\">write</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Are we done? Check status and finish transfer. */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#write\">write</a> == 0 && <a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#nleft\">nleft</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#stat\">stat</a> = <a class=\"id\" href=\"#wait_drive_not_busy\">wait_drive_not_busy</a>(<a class=\"id\" href=\"#drive\">drive</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#OK_STAT\">OK_STAT</a>(<a class=\"id\" href=\"#stat\">stat</a>, 0, <a class=\"id\" href=\"#BAD_STAT\">BAD_STAT</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_err\">out_err</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_end\">out_end</a>;", 
"<span class=\"ts\"/>}", 
"<a class=\"id\" href=\"#out_wait\">out_wait</a>:", 
"<span class=\"ts\"/><span class=\"comment\">/* Still data left to transfer. */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ide_set_handler\">ide_set_handler</a>(<a class=\"id\" href=\"#drive\">drive</a>, &amp;<a class=\"id\" href=\"#task_pio_intr\">task_pio_intr</a>, <a class=\"id\" href=\"#WAIT_WORSTCASE\">WAIT_WORSTCASE</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ide_started\">ide_started</a>;", 
"<a class=\"id\" href=\"#out_end\">out_end</a>:", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#tf_flags\">tf_flags</a> &amp; <a class=\"id\" href=\"#IDE_TFLAG_FS\">IDE_TFLAG_FS</a>) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_finish_cmd\">ide_finish_cmd</a>(<a class=\"id\" href=\"#drive\">drive</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#stat\">stat</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ide_complete_rq\">ide_complete_rq</a>(<a class=\"id\" href=\"#drive\">drive</a>, 0, <a class=\"id\" href=\"#blk_rq_sectors\">blk_rq_sectors</a>(<a class=\"id\" href=\"#cmd\">cmd</a>-><a class=\"id\" href=\"#rq\">rq</a>) << 9);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ide_stopped\">ide_stopped</a>;", 
];
xr_frag_insert('l/d3/fda927ae17a3d058befac2f3eb969247917675.xr', __xr_tmp);
