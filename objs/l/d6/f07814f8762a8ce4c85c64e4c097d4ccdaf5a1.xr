var __xr_tmp = [
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_BLK_DEV_FD\">CONFIG_BLK_DEV_FD</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#MAJOR\">MAJOR</a>(<a class=\"id\" href=\"#ROOT_DEV\">ROOT_DEV</a>) == <a class=\"id\" href=\"#FLOPPY_MAJOR\">FLOPPY_MAJOR</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* rd_doload is 2 for a dual initrd/ramload setup */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rd_doload\">rd_doload</a>==2) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rd_load_disk\">rd_load_disk</a>(1)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ROOT_DEV\">ROOT_DEV</a> = <a class=\"id\" href=\"#Root_RAM1\">Root_RAM1</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#root_device_name\">root_device_name</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#change_floppy\">change_floppy</a>(\"root floppy\");", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_BLOCK\">CONFIG_BLOCK</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#create_dev\">create_dev</a>(\"/dev/root\", <a class=\"id\" href=\"#ROOT_DEV\">ROOT_DEV</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mount_block_root\">mount_block_root</a>(\"/dev/root\", <a class=\"id\" href=\"#root_mountflags\">root_mountflags</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Prepare the namespace - decide what/where to mount, load ramdisks, etc.</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#prepare_namespace\">prepare_namespace</a>(void)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#is_floppy\">is_floppy</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#root_delay\">root_delay</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"Waiting %dsec before mounting root device...\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#root_delay\">root_delay</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ssleep\">ssleep</a>(<a class=\"id\" href=\"#root_delay\">root_delay</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * wait for the known devices to complete their probing</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Note: this is a potential source of long boot delays.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * For example, it is not atypical to wait 5 seconds here</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * for the touchpad of a laptop to initialize.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#wait_for_device_probe\">wait_for_device_probe</a>();", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#md_run_setup\">md_run_setup</a>();", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#saved_root_name\">saved_root_name</a>[0]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#root_device_name\">root_device_name</a> = <a class=\"id\" href=\"#saved_root_name\">saved_root_name</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#root_device_name\">root_device_name</a>, \"mtd\", 3) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    !<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#root_device_name\">root_device_name</a>, \"ubi\", 3)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mount_block_root\">mount_block_root</a>(<a class=\"id\" href=\"#root_device_name\">root_device_name</a>, <a class=\"id\" href=\"#root_mountflags\">root_mountflags</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ROOT_DEV\">ROOT_DEV</a> = <a class=\"id\" href=\"#name_to_dev_t\">name_to_dev_t</a>(<a class=\"id\" href=\"#root_device_name\">root_device_name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#root_device_name\">root_device_name</a>, \"/dev/\", 5) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#root_device_name\">root_device_name</a> += 5;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#initrd_load\">initrd_load</a>())", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* wait for any asynchronous scanning to complete */</span>", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#ROOT_DEV\">ROOT_DEV</a> == 0) && <a class=\"id\" href=\"#root_wait\">root_wait</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"Waiting for root device %s...\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#saved_root_name\">saved_root_name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>while (<a class=\"id\" href=\"#driver_probe_done\">driver_probe_done</a>() != 0 ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#ROOT_DEV\">ROOT_DEV</a> = <a class=\"id\" href=\"#name_to_dev_t\">name_to_dev_t</a>(<a class=\"id\" href=\"#saved_root_name\">saved_root_name</a>)) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#msleep\">msleep</a>(100);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#async_synchronize_full\">async_synchronize_full</a>();", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#is_floppy\">is_floppy</a> = <a class=\"id\" href=\"#MAJOR\">MAJOR</a>(<a class=\"id\" href=\"#ROOT_DEV\">ROOT_DEV</a>) == <a class=\"id\" href=\"#FLOPPY_MAJOR\">FLOPPY_MAJOR</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#is_floppy\">is_floppy</a> && <a class=\"id\" href=\"#rd_doload\">rd_doload</a> && <a class=\"id\" href=\"#rd_load_disk\">rd_load_disk</a>(0))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ROOT_DEV\">ROOT_DEV</a> = <a class=\"id\" href=\"#Root_RAM0\">Root_RAM0</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mount_root\">mount_root</a>();", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#devtmpfs_mount\">devtmpfs_mount</a>(\"dev\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sys_mount\">sys_mount</a>(\".\", \"/\", <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#MS_MOVE\">MS_MOVE</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sys_chroot\">sys_chroot</a>(\".\");", 
"}", 
];
xr_frag_insert('l/d6/f07814f8762a8ce4c85c64e4c097d4ccdaf5a1.xr', __xr_tmp);
