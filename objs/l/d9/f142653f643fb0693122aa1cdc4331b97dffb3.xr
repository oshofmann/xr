var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * wakeup.c - support wakeup devices</span>", 
"<span class=\"comment\"> * Copyright (C) 2004 Li Shaohua &lt;shaohua.li@intel.com&gt;</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#acpi\">acpi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#acpi\">acpi</a>/<a class=\"id\" href=\"#acpi_drivers\">acpi_drivers</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> \"internal.h\"", 
"#<a class=\"id\" href=\"#include\">include</a> \"sleep.h\"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * We didn't lock acpi_device_lock in the file, because it invokes oops in</span>", 
"<span class=\"comment\"> * suspend/resume and isn't really required as this is called in S-state. At</span>", 
"<span class=\"comment\"> * that time, there is no device hotplug</span>", 
"<span class=\"comment\"> **/</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#_COMPONENT\">_COMPONENT</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_SYSTEM_COMPONENT\">ACPI_SYSTEM_COMPONENT</a>", 
"<a class=\"id\" href=\"#ACPI_MODULE_NAME\">ACPI_MODULE_NAME</a>(\"wakeup_devices\")", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * acpi_enable_wakeup_devices - Enable wake-up device GPEs.</span>", 
"<span class=\"comment\"> * @sleep_state: ACPI system sleep state.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Enable wakeup device power of devices with the state.enable flag set and set</span>", 
"<span class=\"comment\"> * the wakeup enable mask bits in the GPE registers that correspond to wakeup</span>", 
"<span class=\"comment\"> * devices.</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#acpi_enable_wakeup_devices\">acpi_enable_wakeup_devices</a>(<a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#sleep_state\">sleep_state</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> *<a class=\"id\" href=\"#node\">node</a>, *<a class=\"id\" href=\"#next\">next</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_safe\">list_for_each_safe</a>(<a class=\"id\" href=\"#node\">node</a>, <a class=\"id\" href=\"#next\">next</a>, &amp;<a class=\"id\" href=\"#acpi_wakeup_device_list\">acpi_wakeup_device_list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#dev\">dev</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#node\">node</a>, struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a>, <a class=\"id\" href=\"#wakeup_list\">wakeup_list</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>    || !(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#enabled\">enabled</a> || <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#prepare_count\">prepare_count</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>    || <a class=\"id\" href=\"#sleep_state\">sleep_state</a> &gt; (<a class=\"id\" href=\"#u32\">u32</a>) <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#sleep_state\">sleep_state</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#enabled\">enabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_enable_wakeup_device_power\">acpi_enable_wakeup_device_power</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#sleep_state\">sleep_state</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* The wake-up power should have been enabled already. */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_gpe_wakeup\">acpi_gpe_wakeup</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_device\">gpe_device</a>, <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_number\">gpe_number</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_GPE_ENABLE\">ACPI_GPE_ENABLE</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * acpi_disable_wakeup_devices - Disable devices' wakeup capability.</span>", 
"<span class=\"comment\"> * @sleep_state: ACPI system sleep state.</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#acpi_disable_wakeup_devices\">acpi_disable_wakeup_devices</a>(<a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#sleep_state\">sleep_state</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> *<a class=\"id\" href=\"#node\">node</a>, *<a class=\"id\" href=\"#next\">next</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_safe\">list_for_each_safe</a>(<a class=\"id\" href=\"#node\">node</a>, <a class=\"id\" href=\"#next\">next</a>, &amp;<a class=\"id\" href=\"#acpi_wakeup_device_list\">acpi_wakeup_device_list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#dev\">dev</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#node\">node</a>, struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a>, <a class=\"id\" href=\"#wakeup_list\">wakeup_list</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#valid\">valid</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>    || !(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#enabled\">enabled</a> || <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#prepare_count\">prepare_count</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>    || (<a class=\"id\" href=\"#sleep_state\">sleep_state</a> &gt; (<a class=\"id\" href=\"#u32\">u32</a>) <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#sleep_state\">sleep_state</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_gpe_wakeup\">acpi_gpe_wakeup</a>(<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_device\">gpe_device</a>, <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#gpe_number\">gpe_number</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ACPI_GPE_DISABLE\">ACPI_GPE_DISABLE</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#enabled\">enabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_disable_wakeup_device_power\">acpi_disable_wakeup_device_power</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#acpi_wakeup_device_init\">acpi_wakeup_device_init</a>(void)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> *<a class=\"id\" href=\"#node\">node</a>, *<a class=\"id\" href=\"#next\">next</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#acpi_device_lock\">acpi_device_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_safe\">list_for_each_safe</a>(<a class=\"id\" href=\"#node\">node</a>, <a class=\"id\" href=\"#next\">next</a>, &amp;<a class=\"id\" href=\"#acpi_wakeup_device_list\">acpi_wakeup_device_list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#node\">node</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       struct <a class=\"id\" href=\"#acpi_device\">acpi_device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#wakeup_list\">wakeup_list</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#flags\">flags</a>.<a class=\"id\" href=\"#always_enabled\">always_enabled</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#wakeup\">wakeup</a>.<a class=\"id\" href=\"#state\">state</a>.<a class=\"id\" href=\"#enabled\">enabled</a> = 1;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#acpi_device_lock\">acpi_device_lock</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
];
xr_frag_insert('l/d9/f142653f643fb0693122aa1cdc4331b97dffb3.xr', __xr_tmp);
