var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * driver.c - driver support</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * (C) 2006-2007 Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;</span>", 
"<span class=\"comment\"> *               Shaohua Li &lt;shaohua.li@intel.com&gt;</span>", 
"<span class=\"comment\"> *               Adam Belay &lt;abelay@novell.com&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This code is licenced under the GPL.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#mutex\">mutex</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#cpuidle\">cpuidle</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> \"cpuidle.h\"", 
"", 
"static struct <a class=\"id\" href=\"#cpuidle_driver\">cpuidle_driver</a> *<a class=\"id\" href=\"#cpuidle_curr_driver\">cpuidle_curr_driver</a>;", 
"<a class=\"id\" href=\"#DEFINE_SPINLOCK\">DEFINE_SPINLOCK</a>(<a class=\"id\" href=\"#cpuidle_driver_lock\">cpuidle_driver_lock</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * cpuidle_register_driver - registers a driver</span>", 
"<span class=\"comment\"> * @drv: the driver</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#cpuidle_register_driver\">cpuidle_register_driver</a>(struct <a class=\"id\" href=\"#cpuidle_driver\">cpuidle_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>)", 
"{", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#drv\">drv</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#cpuidle_driver_lock\">cpuidle_driver_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cpuidle_curr_driver\">cpuidle_curr_driver</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#cpuidle_driver_lock\">cpuidle_driver_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EBUSY\">EBUSY</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_curr_driver\">cpuidle_curr_driver</a> = <a class=\"id\" href=\"#drv\">drv</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#cpuidle_driver_lock\">cpuidle_driver_lock</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#cpuidle_register_driver\">cpuidle_register_driver</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * cpuidle_get_driver - return the current driver</span>", 
"<span class=\"comment\"> */</span>", 
"struct <a class=\"id\" href=\"#cpuidle_driver\">cpuidle_driver</a> *<a class=\"id\" href=\"#cpuidle_get_driver\">cpuidle_get_driver</a>(void)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#cpuidle_curr_driver\">cpuidle_curr_driver</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#cpuidle_get_driver\">cpuidle_get_driver</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * cpuidle_unregister_driver - unregisters a driver</span>", 
"<span class=\"comment\"> * @drv: the driver</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#cpuidle_unregister_driver\">cpuidle_unregister_driver</a>(struct <a class=\"id\" href=\"#cpuidle_driver\">cpuidle_driver</a> *<a class=\"id\" href=\"#drv\">drv</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#drv\">drv</a> != <a class=\"id\" href=\"#cpuidle_curr_driver\">cpuidle_curr_driver</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#WARN\">WARN</a>(1, \"invalid cpuidle_unregister_driver(%s)\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#drv\">drv</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock\">spin_lock</a>(&amp;<a class=\"id\" href=\"#cpuidle_driver_lock\">cpuidle_driver_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cpuidle_curr_driver\">cpuidle_curr_driver</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock\">spin_unlock</a>(&amp;<a class=\"id\" href=\"#cpuidle_driver_lock\">cpuidle_driver_lock</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#cpuidle_unregister_driver\">cpuidle_unregister_driver</a>);", 
];
xr_frag_insert('l/dc/8c57837870dbc80e23bd49e34f94e045367ffe.xr', __xr_tmp);
