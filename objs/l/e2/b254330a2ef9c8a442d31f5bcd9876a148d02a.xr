var __xr_tmp = [
"<span class=\"ts\"/>.<a class=\"id\" href=\"#notifiers\">notifiers</a> = &amp;<a class=\"id\" href=\"#cpu_dma_lat_notifier\">cpu_dma_lat_notifier</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a> = \"cpu_dma_latency\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#default_value\">default_value</a> = 2000 * <a class=\"id\" href=\"#USEC_PER_SEC\">USEC_PER_SEC</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#PM_QOS_MIN\">PM_QOS_MIN</a>,", 
"};", 
"", 
"static <a class=\"id\" href=\"#BLOCKING_NOTIFIER_HEAD\">BLOCKING_NOTIFIER_HEAD</a>(<a class=\"id\" href=\"#network_lat_notifier\">network_lat_notifier</a>);", 
"static struct <a class=\"id\" href=\"#pm_qos_object\">pm_qos_object</a> <a class=\"id\" href=\"#network_lat_pm_qos\">network_lat_pm_qos</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#requests\">requests</a> = <a class=\"id\" href=\"#PLIST_HEAD_INIT\">PLIST_HEAD_INIT</a>(<a class=\"id\" href=\"#network_lat_pm_qos\">network_lat_pm_qos</a>.<a class=\"id\" href=\"#requests\">requests</a>, <a class=\"id\" href=\"#pm_qos_lock\">pm_qos_lock</a>),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#notifiers\">notifiers</a> = &amp;<a class=\"id\" href=\"#network_lat_notifier\">network_lat_notifier</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a> = \"network_latency\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#default_value\">default_value</a> = 2000 * <a class=\"id\" href=\"#USEC_PER_SEC\">USEC_PER_SEC</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#PM_QOS_MIN\">PM_QOS_MIN</a>", 
"};", 
"", 
"", 
"static <a class=\"id\" href=\"#BLOCKING_NOTIFIER_HEAD\">BLOCKING_NOTIFIER_HEAD</a>(<a class=\"id\" href=\"#network_throughput_notifier\">network_throughput_notifier</a>);", 
"static struct <a class=\"id\" href=\"#pm_qos_object\">pm_qos_object</a> <a class=\"id\" href=\"#network_throughput_pm_qos\">network_throughput_pm_qos</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#requests\">requests</a> = <a class=\"id\" href=\"#PLIST_HEAD_INIT\">PLIST_HEAD_INIT</a>(<a class=\"id\" href=\"#network_throughput_pm_qos\">network_throughput_pm_qos</a>.<a class=\"id\" href=\"#requests\">requests</a>, <a class=\"id\" href=\"#pm_qos_lock\">pm_qos_lock</a>),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#notifiers\">notifiers</a> = &amp;<a class=\"id\" href=\"#network_throughput_notifier\">network_throughput_notifier</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#name\">name</a> = \"network_throughput\",", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#default_value\">default_value</a> = 0,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#PM_QOS_MAX\">PM_QOS_MAX</a>,", 
"};", 
"", 
"", 
"static struct <a class=\"id\" href=\"#pm_qos_object\">pm_qos_object</a> *<a class=\"id\" href=\"#pm_qos_array\">pm_qos_array</a>[] = {", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#null_pm_qos\">null_pm_qos</a>,", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#cpu_dma_pm_qos\">cpu_dma_pm_qos</a>,", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#network_lat_pm_qos\">network_lat_pm_qos</a>,", 
"<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#network_throughput_pm_qos\">network_throughput_pm_qos</a>", 
"};", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#pm_qos_power_write\">pm_qos_power_write</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#filp\">filp</a>, const char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#buf\">buf</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>, <a class=\"id\" href=\"#loff_t\">loff_t</a> *<a class=\"id\" href=\"#f_pos\">f_pos</a>);", 
"static int <a class=\"id\" href=\"#pm_qos_power_open\">pm_qos_power_open</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#filp\">filp</a>);", 
"static int <a class=\"id\" href=\"#pm_qos_power_release\">pm_qos_power_release</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#filp\">filp</a>);", 
"", 
"static const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> <a class=\"id\" href=\"#pm_qos_power_fops\">pm_qos_power_fops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#write\">write</a> = <a class=\"id\" href=\"#pm_qos_power_write\">pm_qos_power_write</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#open\">open</a> = <a class=\"id\" href=\"#pm_qos_power_open\">pm_qos_power_open</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#release\">release</a> = <a class=\"id\" href=\"#pm_qos_power_release\">pm_qos_power_release</a>,", 
"};", 
"", 
"<span class=\"comment\">/* unlocked internal variant */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#pm_qos_get_value\">pm_qos_get_value</a>(struct <a class=\"id\" href=\"#pm_qos_object\">pm_qos_object</a> *<a class=\"id\" href=\"#o\">o</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#plist_head_empty\">plist_head_empty</a>(&amp;<a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#requests\">requests</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#default_value\">default_value</a>;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#type\">type</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#PM_QOS_MIN\">PM_QOS_MIN</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#plist_last\">plist_last</a>(&amp;<a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#requests\">requests</a>)-><a class=\"id\" href=\"#prio\">prio</a>;", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#PM_QOS_MAX\">PM_QOS_MAX</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#plist_first\">plist_first</a>(&amp;<a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#requests\">requests</a>)-><a class=\"id\" href=\"#prio\">prio</a>;", 
"", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* runtime check for not using enum */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#BUG\">BUG</a>();", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static void <a class=\"id\" href=\"#update_target\">update_target</a>(struct <a class=\"id\" href=\"#pm_qos_object\">pm_qos_object</a> *<a class=\"id\" href=\"#o\">o</a>, struct <a class=\"id\" href=\"#plist_node\">plist_node</a> *<a class=\"id\" href=\"#node\">node</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  int <a class=\"id\" href=\"#del\">del</a>, int <a class=\"id\" href=\"#value\">value</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#flags\">flags</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#prev_value\">prev_value</a>, <a class=\"id\" href=\"#curr_value\">curr_value</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irqsave\">spin_lock_irqsave</a>(&amp;<a class=\"id\" href=\"#pm_qos_lock\">pm_qos_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#prev_value\">prev_value</a> = <a class=\"id\" href=\"#pm_qos_get_value\">pm_qos_get_value</a>(<a class=\"id\" href=\"#o\">o</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/* PM_QOS_DEFAULT_VALUE is a signal that the value is unchanged */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#value\">value</a> != <a class=\"id\" href=\"#PM_QOS_DEFAULT_VALUE\">PM_QOS_DEFAULT_VALUE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * to change the list, we atomically remove, reinit</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * with new value and add, then see if the extremal</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * changed</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#plist_del\">plist_del</a>(<a class=\"id\" href=\"#node\">node</a>, &amp;<a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#requests\">requests</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#plist_node_init\">plist_node_init</a>(<a class=\"id\" href=\"#node\">node</a>, <a class=\"id\" href=\"#value\">value</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#plist_add\">plist_add</a>(<a class=\"id\" href=\"#node\">node</a>, &amp;<a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#requests\">requests</a>);", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#del\">del</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#plist_del\">plist_del</a>(<a class=\"id\" href=\"#node\">node</a>, &amp;<a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#requests\">requests</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#plist_add\">plist_add</a>(<a class=\"id\" href=\"#node\">node</a>, &amp;<a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#requests\">requests</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#curr_value\">curr_value</a> = <a class=\"id\" href=\"#pm_qos_get_value\">pm_qos_get_value</a>(<a class=\"id\" href=\"#o\">o</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irqrestore\">spin_unlock_irqrestore</a>(&amp;<a class=\"id\" href=\"#pm_qos_lock\">pm_qos_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#prev_value\">prev_value</a> != <a class=\"id\" href=\"#curr_value\">curr_value</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#blocking_notifier_call_chain\">blocking_notifier_call_chain</a>(<a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#notifiers\">notifiers</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     (unsigned long)<a class=\"id\" href=\"#curr_value\">curr_value</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#register_pm_qos_misc\">register_pm_qos_misc</a>(struct <a class=\"id\" href=\"#pm_qos_object\">pm_qos_object</a> *<a class=\"id\" href=\"#qos\">qos</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#qos\">qos</a>-><a class=\"id\" href=\"#pm_qos_power_miscdev\">pm_qos_power_miscdev</a>.<a class=\"id\" href=\"#minor\">minor</a> = <a class=\"id\" href=\"#MISC_DYNAMIC_MINOR\">MISC_DYNAMIC_MINOR</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#qos\">qos</a>-><a class=\"id\" href=\"#pm_qos_power_miscdev\">pm_qos_power_miscdev</a>.<a class=\"id\" href=\"#name\">name</a> = <a class=\"id\" href=\"#qos\">qos</a>-><a class=\"id\" href=\"#name\">name</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#qos\">qos</a>-><a class=\"id\" href=\"#pm_qos_power_miscdev\">pm_qos_power_miscdev</a>.<a class=\"id\" href=\"#fops\">fops</a> = &amp;<a class=\"id\" href=\"#pm_qos_power_fops\">pm_qos_power_fops</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#misc_register\">misc_register</a>(&amp;<a class=\"id\" href=\"#qos\">qos</a>-><a class=\"id\" href=\"#pm_qos_power_miscdev\">pm_qos_power_miscdev</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#find_pm_qos_object_by_minor\">find_pm_qos_object_by_minor</a>(int <a class=\"id\" href=\"#minor\">minor</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a> &lt; <a class=\"id\" href=\"#PM_QOS_NUM_CLASSES\">PM_QOS_NUM_CLASSES</a>; <a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#minor\">minor</a> ==", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pm_qos_array\">pm_qos_array</a>[<a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>]-><a class=\"id\" href=\"#pm_qos_power_miscdev\">pm_qos_power_miscdev</a>.<a class=\"id\" href=\"#minor\">minor</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return -1;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pm_qos_request - returns current system wide qos expectation</span>", 
"<span class=\"comment\"> * @pm_qos_class: identification of which qos value is requested</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This function returns the current target value in an atomic manner.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#pm_qos_request\">pm_qos_request</a>(int <a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#flags\">flags</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#value\">value</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irqsave\">spin_lock_irqsave</a>(&amp;<a class=\"id\" href=\"#pm_qos_lock\">pm_qos_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#value\">value</a> = <a class=\"id\" href=\"#pm_qos_get_value\">pm_qos_get_value</a>(<a class=\"id\" href=\"#pm_qos_array\">pm_qos_array</a>[<a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>]);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irqrestore\">spin_unlock_irqrestore</a>(&amp;<a class=\"id\" href=\"#pm_qos_lock\">pm_qos_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#value\">value</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#pm_qos_request\">pm_qos_request</a>);", 
"", 
"int <a class=\"id\" href=\"#pm_qos_request_active\">pm_qos_request_active</a>(struct <a class=\"id\" href=\"#pm_qos_request_list\">pm_qos_request_list</a> *<a class=\"id\" href=\"#req\">req</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#req\">req</a>-><a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a> != 0;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#pm_qos_request_active\">pm_qos_request_active</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pm_qos_add_request - inserts new qos request into the list</span>", 
"<span class=\"comment\"> * @dep: pointer to a preallocated handle</span>", 
"<span class=\"comment\"> * @pm_qos_class: identifies which list of qos request to use</span>", 
"<span class=\"comment\"> * @value: defines the qos request</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This function inserts a new entry in the pm_qos_class list of requested qos</span>", 
"<span class=\"comment\"> * performance characteristics.  It recomputes the aggregate QoS expectations</span>", 
"<span class=\"comment\"> * for the pm_qos_class of parameters and initializes the pm_qos_request_list</span>", 
"<span class=\"comment\"> * handle.  Caller needs to save this handle for later use in updates and</span>", 
"<span class=\"comment\"> * removal.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"void <a class=\"id\" href=\"#pm_qos_add_request\">pm_qos_add_request</a>(struct <a class=\"id\" href=\"#pm_qos_request_list\">pm_qos_request_list</a> *<a class=\"id\" href=\"#dep\">dep</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>, <a class=\"id\" href=\"#s32\">s32</a> <a class=\"id\" href=\"#value\">value</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pm_qos_object\">pm_qos_object</a> *<a class=\"id\" href=\"#o\">o</a> =  <a class=\"id\" href=\"#pm_qos_array\">pm_qos_array</a>[<a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>];", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#new_value\">new_value</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pm_qos_request_active\">pm_qos_request_active</a>(<a class=\"id\" href=\"#dep\">dep</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#WARN\">WARN</a>(1, <a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"pm_qos_add_request() called for already added request\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#value\">value</a> == <a class=\"id\" href=\"#PM_QOS_DEFAULT_VALUE\">PM_QOS_DEFAULT_VALUE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new_value\">new_value</a> = <a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#default_value\">default_value</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new_value\">new_value</a> = <a class=\"id\" href=\"#value\">value</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#plist_node_init\">plist_node_init</a>(&amp;<a class=\"id\" href=\"#dep\">dep</a>-><a class=\"id\" href=\"#list\">list</a>, <a class=\"id\" href=\"#new_value\">new_value</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dep\">dep</a>-><a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a> = <a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#update_target\">update_target</a>(<a class=\"id\" href=\"#o\">o</a>, &amp;<a class=\"id\" href=\"#dep\">dep</a>-><a class=\"id\" href=\"#list\">list</a>, 0, <a class=\"id\" href=\"#PM_QOS_DEFAULT_VALUE\">PM_QOS_DEFAULT_VALUE</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#pm_qos_add_request\">pm_qos_add_request</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pm_qos_update_request - modifies an existing qos request</span>", 
"<span class=\"comment\"> * @pm_qos_req : handle to list element holding a pm_qos request to use</span>", 
"<span class=\"comment\"> * @value: defines the qos request</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Updates an existing qos request for the pm_qos_class of parameters along</span>", 
"<span class=\"comment\"> * with updating the target pm_qos_class value.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Attempts are made to make this code callable on hot code paths.</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#pm_qos_update_request\">pm_qos_update_request</a>(struct <a class=\"id\" href=\"#pm_qos_request_list\">pm_qos_request_list</a> *<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#s32\">s32</a> <a class=\"id\" href=\"#new_value\">new_value</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#s32\">s32</a> <a class=\"id\" href=\"#temp\">temp</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pm_qos_object\">pm_qos_object</a> *<a class=\"id\" href=\"#o\">o</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>) <span class=\"comment\">/*guard against callers passing in null */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pm_qos_request_active\">pm_qos_request_active</a>(<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#WARN\">WARN</a>(1, <a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"pm_qos_update_request() called for unknown object\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#o\">o</a> = <a class=\"id\" href=\"#pm_qos_array\">pm_qos_array</a>[<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>-><a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>];", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#new_value\">new_value</a> == <a class=\"id\" href=\"#PM_QOS_DEFAULT_VALUE\">PM_QOS_DEFAULT_VALUE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#temp\">temp</a> = <a class=\"id\" href=\"#o\">o</a>-><a class=\"id\" href=\"#default_value\">default_value</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#temp\">temp</a> = <a class=\"id\" href=\"#new_value\">new_value</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#temp\">temp</a> != <a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>-><a class=\"id\" href=\"#list\">list</a>.<a class=\"id\" href=\"#prio\">prio</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#update_target\">update_target</a>(<a class=\"id\" href=\"#o\">o</a>, &amp;<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>-><a class=\"id\" href=\"#list\">list</a>, 0, <a class=\"id\" href=\"#temp\">temp</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#pm_qos_update_request\">pm_qos_update_request</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pm_qos_remove_request - modifies an existing qos request</span>", 
"<span class=\"comment\"> * @pm_qos_req: handle to request list element</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Will remove pm qos request from the list of requests and</span>", 
"<span class=\"comment\"> * recompute the current target value for the pm_qos_class.  Call this</span>", 
"<span class=\"comment\"> * on slow code paths.</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#pm_qos_remove_request\">pm_qos_remove_request</a>(struct <a class=\"id\" href=\"#pm_qos_request_list\">pm_qos_request_list</a> *<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pm_qos_object\">pm_qos_object</a> *<a class=\"id\" href=\"#o\">o</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* silent return to keep pcm code cleaner */</span>", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#pm_qos_request_active\">pm_qos_request_active</a>(<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#WARN\">WARN</a>(1, <a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"pm_qos_remove_request() called for unknown object\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#o\">o</a> = <a class=\"id\" href=\"#pm_qos_array\">pm_qos_array</a>[<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>-><a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#update_target\">update_target</a>(<a class=\"id\" href=\"#o\">o</a>, &amp;<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>-><a class=\"id\" href=\"#list\">list</a>, 1, <a class=\"id\" href=\"#PM_QOS_DEFAULT_VALUE\">PM_QOS_DEFAULT_VALUE</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>, 0, sizeof(*<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>));", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#pm_qos_remove_request\">pm_qos_remove_request</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pm_qos_add_notifier - sets notification entry for changes to target value</span>", 
"<span class=\"comment\"> * @pm_qos_class: identifies which qos target changes should be notified.</span>", 
"<span class=\"comment\"> * @notifier: notifier block managed by caller.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * will register the notifier into a notification chain that gets called</span>", 
"<span class=\"comment\"> * upon changes to the pm_qos_class target value.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#pm_qos_add_notifier\">pm_qos_add_notifier</a>(int <a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>, struct <a class=\"id\" href=\"#notifier_block\">notifier_block</a> *<a class=\"id\" href=\"#notifier\">notifier</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#blocking_notifier_chain_register\">blocking_notifier_chain_register</a>(", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pm_qos_array\">pm_qos_array</a>[<a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>]-><a class=\"id\" href=\"#notifiers\">notifiers</a>, <a class=\"id\" href=\"#notifier\">notifier</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#pm_qos_add_notifier\">pm_qos_add_notifier</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * pm_qos_remove_notifier - deletes notification entry from chain.</span>", 
"<span class=\"comment\"> * @pm_qos_class: identifies which qos target changes are notified.</span>", 
"<span class=\"comment\"> * @notifier: notifier block to be removed.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * will remove the notifier from the notification chain that gets called</span>", 
"<span class=\"comment\"> * upon changes to the pm_qos_class target value.</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#pm_qos_remove_notifier\">pm_qos_remove_notifier</a>(int <a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>, struct <a class=\"id\" href=\"#notifier_block\">notifier_block</a> *<a class=\"id\" href=\"#notifier\">notifier</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = <a class=\"id\" href=\"#blocking_notifier_chain_unregister\">blocking_notifier_chain_unregister</a>(", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pm_qos_array\">pm_qos_array</a>[<a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>]-><a class=\"id\" href=\"#notifiers\">notifiers</a>, <a class=\"id\" href=\"#notifier\">notifier</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#pm_qos_remove_notifier\">pm_qos_remove_notifier</a>);", 
"", 
"static int <a class=\"id\" href=\"#pm_qos_power_open\">pm_qos_power_open</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#filp\">filp</a>)", 
"{", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a> = <a class=\"id\" href=\"#find_pm_qos_object_by_minor\">find_pm_qos_object_by_minor</a>(<a class=\"id\" href=\"#iminor\">iminor</a>(<a class=\"id\" href=\"#inode\">inode</a>));", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a> >= 0) {", 
"               struct <a class=\"id\" href=\"#pm_qos_request_list\">pm_qos_request_list</a> *<a class=\"id\" href=\"#req\">req</a> = <a class=\"id\" href=\"#kzalloc\">kzalloc</a>(sizeof(*<a class=\"id\" href=\"#req\">req</a>), <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#req\">req</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pm_qos_add_request\">pm_qos_add_request</a>(<a class=\"id\" href=\"#req\">req</a>, <a class=\"id\" href=\"#pm_qos_class\">pm_qos_class</a>, <a class=\"id\" href=\"#PM_QOS_DEFAULT_VALUE\">PM_QOS_DEFAULT_VALUE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#private_data\">private_data</a> = <a class=\"id\" href=\"#req\">req</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#private_data\">private_data</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#pm_qos_power_release\">pm_qos_power_release</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#filp\">filp</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pm_qos_request_list\">pm_qos_request_list</a> *<a class=\"id\" href=\"#req\">req</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#req\">req</a> = <a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#private_data\">private_data</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pm_qos_remove_request\">pm_qos_remove_request</a>(<a class=\"id\" href=\"#req\">req</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#req\">req</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"", 
"static <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#pm_qos_power_write\">pm_qos_power_write</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#filp\">filp</a>, const char <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#buf\">buf</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#count\">count</a>, <a class=\"id\" href=\"#loff_t\">loff_t</a> *<a class=\"id\" href=\"#f_pos\">f_pos</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#s32\">s32</a> <a class=\"id\" href=\"#value\">value</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#x\">x</a>;", 
"<span class=\"ts\"/>char <a class=\"id\" href=\"#ascii_value\">ascii_value</a>[11];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pm_qos_request_list\">pm_qos_request_list</a> *<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#count\">count</a> == sizeof(<a class=\"id\" href=\"#s32\">s32</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#value\">value</a>, <a class=\"id\" href=\"#buf\">buf</a>, sizeof(<a class=\"id\" href=\"#s32\">s32</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#count\">count</a> == 11) { <span class=\"comment\">/* len('0x12345678/0') */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(<a class=\"id\" href=\"#ascii_value\">ascii_value</a>, <a class=\"id\" href=\"#buf\">buf</a>, 11))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#strlen\">strlen</a>(<a class=\"id\" href=\"#ascii_value\">ascii_value</a>) != 10)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x\">x</a> = <a class=\"id\" href=\"#sscanf\">sscanf</a>(<a class=\"id\" href=\"#ascii_value\">ascii_value</a>, \"%x\", &amp;<a class=\"id\" href=\"#value\">value</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#x\">x</a> != 1)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_debug\">pr_debug</a>(\"%s, %d, 0x%x\\n\", <a class=\"id\" href=\"#ascii_value\">ascii_value</a>, <a class=\"id\" href=\"#x\">x</a>, <a class=\"id\" href=\"#value\">value</a>);", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a> = (struct <a class=\"id\" href=\"#pm_qos_request_list\">pm_qos_request_list</a> *)<a class=\"id\" href=\"#filp\">filp</a>-><a class=\"id\" href=\"#private_data\">private_data</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pm_qos_update_request\">pm_qos_update_request</a>(<a class=\"id\" href=\"#pm_qos_req\">pm_qos_req</a>, <a class=\"id\" href=\"#value\">value</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#count\">count</a>;", 
"}", 
"", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#pm_qos_power_init\">pm_qos_power_init</a>(void)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#register_pm_qos_misc\">register_pm_qos_misc</a>(&amp;<a class=\"id\" href=\"#cpu_dma_pm_qos\">cpu_dma_pm_qos</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"pm_qos_param: cpu_dma_latency setup failed\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#register_pm_qos_misc\">register_pm_qos_misc</a>(&amp;<a class=\"id\" href=\"#network_lat_pm_qos\">network_lat_pm_qos</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"pm_qos_param: network_latency setup failed\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#register_pm_qos_misc\">register_pm_qos_misc</a>(&amp;<a class=\"id\" href=\"#network_throughput_pm_qos\">network_throughput_pm_qos</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"pm_qos_param: network_throughput setup failed\\n\");", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#late_initcall\">late_initcall</a>(<a class=\"id\" href=\"#pm_qos_power_init\">pm_qos_power_init</a>);", 
];
xr_frag_insert('l/e2/b254330a2ef9c8a442d31f5bcd9876a148d02a.xr', __xr_tmp);
