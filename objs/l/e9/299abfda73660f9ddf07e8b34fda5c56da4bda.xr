var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Function declerations and data structures related to the splice</span>", 
"<span class=\"comment\"> * implementation.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright (C) 2007 Jens Axboe &lt;jens.axboe@oracle.com&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#SPLICE_H\">SPLICE_H</a>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SPLICE_H\">SPLICE_H</a>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#pipe_fs_i\">pipe_fs_i</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Flags passed in from splice/tee/vmsplice</span>", 
"<span class=\"comment\"> */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SPLICE_F_MOVE\">SPLICE_F_MOVE</a><span class=\"ts\"/>(0x01)<span class=\"ts\"/><span class=\"comment\">/* move pages instead of copying */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SPLICE_F_NONBLOCK\">SPLICE_F_NONBLOCK</a> (0x02) <span class=\"comment\">/* don't block on the pipe splicing (but */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <span class=\"comment\">/* we may still block on the fd we splice */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <span class=\"comment\">/* from/to, of course */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SPLICE_F_MORE\">SPLICE_F_MORE</a><span class=\"ts\"/>(0x04)<span class=\"ts\"/><span class=\"comment\">/* expect more data */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SPLICE_F_GIFT\">SPLICE_F_GIFT</a><span class=\"ts\"/>(0x08)<span class=\"ts\"/><span class=\"comment\">/* pages passed in are a gift */</span>", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Passed to the actors</span>", 
"<span class=\"comment\"> */</span>", 
"struct <a class=\"id\" href=\"#splice_desc\">splice_desc</a> {", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#len\">len</a>, <a class=\"id\" href=\"#total_len\">total_len</a>;<span class=\"ts\"/><span class=\"comment\">/* current and remaining length */</span>", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#flags\">flags</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* splice flags */</span>", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * actor() private data</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>union {", 
"<span class=\"ts\"/><span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#userptr\">userptr</a>;<span class=\"ts\"/><span class=\"comment\">/* memory to write to */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>;<span class=\"ts\"/><span class=\"comment\">/* file to read/write */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>void *<a class=\"id\" href=\"#data\">data</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* cookie */</span>", 
"<span class=\"ts\"/>} <a class=\"id\" href=\"#u\">u</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#loff_t\">loff_t</a> <a class=\"id\" href=\"#pos\">pos</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* file position */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#num_spliced\">num_spliced</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* number of bytes already spliced */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#need_wakeup\">need_wakeup</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* need to wake up writer */</span>", 
"};", 
"", 
"struct <a class=\"id\" href=\"#partial_page\">partial_page</a> {", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#offset\">offset</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#private\">private</a>;", 
"};", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Passed to splice_to_pipe</span>", 
"<span class=\"comment\"> */</span>", 
"struct <a class=\"id\" href=\"#splice_pipe_desc\">splice_pipe_desc</a> {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#page\">page</a> **<a class=\"id\" href=\"#pages\">pages</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* page map */</span>", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#partial_page\">partial_page</a> *<a class=\"id\" href=\"#partial\">partial</a>;<span class=\"ts\"/><span class=\"comment\">/* pages[] may not be contig */</span>", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#nr_pages\">nr_pages</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* number of pages in map */</span>", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#flags\">flags</a>;<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* splice flags */</span>", 
"<span class=\"ts\"/>const struct <a class=\"id\" href=\"#pipe_buf_operations\">pipe_buf_operations</a> *<a class=\"id\" href=\"#ops\">ops</a>;<span class=\"comment\">/* ops associated with output pipe */</span>", 
"<span class=\"ts\"/>void (*<a class=\"id\" href=\"#spd_release\">spd_release</a>)(struct <a class=\"id\" href=\"#splice_pipe_desc\">splice_pipe_desc</a> *, unsigned int);", 
"};", 
"", 
"typedef int (<a class=\"id\" href=\"#splice_actor\">splice_actor</a>)(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *, struct <a class=\"id\" href=\"#pipe_buffer\">pipe_buffer</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#splice_desc\">splice_desc</a> *);", 
"typedef int (<a class=\"id\" href=\"#splice_direct_actor\">splice_direct_actor</a>)(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#splice_desc\">splice_desc</a> *);", 
"", 
"extern <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#splice_from_pipe\">splice_from_pipe</a>(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *, struct <a class=\"id\" href=\"#file\">file</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#loff_t\">loff_t</a> *, <a class=\"id\" href=\"#size_t\">size_t</a>, unsigned int,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#splice_actor\">splice_actor</a> *);", 
"extern <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#__splice_from_pipe\">__splice_from_pipe</a>(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#splice_desc\">splice_desc</a> *, <a class=\"id\" href=\"#splice_actor\">splice_actor</a> *);", 
"extern int <a class=\"id\" href=\"#splice_from_pipe_feed\">splice_from_pipe_feed</a>(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *, struct <a class=\"id\" href=\"#splice_desc\">splice_desc</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#splice_actor\">splice_actor</a> *);", 
"extern int <a class=\"id\" href=\"#splice_from_pipe_next\">splice_from_pipe_next</a>(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#splice_desc\">splice_desc</a> *);", 
"extern void <a class=\"id\" href=\"#splice_from_pipe_begin\">splice_from_pipe_begin</a>(struct <a class=\"id\" href=\"#splice_desc\">splice_desc</a> *);", 
"extern void <a class=\"id\" href=\"#splice_from_pipe_end\">splice_from_pipe_end</a>(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#splice_desc\">splice_desc</a> *);", 
"extern int <a class=\"id\" href=\"#pipe_to_file\">pipe_to_file</a>(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *, struct <a class=\"id\" href=\"#pipe_buffer\">pipe_buffer</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#splice_desc\">splice_desc</a> *);", 
"", 
"extern <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#splice_to_pipe\">splice_to_pipe</a>(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      struct <a class=\"id\" href=\"#splice_pipe_desc\">splice_pipe_desc</a> *);", 
"extern <a class=\"id\" href=\"#ssize_t\">ssize_t</a> <a class=\"id\" href=\"#splice_direct_to_actor\">splice_direct_to_actor</a>(struct <a class=\"id\" href=\"#file\">file</a> *, struct <a class=\"id\" href=\"#splice_desc\">splice_desc</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#splice_direct_actor\">splice_direct_actor</a> *);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * for dynamic pipe sizing</span>", 
"<span class=\"comment\"> */</span>", 
"extern int <a class=\"id\" href=\"#splice_grow_spd\">splice_grow_spd</a>(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *, struct <a class=\"id\" href=\"#splice_pipe_desc\">splice_pipe_desc</a> *);", 
"extern void <a class=\"id\" href=\"#splice_shrink_spd\">splice_shrink_spd</a>(struct <a class=\"id\" href=\"#pipe_inode_info\">pipe_inode_info</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#splice_pipe_desc\">splice_pipe_desc</a> *);", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
];
xr_frag_insert('l/e9/299abfda73660f9ddf07e8b34fda5c56da4bda.xr', __xr_tmp);
