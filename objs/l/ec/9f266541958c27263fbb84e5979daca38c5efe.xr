var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Implement 'Simple Boot Flag Specification 2.0'</span>", 
"<span class=\"comment\"> */</span>", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#string\">string</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#spinlock\">spinlock</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#acpi\">acpi</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#io\">io</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#mc146818rtc\">mc146818rtc</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SBF_RESERVED\">SBF_RESERVED</a> (0x78)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SBF_PNPOS\">SBF_PNPOS</a>    (1<<0)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SBF_BOOTING\">SBF_BOOTING</a>  (1<<1)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SBF_DIAG\">SBF_DIAG</a>     (1<<2)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#SBF_PARITY\">SBF_PARITY</a>   (1<<7)", 
"", 
"int <a class=\"id\" href=\"#sbf_port\">sbf_port</a> <a class=\"id\" href=\"#__initdata\">__initdata</a> = -1;<span class=\"ts\"/><span class=\"comment\">/* set via acpi_boot_init() */</span>", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#parity\">parity</a>(<a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#v\">v</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#x\">x</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 8; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#x\">x</a> ^= (<a class=\"id\" href=\"#v\">v</a> &amp; 1);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> >>= 1;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#x\">x</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#sbf_write\">sbf_write</a>(<a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#v\">v</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#flags\">flags</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sbf_port\">sbf_port</a> != -1) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> &= ~<a class=\"id\" href=\"#SBF_PARITY\">SBF_PARITY</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#parity\">parity</a>(<a class=\"id\" href=\"#v\">v</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> |= <a class=\"id\" href=\"#SBF_PARITY\">SBF_PARITY</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"Simple Boot Flag at 0x%x set to 0x%x\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#sbf_port\">sbf_port</a>, <a class=\"id\" href=\"#v\">v</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irqsave\">spin_lock_irqsave</a>(&amp;<a class=\"id\" href=\"#rtc_lock\">rtc_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#CMOS_WRITE\">CMOS_WRITE</a>(<a class=\"id\" href=\"#v\">v</a>, <a class=\"id\" href=\"#sbf_port\">sbf_port</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irqrestore\">spin_unlock_irqrestore</a>(&amp;<a class=\"id\" href=\"#rtc_lock\">rtc_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#sbf_read\">sbf_read</a>(void)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#flags\">flags</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#v\">v</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sbf_port\">sbf_port</a> == -1)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_irqsave\">spin_lock_irqsave</a>(&amp;<a class=\"id\" href=\"#rtc_lock\">rtc_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> = <a class=\"id\" href=\"#CMOS_READ\">CMOS_READ</a>(<a class=\"id\" href=\"#sbf_port\">sbf_port</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_irqrestore\">spin_unlock_irqrestore</a>(&amp;<a class=\"id\" href=\"#rtc_lock\">rtc_lock</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#v\">v</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#sbf_value_valid\">sbf_value_valid</a>(<a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#v\">v</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#v\">v</a> &amp; <a class=\"id\" href=\"#SBF_RESERVED\">SBF_RESERVED</a>)<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Reserved bits */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#parity\">parity</a>(<a class=\"id\" href=\"#v\">v</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#sbf_init\">sbf_init</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#v\">v</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#sbf_port\">sbf_port</a> == -1)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> = <a class=\"id\" href=\"#sbf_read\">sbf_read</a>();", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#sbf_value_valid\">sbf_value_valid</a>(<a class=\"id\" href=\"#v\">v</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> \"Simple Boot Flag value 0x%x read from \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"CMOS RAM was invalid\\n\", <a class=\"id\" href=\"#v\">v</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> &= ~<a class=\"id\" href=\"#SBF_RESERVED\">SBF_RESERVED</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> &= ~<a class=\"id\" href=\"#SBF_BOOTING\">SBF_BOOTING</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> &= ~<a class=\"id\" href=\"#SBF_DIAG\">SBF_DIAG</a>;", 
"#if <a class=\"id\" href=\"#defined\">defined</a>(<a class=\"id\" href=\"#CONFIG_ISAPNP\">CONFIG_ISAPNP</a>)", 
"<span class=\"ts\"/><a class=\"id\" href=\"#v\">v</a> |= <a class=\"id\" href=\"#SBF_PNPOS\">SBF_PNPOS</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#sbf_write\">sbf_write</a>(<a class=\"id\" href=\"#v\">v</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#sbf_init\">sbf_init</a>);", 
];
xr_frag_insert('l/ec/9f266541958c27263fbb84e5979daca38c5efe.xr', __xr_tmp);
