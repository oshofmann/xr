var __xr_tmp = [
"<span class=\"ts\"/><a class=\"id\" href=\"#mcfg_res\">mcfg_res</a>.<a class=\"id\" href=\"#start\">start</a> = <a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mcfg_res\">mcfg_res</a>.<a class=\"id\" href=\"#end\">end</a> = <a class=\"id\" href=\"#end\">end</a> - 1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mcfg_res\">mcfg_res</a>.<a class=\"id\" href=\"#flags\">flags</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#acpi_get_devices\">acpi_get_devices</a>(\"PNP0C01\", <a class=\"id\" href=\"#find_mboard_resource\">find_mboard_resource</a>, &amp;<a class=\"id\" href=\"#mcfg_res\">mcfg_res</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#mcfg_res\">mcfg_res</a>.<a class=\"id\" href=\"#flags\">flags</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_get_devices\">acpi_get_devices</a>(\"PNP0C02\", <a class=\"id\" href=\"#find_mboard_resource\">find_mboard_resource</a>, &amp;<a class=\"id\" href=\"#mcfg_res\">mcfg_res</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#mcfg_res\">mcfg_res</a>.<a class=\"id\" href=\"#flags\">flags</a>;", 
"}", 
"", 
"typedef int (*<a class=\"id\" href=\"#check_reserved_t\">check_reserved_t</a>)(<a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#start\">start</a>, <a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#end\">end</a>, unsigned <a class=\"id\" href=\"#type\">type</a>);", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#is_mmconf_reserved\">is_mmconf_reserved</a>(<a class=\"id\" href=\"#check_reserved_t\">check_reserved_t</a> <a class=\"id\" href=\"#is_reserved\">is_reserved</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#pci_mmcfg_region\">pci_mmcfg_region</a> *<a class=\"id\" href=\"#cfg\">cfg</a>, int <a class=\"id\" href=\"#with_e820\">with_e820</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#addr\">addr</a> = <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#res\">res</a>.<a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#resource_size\">resource_size</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#res\">res</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u64\">u64</a> <a class=\"id\" href=\"#old_size\">old_size</a> = <a class=\"id\" href=\"#size\">size</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#valid\">valid</a> = 0, <a class=\"id\" href=\"#num_buses\">num_buses</a>;", 
"", 
"<span class=\"ts\"/>while (!<a class=\"id\" href=\"#is_reserved\">is_reserved</a>(<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#addr\">addr</a> + <a class=\"id\" href=\"#size\">size</a>, <a class=\"id\" href=\"#E820_RESERVED\">E820_RESERVED</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#size\">size</a> >>= 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a> &lt; (16UL<<20))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#size\">size</a> >= (16UL<<20) || <a class=\"id\" href=\"#size\">size</a> == <a class=\"id\" href=\"#old_size\">old_size</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"MMCONFIG at %pR reserved in %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>       &amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#res\">res</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#with_e820\">with_e820</a> ? \"E820\" : \"ACPI motherboard resources\");", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#valid\">valid</a> = 1;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#old_size\">old_size</a> != <a class=\"id\" href=\"#size\">size</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* update end_bus */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#end_bus\">end_bus</a> = <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#start_bus\">start_bus</a> + ((<a class=\"id\" href=\"#size\">size</a>>>20) - 1);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#num_buses\">num_buses</a> = <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#end_bus\">end_bus</a> - <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#start_bus\">start_bus</a> + 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#res\">res</a>.<a class=\"id\" href=\"#end\">end</a> = <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#res\">res</a>.<a class=\"id\" href=\"#start\">start</a> +", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#PCI_MMCFG_BUS_OFFSET\">PCI_MMCFG_BUS_OFFSET</a>(<a class=\"id\" href=\"#num_buses\">num_buses</a>) - 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#snprintf\">snprintf</a>(<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#PCI_MMCFG_RESOURCE_NAME_LEN\">PCI_MMCFG_RESOURCE_NAME_LEN</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> \"PCI MMCONFIG %04x [bus %02x-%02x]\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#segment\">segment</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#start_bus\">start_bus</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#end_bus\">end_bus</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       \"MMCONFIG for %04x [bus%02x-%02x] \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       \"at %pR (base %#lx) (size reduced!)\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#segment\">segment</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#start_bus\">start_bus</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#end_bus\">end_bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       &amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#res\">res</a>, (unsigned long) <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#address\">address</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#valid\">valid</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#pci_mmcfg_reject_broken\">pci_mmcfg_reject_broken</a>(int <a class=\"id\" href=\"#early\">early</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_mmcfg_region\">pci_mmcfg_region</a> *<a class=\"id\" href=\"#cfg\">cfg</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_entry\">list_for_each_entry</a>(<a class=\"id\" href=\"#cfg\">cfg</a>, &amp;<a class=\"id\" href=\"#pci_mmcfg_list\">pci_mmcfg_list</a>, <a class=\"id\" href=\"#list\">list</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#valid\">valid</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#early\">early</a> && !<a class=\"id\" href=\"#acpi_disabled\">acpi_disabled</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#valid\">valid</a> = <a class=\"id\" href=\"#is_mmconf_reserved\">is_mmconf_reserved</a>(<a class=\"id\" href=\"#is_acpi_reserved\">is_acpi_reserved</a>, <a class=\"id\" href=\"#cfg\">cfg</a>, 0);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#valid\">valid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#FW_BUG\">FW_BUG</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       \"MMCONFIG at %pR not reserved in \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       \"ACPI motherboard resources\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       &amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#res\">res</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Don't try to do this check unless configuration</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/>   type 1 is available. how about type 2 ?*/</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#raw_pci_ops\">raw_pci_ops</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#valid\">valid</a> = <a class=\"id\" href=\"#is_mmconf_reserved\">is_mmconf_reserved</a>(<a class=\"id\" href=\"#e820_all_mapped\">e820_all_mapped</a>, <a class=\"id\" href=\"#cfg\">cfg</a>, 1);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#valid\">valid</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#reject\">reject</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return;", 
"", 
"<a class=\"id\" href=\"#reject\">reject</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"not using MMCONFIG\\n\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#free_all_mmcfg\">free_all_mmcfg</a>();", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__initdata\">__initdata</a> <a class=\"id\" href=\"#known_bridge\">known_bridge</a>;", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#acpi_mcfg_check_entry\">acpi_mcfg_check_entry</a>(struct <a class=\"id\" href=\"#acpi_table_mcfg\">acpi_table_mcfg</a> *<a class=\"id\" href=\"#mcfg\">mcfg</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_mcfg_allocation\">acpi_mcfg_allocation</a> *<a class=\"id\" href=\"#cfg\">cfg</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#year\">year</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#address\">address</a> &lt; 0xFFFFFFFF)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#strcmp\">strcmp</a>(<a class=\"id\" href=\"#mcfg\">mcfg</a>-><a class=\"id\" href=\"#header\">header</a>.<a class=\"id\" href=\"#oem_id\">oem_id</a>, \"SGI\"))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#mcfg\">mcfg</a>-><a class=\"id\" href=\"#header\">header</a>.<a class=\"id\" href=\"#revision\">revision</a> >= 1) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dmi_get_date\">dmi_get_date</a>(<a class=\"id\" href=\"#DMI_BIOS_DATE\">DMI_BIOS_DATE</a>, &amp;<a class=\"id\" href=\"#year\">year</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#NULL\">NULL</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#year\">year</a> >= 2010)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"MCFG region for %04x [bus %02x-%02x] at %#llx \"", 
"<span class=\"ts\"/>       \"is above 4GB, ignored\\n\", <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#pci_segment\">pci_segment</a>,", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#start_bus_number\">start_bus_number</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#end_bus_number\">end_bus_number</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#address\">address</a>);", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#pci_parse_mcfg\">pci_parse_mcfg</a>(struct <a class=\"id\" href=\"#acpi_table_header\">acpi_table_header</a> *<a class=\"id\" href=\"#header\">header</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_table_mcfg\">acpi_table_mcfg</a> *<a class=\"id\" href=\"#mcfg\">mcfg</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#acpi_mcfg_allocation\">acpi_mcfg_allocation</a> *<a class=\"id\" href=\"#cfg_table\">cfg_table</a>, *<a class=\"id\" href=\"#cfg\">cfg</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#entries\">entries</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#header\">header</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mcfg\">mcfg</a> = (struct <a class=\"id\" href=\"#acpi_table_mcfg\">acpi_table_mcfg</a> *)<a class=\"id\" href=\"#header\">header</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* how many config structures do we have */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#free_all_mmcfg\">free_all_mmcfg</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#entries\">entries</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#header\">header</a>-><a class=\"id\" href=\"#length\">length</a> - sizeof(struct <a class=\"id\" href=\"#acpi_table_mcfg\">acpi_table_mcfg</a>);", 
"<span class=\"ts\"/>while (<a class=\"id\" href=\"#i\">i</a> >= sizeof(struct <a class=\"id\" href=\"#acpi_mcfg_allocation\">acpi_mcfg_allocation</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#entries\">entries</a>++;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> -= sizeof(struct <a class=\"id\" href=\"#acpi_mcfg_allocation\">acpi_mcfg_allocation</a>);", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#entries\">entries</a> == 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a> \"MMCONFIG has no entries\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg_table\">cfg_table</a> = (struct <a class=\"id\" href=\"#acpi_mcfg_allocation\">acpi_mcfg_allocation</a> *) &amp;<a class=\"id\" href=\"#mcfg\">mcfg</a>[1];", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#entries\">entries</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a> = &amp;<a class=\"id\" href=\"#cfg_table\">cfg_table</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#acpi_mcfg_check_entry\">acpi_mcfg_check_entry</a>(<a class=\"id\" href=\"#mcfg\">mcfg</a>, <a class=\"id\" href=\"#cfg\">cfg</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#free_all_mmcfg\">free_all_mmcfg</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_mmconfig_add\">pci_mmconfig_add</a>(<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#pci_segment\">pci_segment</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#start_bus_number\">start_bus_number</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#end_bus_number\">end_bus_number</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#address\">address</a>) == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> <a class=\"id\" href=\"#PREFIX\">PREFIX</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       \"no memory for MCFG entries\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#free_all_mmcfg\">free_all_mmcfg</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#__pci_mmcfg_init\">__pci_mmcfg_init</a>(int <a class=\"id\" href=\"#early\">early</a>)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/* MMCONFIG disabled */</span>", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#pci_probe\">pci_probe</a> &amp; <a class=\"id\" href=\"#PCI_PROBE_MMCONF\">PCI_PROBE_MMCONF</a>) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* MMCONFIG already enabled */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#early\">early</a> && !(<a class=\"id\" href=\"#pci_probe\">pci_probe</a> &amp; <a class=\"id\" href=\"#PCI_PROBE_MASK\">PCI_PROBE_MASK</a> &amp; ~<a class=\"id\" href=\"#PCI_PROBE_MMCONF\">PCI_PROBE_MMCONF</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* for late to exit */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#known_bridge\">known_bridge</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#early\">early</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_mmcfg_check_hostbridge\">pci_mmcfg_check_hostbridge</a>())", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#known_bridge\">known_bridge</a> = 1;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#known_bridge\">known_bridge</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acpi_sfi_table_parse\">acpi_sfi_table_parse</a>(<a class=\"id\" href=\"#ACPI_SIG_MCFG\">ACPI_SIG_MCFG</a>, <a class=\"id\" href=\"#pci_parse_mcfg\">pci_parse_mcfg</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_mmcfg_reject_broken\">pci_mmcfg_reject_broken</a>(<a class=\"id\" href=\"#early\">early</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#pci_mmcfg_list\">pci_mmcfg_list</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_mmcfg_arch_init\">pci_mmcfg_arch_init</a>())", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_probe\">pci_probe</a> = (<a class=\"id\" href=\"#pci_probe\">pci_probe</a> &amp; ~<a class=\"id\" href=\"#PCI_PROBE_MASK\">PCI_PROBE_MASK</a>) | <a class=\"id\" href=\"#PCI_PROBE_MMCONF\">PCI_PROBE_MMCONF</a>;", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Signal not to attempt to insert mmcfg resources because</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * the architecture mmcfg setup could not initialize.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_mmcfg_resources_inserted\">pci_mmcfg_resources_inserted</a> = 1;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"void <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#pci_mmcfg_early_init\">pci_mmcfg_early_init</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__pci_mmcfg_init\">__pci_mmcfg_init</a>(1);", 
"}", 
"", 
"void <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#pci_mmcfg_late_init\">pci_mmcfg_late_init</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__pci_mmcfg_init\">__pci_mmcfg_init</a>(0);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#pci_mmcfg_late_insert_resources\">pci_mmcfg_late_insert_resources</a>(void)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * If resources are already inserted or we are not using MMCONFIG,</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * don't insert the resources.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#pci_mmcfg_resources_inserted\">pci_mmcfg_resources_inserted</a> == 1) ||", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#pci_probe\">pci_probe</a> &amp; <a class=\"id\" href=\"#PCI_PROBE_MMCONF\">PCI_PROBE_MMCONF</a>) == 0 ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#pci_mmcfg_list\">pci_mmcfg_list</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Attempt to insert the mmcfg resources but not with the busy flag</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * marked so it won't cause request errors when __request_region is</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * called.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_mmcfg_insert_resources\">pci_mmcfg_insert_resources</a>();", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Perform MMCONFIG resource insertion after PCI initialization to allow for</span>", 
"<span class=\"comment\"> * misprogrammed MCFG tables that state larger sizes but actually conflict</span>", 
"<span class=\"comment\"> * with other system resources.</span>", 
"<span class=\"comment\"> */</span>", 
"<a class=\"id\" href=\"#late_initcall\">late_initcall</a>(<a class=\"id\" href=\"#pci_mmcfg_late_insert_resources\">pci_mmcfg_late_insert_resources</a>);", 
];
xr_frag_insert('l/f1/9a1485d9945088166af005e19d718345d24fd6.xr', __xr_tmp);
