var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Linux INET6 implementation</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>FIB front-end.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Authors:</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Pedro Roque<span class=\"ts\"/><span class=\"ts\"/>&lt;roque@di.fc.ul.pt&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>This program is free software; you can redistribute it and/or</span>", 
"<span class=\"comment\"> *      modify it under the terms of the GNU General Public License</span>", 
"<span class=\"comment\"> *      as published by the Free Software Foundation; either version</span>", 
"<span class=\"comment\"> *      2 of the License, or (at your option) any later version.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"<span class=\"comment\">/*<span class=\"ts\"/>Changes:</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>YOSHIFUJI Hideaki @USAGI</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>reworked default router selection.</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>- respect outgoing interface</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>- select from (probably) reachable routers (i.e.</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>routers in REACHABLE, STALE, DELAY or PROBE states).</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>- always select the same router if it is (probably)</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>reachable.  otherwise, round-robin the list.</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Ville Nuorvala</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/><span class=\"ts\"/>Fixed routing subtrees.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#capability\">capability</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#errno\">errno</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#types\">types</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#times\">times</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#socket\">socket</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#sockios\">sockios</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#net\">net</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#route\">route</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#netdevice\">netdevice</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#in6\">in6</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#mroute6\">mroute6</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#init\">init</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#if_arp\">if_arp</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#proc_fs\">proc_fs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#seq_file\">seq_file</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#nsproxy\">nsproxy</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#net_namespace\">net_namespace</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#snmp\">snmp</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#ip6_fib\">ip6_fib</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#ip6_route\">ip6_route</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#ndisc\">ndisc</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#addrconf\">addrconf</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#tcp\">tcp</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#rtnetlink\">rtnetlink</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#xfrm\">xfrm</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#netevent\">netevent</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#net\">net</a>/<a class=\"id\" href=\"#netlink\">netlink</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#asm\">asm</a>/<a class=\"id\" href=\"#uaccess\">uaccess</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_SYSCTL\">CONFIG_SYSCTL</a>", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/* Set to 3 to get tracing. */</span>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#RT6_DEBUG\">RT6_DEBUG</a> 2", 
"", 
"#if <a class=\"id\" href=\"#RT6_DEBUG\">RT6_DEBUG</a> >= 3", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#RDBG\">RDBG</a>(<a class=\"id\" href=\"#x\">x</a>) <a class=\"id\" href=\"#printk\">printk</a> <a class=\"id\" href=\"#x\">x</a>", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#RT6_TRACE\">RT6_TRACE</a>(<a class=\"id\" href=\"#x\">x</a>...) <a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_DEBUG\">KERN_DEBUG</a> <a class=\"id\" href=\"#x\">x</a>)", 
"#else", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#RDBG\">RDBG</a>(<a class=\"id\" href=\"#x\">x</a>)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#RT6_TRACE\">RT6_TRACE</a>(<a class=\"id\" href=\"#x\">x</a>...) do { ; } while (0)", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#CLONE_OFFLINK_ROUTE\">CLONE_OFFLINK_ROUTE</a> 0", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> * <a class=\"id\" href=\"#ip6_rt_copy\">ip6_rt_copy</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ort\">ort</a>);", 
"static struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a><span class=\"ts\"/>*<a class=\"id\" href=\"#ip6_dst_check\">ip6_dst_check</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#cookie\">cookie</a>);", 
"static struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#ip6_negative_advice\">ip6_negative_advice</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *);", 
"static void<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_destroy\">ip6_dst_destroy</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *);", 
"static void<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_ifdown\">ip6_dst_ifdown</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>, int <a class=\"id\" href=\"#how\">how</a>);", 
"static int<span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#ip6_dst_gc\">ip6_dst_gc</a>(struct <a class=\"id\" href=\"#dst_ops\">dst_ops</a> *<a class=\"id\" href=\"#ops\">ops</a>);", 
"", 
"static int<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_pkt_discard\">ip6_pkt_discard</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>);", 
"static int<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_pkt_discard_out\">ip6_pkt_discard_out</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>);", 
"static void<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_link_failure\">ip6_link_failure</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>);", 
"static void<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_rt_update_pmtu\">ip6_rt_update_pmtu</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#mtu\">mtu</a>);", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_ROUTE_INFO\">CONFIG_IPV6_ROUTE_INFO</a>", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_add_route_info\">rt6_add_route_info</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#prefix\">prefix</a>, int <a class=\"id\" href=\"#prefixlen\">prefixlen</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#gwaddr\">gwaddr</a>, int <a class=\"id\" href=\"#ifindex\">ifindex</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   unsigned <a class=\"id\" href=\"#pref\">pref</a>);", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_get_route_info\">rt6_get_route_info</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#prefix\">prefix</a>, int <a class=\"id\" href=\"#prefixlen\">prefixlen</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#gwaddr\">gwaddr</a>, int <a class=\"id\" href=\"#ifindex\">ifindex</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static struct <a class=\"id\" href=\"#dst_ops\">dst_ops</a> <a class=\"id\" href=\"#ip6_dst_ops_template\">ip6_dst_ops_template</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#family\">family</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#AF_INET6\">AF_INET6</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#protocol\">protocol</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#cpu_to_be16\">cpu_to_be16</a>(<a class=\"id\" href=\"#ETH_P_IPV6\">ETH_P_IPV6</a>),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#gc\">gc</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_gc\">ip6_dst_gc</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#gc_thresh\">gc_thresh</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>1024,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#check\">check</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_check\">ip6_dst_check</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#destroy\">destroy</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_destroy\">ip6_dst_destroy</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#ifdown\">ifdown</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_ifdown\">ip6_dst_ifdown</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#negative_advice\">negative_advice</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ip6_negative_advice\">ip6_negative_advice</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#link_failure\">link_failure</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ip6_link_failure\">ip6_link_failure</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#update_pmtu\">update_pmtu</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ip6_rt_update_pmtu\">ip6_rt_update_pmtu</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#local_out\">local_out</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#__ip6_local_out\">__ip6_local_out</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#entries\">entries</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ATOMIC_INIT\">ATOMIC_INIT</a>(0),", 
"};", 
"", 
"static void <a class=\"id\" href=\"#ip6_rt_blackhole_update_pmtu\">ip6_rt_blackhole_update_pmtu</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#mtu\">mtu</a>)", 
"{", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#dst_ops\">dst_ops</a> <a class=\"id\" href=\"#ip6_dst_blackhole_ops\">ip6_dst_blackhole_ops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#family\">family</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#AF_INET6\">AF_INET6</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#protocol\">protocol</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#cpu_to_be16\">cpu_to_be16</a>(<a class=\"id\" href=\"#ETH_P_IPV6\">ETH_P_IPV6</a>),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#destroy\">destroy</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_destroy\">ip6_dst_destroy</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#check\">check</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_check\">ip6_dst_check</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#update_pmtu\">update_pmtu</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ip6_rt_blackhole_update_pmtu\">ip6_rt_blackhole_update_pmtu</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#entries\">entries</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ATOMIC_INIT\">ATOMIC_INIT</a>(0),", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> <a class=\"id\" href=\"#ip6_null_entry_template\">ip6_null_entry_template</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#dst\">dst</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#__refcnt\">__refcnt</a><span class=\"ts\"/>= <a class=\"id\" href=\"#ATOMIC_INIT\">ATOMIC_INIT</a>(1),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#__use\">__use</a><span class=\"ts\"/><span class=\"ts\"/>= 1,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#obsolete\">obsolete</a><span class=\"ts\"/>= -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#error\">error</a><span class=\"ts\"/><span class=\"ts\"/>= -<a class=\"id\" href=\"#ENETUNREACH\">ENETUNREACH</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#metrics\">metrics</a><span class=\"ts\"/>= { [<a class=\"id\" href=\"#RTAX_HOPLIMIT\">RTAX_HOPLIMIT</a> - 1] = 255, },", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#input\">input</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#ip6_pkt_discard\">ip6_pkt_discard</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#output\">output</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#ip6_pkt_discard_out\">ip6_pkt_discard_out</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a><span class=\"ts\"/>= (<a class=\"id\" href=\"#RTF_REJECT\">RTF_REJECT</a> | <a class=\"id\" href=\"#RTF_NONEXTHOP\">RTF_NONEXTHOP</a>),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_protocol\">rt6i_protocol</a>  = <a class=\"id\" href=\"#RTPROT_KERNEL\">RTPROT_KERNEL</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a><span class=\"ts\"/>= ~(<a class=\"id\" href=\"#u32\">u32</a>) 0,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_ref\">rt6i_ref</a><span class=\"ts\"/>= <a class=\"id\" href=\"#ATOMIC_INIT\">ATOMIC_INIT</a>(1),", 
"};", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_MULTIPLE_TABLES\">CONFIG_IPV6_MULTIPLE_TABLES</a>", 
"", 
"static int <a class=\"id\" href=\"#ip6_pkt_prohibit\">ip6_pkt_prohibit</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>);", 
"static int <a class=\"id\" href=\"#ip6_pkt_prohibit_out\">ip6_pkt_prohibit_out</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>);", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> <a class=\"id\" href=\"#ip6_prohibit_entry_template\">ip6_prohibit_entry_template</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#dst\">dst</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#__refcnt\">__refcnt</a><span class=\"ts\"/>= <a class=\"id\" href=\"#ATOMIC_INIT\">ATOMIC_INIT</a>(1),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#__use\">__use</a><span class=\"ts\"/><span class=\"ts\"/>= 1,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#obsolete\">obsolete</a><span class=\"ts\"/>= -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#error\">error</a><span class=\"ts\"/><span class=\"ts\"/>= -<a class=\"id\" href=\"#EACCES\">EACCES</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#metrics\">metrics</a><span class=\"ts\"/>= { [<a class=\"id\" href=\"#RTAX_HOPLIMIT\">RTAX_HOPLIMIT</a> - 1] = 255, },", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#input\">input</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#ip6_pkt_prohibit\">ip6_pkt_prohibit</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#output\">output</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#ip6_pkt_prohibit_out\">ip6_pkt_prohibit_out</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a><span class=\"ts\"/>= (<a class=\"id\" href=\"#RTF_REJECT\">RTF_REJECT</a> | <a class=\"id\" href=\"#RTF_NONEXTHOP\">RTF_NONEXTHOP</a>),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_protocol\">rt6i_protocol</a>  = <a class=\"id\" href=\"#RTPROT_KERNEL\">RTPROT_KERNEL</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a><span class=\"ts\"/>= ~(<a class=\"id\" href=\"#u32\">u32</a>) 0,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_ref\">rt6i_ref</a><span class=\"ts\"/>= <a class=\"id\" href=\"#ATOMIC_INIT\">ATOMIC_INIT</a>(1),", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> <a class=\"id\" href=\"#ip6_blk_hole_entry_template\">ip6_blk_hole_entry_template</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#dst\">dst</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#__refcnt\">__refcnt</a><span class=\"ts\"/>= <a class=\"id\" href=\"#ATOMIC_INIT\">ATOMIC_INIT</a>(1),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#__use\">__use</a><span class=\"ts\"/><span class=\"ts\"/>= 1,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#obsolete\">obsolete</a><span class=\"ts\"/>= -1,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#error\">error</a><span class=\"ts\"/><span class=\"ts\"/>= -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#metrics\">metrics</a><span class=\"ts\"/>= { [<a class=\"id\" href=\"#RTAX_HOPLIMIT\">RTAX_HOPLIMIT</a> - 1] = 255, },", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#input\">input</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#dst_discard\">dst_discard</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#output\">output</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#dst_discard\">dst_discard</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a><span class=\"ts\"/>= (<a class=\"id\" href=\"#RTF_REJECT\">RTF_REJECT</a> | <a class=\"id\" href=\"#RTF_NONEXTHOP\">RTF_NONEXTHOP</a>),", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_protocol\">rt6i_protocol</a>  = <a class=\"id\" href=\"#RTPROT_KERNEL\">RTPROT_KERNEL</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a><span class=\"ts\"/>= ~(<a class=\"id\" href=\"#u32\">u32</a>) 0,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#rt6i_ref\">rt6i_ref</a><span class=\"ts\"/>= <a class=\"id\" href=\"#ATOMIC_INIT\">ATOMIC_INIT</a>(1),", 
"};", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/* allocate dst with ip6_dst_ops */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ip6_dst_alloc\">ip6_dst_alloc</a>(struct <a class=\"id\" href=\"#dst_ops\">dst_ops</a> *<a class=\"id\" href=\"#ops\">ops</a>)", 
"{", 
"<span class=\"ts\"/>return (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *)<a class=\"id\" href=\"#dst_alloc\">dst_alloc</a>(<a class=\"id\" href=\"#ops\">ops</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#ip6_dst_destroy\">ip6_dst_destroy</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a> = (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *)<a class=\"id\" href=\"#dst\">dst</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inet6_dev\">inet6_dev</a> *<a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#idev\">idev</a> != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in6_dev_put\">in6_dev_put</a>(<a class=\"id\" href=\"#idev\">idev</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static void <a class=\"id\" href=\"#ip6_dst_ifdown\">ip6_dst_ifdown</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>, struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   int <a class=\"id\" href=\"#how\">how</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a> = (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *)<a class=\"id\" href=\"#dst\">dst</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inet6_dev\">inet6_dev</a> *<a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#loopback_dev\">loopback_dev</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>)-><a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a> != <a class=\"id\" href=\"#loopback_dev\">loopback_dev</a> && <a class=\"id\" href=\"#idev\">idev</a> != <a class=\"id\" href=\"#NULL\">NULL</a> && <a class=\"id\" href=\"#idev\">idev</a>-><a class=\"id\" href=\"#dev\">dev</a> == <a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#inet6_dev\">inet6_dev</a> *<a class=\"id\" href=\"#loopback_idev\">loopback_idev</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in6_dev_get\">in6_dev_get</a>(<a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#loopback_idev\">loopback_idev</a> != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#loopback_idev\">loopback_idev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in6_dev_put\">in6_dev_put</a>(<a class=\"id\" href=\"#idev\">idev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static <a class=\"id\" href=\"#__inline__\">__inline__</a> int <a class=\"id\" href=\"#rt6_check_expired\">rt6_check_expired</a>(const struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>)", 
"{", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#time_after\">time_after</a>(<a class=\"id\" href=\"#jiffies\">jiffies</a>, <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_expires\">rt6i_expires</a>));", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#rt6_need_strict\">rt6_need_strict</a>(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#daddr\">daddr</a>)", 
"{", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#ipv6_addr_type\">ipv6_addr_type</a>(<a class=\"id\" href=\"#daddr\">daddr</a>) &amp;", 
"<span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#IPV6_ADDR_MULTICAST\">IPV6_ADDR_MULTICAST</a> | <a class=\"id\" href=\"#IPV6_ADDR_LINKLOCAL\">IPV6_ADDR_LINKLOCAL</a> | <a class=\"id\" href=\"#IPV6_ADDR_LOOPBACK\">IPV6_ADDR_LOOPBACK</a>));", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Route lookup. Any table-&gt;tb6_lock is implied.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_device_match\">rt6_device_match</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#saddr\">saddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    int <a class=\"id\" href=\"#oif\">oif</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#local\">local</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#sprt\">sprt</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#oif\">oif</a> && <a class=\"id\" href=\"#ipv6_addr_any\">ipv6_addr_any</a>(<a class=\"id\" href=\"#saddr\">saddr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#sprt\">sprt</a> = <a class=\"id\" href=\"#rt\">rt</a>; <a class=\"id\" href=\"#sprt\">sprt</a>; <a class=\"id\" href=\"#sprt\">sprt</a> = <a class=\"id\" href=\"#sprt\">sprt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#rt6_next\">rt6_next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#sprt\">sprt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#oif\">oif</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a> == <a class=\"id\" href=\"#oif\">oif</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sprt\">sprt</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#IFF_LOOPBACK\">IFF_LOOPBACK</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#sprt\">sprt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> == <a class=\"id\" href=\"#NULL\">NULL</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#sprt\">sprt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>-><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a> != <a class=\"id\" href=\"#oif\">oif</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#RT6_LOOKUP_F_IFACE\">RT6_LOOKUP_F_IFACE</a> && <a class=\"id\" href=\"#oif\">oif</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#local\">local</a> && (!<a class=\"id\" href=\"#oif\">oif</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#local\">local</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>-><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a> == <a class=\"id\" href=\"#oif\">oif</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#local\">local</a> = <a class=\"id\" href=\"#sprt\">sprt</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ipv6_chk_addr\">ipv6_chk_addr</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#saddr\">saddr</a>, <a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#RT6_LOOKUP_F_IFACE\">RT6_LOOKUP_F_IFACE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#sprt\">sprt</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#oif\">oif</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#local\">local</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#local\">local</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#RT6_LOOKUP_F_IFACE\">RT6_LOOKUP_F_IFACE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>;", 
"<span class=\"ts\"/>}", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt\">rt</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_ROUTER_PREF\">CONFIG_IPV6_ROUTER_PREF</a>", 
"static void <a class=\"id\" href=\"#rt6_probe\">rt6_probe</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#neighbour\">neighbour</a> *<a class=\"id\" href=\"#neigh\">neigh</a> = <a class=\"id\" href=\"#rt\">rt</a> ? <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a> : <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Okay, this does not seem to be appropriate</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * for now, however, we need to check if it</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * is really so; aka Router Reachability Probing.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Router Reachability Probe MUST be rate-limited</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * to no more than one per minute.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#neigh\">neigh</a> || (<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#nud_state\">nud_state</a> &amp; <a class=\"id\" href=\"#NUD_VALID\">NUD_VALID</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_lock_bh\">read_lock_bh</a>(&amp;<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#nud_state\">nud_state</a> &amp; <a class=\"id\" href=\"#NUD_VALID\">NUD_VALID</a>) &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#time_after\">time_after</a>(<a class=\"id\" href=\"#jiffies\">jiffies</a>, <a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#updated\">updated</a> + <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>-><a class=\"id\" href=\"#cnf\">cnf</a>.<a class=\"id\" href=\"#rtr_probe_interval\">rtr_probe_interval</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> <a class=\"id\" href=\"#mcaddr\">mcaddr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#target\">target</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#updated\">updated</a> = <a class=\"id\" href=\"#jiffies\">jiffies</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#target\">target</a> = (struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *)&amp;<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#primary_key\">primary_key</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#addrconf_addr_solict_mult\">addrconf_addr_solict_mult</a>(<a class=\"id\" href=\"#target\">target</a>, &amp;<a class=\"id\" href=\"#mcaddr\">mcaddr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ndisc_send_ns\">ndisc_send_ns</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#target\">target</a>, &amp;<a class=\"id\" href=\"#mcaddr\">mcaddr</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"}", 
"#else", 
"static <a class=\"id\" href=\"#inline\">inline</a> void <a class=\"id\" href=\"#rt6_probe\">rt6_probe</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>)", 
"{", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Default Router Selection (RFC 2461 6.3.6)</span>", 
"<span class=\"comment\"> */</span>", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#rt6_check_dev\">rt6_check_dev</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, int <a class=\"id\" href=\"#oif\">oif</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#oif\">oif</a> || <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a> == <a class=\"id\" href=\"#oif\">oif</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 2;", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#IFF_LOOPBACK\">IFF_LOOPBACK</a>) &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> && <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>-><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a> == <a class=\"id\" href=\"#oif\">oif</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> int <a class=\"id\" href=\"#rt6_check_neigh\">rt6_check_neigh</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#neighbour\">neighbour</a> *<a class=\"id\" href=\"#neigh\">neigh</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#m\">m</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_NONEXTHOP\">RTF_NONEXTHOP</a> ||", 
"<span class=\"ts\"/>    !(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = 1;", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#neigh\">neigh</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#read_lock_bh\">read_lock_bh</a>(&amp;<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#nud_state\">nud_state</a> &amp; <a class=\"id\" href=\"#NUD_VALID\">NUD_VALID</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = 2;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_ROUTER_PREF\">CONFIG_IPV6_ROUTER_PREF</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>else if (<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#nud_state\">nud_state</a> &amp; <a class=\"id\" href=\"#NUD_FAILED\">NUD_FAILED</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = 0;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = 0;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#m\">m</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#rt6_score_route\">rt6_score_route</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, int <a class=\"id\" href=\"#oif\">oif</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   int <a class=\"id\" href=\"#strict\">strict</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#m\">m</a>, <a class=\"id\" href=\"#n\">n</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = <a class=\"id\" href=\"#rt6_check_dev\">rt6_check_dev</a>(<a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#oif\">oif</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#m\">m</a> && (<a class=\"id\" href=\"#strict\">strict</a> &amp; <a class=\"id\" href=\"#RT6_LOOKUP_F_IFACE\">RT6_LOOKUP_F_IFACE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -1;", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_ROUTER_PREF\">CONFIG_IPV6_ROUTER_PREF</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> |= <a class=\"id\" href=\"#IPV6_DECODE_PREF\">IPV6_DECODE_PREF</a>(<a class=\"id\" href=\"#IPV6_EXTRACT_PREF\">IPV6_EXTRACT_PREF</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a>)) << 2;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#n\">n</a> = <a class=\"id\" href=\"#rt6_check_neigh\">rt6_check_neigh</a>(<a class=\"id\" href=\"#rt\">rt</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#n\">n</a> && (<a class=\"id\" href=\"#strict\">strict</a> &amp; <a class=\"id\" href=\"#RT6_LOOKUP_F_REACHABLE\">RT6_LOOKUP_F_REACHABLE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -1;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#m\">m</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#find_match\">find_match</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, int <a class=\"id\" href=\"#oif\">oif</a>, int <a class=\"id\" href=\"#strict\">strict</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   int *<a class=\"id\" href=\"#mpri\">mpri</a>, struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#match\">match</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#m\">m</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt6_check_expired\">rt6_check_expired</a>(<a class=\"id\" href=\"#rt\">rt</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = <a class=\"id\" href=\"#rt6_score_route\">rt6_score_route</a>(<a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#oif\">oif</a>, <a class=\"id\" href=\"#strict\">strict</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#m\">m</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#m\">m</a> &gt; *<a class=\"id\" href=\"#mpri\">mpri</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#strict\">strict</a> &amp; <a class=\"id\" href=\"#RT6_LOOKUP_F_REACHABLE\">RT6_LOOKUP_F_REACHABLE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt6_probe\">rt6_probe</a>(<a class=\"id\" href=\"#match\">match</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#mpri\">mpri</a> = <a class=\"id\" href=\"#m\">m</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#match\">match</a> = <a class=\"id\" href=\"#rt\">rt</a>;", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#strict\">strict</a> &amp; <a class=\"id\" href=\"#RT6_LOOKUP_F_REACHABLE\">RT6_LOOKUP_F_REACHABLE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt6_probe\">rt6_probe</a>(<a class=\"id\" href=\"#rt\">rt</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#match\">match</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#find_rr_leaf\">find_rr_leaf</a>(struct <a class=\"id\" href=\"#fib6_node\">fib6_node</a> *<a class=\"id\" href=\"#fn\">fn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rr_head\">rr_head</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#metric\">metric</a>, int <a class=\"id\" href=\"#oif\">oif</a>, int <a class=\"id\" href=\"#strict\">strict</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, *<a class=\"id\" href=\"#match\">match</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#mpri\">mpri</a> = -1;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#match\">match</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rr_head\">rr_head</a>; <a class=\"id\" href=\"#rt\">rt</a> && <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a> == <a class=\"id\" href=\"#metric\">metric</a>;", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#rt6_next\">rt6_next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#match\">match</a> = <a class=\"id\" href=\"#find_match\">find_match</a>(<a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#oif\">oif</a>, <a class=\"id\" href=\"#strict\">strict</a>, &amp;<a class=\"id\" href=\"#mpri\">mpri</a>, <a class=\"id\" href=\"#match\">match</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#leaf\">leaf</a>; <a class=\"id\" href=\"#rt\">rt</a> && <a class=\"id\" href=\"#rt\">rt</a> != <a class=\"id\" href=\"#rr_head\">rr_head</a> && <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a> == <a class=\"id\" href=\"#metric\">metric</a>;", 
"<span class=\"ts\"/>     <a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#rt6_next\">rt6_next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#match\">match</a> = <a class=\"id\" href=\"#find_match\">find_match</a>(<a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#oif\">oif</a>, <a class=\"id\" href=\"#strict\">strict</a>, &amp;<a class=\"id\" href=\"#mpri\">mpri</a>, <a class=\"id\" href=\"#match\">match</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#match\">match</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_select\">rt6_select</a>(struct <a class=\"id\" href=\"#fib6_node\">fib6_node</a> *<a class=\"id\" href=\"#fn\">fn</a>, int <a class=\"id\" href=\"#oif\">oif</a>, int <a class=\"id\" href=\"#strict\">strict</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#match\">match</a>, *<a class=\"id\" href=\"#rt0\">rt0</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#RT6_TRACE\">RT6_TRACE</a>(\"%s(fn->leaf=%p, oif=%d)\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#__func__\">__func__</a>, <a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#leaf\">leaf</a>, <a class=\"id\" href=\"#oif\">oif</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt0\">rt0</a> = <a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#rr_ptr\">rr_ptr</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#rt0\">rt0</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#rr_ptr\">rr_ptr</a> = <a class=\"id\" href=\"#rt0\">rt0</a> = <a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#leaf\">leaf</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#match\">match</a> = <a class=\"id\" href=\"#find_rr_leaf\">find_rr_leaf</a>(<a class=\"id\" href=\"#fn\">fn</a>, <a class=\"id\" href=\"#rt0\">rt0</a>, <a class=\"id\" href=\"#rt0\">rt0</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a>, <a class=\"id\" href=\"#oif\">oif</a>, <a class=\"id\" href=\"#strict\">strict</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#match\">match</a> &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#strict\">strict</a> &amp; <a class=\"id\" href=\"#RT6_LOOKUP_F_REACHABLE\">RT6_LOOKUP_F_REACHABLE</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#rt0\">rt0</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#rt6_next\">rt6_next</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* no entries matched; do round-robin */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#next\">next</a> || <a class=\"id\" href=\"#next\">next</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a> != <a class=\"id\" href=\"#rt0\">rt0</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#leaf\">leaf</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#next\">next</a> != <a class=\"id\" href=\"#rt0\">rt0</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#rr_ptr\">rr_ptr</a> = <a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#RT6_TRACE\">RT6_TRACE</a>(\"%s() => %p\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#__func__\">__func__</a>, <a class=\"id\" href=\"#match\">match</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#rt0\">rt0</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>);", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#match\">match</a> ? <a class=\"id\" href=\"#match\">match</a> : <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>);", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_ROUTE_INFO\">CONFIG_IPV6_ROUTE_INFO</a>", 
"int <a class=\"id\" href=\"#rt6_route_rcv\">rt6_route_rcv</a>(struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#opt\">opt</a>, int <a class=\"id\" href=\"#len\">len</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#gwaddr\">gwaddr</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#route_info\">route_info</a> *<a class=\"id\" href=\"#rinfo\">rinfo</a> = (struct <a class=\"id\" href=\"#route_info\">route_info</a> *) <a class=\"id\" href=\"#opt\">opt</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> <a class=\"id\" href=\"#prefix_buf\">prefix_buf</a>, *<a class=\"id\" href=\"#prefix\">prefix</a>;", 
"<span class=\"ts\"/>unsigned int <a class=\"id\" href=\"#pref\">pref</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#lifetime\">lifetime</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#len\">len</a> &lt; sizeof(struct <a class=\"id\" href=\"#route_info\">route_info</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Sanity check for prefix_len and length */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#length\">length</a> &gt; 3) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#prefix_len\">prefix_len</a> &gt; 128) {", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#prefix_len\">prefix_len</a> &gt; 64) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#length\">length</a> &lt; 2) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#prefix_len\">prefix_len</a> &gt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#length\">length</a> &lt; 1) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pref\">pref</a> = <a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#route_pref\">route_pref</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pref\">pref</a> == <a class=\"id\" href=\"#ICMPV6_ROUTER_PREF_INVALID\">ICMPV6_ROUTER_PREF_INVALID</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#lifetime\">lifetime</a> = <a class=\"id\" href=\"#addrconf_timeout_fixup\">addrconf_timeout_fixup</a>(<a class=\"id\" href=\"#ntohl\">ntohl</a>(<a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#lifetime\">lifetime</a>), <a class=\"id\" href=\"#HZ\">HZ</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#length\">length</a> == 3)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#prefix\">prefix</a> = (struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *)<a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#prefix\">prefix</a>;", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* this function is safe */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_prefix\">ipv6_addr_prefix</a>(&amp;<a class=\"id\" href=\"#prefix_buf\">prefix_buf</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> (struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *)<a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#prefix\">prefix</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#prefix_len\">prefix_len</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#prefix\">prefix</a> = &amp;<a class=\"id\" href=\"#prefix_buf\">prefix_buf</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt6_get_route_info\">rt6_get_route_info</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#prefix\">prefix</a>, <a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#prefix_len\">prefix_len</a>, <a class=\"id\" href=\"#gwaddr\">gwaddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a> && !<a class=\"id\" href=\"#lifetime\">lifetime</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_del_rt\">ip6_del_rt</a>(<a class=\"id\" href=\"#rt\">rt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#rt\">rt</a> && <a class=\"id\" href=\"#lifetime\">lifetime</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt6_add_route_info\">rt6_add_route_info</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#prefix\">prefix</a>, <a class=\"id\" href=\"#rinfo\">rinfo</a>-><a class=\"id\" href=\"#prefix_len\">prefix_len</a>, <a class=\"id\" href=\"#gwaddr\">gwaddr</a>, <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pref\">pref</a>);", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#rt\">rt</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> = <a class=\"id\" href=\"#RTF_ROUTEINFO\">RTF_ROUTEINFO</a> |", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; ~<a class=\"id\" href=\"#RTF_PREF_MASK\">RTF_PREF_MASK</a>) | <a class=\"id\" href=\"#RTF_PREF\">RTF_PREF</a>(<a class=\"id\" href=\"#pref\">pref</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#addrconf_finite_timeout\">addrconf_finite_timeout</a>(<a class=\"id\" href=\"#lifetime\">lifetime</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &= ~<a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_expires\">rt6i_expires</a> = <a class=\"id\" href=\"#jiffies\">jiffies</a> + <a class=\"id\" href=\"#HZ\">HZ</a> * <a class=\"id\" href=\"#lifetime\">lifetime</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> |= <a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#BACKTRACK\">BACKTRACK</a>(<a class=\"id\" href=\"#__net\">__net</a>, <a class=\"id\" href=\"#saddr\">saddr</a>)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"do { \\", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a> == <a class=\"id\" href=\"#__net\">__net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>) {<span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_node\">fib6_node</a> *<a class=\"id\" href=\"#pn\">pn</a>; \\", 
"<span class=\"ts\"/><span class=\"ts\"/>while (1) { \\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#fn_flags\">fn_flags</a> &amp; <a class=\"id\" href=\"#RTN_TL_ROOT\">RTN_TL_ROOT</a>) \\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>; \\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pn\">pn</a> = <a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#parent\">parent</a>; \\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#FIB6_SUBTREE\">FIB6_SUBTREE</a>(<a class=\"id\" href=\"#pn\">pn</a>) && <a class=\"id\" href=\"#FIB6_SUBTREE\">FIB6_SUBTREE</a>(<a class=\"id\" href=\"#pn\">pn</a>) != <a class=\"id\" href=\"#fn\">fn</a>) \\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fn\">fn</a> = <a class=\"id\" href=\"#fib6_lookup\">fib6_lookup</a>(<a class=\"id\" href=\"#FIB6_SUBTREE\">FIB6_SUBTREE</a>(<a class=\"id\" href=\"#pn\">pn</a>), <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#saddr\">saddr</a>); \\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>else \\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fn\">fn</a> = <a class=\"id\" href=\"#pn\">pn</a>; \\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#fn_flags\">fn_flags</a> &amp; <a class=\"id\" href=\"#RTN_RTINFO\">RTN_RTINFO</a>) \\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#restart\">restart</a>; \\", 
"<span class=\"ts\"/><span class=\"ts\"/>} \\", 
"<span class=\"ts\"/>} \\", 
"} while(0)", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ip6_pol_route_lookup\">ip6_pol_route_lookup</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#flowi\">flowi</a> *<a class=\"id\" href=\"#fl\">fl</a>, int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_node\">fib6_node</a> *<a class=\"id\" href=\"#fn\">fn</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_lock_bh\">read_lock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fn\">fn</a> = <a class=\"id\" href=\"#fib6_lookup\">fib6_lookup</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_root\">tb6_root</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_dst\">fl6_dst</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_src\">fl6_src</a>);", 
"<a class=\"id\" href=\"#restart\">restart</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#leaf\">leaf</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt6_device_match\">rt6_device_match</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#rt\">rt</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_src\">fl6_src</a>, <a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#oif\">oif</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BACKTRACK\">BACKTRACK</a>(<a class=\"id\" href=\"#net\">net</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_src\">fl6_src</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_use\">dst_use</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#jiffies\">jiffies</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt\">rt</a>;", 
"", 
"}", 
"", 
"struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_lookup\">rt6_lookup</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, const struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#daddr\">daddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    const struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#saddr\">saddr</a>, int <a class=\"id\" href=\"#oif\">oif</a>, int <a class=\"id\" href=\"#strict\">strict</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#flowi\">flowi</a> <a class=\"id\" href=\"#fl\">fl</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#oif\">oif</a> = <a class=\"id\" href=\"#oif\">oif</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#nl_u\">nl_u</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#ip6_u\">ip6_u</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#daddr\">daddr</a> = *<a class=\"id\" href=\"#daddr\">daddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>},", 
"<span class=\"ts\"/><span class=\"ts\"/>},", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#strict\">strict</a> ? <a class=\"id\" href=\"#RT6_LOOKUP_F_IFACE\">RT6_LOOKUP_F_IFACE</a> : 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#saddr\">saddr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(&amp;<a class=\"id\" href=\"#fl\">fl</a>.<a class=\"id\" href=\"#fl6_src\">fl6_src</a>, <a class=\"id\" href=\"#saddr\">saddr</a>, sizeof(*<a class=\"id\" href=\"#saddr\">saddr</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#RT6_LOOKUP_F_HAS_SADDR\">RT6_LOOKUP_F_HAS_SADDR</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst\">dst</a> = <a class=\"id\" href=\"#fib6_rule_lookup\">fib6_rule_lookup</a>(<a class=\"id\" href=\"#net\">net</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>, <a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#ip6_pol_route_lookup\">ip6_pol_route_lookup</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#error\">error</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *) <a class=\"id\" href=\"#dst\">dst</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(<a class=\"id\" href=\"#dst\">dst</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#rt6_lookup\">rt6_lookup</a>);", 
"", 
"<span class=\"comment\">/* ip6_ins_rt is called with FREE table-&gt;tb6_lock.</span>", 
"<span class=\"comment\">   It takes new route entry, the addition fails by any reason the</span>", 
"<span class=\"comment\">   route is freed. In any case, if caller does not hold it, it may</span>", 
"<span class=\"comment\">   be destroyed.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static int <a class=\"id\" href=\"#__ip6_ins_rt\">__ip6_ins_rt</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, struct <a class=\"id\" href=\"#nl_info\">nl_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_table\">rt6i_table</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_lock_bh\">write_lock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#fib6_add\">fib6_add</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_root\">tb6_root</a>, <a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_unlock_bh\">write_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#ip6_ins_rt\">ip6_ins_rt</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nl_info\">nl_info</a> <a class=\"id\" href=\"#info\">info</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#nl_net\">nl_net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>),", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#__ip6_ins_rt\">__ip6_ins_rt</a>(<a class=\"id\" href=\"#rt\">rt</a>, &amp;<a class=\"id\" href=\"#info\">info</a>);", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_alloc_cow\">rt6_alloc_cow</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ort\">ort</a>, struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#daddr\">daddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#saddr\">saddr</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *<span class=\"ts\"/>Clone the route.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#ip6_rt_copy\">ip6_rt_copy</a>(<a class=\"id\" href=\"#ort\">ort</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#neighbour\">neighbour</a> *<a class=\"id\" href=\"#neigh\">neigh</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#attempts\">attempts</a> = !<a class=\"id\" href=\"#in_softirq\">in_softirq</a>();", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a>&amp;<a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a> != 128 &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#ipv6_addr_equal\">ipv6_addr_equal</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#daddr\">daddr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> |= <a class=\"id\" href=\"#RTF_ANYCAST\">RTF_ANYCAST</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>, <a class=\"id\" href=\"#daddr\">daddr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#daddr\">daddr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a> = 128;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> |= <a class=\"id\" href=\"#RTF_CACHE\">RTF_CACHE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#DST_HOST\">DST_HOST</a>;", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_SUBTREES\">CONFIG_IPV6_SUBTREES</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>.<a class=\"id\" href=\"#plen\">plen</a> && <a class=\"id\" href=\"#saddr\">saddr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>.<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#saddr\">saddr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>.<a class=\"id\" href=\"#plen\">plen</a> = 128;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#retry\">retry</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#neigh\">neigh</a> = <a class=\"id\" href=\"#ndisc_get_neigh\">ndisc_get_neigh</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>, &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#neigh\">neigh</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#saved_rt_min_interval\">saved_rt_min_interval</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_min_interval\">ip6_rt_gc_min_interval</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#saved_rt_elasticity\">saved_rt_elasticity</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_elasticity\">ip6_rt_gc_elasticity</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#attempts\">attempts</a>-- &gt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_elasticity\">ip6_rt_gc_elasticity</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_min_interval\">ip6_rt_gc_min_interval</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_gc\">ip6_dst_gc</a>(&amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_elasticity\">ip6_rt_gc_elasticity</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#saved_rt_elasticity\">saved_rt_elasticity</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_min_interval\">ip6_rt_gc_min_interval</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#saved_rt_min_interval\">saved_rt_min_interval</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#retry\">retry</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#net_ratelimit\">net_ratelimit</a>())", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       \"ipv6: Neighbour table overflow.\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_free\">dst_free</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a> = <a class=\"id\" href=\"#neigh\">neigh</a>;", 
"", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt\">rt</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_alloc_clone\">rt6_alloc_clone</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ort\">ort</a>, struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#daddr\">daddr</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#ip6_rt_copy\">ip6_rt_copy</a>(<a class=\"id\" href=\"#ort\">ort</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#daddr\">daddr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a> = 128;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> |= <a class=\"id\" href=\"#RTF_CACHE\">RTF_CACHE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#DST_HOST\">DST_HOST</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a> = <a class=\"id\" href=\"#neigh_clone\">neigh_clone</a>(<a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt\">rt</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ip6_pol_route\">ip6_pol_route</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>, int <a class=\"id\" href=\"#oif\">oif</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      struct <a class=\"id\" href=\"#flowi\">flowi</a> *<a class=\"id\" href=\"#fl\">fl</a>, int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_node\">fib6_node</a> *<a class=\"id\" href=\"#fn\">fn</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, *<a class=\"id\" href=\"#nrt\">nrt</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#strict\">strict</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#attempts\">attempts</a> = 3;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#reachable\">reachable</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#devconf_all\">devconf_all</a>-><a class=\"id\" href=\"#forwarding\">forwarding</a> ? 0 : <a class=\"id\" href=\"#RT6_LOOKUP_F_REACHABLE\">RT6_LOOKUP_F_REACHABLE</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#strict\">strict</a> |= <a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#RT6_LOOKUP_F_IFACE\">RT6_LOOKUP_F_IFACE</a>;", 
"", 
"<a class=\"id\" href=\"#relookup\">relookup</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_lock_bh\">read_lock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"", 
"<a class=\"id\" href=\"#restart_2\">restart_2</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fn\">fn</a> = <a class=\"id\" href=\"#fib6_lookup\">fib6_lookup</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_root\">tb6_root</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_dst\">fl6_dst</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_src\">fl6_src</a>);", 
"", 
"<a class=\"id\" href=\"#restart\">restart</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt6_select\">rt6_select</a>(<a class=\"id\" href=\"#fn\">fn</a>, <a class=\"id\" href=\"#oif\">oif</a>, <a class=\"id\" href=\"#strict\">strict</a> | <a class=\"id\" href=\"#reachable\">reachable</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BACKTRACK\">BACKTRACK</a>(<a class=\"id\" href=\"#net\">net</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_src\">fl6_src</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a> == <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a> ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_CACHE\">RTF_CACHE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_hold\">dst_hold</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a> && !(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_NONEXTHOP\">RTF_NONEXTHOP</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a> = <a class=\"id\" href=\"#rt6_alloc_cow\">rt6_alloc_cow</a>(<a class=\"id\" href=\"#rt\">rt</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_dst\">fl6_dst</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_src\">fl6_src</a>);", 
"<span class=\"ts\"/>else {", 
"#if <a class=\"id\" href=\"#CLONE_OFFLINK_ROUTE\">CLONE_OFFLINK_ROUTE</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a> = <a class=\"id\" href=\"#rt6_alloc_clone\">rt6_alloc_clone</a>(<a class=\"id\" href=\"#rt\">rt</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_dst\">fl6_dst</a>);", 
"#else", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out2\">out2</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#nrt\">nrt</a> ? : <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_hold\">dst_hold</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nrt\">nrt</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ip6_ins_rt\">ip6_ins_rt</a>(<a class=\"id\" href=\"#nrt\">nrt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out2\">out2</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (--<a class=\"id\" href=\"#attempts\">attempts</a> <= 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out2\">out2</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Race condition! In the gap, when table-&gt;tb6_lock was</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * released someone could insert this route.  Relookup.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#relookup\">relookup</a>;", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#reachable\">reachable</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#reachable\">reachable</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#restart_2\">restart_2</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_hold\">dst_hold</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<a class=\"id\" href=\"#out2\">out2</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#lastuse\">lastuse</a> = <a class=\"id\" href=\"#jiffies\">jiffies</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#__use\">__use</a>++;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt\">rt</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ip6_pol_route_input\">ip6_pol_route_input</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#flowi\">flowi</a> *<a class=\"id\" href=\"#fl\">fl</a>, int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ip6_pol_route\">ip6_pol_route</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#table\">table</a>, <a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#iif\">iif</a>, <a class=\"id\" href=\"#fl\">fl</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"}", 
"", 
"void <a class=\"id\" href=\"#ip6_route_input\">ip6_route_input</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ipv6hdr\">ipv6hdr</a> *<a class=\"id\" href=\"#iph\">iph</a> = <a class=\"id\" href=\"#ipv6_hdr\">ipv6_hdr</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#RT6_LOOKUP_F_HAS_SADDR\">RT6_LOOKUP_F_HAS_SADDR</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#flowi\">flowi</a> <a class=\"id\" href=\"#fl\">fl</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#iif\">iif</a> = <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#nl_u\">nl_u</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#ip6_u\">ip6_u</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#daddr\">daddr</a> = <a class=\"id\" href=\"#iph\">iph</a>-><a class=\"id\" href=\"#daddr\">daddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#saddr\">saddr</a> = <a class=\"id\" href=\"#iph\">iph</a>-><a class=\"id\" href=\"#saddr\">saddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#flowlabel\">flowlabel</a> = (* (<a class=\"id\" href=\"#__be32\">__be32</a> *) <a class=\"id\" href=\"#iph\">iph</a>)&amp;<a class=\"id\" href=\"#IPV6_FLOWINFO_MASK\">IPV6_FLOWINFO_MASK</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>},", 
"<span class=\"ts\"/><span class=\"ts\"/>},", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mark\">mark</a> = <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#mark\">mark</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proto\">proto</a> = <a class=\"id\" href=\"#iph\">iph</a>-><a class=\"id\" href=\"#nexthdr\">nexthdr</a>,", 
"<span class=\"ts\"/>};", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt6_need_strict\">rt6_need_strict</a>(&amp;<a class=\"id\" href=\"#iph\">iph</a>-><a class=\"id\" href=\"#daddr\">daddr</a>) && <a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#type\">type</a> != <a class=\"id\" href=\"#ARPHRD_PIMREG\">ARPHRD_PIMREG</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#RT6_LOOKUP_F_IFACE\">RT6_LOOKUP_F_IFACE</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb_dst_set\">skb_dst_set</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#fib6_rule_lookup\">fib6_rule_lookup</a>(<a class=\"id\" href=\"#net\">net</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>, <a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#ip6_pol_route_input\">ip6_pol_route_input</a>));", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ip6_pol_route_output\">ip6_pol_route_output</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#flowi\">flowi</a> *<a class=\"id\" href=\"#fl\">fl</a>, int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ip6_pol_route\">ip6_pol_route</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#table\">table</a>, <a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#oif\">oif</a>, <a class=\"id\" href=\"#fl\">fl</a>, <a class=\"id\" href=\"#flags\">flags</a>);", 
"}", 
"", 
"struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> * <a class=\"id\" href=\"#ip6_route_output\">ip6_route_output</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#sock\">sock</a> *<a class=\"id\" href=\"#sk\">sk</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#flowi\">flowi</a> *<a class=\"id\" href=\"#fl\">fl</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#flags\">flags</a> = 0;", 
"", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#sk\">sk</a> && <a class=\"id\" href=\"#sk\">sk</a>-><a class=\"id\" href=\"#sk_bound_dev_if\">sk_bound_dev_if</a>) || <a class=\"id\" href=\"#rt6_need_strict\">rt6_need_strict</a>(&amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_dst\">fl6_dst</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#RT6_LOOKUP_F_IFACE\">RT6_LOOKUP_F_IFACE</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#ipv6_addr_any\">ipv6_addr_any</a>(&amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_src\">fl6_src</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#RT6_LOOKUP_F_HAS_SADDR\">RT6_LOOKUP_F_HAS_SADDR</a>;", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#sk\">sk</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#rt6_srcprefs2flags\">rt6_srcprefs2flags</a>(<a class=\"id\" href=\"#inet6_sk\">inet6_sk</a>(<a class=\"id\" href=\"#sk\">sk</a>)-><a class=\"id\" href=\"#srcprefs\">srcprefs</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#fib6_rule_lookup\">fib6_rule_lookup</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#fl\">fl</a>, <a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#ip6_pol_route_output\">ip6_pol_route_output</a>);", 
"}", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#ip6_route_output\">ip6_route_output</a>);", 
"", 
"int <a class=\"id\" href=\"#ip6_dst_blackhole\">ip6_dst_blackhole</a>(struct <a class=\"id\" href=\"#sock\">sock</a> *<a class=\"id\" href=\"#sk\">sk</a>, struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> **<a class=\"id\" href=\"#dstp\">dstp</a>, struct <a class=\"id\" href=\"#flowi\">flowi</a> *<a class=\"id\" href=\"#fl\">fl</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ort\">ort</a> = (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *) *<a class=\"id\" href=\"#dstp\">dstp</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a> = (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_alloc\">dst_alloc</a>(&amp;<a class=\"id\" href=\"#ip6_dst_blackhole_ops\">ip6_dst_blackhole_ops</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#new\">new</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a> = &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#atomic_set\">atomic_set</a>(&amp;<a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#__refcnt\">__refcnt</a>, 1);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#__use\">__use</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#input\">input</a> = <a class=\"id\" href=\"#dst_discard\">dst_discard</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#output\">output</a> = <a class=\"id\" href=\"#dst_discard\">dst_discard</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#metrics\">metrics</a>, <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>, <a class=\"id\" href=\"#RTAX_MAX\">RTAX_MAX</a>*sizeof(<a class=\"id\" href=\"#u32\">u32</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_hold\">dev_hold</a>(<a class=\"id\" href=\"#new\">new</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in6_dev_hold\">in6_dev_hold</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_expires\">rt6i_expires</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>, &amp;<a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> = <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; ~<a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>, &amp;<a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>, sizeof(struct <a class=\"id\" href=\"#rt6key\">rt6key</a>));", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_SUBTREES\">CONFIG_IPV6_SUBTREES</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>, &amp;<a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>, sizeof(struct <a class=\"id\" href=\"#rt6key\">rt6key</a>));", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_free\">dst_free</a>(<a class=\"id\" href=\"#new\">new</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(*<a class=\"id\" href=\"#dstp\">dstp</a>);", 
"<span class=\"ts\"/>*<a class=\"id\" href=\"#dstp\">dstp</a> = <a class=\"id\" href=\"#new\">new</a>;", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#new\">new</a> ? 0 : -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>);", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL_GPL\">EXPORT_SYMBOL_GPL</a>(<a class=\"id\" href=\"#ip6_dst_blackhole\">ip6_dst_blackhole</a>);", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Destination cache support functions</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#ip6_dst_check\">ip6_dst_check</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#cookie\">cookie</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *) <a class=\"id\" href=\"#dst\">dst</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_node\">rt6i_node</a> && (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_node\">rt6i_node</a>-><a class=\"id\" href=\"#fn_sernum\">fn_sernum</a> == <a class=\"id\" href=\"#cookie\">cookie</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#dst\">dst</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#ip6_negative_advice\">ip6_negative_advice</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a> = (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *) <a class=\"id\" href=\"#dst\">dst</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_CACHE\">RTF_CACHE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt6_check_expired\">rt6_check_expired</a>(<a class=\"id\" href=\"#rt\">rt</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_del_rt\">ip6_del_rt</a>(<a class=\"id\" href=\"#rt\">rt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst\">dst</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(<a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst\">dst</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#dst\">dst</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#ip6_link_failure\">ip6_link_failure</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#icmpv6_send\">icmpv6_send</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#ICMPV6_DEST_UNREACH\">ICMPV6_DEST_UNREACH</a>, <a class=\"id\" href=\"#ICMPV6_ADDR_UNREACH\">ICMPV6_ADDR_UNREACH</a>, 0);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *) <a class=\"id\" href=\"#skb_dst\">skb_dst</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a>&amp;<a class=\"id\" href=\"#RTF_CACHE\">RTF_CACHE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_set_expires\">dst_set_expires</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>, 0);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> |= <a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>} else if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_node\">rt6i_node</a> && (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_DEFAULT\">RTF_DEFAULT</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_node\">rt6i_node</a>-><a class=\"id\" href=\"#fn_sernum\">fn_sernum</a> = -1;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static void <a class=\"id\" href=\"#ip6_rt_update_pmtu\">ip6_rt_update_pmtu</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#mtu\">mtu</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6\">rt6</a> = (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a>*)<a class=\"id\" href=\"#dst\">dst</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#mtu\">mtu</a> &lt; <a class=\"id\" href=\"#dst_mtu\">dst_mtu</a>(<a class=\"id\" href=\"#dst\">dst</a>) && <a class=\"id\" href=\"#rt6\">rt6</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a> == 128) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt6\">rt6</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> |= <a class=\"id\" href=\"#RTF_MODIFIED\">RTF_MODIFIED</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#mtu\">mtu</a> &lt; <a class=\"id\" href=\"#IPV6_MIN_MTU\">IPV6_MIN_MTU</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mtu\">mtu</a> = <a class=\"id\" href=\"#IPV6_MIN_MTU\">IPV6_MIN_MTU</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_FEATURES\">RTAX_FEATURES</a>-1] |= <a class=\"id\" href=\"#RTAX_FEATURE_ALLFRAG\">RTAX_FEATURE_ALLFRAG</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_MTU\">RTAX_MTU</a>-1] = <a class=\"id\" href=\"#mtu\">mtu</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#call_netevent_notifiers\">call_netevent_notifiers</a>(<a class=\"id\" href=\"#NETEVENT_PMTU_UPDATE\">NETEVENT_PMTU_UPDATE</a>, <a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ipv6_get_mtu\">ipv6_get_mtu</a>(struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> unsigned int <a class=\"id\" href=\"#ipv6_advmss\">ipv6_advmss</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, unsigned int <a class=\"id\" href=\"#mtu\">mtu</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mtu\">mtu</a> -= sizeof(struct <a class=\"id\" href=\"#ipv6hdr\">ipv6hdr</a>) + sizeof(struct <a class=\"id\" href=\"#tcphdr\">tcphdr</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#mtu\">mtu</a> &lt; <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_min_advmss\">ip6_rt_min_advmss</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mtu\">mtu</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_min_advmss\">ip6_rt_min_advmss</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Maximal non-jumbo IPv6 payload is IPV6_MAXPLEN and</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * corresponding MSS is IPV6_MAXPLEN - tcp_header_size.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * IPV6_MAXPLEN is also valid and means: \"any MSS,</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * rely only on pmtu discovery\"</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#mtu\">mtu</a> &gt; <a class=\"id\" href=\"#IPV6_MAXPLEN\">IPV6_MAXPLEN</a> - sizeof(struct <a class=\"id\" href=\"#tcphdr\">tcphdr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mtu\">mtu</a> = <a class=\"id\" href=\"#IPV6_MAXPLEN\">IPV6_MAXPLEN</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#mtu\">mtu</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#icmp6_dst_gc_list\">icmp6_dst_gc_list</a>;", 
"static <a class=\"id\" href=\"#DEFINE_SPINLOCK\">DEFINE_SPINLOCK</a>(<a class=\"id\" href=\"#icmp6_dst_lock\">icmp6_dst_lock</a>);", 
"", 
"struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#icmp6_dst_alloc\">icmp6_dst_alloc</a>(struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#neighbour\">neighbour</a> *<a class=\"id\" href=\"#neigh\">neigh</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  const struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#addr\">addr</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inet6_dev\">inet6_dev</a> *<a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#in6_dev_get\">in6_dev_get</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#idev\">idev</a> == <a class=\"id\" href=\"#NULL\">NULL</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#ip6_dst_alloc\">ip6_dst_alloc</a>(&amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#unlikely\">unlikely</a>(<a class=\"id\" href=\"#rt\">rt</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in6_dev_put\">in6_dev_put</a>(<a class=\"id\" href=\"#idev\">idev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_hold\">dev_hold</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#neigh\">neigh</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#neigh_hold\">neigh_hold</a>(<a class=\"id\" href=\"#neigh\">neigh</a>);", 
"<span class=\"ts\"/>else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#neigh\">neigh</a> = <a class=\"id\" href=\"#ndisc_get_neigh\">ndisc_get_neigh</a>(<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#addr\">addr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#neigh\">neigh</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#neigh\">neigh</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a><span class=\"ts\"/>  = <a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>     = <a class=\"id\" href=\"#idev\">idev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a>  = <a class=\"id\" href=\"#neigh\">neigh</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#atomic_set\">atomic_set</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#__refcnt\">__refcnt</a>, 1);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_HOPLIMIT\">RTAX_HOPLIMIT</a>-1] = 255;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_MTU\">RTAX_MTU</a>-1] = <a class=\"id\" href=\"#ipv6_get_mtu\">ipv6_get_mtu</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_ADVMSS\">RTAX_ADVMSS</a>-1] = <a class=\"id\" href=\"#ipv6_advmss\">ipv6_advmss</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#dst_mtu\">dst_mtu</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#output\">output</a>  = <a class=\"id\" href=\"#ip6_output\">ip6_output</a>;", 
"", 
"#if 0<span class=\"ts\"/><span class=\"comment\">/* there's no chance to use these for ndisc */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#flags\">flags</a>   = <a class=\"id\" href=\"#ipv6_addr_type\">ipv6_addr_type</a>(<a class=\"id\" href=\"#addr\">addr</a>) &amp; <a class=\"id\" href=\"#IPV6_ADDR_UNICAST\">IPV6_ADDR_UNICAST</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>? <a class=\"id\" href=\"#DST_HOST\">DST_HOST</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>: 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#addr\">addr</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a> = 128;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(&amp;<a class=\"id\" href=\"#icmp6_dst_lock\">icmp6_dst_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#icmp6_dst_gc_list\">icmp6_dst_gc_list</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#icmp6_dst_gc_list\">icmp6_dst_gc_list</a> = &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(&amp;<a class=\"id\" href=\"#icmp6_dst_lock\">icmp6_dst_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fib6_force_start_gc\">fib6_force_start_gc</a>(<a class=\"id\" href=\"#net\">net</a>);", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#icmp6_dst_gc\">icmp6_dst_gc</a>(void)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>, *<a class=\"id\" href=\"#next\">next</a>, **<a class=\"id\" href=\"#pprev\">pprev</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#more\">more</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#next\">next</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(&amp;<a class=\"id\" href=\"#icmp6_dst_lock\">icmp6_dst_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pprev\">pprev</a> = &amp;<a class=\"id\" href=\"#icmp6_dst_gc_list\">icmp6_dst_gc_list</a>;", 
"", 
"<span class=\"ts\"/>while ((<a class=\"id\" href=\"#dst\">dst</a> = *<a class=\"id\" href=\"#pprev\">pprev</a>) != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#atomic_read\">atomic_read</a>(&amp;<a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#__refcnt\">__refcnt</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#pprev\">pprev</a> = <a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_free\">dst_free</a>(<a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pprev\">pprev</a> = &amp;<a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>++<a class=\"id\" href=\"#more\">more</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(&amp;<a class=\"id\" href=\"#icmp6_dst_lock\">icmp6_dst_lock</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#more\">more</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#icmp6_clean_all\">icmp6_clean_all</a>(int (*<a class=\"id\" href=\"#func\">func</a>)(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, void *<a class=\"id\" href=\"#arg\">arg</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    void *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>, **<a class=\"id\" href=\"#pprev\">pprev</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_lock_bh\">spin_lock_bh</a>(&amp;<a class=\"id\" href=\"#icmp6_dst_lock\">icmp6_dst_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pprev\">pprev</a> = &amp;<a class=\"id\" href=\"#icmp6_dst_gc_list\">icmp6_dst_gc_list</a>;", 
"<span class=\"ts\"/>while ((<a class=\"id\" href=\"#dst\">dst</a> = *<a class=\"id\" href=\"#pprev\">pprev</a>) != <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a> = (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *) <a class=\"id\" href=\"#dst\">dst</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#func\">func</a>(<a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#arg\">arg</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#pprev\">pprev</a> = <a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_free\">dst_free</a>(<a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pprev\">pprev</a> = &amp;<a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#next\">next</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#spin_unlock_bh\">spin_unlock_bh</a>(&amp;<a class=\"id\" href=\"#icmp6_dst_lock\">icmp6_dst_lock</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ip6_dst_gc\">ip6_dst_gc</a>(struct <a class=\"id\" href=\"#dst_ops\">dst_ops</a> *<a class=\"id\" href=\"#ops\">ops</a>)", 
"{", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#now\">now</a> = <a class=\"id\" href=\"#jiffies\">jiffies</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#container_of\">container_of</a>(<a class=\"id\" href=\"#ops\">ops</a>, struct <a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>);", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rt_min_interval\">rt_min_interval</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_min_interval\">ip6_rt_gc_min_interval</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rt_max_size\">rt_max_size</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_max_size\">ip6_rt_max_size</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rt_elasticity\">rt_elasticity</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_elasticity\">ip6_rt_gc_elasticity</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rt_gc_timeout\">rt_gc_timeout</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_timeout\">ip6_rt_gc_timeout</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#rt_last_gc\">rt_last_gc</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_rt_last_gc\">ip6_rt_last_gc</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#time_after\">time_after</a>(<a class=\"id\" href=\"#rt_last_gc\">rt_last_gc</a> + <a class=\"id\" href=\"#rt_min_interval\">rt_min_interval</a>, <a class=\"id\" href=\"#now\">now</a>) &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#atomic_read\">atomic_read</a>(&amp;<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#entries\">entries</a>) <= <a class=\"id\" href=\"#rt_max_size\">rt_max_size</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_rt_gc_expire\">ip6_rt_gc_expire</a>++;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fib6_run_gc\">fib6_run_gc</a>(<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_rt_gc_expire\">ip6_rt_gc_expire</a>, <a class=\"id\" href=\"#net\">net</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_rt_last_gc\">ip6_rt_last_gc</a> = <a class=\"id\" href=\"#now\">now</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#atomic_read\">atomic_read</a>(&amp;<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#entries\">entries</a>) &lt; <a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#gc_thresh\">gc_thresh</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_rt_gc_expire\">ip6_rt_gc_expire</a> = <a class=\"id\" href=\"#rt_gc_timeout\">rt_gc_timeout</a>>>1;", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_rt_gc_expire\">ip6_rt_gc_expire</a> -= <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_rt_gc_expire\">ip6_rt_gc_expire</a>>><a class=\"id\" href=\"#rt_elasticity\">rt_elasticity</a>;", 
"<span class=\"ts\"/>return (<a class=\"id\" href=\"#atomic_read\">atomic_read</a>(&amp;<a class=\"id\" href=\"#ops\">ops</a>-><a class=\"id\" href=\"#entries\">entries</a>) &gt; <a class=\"id\" href=\"#rt_max_size\">rt_max_size</a>);", 
"}", 
"", 
"<span class=\"comment\">/* Clean host part of a prefix. Not necessary in radix tree,</span>", 
"<span class=\"comment\">   but results in cleaner routing tables.</span>", 
"<span class=\"comment\"></span>", 
"<span class=\"comment\">   Remove it only when all the things will work!</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static int <a class=\"id\" href=\"#ipv6_get_mtu\">ipv6_get_mtu</a>(struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#mtu\">mtu</a> = <a class=\"id\" href=\"#IPV6_MIN_MTU\">IPV6_MIN_MTU</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inet6_dev\">inet6_dev</a> *<a class=\"id\" href=\"#idev\">idev</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_lock\">rcu_read_lock</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#__in6_dev_get\">__in6_dev_get</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#idev\">idev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mtu\">mtu</a> = <a class=\"id\" href=\"#idev\">idev</a>-><a class=\"id\" href=\"#cnf\">cnf</a>.<a class=\"id\" href=\"#mtu6\">mtu6</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#mtu\">mtu</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#ip6_dst_hoplimit\">ip6_dst_hoplimit</a>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#hoplimit\">hoplimit</a> = <a class=\"id\" href=\"#dst_metric\">dst_metric</a>(<a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#RTAX_HOPLIMIT\">RTAX_HOPLIMIT</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#hoplimit\">hoplimit</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#inet6_dev\">inet6_dev</a> *<a class=\"id\" href=\"#idev\">idev</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_lock\">rcu_read_lock</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#__in6_dev_get\">__in6_dev_get</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#idev\">idev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hoplimit\">hoplimit</a> = <a class=\"id\" href=\"#idev\">idev</a>-><a class=\"id\" href=\"#cnf\">cnf</a>.<a class=\"id\" href=\"#hop_limit\">hop_limit</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hoplimit\">hoplimit</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>)-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#devconf_all\">devconf_all</a>-><a class=\"id\" href=\"#hop_limit\">hop_limit</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rcu_read_unlock\">rcu_read_unlock</a>();", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#hoplimit\">hoplimit</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"int <a class=\"id\" href=\"#ip6_route_add\">ip6_route_add</a>(struct <a class=\"id\" href=\"#fib6_config\">fib6_config</a> *<a class=\"id\" href=\"#cfg\">cfg</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#nl_net\">nl_net</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inet6_dev\">inet6_dev</a> *<a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#addr_type\">addr_type</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst_len\">fc_dst_len</a> &gt; 128 || <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src_len\">fc_src_len</a> &gt; 128)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#CONFIG_IPV6_SUBTREES\">CONFIG_IPV6_SUBTREES</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src_len\">fc_src_len</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_ifindex\">fc_ifindex</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#dev_get_by_index\">dev_get_by_index</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_ifindex\">fc_ifindex</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#in6_dev_get\">in6_dev_get</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#idev\">idev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_metric\">fc_metric</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_metric\">fc_metric</a> = <a class=\"id\" href=\"#IP6_RT_PRIO_USER\">IP6_RT_PRIO_USER</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a> = <a class=\"id\" href=\"#fib6_new_table\">fib6_new_table</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_table\">fc_table</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#table\">table</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOBUFS\">ENOBUFS</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#ip6_dst_alloc\">ip6_dst_alloc</a>(&amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#obsolete\">obsolete</a> = -1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_expires\">rt6i_expires</a> = (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_flags\">fc_flags</a> &amp; <a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a>) ?", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#jiffies\">jiffies</a> + <a class=\"id\" href=\"#clock_t_to_jiffies\">clock_t_to_jiffies</a>(<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_expires\">fc_expires</a>) :", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_protocol\">fc_protocol</a> == <a class=\"id\" href=\"#RTPROT_UNSPEC\">RTPROT_UNSPEC</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_protocol\">fc_protocol</a> = <a class=\"id\" href=\"#RTPROT_BOOT\">RTPROT_BOOT</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_protocol\">rt6i_protocol</a> = <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_protocol\">fc_protocol</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#addr_type\">addr_type</a> = <a class=\"id\" href=\"#ipv6_addr_type\">ipv6_addr_type</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst\">fc_dst</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#addr_type\">addr_type</a> &amp; <a class=\"id\" href=\"#IPV6_ADDR_MULTICAST\">IPV6_ADDR_MULTICAST</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#input\">input</a> = <a class=\"id\" href=\"#ip6_mc_input\">ip6_mc_input</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#input\">input</a> = <a class=\"id\" href=\"#ip6_forward\">ip6_forward</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#output\">output</a> = <a class=\"id\" href=\"#ip6_output\">ip6_output</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_prefix\">ipv6_addr_prefix</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#addr\">addr</a>, &amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst\">fc_dst</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst_len\">fc_dst_len</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a> = <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst_len\">fc_dst_len</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a> == 128)", 
"<span class=\"ts\"/>       <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#DST_HOST\">DST_HOST</a>;", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_SUBTREES\">CONFIG_IPV6_SUBTREES</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_prefix\">ipv6_addr_prefix</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>.<a class=\"id\" href=\"#addr\">addr</a>, &amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src\">fc_src</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src_len\">fc_src_len</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>.<a class=\"id\" href=\"#plen\">plen</a> = <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src_len\">fc_src_len</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a> = <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_metric\">fc_metric</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* We cannot add true routes via loopback here,</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   they would result in kernel looping; promote them to reject routes</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_flags\">fc_flags</a> &amp; <a class=\"id\" href=\"#RTF_REJECT\">RTF_REJECT</a>) ||", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#dev\">dev</a> && (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#flags\">flags</a>&amp;<a class=\"id\" href=\"#IFF_LOOPBACK\">IFF_LOOPBACK</a>) && !(<a class=\"id\" href=\"#addr_type\">addr_type</a>&amp;<a class=\"id\" href=\"#IPV6_ADDR_LOOPBACK\">IPV6_ADDR_LOOPBACK</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* hold loopback dev/idev if we haven't done so. */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a> != <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_put\">dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in6_dev_put\">in6_dev_put</a>(<a class=\"id\" href=\"#idev\">idev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_hold\">dev_hold</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#in6_dev_get\">in6_dev_get</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#idev\">idev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#output\">output</a> = <a class=\"id\" href=\"#ip6_pkt_discard_out\">ip6_pkt_discard_out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#input\">input</a> = <a class=\"id\" href=\"#ip6_pkt_discard\">ip6_pkt_discard</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#error\">error</a> = -<a class=\"id\" href=\"#ENETUNREACH\">ENETUNREACH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> = <a class=\"id\" href=\"#RTF_REJECT\">RTF_REJECT</a>|<a class=\"id\" href=\"#RTF_NONEXTHOP\">RTF_NONEXTHOP</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#install_route\">install_route</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_flags\">fc_flags</a> &amp; <a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#gw_addr\">gw_addr</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#gwa_type\">gwa_type</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#gw_addr\">gw_addr</a> = &amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_gateway\">fc_gateway</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>, <a class=\"id\" href=\"#gw_addr\">gw_addr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#gwa_type\">gwa_type</a> = <a class=\"id\" href=\"#ipv6_addr_type\">ipv6_addr_type</a>(<a class=\"id\" href=\"#gw_addr\">gw_addr</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#gwa_type\">gwa_type</a> != (<a class=\"id\" href=\"#IPV6_ADDR_LINKLOCAL\">IPV6_ADDR_LINKLOCAL</a>|<a class=\"id\" href=\"#IPV6_ADDR_UNICAST\">IPV6_ADDR_UNICAST</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#grt\">grt</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* IPv6 strictly inhibits using not link-local</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   addresses as nexthop address.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   Otherwise, router will not able to send redirects.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   It is very good, but in some (rare!) circumstances</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   (SIT, PtP, NBMA NOARP links) it is handy to allow</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   some exceptions. --ANK</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#gwa_type\">gwa_type</a>&amp;<a class=\"id\" href=\"#IPV6_ADDR_UNICAST\">IPV6_ADDR_UNICAST</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#grt\">grt</a> = <a class=\"id\" href=\"#rt6_lookup\">rt6_lookup</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#gw_addr\">gw_addr</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_ifindex\">fc_ifindex</a>, 1);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EHOSTUNREACH\">EHOSTUNREACH</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#grt\">grt</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a> != <a class=\"id\" href=\"#grt\">grt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(&amp;<a class=\"id\" href=\"#grt\">grt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#grt\">grt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#grt\">grt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_hold\">dev_hold</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in6_dev_hold\">in6_dev_hold</a>(<a class=\"id\" href=\"#grt\">grt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#grt\">grt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a>&amp;<a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(&amp;<a class=\"id\" href=\"#grt\">grt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a> == <a class=\"id\" href=\"#NULL\">NULL</a> || (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#flags\">flags</a>&amp;<a class=\"id\" href=\"#IFF_LOOPBACK\">IFF_LOOPBACK</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_flags\">fc_flags</a> &amp; (<a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a> | <a class=\"id\" href=\"#RTF_NONEXTHOP\">RTF_NONEXTHOP</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a> = <a class=\"id\" href=\"#__neigh_lookup_errno\">__neigh_lookup_errno</a>(&amp;<a class=\"id\" href=\"#nd_tbl\">nd_tbl</a>, &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>, <a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> = <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_flags\">fc_flags</a>;", 
"", 
"<a class=\"id\" href=\"#install_route\">install_route</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_mx\">fc_mx</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#nla\">nla</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#remaining\">remaining</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nla_for_each_attr\">nla_for_each_attr</a>(<a class=\"id\" href=\"#nla\">nla</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_mx\">fc_mx</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_mx_len\">fc_mx_len</a>, <a class=\"id\" href=\"#remaining\">remaining</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#nla_type\">nla_type</a>(<a class=\"id\" href=\"#nla\">nla</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#type\">type</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#type\">type</a> &gt; <a class=\"id\" href=\"#RTAX_MAX\">RTAX_MAX</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#type\">type</a> - 1] = <a class=\"id\" href=\"#nla_get_u32\">nla_get_u32</a>(<a class=\"id\" href=\"#nla\">nla</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dst_metric\">dst_metric</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#RTAX_HOPLIMIT\">RTAX_HOPLIMIT</a>) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_HOPLIMIT\">RTAX_HOPLIMIT</a>-1] = -1;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dst_mtu\">dst_mtu</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_MTU\">RTAX_MTU</a>-1] = <a class=\"id\" href=\"#ipv6_get_mtu\">ipv6_get_mtu</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#dst_metric\">dst_metric</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#RTAX_ADVMSS\">RTAX_ADVMSS</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_ADVMSS\">RTAX_ADVMSS</a>-1] = <a class=\"id\" href=\"#ipv6_advmss\">ipv6_advmss</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#dst_mtu\">dst_mtu</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#idev\">idev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_table\">rt6i_table</a> = <a class=\"id\" href=\"#table\">table</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#nl_net\">nl_net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#__ip6_ins_rt\">__ip6_ins_rt</a>(<a class=\"id\" href=\"#rt\">rt</a>, &amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>);", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_put\">dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#idev\">idev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in6_dev_put\">in6_dev_put</a>(<a class=\"id\" href=\"#idev\">idev</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_free\">dst_free</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#__ip6_del_rt\">__ip6_del_rt</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, struct <a class=\"id\" href=\"#nl_info\">nl_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a> == <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOENT\">ENOENT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_table\">rt6i_table</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_lock_bh\">write_lock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#fib6_del\">fib6_del</a>(<a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_unlock_bh\">write_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#ip6_del_rt\">ip6_del_rt</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nl_info\">nl_info</a> <a class=\"id\" href=\"#info\">info</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#nl_net\">nl_net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>),", 
"<span class=\"ts\"/>};", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#__ip6_del_rt\">__ip6_del_rt</a>(<a class=\"id\" href=\"#rt\">rt</a>, &amp;<a class=\"id\" href=\"#info\">info</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ip6_route_del\">ip6_route_del</a>(struct <a class=\"id\" href=\"#fib6_config\">fib6_config</a> *<a class=\"id\" href=\"#cfg\">cfg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_node\">fib6_node</a> *<a class=\"id\" href=\"#fn\">fn</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ESRCH\">ESRCH</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a> = <a class=\"id\" href=\"#fib6_get_table\">fib6_get_table</a>(<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#nl_net\">nl_net</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_table\">fc_table</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#table\">table</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_lock_bh\">read_lock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fn\">fn</a> = <a class=\"id\" href=\"#fib6_locate\">fib6_locate</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_root\">tb6_root</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> &amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst\">fc_dst</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst_len\">fc_dst_len</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> &amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src\">fc_src</a>, <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src_len\">fc_src_len</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fn\">fn</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#leaf\">leaf</a>; <a class=\"id\" href=\"#rt\">rt</a>; <a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#rt6_next\">rt6_next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_ifindex\">fc_ifindex</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a> == <a class=\"id\" href=\"#NULL\">NULL</a> ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a> != <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_ifindex\">fc_ifindex</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_flags\">fc_flags</a> &amp; <a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    !<a class=\"id\" href=\"#ipv6_addr_equal\">ipv6_addr_equal</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_gateway\">fc_gateway</a>, &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_metric\">fc_metric</a> && <a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_metric\">fc_metric</a> != <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_hold\">dst_hold</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#__ip6_del_rt\">__ip6_del_rt</a>(<a class=\"id\" href=\"#rt\">rt</a>, &amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Handle redirects</span>", 
"<span class=\"comment\"> */</span>", 
"struct <a class=\"id\" href=\"#ip6rd_flowi\">ip6rd_flowi</a> {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#flowi\">flowi</a> <a class=\"id\" href=\"#fl\">fl</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> <a class=\"id\" href=\"#gateway\">gateway</a>;", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#__ip6_route_redirect\">__ip6_route_redirect</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#flowi\">flowi</a> *<a class=\"id\" href=\"#fl\">fl</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip6rd_flowi\">ip6rd_flowi</a> *<a class=\"id\" href=\"#rdfl\">rdfl</a> = (struct <a class=\"id\" href=\"#ip6rd_flowi\">ip6rd_flowi</a> *)<a class=\"id\" href=\"#fl\">fl</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_node\">fib6_node</a> *<a class=\"id\" href=\"#fn\">fn</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Get the \"current\" route for this destination and</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * check if the redirect has come from approriate router.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * RFC 2461 specifies that redirects should only be</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * accepted if they come from the nexthop to the target.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Due to the way the routes are chosen, this notion</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * is a bit fuzzy and one might need to check all possible</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * routes.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_lock_bh\">read_lock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fn\">fn</a> = <a class=\"id\" href=\"#fib6_lookup\">fib6_lookup</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_root\">tb6_root</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_dst\">fl6_dst</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_src\">fl6_src</a>);", 
"<a class=\"id\" href=\"#restart\">restart</a>:", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#leaf\">leaf</a>; <a class=\"id\" href=\"#rt\">rt</a>; <a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#rt6_next\">rt6_next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Current route is on-link; redirect is always invalid.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> *</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Seems, previous statement is not true. It could</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * be node, which looks for us as on-link (f.e. proxy ndisc)</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * But then router serving it might decide, that we should</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * know truth 8)8) --ANK (980726).</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt6_check_expired\">rt6_check_expired</a>(<a class=\"id\" href=\"#rt\">rt</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#oif\">oif</a> != <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ipv6_addr_equal\">ipv6_addr_equal</a>(&amp;<a class=\"id\" href=\"#rdfl\">rdfl</a>-><a class=\"id\" href=\"#gateway\">gateway</a>, &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#rt\">rt</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#BACKTRACK\">BACKTRACK</a>(<a class=\"id\" href=\"#net\">net</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>-><a class=\"id\" href=\"#fl6_src\">fl6_src</a>);", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_hold\">dst_hold</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt\">rt</a>;", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ip6_route_redirect\">ip6_route_redirect</a>(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#dest\">dest</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#src\">src</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#gateway\">gateway</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#RT6_LOOKUP_F_HAS_SADDR\">RT6_LOOKUP_F_HAS_SADDR</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ip6rd_flowi\">ip6rd_flowi</a> <a class=\"id\" href=\"#rdfl\">rdfl</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fl\">fl</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#oif\">oif</a> = <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#nl_u\">nl_u</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#ip6_u\">ip6_u</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#daddr\">daddr</a> = *<a class=\"id\" href=\"#dest\">dest</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#saddr\">saddr</a> = *<a class=\"id\" href=\"#src\">src</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>},", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>},", 
"<span class=\"ts\"/><span class=\"ts\"/>},", 
"<span class=\"ts\"/>};", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#rdfl\">rdfl</a>.<a class=\"id\" href=\"#gateway\">gateway</a>, <a class=\"id\" href=\"#gateway\">gateway</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt6_need_strict\">rt6_need_strict</a>(<a class=\"id\" href=\"#dest\">dest</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#RT6_LOOKUP_F_IFACE\">RT6_LOOKUP_F_IFACE</a>;", 
"", 
"<span class=\"ts\"/>return (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *)<a class=\"id\" href=\"#fib6_rule_lookup\">fib6_rule_lookup</a>(<a class=\"id\" href=\"#net\">net</a>, (struct <a class=\"id\" href=\"#flowi\">flowi</a> *)&amp;<a class=\"id\" href=\"#rdfl\">rdfl</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#flags\">flags</a>, <a class=\"id\" href=\"#__ip6_route_redirect\">__ip6_route_redirect</a>);", 
"}", 
"", 
"void <a class=\"id\" href=\"#rt6_redirect\">rt6_redirect</a>(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#dest\">dest</a>, struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#src\">src</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#saddr\">saddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#neighbour\">neighbour</a> *<a class=\"id\" href=\"#neigh\">neigh</a>, <a class=\"id\" href=\"#u8\">u8</a> *<a class=\"id\" href=\"#lladdr\">lladdr</a>, int <a class=\"id\" href=\"#on_link\">on_link</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, *<a class=\"id\" href=\"#nrt\">nrt</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#netevent_redirect\">netevent_redirect</a> <a class=\"id\" href=\"#netevent\">netevent</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#ip6_route_redirect\">ip6_route_redirect</a>(<a class=\"id\" href=\"#dest\">dest</a>, <a class=\"id\" href=\"#src\">src</a>, <a class=\"id\" href=\"#saddr\">saddr</a>, <a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a> == <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#net_ratelimit\">net_ratelimit</a>())", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_DEBUG\">KERN_DEBUG</a> \"rt6_redirect: source isn't a valid nexthop \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       \"for redirect target\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> *<span class=\"ts\"/>We have finally decided to accept it.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#neigh_update\">neigh_update</a>(<a class=\"id\" href=\"#neigh\">neigh</a>, <a class=\"id\" href=\"#lladdr\">lladdr</a>, <a class=\"id\" href=\"#NUD_STALE\">NUD_STALE</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#NEIGH_UPDATE_F_WEAK_OVERRIDE\">NEIGH_UPDATE_F_WEAK_OVERRIDE</a>|", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#NEIGH_UPDATE_F_OVERRIDE\">NEIGH_UPDATE_F_OVERRIDE</a>|", 
"<span class=\"ts\"/><span class=\"ts\"/>     (<a class=\"id\" href=\"#on_link\">on_link</a> ? 0 : (<a class=\"id\" href=\"#NEIGH_UPDATE_F_OVERRIDE_ISROUTER\">NEIGH_UPDATE_F_OVERRIDE_ISROUTER</a>|", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#NEIGH_UPDATE_F_ISROUTER\">NEIGH_UPDATE_F_ISROUTER</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>     );", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Redirect received -&gt; path was valid.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Look, redirects are sent only in response to data packets,</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * so that this nexthop apparently is reachable. --ANK</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_confirm\">dst_confirm</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Duplicate redirect: silently ignore. */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#neigh\">neigh</a> == <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#neighbour\">neighbour</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a> = <a class=\"id\" href=\"#ip6_rt_copy\">ip6_rt_copy</a>(<a class=\"id\" href=\"#rt\">rt</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nrt\">nrt</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> = <a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a>|<a class=\"id\" href=\"#RTF_UP\">RTF_UP</a>|<a class=\"id\" href=\"#RTF_DYNAMIC\">RTF_DYNAMIC</a>|<a class=\"id\" href=\"#RTF_CACHE\">RTF_CACHE</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#on_link\">on_link</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &= ~<a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#dest\">dest</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a> = 128;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#DST_HOST\">DST_HOST</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>, (struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a>*)<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#primary_key\">primary_key</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a> = <a class=\"id\" href=\"#neigh_clone\">neigh_clone</a>(<a class=\"id\" href=\"#neigh\">neigh</a>);", 
"<span class=\"ts\"/><span class=\"comment\">/* Reset pmtu, it may be better */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_MTU\">RTAX_MTU</a>-1] = <a class=\"id\" href=\"#ipv6_get_mtu\">ipv6_get_mtu</a>(<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_ADVMSS\">RTAX_ADVMSS</a>-1] = <a class=\"id\" href=\"#ipv6_advmss\">ipv6_advmss</a>(<a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#neigh\">neigh</a>-><a class=\"id\" href=\"#dev\">dev</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_mtu\">dst_mtu</a>(&amp;<a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#dst\">dst</a>));", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ip6_ins_rt\">ip6_ins_rt</a>(<a class=\"id\" href=\"#nrt\">nrt</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#netevent\">netevent</a>.<a class=\"id\" href=\"#old\">old</a> = &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#netevent\">netevent</a>.<a class=\"id\" href=\"#new\">new</a> = &amp;<a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#dst\">dst</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#call_netevent_notifiers\">call_netevent_notifiers</a>(<a class=\"id\" href=\"#NETEVENT_REDIRECT\">NETEVENT_REDIRECT</a>, &amp;<a class=\"id\" href=\"#netevent\">netevent</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a>&amp;<a class=\"id\" href=\"#RTF_CACHE\">RTF_CACHE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_del_rt\">ip6_del_rt</a>(<a class=\"id\" href=\"#rt\">rt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/>}", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Handle ICMP \"packet too big\" messages</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>i.e. Path MTU discovery</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static void <a class=\"id\" href=\"#rt6_do_pmtu_disc\">rt6_do_pmtu_disc</a>(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#daddr\">daddr</a>, struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#saddr\">saddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#pmtu\">pmtu</a>, int <a class=\"id\" href=\"#ifindex\">ifindex</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, *<a class=\"id\" href=\"#nrt\">nrt</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#allfrag\">allfrag</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt6_lookup\">rt6_lookup</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#daddr\">daddr</a>, <a class=\"id\" href=\"#saddr\">saddr</a>, <a class=\"id\" href=\"#ifindex\">ifindex</a>, 0);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pmtu\">pmtu</a> >= <a class=\"id\" href=\"#dst_mtu\">dst_mtu</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pmtu\">pmtu</a> &lt; <a class=\"id\" href=\"#IPV6_MIN_MTU\">IPV6_MIN_MTU</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * According to RFC2460, PMTU is set to the IPv6 Minimum Link</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * MTU (1280) and a fragment header should always be included</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * after a node receiving Too Big message reporting PMTU is</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * less than the IPv6 Minimum Link MTU.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pmtu\">pmtu</a> = <a class=\"id\" href=\"#IPV6_MIN_MTU\">IPV6_MIN_MTU</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#allfrag\">allfrag</a> = 1;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* New mtu received -&gt; path was valid.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   They are sent only in response to data packets,</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   so that this nexthop apparently is reachable. --ANK</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_confirm\">dst_confirm</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Host route. If it is static, it would be better</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   not to override it, but add new one, so that</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   when cache entry will expire old pmtu</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   would return automatically.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_CACHE\">RTF_CACHE</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_MTU\">RTAX_MTU</a>-1] = <a class=\"id\" href=\"#pmtu\">pmtu</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#allfrag\">allfrag</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_FEATURES\">RTAX_FEATURES</a>-1] |= <a class=\"id\" href=\"#RTAX_FEATURE_ALLFRAG\">RTAX_FEATURE_ALLFRAG</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_set_expires\">dst_set_expires</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_mtu_expires\">ip6_rt_mtu_expires</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> |= <a class=\"id\" href=\"#RTF_MODIFIED\">RTF_MODIFIED</a>|<a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Network route.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   Two cases are possible:</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   1. It is connected route. Action: COW</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   2. It is gatewayed route or NONEXTHOP route. Action: clone it.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a> && !(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_NONEXTHOP\">RTF_NONEXTHOP</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a> = <a class=\"id\" href=\"#rt6_alloc_cow\">rt6_alloc_cow</a>(<a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#daddr\">daddr</a>, <a class=\"id\" href=\"#saddr\">saddr</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a> = <a class=\"id\" href=\"#rt6_alloc_clone\">rt6_alloc_clone</a>(<a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#daddr\">daddr</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nrt\">nrt</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_MTU\">RTAX_MTU</a>-1] = <a class=\"id\" href=\"#pmtu\">pmtu</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#allfrag\">allfrag</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_FEATURES\">RTAX_FEATURES</a>-1] |= <a class=\"id\" href=\"#RTAX_FEATURE_ALLFRAG\">RTAX_FEATURE_ALLFRAG</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* According to RFC 1981, detecting PMTU increase shouldn't be</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * happened within 5 mins, the recommended timer is 10 mins.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * Here this route expiration time is set to ip6_rt_mtu_expires</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * which is 10 mins. After 10 mins the decreased pmtu is expired</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * and detecting PMTU increase will be automatically happened.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_set_expires\">dst_set_expires</a>(&amp;<a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_mtu_expires\">ip6_rt_mtu_expires</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nrt\">nrt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> |= <a class=\"id\" href=\"#RTF_DYNAMIC\">RTF_DYNAMIC</a>|<a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_ins_rt\">ip6_ins_rt</a>(<a class=\"id\" href=\"#nrt\">nrt</a>);", 
"<span class=\"ts\"/>}", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dst_release\">dst_release</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"}", 
"", 
"void <a class=\"id\" href=\"#rt6_pmtu_discovery\">rt6_pmtu_discovery</a>(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#daddr\">daddr</a>, struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#saddr\">saddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#pmtu\">pmtu</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * RFC 1981 states that a node \"MUST reduce the size of the packets it</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * is sending along the path\" that caused the Packet Too Big message.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * Since it's not possible in the general case to determine which</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * interface was used to send the original packet, we update the MTU</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * on the interface that will be used to send future packets. We also</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * update the MTU on the interface that received the Packet Too Big in</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * case the original packet was forced out that interface with</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * SO_BINDTODEVICE or similar. This is the next best thing to the</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * correct behaviour, which would be to update the MTU on all</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * interfaces.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt6_do_pmtu_disc\">rt6_do_pmtu_disc</a>(<a class=\"id\" href=\"#daddr\">daddr</a>, <a class=\"id\" href=\"#saddr\">saddr</a>, <a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#pmtu\">pmtu</a>, 0);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt6_do_pmtu_disc\">rt6_do_pmtu_disc</a>(<a class=\"id\" href=\"#daddr\">daddr</a>, <a class=\"id\" href=\"#saddr\">saddr</a>, <a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#pmtu\">pmtu</a>, <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a>);", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Misc support functions</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> * <a class=\"id\" href=\"#ip6_rt_copy\">ip6_rt_copy</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#ort\">ort</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#ip6_dst_alloc\">ip6_dst_alloc</a>(&amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#input\">input</a> = <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#input\">input</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#output\">output</a> = <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#output\">output</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>, <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>, <a class=\"id\" href=\"#RTAX_MAX\">RTAX_MAX</a>*sizeof(<a class=\"id\" href=\"#u32\">u32</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#error\">error</a> = <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#error\">error</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev_hold\">dev_hold</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#in6_dev_hold\">in6_dev_hold</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#lastuse\">lastuse</a> = <a class=\"id\" href=\"#jiffies\">jiffies</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_expires\">rt6i_expires</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>, &amp;<a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> = <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; ~<a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a> = 0;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>, &amp;<a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>, sizeof(struct <a class=\"id\" href=\"#rt6key\">rt6key</a>));", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_SUBTREES\">CONFIG_IPV6_SUBTREES</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>, &amp;<a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>, sizeof(struct <a class=\"id\" href=\"#rt6key\">rt6key</a>));", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_table\">rt6i_table</a> = <a class=\"id\" href=\"#ort\">ort</a>-><a class=\"id\" href=\"#rt6i_table\">rt6i_table</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt\">rt</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_ROUTE_INFO\">CONFIG_IPV6_ROUTE_INFO</a>", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_get_route_info\">rt6_get_route_info</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#prefix\">prefix</a>, int <a class=\"id\" href=\"#prefixlen\">prefixlen</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#gwaddr\">gwaddr</a>, int <a class=\"id\" href=\"#ifindex\">ifindex</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_node\">fib6_node</a> *<a class=\"id\" href=\"#fn\">fn</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a> = <a class=\"id\" href=\"#fib6_get_table\">fib6_get_table</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#RT6_TABLE_INFO\">RT6_TABLE_INFO</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#table\">table</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_lock_bh\">write_lock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fn\">fn</a> = <a class=\"id\" href=\"#fib6_locate\">fib6_locate</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_root\">tb6_root</a>, <a class=\"id\" href=\"#prefix\">prefix</a> ,<a class=\"id\" href=\"#prefixlen\">prefixlen</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, 0);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#fn\">fn</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#fn\">fn</a>-><a class=\"id\" href=\"#leaf\">leaf</a>; <a class=\"id\" href=\"#rt\">rt</a>; <a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#rt6_next\">rt6_next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a> != <a class=\"id\" href=\"#ifindex\">ifindex</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; (<a class=\"id\" href=\"#RTF_ROUTEINFO\">RTF_ROUTEINFO</a>|<a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a>)) != (<a class=\"id\" href=\"#RTF_ROUTEINFO\">RTF_ROUTEINFO</a>|<a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ipv6_addr_equal\">ipv6_addr_equal</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>, <a class=\"id\" href=\"#gwaddr\">gwaddr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_hold\">dst_hold</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_unlock_bh\">write_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt\">rt</a>;", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_add_route_info\">rt6_add_route_info</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#prefix\">prefix</a>, int <a class=\"id\" href=\"#prefixlen\">prefixlen</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#gwaddr\">gwaddr</a>, int <a class=\"id\" href=\"#ifindex\">ifindex</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   unsigned <a class=\"id\" href=\"#pref\">pref</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_config\">fib6_config</a> <a class=\"id\" href=\"#cfg\">cfg</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_table\">fc_table</a><span class=\"ts\"/>= <a class=\"id\" href=\"#RT6_TABLE_INFO\">RT6_TABLE_INFO</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_metric\">fc_metric</a><span class=\"ts\"/>= <a class=\"id\" href=\"#IP6_RT_PRIO_USER\">IP6_RT_PRIO_USER</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_ifindex\">fc_ifindex</a><span class=\"ts\"/>= <a class=\"id\" href=\"#ifindex\">ifindex</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_dst_len\">fc_dst_len</a><span class=\"ts\"/>= <a class=\"id\" href=\"#prefixlen\">prefixlen</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_flags\">fc_flags</a><span class=\"ts\"/>= <a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a> | <a class=\"id\" href=\"#RTF_ADDRCONF\">RTF_ADDRCONF</a> | <a class=\"id\" href=\"#RTF_ROUTEINFO\">RTF_ROUTEINFO</a> |", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#RTF_UP\">RTF_UP</a> | <a class=\"id\" href=\"#RTF_PREF\">RTF_PREF</a>(<a class=\"id\" href=\"#pref\">pref</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#pid\">pid</a> = 0,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#nlh\">nlh</a> = <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#nl_net\">nl_net</a> = <a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/>};", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>.<a class=\"id\" href=\"#fc_dst\">fc_dst</a>, <a class=\"id\" href=\"#prefix\">prefix</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>.<a class=\"id\" href=\"#fc_gateway\">fc_gateway</a>, <a class=\"id\" href=\"#gwaddr\">gwaddr</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* We should treat it as a default route if prefix length is 0. */</span>", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#prefixlen\">prefixlen</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>.<a class=\"id\" href=\"#fc_flags\">fc_flags</a> |= <a class=\"id\" href=\"#RTF_DEFAULT\">RTF_DEFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ip6_route_add\">ip6_route_add</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt6_get_route_info\">rt6_get_route_info</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#prefix\">prefix</a>, <a class=\"id\" href=\"#prefixlen\">prefixlen</a>, <a class=\"id\" href=\"#gwaddr\">gwaddr</a>, <a class=\"id\" href=\"#ifindex\">ifindex</a>);", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_get_dflt_router\">rt6_get_dflt_router</a>(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#addr\">addr</a>, struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a> = <a class=\"id\" href=\"#fib6_get_table\">fib6_get_table</a>(<a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>), <a class=\"id\" href=\"#RT6_TABLE_DFLT\">RT6_TABLE_DFLT</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#table\">table</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_lock_bh\">write_lock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_root\">tb6_root</a>.<a class=\"id\" href=\"#leaf\">leaf</a>; <a class=\"id\" href=\"#rt\">rt</a>; <a class=\"id\" href=\"#rt\">rt</a>=<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#rt6_next\">rt6_next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a> == <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    ((<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; (<a class=\"id\" href=\"#RTF_ADDRCONF\">RTF_ADDRCONF</a> | <a class=\"id\" href=\"#RTF_DEFAULT\">RTF_DEFAULT</a>)) == (<a class=\"id\" href=\"#RTF_ADDRCONF\">RTF_ADDRCONF</a> | <a class=\"id\" href=\"#RTF_DEFAULT\">RTF_DEFAULT</a>)) &&", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#ipv6_addr_equal\">ipv6_addr_equal</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>, <a class=\"id\" href=\"#addr\">addr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_hold\">dst_hold</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#write_unlock_bh\">write_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt\">rt</a>;", 
"}", 
"", 
"struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt6_add_dflt_router\">rt6_add_dflt_router</a>(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#gwaddr\">gwaddr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     unsigned int <a class=\"id\" href=\"#pref\">pref</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_config\">fib6_config</a> <a class=\"id\" href=\"#cfg\">cfg</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_table\">fc_table</a><span class=\"ts\"/>= <a class=\"id\" href=\"#RT6_TABLE_DFLT\">RT6_TABLE_DFLT</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_metric\">fc_metric</a><span class=\"ts\"/>= <a class=\"id\" href=\"#IP6_RT_PRIO_USER\">IP6_RT_PRIO_USER</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_ifindex\">fc_ifindex</a><span class=\"ts\"/>= <a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_flags\">fc_flags</a><span class=\"ts\"/>= <a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a> | <a class=\"id\" href=\"#RTF_ADDRCONF\">RTF_ADDRCONF</a> | <a class=\"id\" href=\"#RTF_DEFAULT\">RTF_DEFAULT</a> |", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#RTF_UP\">RTF_UP</a> | <a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a> | <a class=\"id\" href=\"#RTF_PREF\">RTF_PREF</a>(<a class=\"id\" href=\"#pref\">pref</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#pid\">pid</a> = 0,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#nlh\">nlh</a> = <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#nl_net\">nl_net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>),", 
"<span class=\"ts\"/>};", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>.<a class=\"id\" href=\"#fc_gateway\">fc_gateway</a>, <a class=\"id\" href=\"#gwaddr\">gwaddr</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ip6_route_add\">ip6_route_add</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt6_get_dflt_router\">rt6_get_dflt_router</a>(<a class=\"id\" href=\"#gwaddr\">gwaddr</a>, <a class=\"id\" href=\"#dev\">dev</a>);", 
"}", 
"", 
"void <a class=\"id\" href=\"#rt6_purge_dflt_routers\">rt6_purge_dflt_routers</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_table\">fib6_table</a> *<a class=\"id\" href=\"#table\">table</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* NOTE: Keep consistent with rt6_get_dflt_router */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a> = <a class=\"id\" href=\"#fib6_get_table\">fib6_get_table</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#RT6_TABLE_DFLT\">RT6_TABLE_DFLT</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#table\">table</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<a class=\"id\" href=\"#restart\">restart</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_lock_bh\">read_lock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_root\">tb6_root</a>.<a class=\"id\" href=\"#leaf\">leaf</a>; <a class=\"id\" href=\"#rt\">rt</a>; <a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#rt6_next\">rt6_next</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; (<a class=\"id\" href=\"#RTF_DEFAULT\">RTF_DEFAULT</a> | <a class=\"id\" href=\"#RTF_ADDRCONF\">RTF_ADDRCONF</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_hold\">dst_hold</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ip6_del_rt\">ip6_del_rt</a>(<a class=\"id\" href=\"#rt\">rt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#restart\">restart</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#read_unlock_bh\">read_unlock_bh</a>(&amp;<a class=\"id\" href=\"#table\">table</a>-><a class=\"id\" href=\"#tb6_lock\">tb6_lock</a>);", 
"}", 
"", 
"static void <a class=\"id\" href=\"#rtmsg_to_fib6_config\">rtmsg_to_fib6_config</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#in6_rtmsg\">in6_rtmsg</a> *<a class=\"id\" href=\"#rtmsg\">rtmsg</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#fib6_config\">fib6_config</a> *<a class=\"id\" href=\"#cfg\">cfg</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(<a class=\"id\" href=\"#cfg\">cfg</a>, 0, sizeof(*<a class=\"id\" href=\"#cfg\">cfg</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_table\">fc_table</a> = <a class=\"id\" href=\"#RT6_TABLE_MAIN\">RT6_TABLE_MAIN</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_ifindex\">fc_ifindex</a> = <a class=\"id\" href=\"#rtmsg\">rtmsg</a>-><a class=\"id\" href=\"#rtmsg_ifindex\">rtmsg_ifindex</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_metric\">fc_metric</a> = <a class=\"id\" href=\"#rtmsg\">rtmsg</a>-><a class=\"id\" href=\"#rtmsg_metric\">rtmsg_metric</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_expires\">fc_expires</a> = <a class=\"id\" href=\"#rtmsg\">rtmsg</a>-><a class=\"id\" href=\"#rtmsg_info\">rtmsg_info</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst_len\">fc_dst_len</a> = <a class=\"id\" href=\"#rtmsg\">rtmsg</a>-><a class=\"id\" href=\"#rtmsg_dst_len\">rtmsg_dst_len</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src_len\">fc_src_len</a> = <a class=\"id\" href=\"#rtmsg\">rtmsg</a>-><a class=\"id\" href=\"#rtmsg_src_len\">rtmsg_src_len</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_flags\">fc_flags</a> = <a class=\"id\" href=\"#rtmsg\">rtmsg</a>-><a class=\"id\" href=\"#rtmsg_flags\">rtmsg_flags</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#nl_net\">nl_net</a> = <a class=\"id\" href=\"#net\">net</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst\">fc_dst</a>, &amp;<a class=\"id\" href=\"#rtmsg\">rtmsg</a>-><a class=\"id\" href=\"#rtmsg_dst\">rtmsg_dst</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src\">fc_src</a>, &amp;<a class=\"id\" href=\"#rtmsg\">rtmsg</a>-><a class=\"id\" href=\"#rtmsg_src\">rtmsg_src</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_gateway\">fc_gateway</a>, &amp;<a class=\"id\" href=\"#rtmsg\">rtmsg</a>-><a class=\"id\" href=\"#rtmsg_gateway\">rtmsg_gateway</a>);", 
"}", 
"", 
"int <a class=\"id\" href=\"#ipv6_route_ioctl\">ipv6_route_ioctl</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>, void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_config\">fib6_config</a> <a class=\"id\" href=\"#cfg\">cfg</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_rtmsg\">in6_rtmsg</a> <a class=\"id\" href=\"#rtmsg\">rtmsg</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>switch(<a class=\"id\" href=\"#cmd\">cmd</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCADDRT\">SIOCADDRT</a>:<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Add a route */</span>", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCDELRT\">SIOCDELRT</a>:<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Delete a route */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#capable\">capable</a>(<a class=\"id\" href=\"#CAP_NET_ADMIN\">CAP_NET_ADMIN</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EPERM\">EPERM</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#rtmsg\">rtmsg</a>, <a class=\"id\" href=\"#arg\">arg</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     sizeof(struct <a class=\"id\" href=\"#in6_rtmsg\">in6_rtmsg</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtmsg_to_fib6_config\">rtmsg_to_fib6_config</a>(<a class=\"id\" href=\"#net\">net</a>, &amp;<a class=\"id\" href=\"#rtmsg\">rtmsg</a>, &amp;<a class=\"id\" href=\"#cfg\">cfg</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtnl_lock\">rtnl_lock</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/>switch (<a class=\"id\" href=\"#cmd\">cmd</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCADDRT\">SIOCADDRT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ip6_route_add\">ip6_route_add</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>case <a class=\"id\" href=\"#SIOCDELRT\">SIOCDELRT</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ip6_route_del\">ip6_route_del</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtnl_unlock\">rtnl_unlock</a>();", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Drop the packet on the floor</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static int <a class=\"id\" href=\"#ip6_pkt_drop\">ip6_pkt_drop</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#code\">code</a>, int <a class=\"id\" href=\"#ipstats_mib_noroutes\">ipstats_mib_noroutes</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#type\">type</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *<a class=\"id\" href=\"#dst\">dst</a> = <a class=\"id\" href=\"#skb_dst\">skb_dst</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#ipstats_mib_noroutes\">ipstats_mib_noroutes</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IPSTATS_MIB_INNOROUTES\">IPSTATS_MIB_INNOROUTES</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#ipv6_addr_type\">ipv6_addr_type</a>(&amp;<a class=\"id\" href=\"#ipv6_hdr\">ipv6_hdr</a>(<a class=\"id\" href=\"#skb\">skb</a>)-><a class=\"id\" href=\"#daddr\">daddr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#IPV6_ADDR_ANY\">IPV6_ADDR_ANY</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#IP6_INC_STATS\">IP6_INC_STATS</a>(<a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#dev\">dev</a>), <a class=\"id\" href=\"#ip6_dst_idev\">ip6_dst_idev</a>(<a class=\"id\" href=\"#dst\">dst</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#IPSTATS_MIB_INADDRERRORS\">IPSTATS_MIB_INADDRERRORS</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* FALLTHROUGH */</span>", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#IPSTATS_MIB_OUTNOROUTES\">IPSTATS_MIB_OUTNOROUTES</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#IP6_INC_STATS\">IP6_INC_STATS</a>(<a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dst\">dst</a>-><a class=\"id\" href=\"#dev\">dev</a>), <a class=\"id\" href=\"#ip6_dst_idev\">ip6_dst_idev</a>(<a class=\"id\" href=\"#dst\">dst</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#ipstats_mib_noroutes\">ipstats_mib_noroutes</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#icmpv6_send\">icmpv6_send</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#ICMPV6_DEST_UNREACH\">ICMPV6_DEST_UNREACH</a>, <a class=\"id\" href=\"#code\">code</a>, 0);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree_skb\">kfree_skb</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ip6_pkt_discard\">ip6_pkt_discard</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ip6_pkt_drop\">ip6_pkt_drop</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#ICMPV6_NOROUTE\">ICMPV6_NOROUTE</a>, <a class=\"id\" href=\"#IPSTATS_MIB_INNOROUTES\">IPSTATS_MIB_INNOROUTES</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ip6_pkt_discard_out\">ip6_pkt_discard_out</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#skb_dst\">skb_dst</a>(<a class=\"id\" href=\"#skb\">skb</a>)-><a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ip6_pkt_drop\">ip6_pkt_drop</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#ICMPV6_NOROUTE\">ICMPV6_NOROUTE</a>, <a class=\"id\" href=\"#IPSTATS_MIB_OUTNOROUTES\">IPSTATS_MIB_OUTNOROUTES</a>);", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_MULTIPLE_TABLES\">CONFIG_IPV6_MULTIPLE_TABLES</a>", 
"", 
"static int <a class=\"id\" href=\"#ip6_pkt_prohibit\">ip6_pkt_prohibit</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ip6_pkt_drop\">ip6_pkt_drop</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#ICMPV6_ADM_PROHIBITED\">ICMPV6_ADM_PROHIBITED</a>, <a class=\"id\" href=\"#IPSTATS_MIB_INNOROUTES\">IPSTATS_MIB_INNOROUTES</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ip6_pkt_prohibit_out\">ip6_pkt_prohibit_out</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#skb_dst\">skb_dst</a>(<a class=\"id\" href=\"#skb\">skb</a>)-><a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ip6_pkt_drop\">ip6_pkt_drop</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#ICMPV6_ADM_PROHIBITED\">ICMPV6_ADM_PROHIBITED</a>, <a class=\"id\" href=\"#IPSTATS_MIB_OUTNOROUTES\">IPSTATS_MIB_OUTNOROUTES</a>);", 
"}", 
"", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Allocate a dst for local (unicast / anycast) address.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#addrconf_dst_alloc\">addrconf_dst_alloc</a>(struct <a class=\"id\" href=\"#inet6_dev\">inet6_dev</a> *<a class=\"id\" href=\"#idev\">idev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    const struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#addr\">addr</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    int <a class=\"id\" href=\"#anycast\">anycast</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#idev\">idev</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a> = <a class=\"id\" href=\"#ip6_dst_alloc\">ip6_dst_alloc</a>(&amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#neighbour\">neighbour</a> *<a class=\"id\" href=\"#neigh\">neigh</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#ERR_PTR\">ERR_PTR</a>(-<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_hold\">dev_hold</a>(<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#in6_dev_hold\">in6_dev_hold</a>(<a class=\"id\" href=\"#idev\">idev</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#DST_HOST\">DST_HOST</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#input\">input</a> = <a class=\"id\" href=\"#ip6_input\">ip6_input</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#output\">output</a> = <a class=\"id\" href=\"#ip6_output\">ip6_output</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#idev\">idev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_MTU\">RTAX_MTU</a>-1] = <a class=\"id\" href=\"#ipv6_get_mtu\">ipv6_get_mtu</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_ADVMSS\">RTAX_ADVMSS</a>-1] = <a class=\"id\" href=\"#ipv6_advmss\">ipv6_advmss</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#dst_mtu\">dst_mtu</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_HOPLIMIT\">RTAX_HOPLIMIT</a>-1] = -1;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#obsolete\">obsolete</a> = -1;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> = <a class=\"id\" href=\"#RTF_UP\">RTF_UP</a> | <a class=\"id\" href=\"#RTF_NONEXTHOP\">RTF_NONEXTHOP</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#anycast\">anycast</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> |= <a class=\"id\" href=\"#RTF_ANYCAST\">RTF_ANYCAST</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> |= <a class=\"id\" href=\"#RTF_LOCAL\">RTF_LOCAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#neigh\">neigh</a> = <a class=\"id\" href=\"#ndisc_get_neigh\">ndisc_get_neigh</a>(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>, &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_gateway\">rt6i_gateway</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#neigh\">neigh</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dst_free\">dst_free</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* We are casting this because that is the return</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * value type.  But an errno encoded pointer is the</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * same regardless of the underlying pointer type,</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * and that's what we are returning.  So this is OK.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>return (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *) <a class=\"id\" href=\"#neigh\">neigh</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a> = <a class=\"id\" href=\"#neigh\">neigh</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#addr\">addr</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a> = 128;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_table\">rt6i_table</a> = <a class=\"id\" href=\"#fib6_get_table\">fib6_get_table</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#RT6_TABLE_LOCAL\">RT6_TABLE_LOCAL</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#atomic_set\">atomic_set</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#__refcnt\">__refcnt</a>, 1);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt\">rt</a>;", 
"}", 
"", 
"struct <a class=\"id\" href=\"#arg_dev_net\">arg_dev_net</a> {", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>;", 
"};", 
"", 
"static int <a class=\"id\" href=\"#fib6_ifdown\">fib6_ifdown</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, void *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a> = ((struct <a class=\"id\" href=\"#arg_dev_net\">arg_dev_net</a> *)<a class=\"id\" href=\"#arg\">arg</a>)-><a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = ((struct <a class=\"id\" href=\"#arg_dev_net\">arg_dev_net</a> *)<a class=\"id\" href=\"#arg\">arg</a>)-><a class=\"id\" href=\"#net\">net</a>;", 
"", 
"<span class=\"ts\"/>if (((void *)<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a> == <a class=\"id\" href=\"#dev\">dev</a> || <a class=\"id\" href=\"#dev\">dev</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) &&", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#rt\">rt</a> != <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#RT6_TRACE\">RT6_TRACE</a>(\"deleted by ifdown %p\\n\", <a class=\"id\" href=\"#rt\">rt</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -1;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"void <a class=\"id\" href=\"#rt6_ifdown\">rt6_ifdown</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>, struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#arg_dev_net\">arg_dev_net</a> <a class=\"id\" href=\"#adn\">adn</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/>};", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fib6_clean_all\">fib6_clean_all</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#fib6_ifdown\">fib6_ifdown</a>, 0, &amp;<a class=\"id\" href=\"#adn\">adn</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#icmp6_clean_all\">icmp6_clean_all</a>(<a class=\"id\" href=\"#fib6_ifdown\">fib6_ifdown</a>, &amp;<a class=\"id\" href=\"#adn\">adn</a>);", 
"}", 
"", 
"struct <a class=\"id\" href=\"#rt6_mtu_change_arg\">rt6_mtu_change_arg</a>", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/>unsigned <a class=\"id\" href=\"#mtu\">mtu</a>;", 
"};", 
"", 
"static int <a class=\"id\" href=\"#rt6_mtu_change_route\">rt6_mtu_change_route</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, void *<a class=\"id\" href=\"#p_arg\">p_arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_mtu_change_arg\">rt6_mtu_change_arg</a> *<a class=\"id\" href=\"#arg\">arg</a> = (struct <a class=\"id\" href=\"#rt6_mtu_change_arg\">rt6_mtu_change_arg</a> *) <a class=\"id\" href=\"#p_arg\">p_arg</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inet6_dev\">inet6_dev</a> *<a class=\"id\" href=\"#idev\">idev</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* In IPv6 pmtu discovery is not optional,</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   so that RTAX_MTU lock cannot disable it.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   We still use this lock to block changes</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   caused by addrconf/ndisc.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>*/</span>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#__in6_dev_get\">__in6_dev_get</a>(<a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#idev\">idev</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* For administrative MTU increase, there is no way to discover</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   IPv6 PMTU increase, so PMTU increase should be updated here.</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   Since RFC 1981 doesn't include administrative MTU increase</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   update PMTU increase is a MUST. (i.e. jumbo frame)</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   If new MTU is less than route PMTU, this new MTU will be the</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   lowest MTU in the path, update the route PMTU to reflect PMTU</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   decreases; if new MTU is greater than route PMTU, and the</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   old MTU is the lowest MTU in the path, update the route PMTU</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   to reflect the increase. In this case if the other nodes' MTU</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   also have the lowest MTU, TOO BIG MESSAGE will be lead to</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   PMTU discouvery.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a> == <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#dev\">dev</a> &&", 
"<span class=\"ts\"/>    !<a class=\"id\" href=\"#dst_metric_locked\">dst_metric_locked</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>, <a class=\"id\" href=\"#RTAX_MTU\">RTAX_MTU</a>) &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#dst_mtu\">dst_mtu</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>) >= <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#mtu\">mtu</a> ||", 
"<span class=\"ts\"/>     (<a class=\"id\" href=\"#dst_mtu\">dst_mtu</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>) &lt; <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#mtu\">mtu</a> &&", 
"<span class=\"ts\"/>      <a class=\"id\" href=\"#dst_mtu\">dst_mtu</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>) == <a class=\"id\" href=\"#idev\">idev</a>-><a class=\"id\" href=\"#cnf\">cnf</a>.<a class=\"id\" href=\"#mtu6\">mtu6</a>))) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_MTU\">RTAX_MTU</a>-1] = <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#mtu\">mtu</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>[<a class=\"id\" href=\"#RTAX_ADVMSS\">RTAX_ADVMSS</a>-1] = <a class=\"id\" href=\"#ipv6_advmss\">ipv6_advmss</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#mtu\">mtu</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"void <a class=\"id\" href=\"#rt6_mtu_change\">rt6_mtu_change</a>(struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>, unsigned <a class=\"id\" href=\"#mtu\">mtu</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_mtu_change_arg\">rt6_mtu_change_arg</a> <a class=\"id\" href=\"#arg\">arg</a> = {", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#dev\">dev</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mtu\">mtu</a> = <a class=\"id\" href=\"#mtu\">mtu</a>,", 
"<span class=\"ts\"/>};", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fib6_clean_all\">fib6_clean_all</a>(<a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>), <a class=\"id\" href=\"#rt6_mtu_change_route\">rt6_mtu_change_route</a>, 0, &amp;<a class=\"id\" href=\"#arg\">arg</a>);", 
"}", 
"", 
"static const struct <a class=\"id\" href=\"#nla_policy\">nla_policy</a> <a class=\"id\" href=\"#rtm_ipv6_policy\">rtm_ipv6_policy</a>[<a class=\"id\" href=\"#RTA_MAX\">RTA_MAX</a>+1] = {", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#RTA_GATEWAY\">RTA_GATEWAY</a>]           = { .<a class=\"id\" href=\"#len\">len</a> = sizeof(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a>) },", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#RTA_OIF\">RTA_OIF</a>]               = { .<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#NLA_U32\">NLA_U32</a> },", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#RTA_IIF\">RTA_IIF</a>]<span class=\"ts\"/><span class=\"ts\"/>= { .<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#NLA_U32\">NLA_U32</a> },", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#RTA_PRIORITY\">RTA_PRIORITY</a>]          = { .<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#NLA_U32\">NLA_U32</a> },", 
"<span class=\"ts\"/>[<a class=\"id\" href=\"#RTA_METRICS\">RTA_METRICS</a>]           = { .<a class=\"id\" href=\"#type\">type</a> = <a class=\"id\" href=\"#NLA_NESTED\">NLA_NESTED</a> },", 
"};", 
"", 
"static int <a class=\"id\" href=\"#rtm_to_fib6_config\">rtm_to_fib6_config</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#nlh\">nlh</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      struct <a class=\"id\" href=\"#fib6_config\">fib6_config</a> *<a class=\"id\" href=\"#cfg\">cfg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rtmsg\">rtmsg</a> *<a class=\"id\" href=\"#rtm\">rtm</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_MAX\">RTA_MAX</a>+1];", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#nlmsg_parse\">nlmsg_parse</a>(<a class=\"id\" href=\"#nlh\">nlh</a>, sizeof(*<a class=\"id\" href=\"#rtm\">rtm</a>), <a class=\"id\" href=\"#tb\">tb</a>, <a class=\"id\" href=\"#RTA_MAX\">RTA_MAX</a>, <a class=\"id\" href=\"#rtm_ipv6_policy\">rtm_ipv6_policy</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a> = <a class=\"id\" href=\"#nlmsg_data\">nlmsg_data</a>(<a class=\"id\" href=\"#nlh\">nlh</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(<a class=\"id\" href=\"#cfg\">cfg</a>, 0, sizeof(*<a class=\"id\" href=\"#cfg\">cfg</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_table\">fc_table</a> = <a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_table\">rtm_table</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst_len\">fc_dst_len</a> = <a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_dst_len\">rtm_dst_len</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src_len\">fc_src_len</a> = <a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_src_len\">rtm_src_len</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_flags\">fc_flags</a> = <a class=\"id\" href=\"#RTF_UP\">RTF_UP</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_protocol\">fc_protocol</a> = <a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_protocol\">rtm_protocol</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_type\">rtm_type</a> == <a class=\"id\" href=\"#RTN_UNREACHABLE\">RTN_UNREACHABLE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_flags\">fc_flags</a> |= <a class=\"id\" href=\"#RTF_REJECT\">RTF_REJECT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#pid\">pid</a> = <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#skb\">skb</a>).<a class=\"id\" href=\"#pid\">pid</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#nlh\">nlh</a> = <a class=\"id\" href=\"#nlh\">nlh</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_nlinfo\">fc_nlinfo</a>.<a class=\"id\" href=\"#nl_net\">nl_net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#skb\">skb</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_GATEWAY\">RTA_GATEWAY</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nla_memcpy\">nla_memcpy</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_gateway\">fc_gateway</a>, <a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_GATEWAY\">RTA_GATEWAY</a>], 16);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_flags\">fc_flags</a> |= <a class=\"id\" href=\"#RTF_GATEWAY\">RTF_GATEWAY</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_DST\">RTA_DST</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#plen\">plen</a> = (<a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_dst_len\">rtm_dst_len</a> + 7) >> 3;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nla_len\">nla_len</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_DST\">RTA_DST</a>]) &lt; <a class=\"id\" href=\"#plen\">plen</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nla_memcpy\">nla_memcpy</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_dst\">fc_dst</a>, <a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_DST\">RTA_DST</a>], <a class=\"id\" href=\"#plen\">plen</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_SRC\">RTA_SRC</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#plen\">plen</a> = (<a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_src_len\">rtm_src_len</a> + 7) >> 3;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nla_len\">nla_len</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_SRC\">RTA_SRC</a>]) &lt; <a class=\"id\" href=\"#plen\">plen</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#nla_memcpy\">nla_memcpy</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_src\">fc_src</a>, <a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_SRC\">RTA_SRC</a>], <a class=\"id\" href=\"#plen\">plen</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_OIF\">RTA_OIF</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_ifindex\">fc_ifindex</a> = <a class=\"id\" href=\"#nla_get_u32\">nla_get_u32</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_OIF\">RTA_OIF</a>]);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_PRIORITY\">RTA_PRIORITY</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_metric\">fc_metric</a> = <a class=\"id\" href=\"#nla_get_u32\">nla_get_u32</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_PRIORITY\">RTA_PRIORITY</a>]);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_METRICS\">RTA_METRICS</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_mx\">fc_mx</a> = <a class=\"id\" href=\"#nla_data\">nla_data</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_METRICS\">RTA_METRICS</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_mx_len\">fc_mx_len</a> = <a class=\"id\" href=\"#nla_len\">nla_len</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_METRICS\">RTA_METRICS</a>]);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_TABLE\">RTA_TABLE</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cfg\">cfg</a>-><a class=\"id\" href=\"#fc_table\">fc_table</a> = <a class=\"id\" href=\"#nla_get_u32\">nla_get_u32</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_TABLE\">RTA_TABLE</a>]);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = 0;", 
"<a class=\"id\" href=\"#errout\">errout</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#inet6_rtm_delroute\">inet6_rtm_delroute</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a>* <a class=\"id\" href=\"#nlh\">nlh</a>, void *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_config\">fib6_config</a> <a class=\"id\" href=\"#cfg\">cfg</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#rtm_to_fib6_config\">rtm_to_fib6_config</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#nlh\">nlh</a>, &amp;<a class=\"id\" href=\"#cfg\">cfg</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ip6_route_del\">ip6_route_del</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#inet6_rtm_newroute\">inet6_rtm_newroute</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a>* <a class=\"id\" href=\"#nlh\">nlh</a>, void *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fib6_config\">fib6_config</a> <a class=\"id\" href=\"#cfg\">cfg</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#rtm_to_fib6_config\">rtm_to_fib6_config</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#nlh\">nlh</a>, &amp;<a class=\"id\" href=\"#cfg\">cfg</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ip6_route_add\">ip6_route_add</a>(&amp;<a class=\"id\" href=\"#cfg\">cfg</a>);", 
"}", 
"", 
"static <a class=\"id\" href=\"#inline\">inline</a> <a class=\"id\" href=\"#size_t\">size_t</a> <a class=\"id\" href=\"#rt6_nlmsg_size\">rt6_nlmsg_size</a>(void)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NLMSG_ALIGN\">NLMSG_ALIGN</a>(sizeof(struct <a class=\"id\" href=\"#rtmsg\">rtmsg</a>))", 
"<span class=\"ts\"/>       + <a class=\"id\" href=\"#nla_total_size\">nla_total_size</a>(16) <span class=\"comment\">/* RTA_SRC */</span>", 
"<span class=\"ts\"/>       + <a class=\"id\" href=\"#nla_total_size\">nla_total_size</a>(16) <span class=\"comment\">/* RTA_DST */</span>", 
"<span class=\"ts\"/>       + <a class=\"id\" href=\"#nla_total_size\">nla_total_size</a>(16) <span class=\"comment\">/* RTA_GATEWAY */</span>", 
"<span class=\"ts\"/>       + <a class=\"id\" href=\"#nla_total_size\">nla_total_size</a>(16) <span class=\"comment\">/* RTA_PREFSRC */</span>", 
"<span class=\"ts\"/>       + <a class=\"id\" href=\"#nla_total_size\">nla_total_size</a>(4) <span class=\"comment\">/* RTA_TABLE */</span>", 
"<span class=\"ts\"/>       + <a class=\"id\" href=\"#nla_total_size\">nla_total_size</a>(4) <span class=\"comment\">/* RTA_IIF */</span>", 
"<span class=\"ts\"/>       + <a class=\"id\" href=\"#nla_total_size\">nla_total_size</a>(4) <span class=\"comment\">/* RTA_OIF */</span>", 
"<span class=\"ts\"/>       + <a class=\"id\" href=\"#nla_total_size\">nla_total_size</a>(4) <span class=\"comment\">/* RTA_PRIORITY */</span>", 
"<span class=\"ts\"/>       + <a class=\"id\" href=\"#RTAX_MAX\">RTAX_MAX</a> * <a class=\"id\" href=\"#nla_total_size\">nla_total_size</a>(4) <span class=\"comment\">/* RTA_METRICS */</span>", 
"<span class=\"ts\"/>       + <a class=\"id\" href=\"#nla_total_size\">nla_total_size</a>(sizeof(struct <a class=\"id\" href=\"#rta_cacheinfo\">rta_cacheinfo</a>));", 
"}", 
"", 
"static int <a class=\"id\" href=\"#rt6_fill_node\">rt6_fill_node</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>, struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#dst\">dst</a>, struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> *<a class=\"id\" href=\"#src\">src</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> int <a class=\"id\" href=\"#iif\">iif</a>, int <a class=\"id\" href=\"#type\">type</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#seq\">seq</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> int <a class=\"id\" href=\"#prefix\">prefix</a>, int <a class=\"id\" href=\"#nowait\">nowait</a>, unsigned int <a class=\"id\" href=\"#flags\">flags</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rtmsg\">rtmsg</a> *<a class=\"id\" href=\"#rtm\">rtm</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a> *<a class=\"id\" href=\"#nlh\">nlh</a>;", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#expires\">expires</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#table\">table</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#prefix\">prefix</a>) {<span class=\"ts\"/><span class=\"comment\">/* user wants prefix routes only */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_PREFIX_RT\">RTF_PREFIX_RT</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* success since this is not a prefix route */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlh\">nlh</a> = <a class=\"id\" href=\"#nlmsg_put\">nlmsg_put</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#seq\">seq</a>, <a class=\"id\" href=\"#type\">type</a>, sizeof(*<a class=\"id\" href=\"#rtm\">rtm</a>), <a class=\"id\" href=\"#flags\">flags</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nlh\">nlh</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EMSGSIZE\">EMSGSIZE</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a> = <a class=\"id\" href=\"#nlmsg_data\">nlmsg_data</a>(<a class=\"id\" href=\"#nlh\">nlh</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_family\">rtm_family</a> = <a class=\"id\" href=\"#AF_INET6\">AF_INET6</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_dst_len\">rtm_dst_len</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_src_len\">rtm_src_len</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>.<a class=\"id\" href=\"#plen\">plen</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_tos\">rtm_tos</a> = 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_table\">rt6i_table</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_table\">rt6i_table</a>-><a class=\"id\" href=\"#tb6_id\">tb6_id</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a> = <a class=\"id\" href=\"#RT6_TABLE_UNSPEC\">RT6_TABLE_UNSPEC</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_table\">rtm_table</a> = <a class=\"id\" href=\"#table\">table</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT_U32\">NLA_PUT_U32</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#RTA_TABLE\">RTA_TABLE</a>, <a class=\"id\" href=\"#table\">table</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a>&amp;<a class=\"id\" href=\"#RTF_REJECT\">RTF_REJECT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_type\">rtm_type</a> = <a class=\"id\" href=\"#RTN_UNREACHABLE\">RTN_UNREACHABLE</a>;", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a> && (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>-><a class=\"id\" href=\"#flags\">flags</a>&amp;<a class=\"id\" href=\"#IFF_LOOPBACK\">IFF_LOOPBACK</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_type\">rtm_type</a> = <a class=\"id\" href=\"#RTN_LOCAL\">RTN_LOCAL</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_type\">rtm_type</a> = <a class=\"id\" href=\"#RTN_UNICAST\">RTN_UNICAST</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_flags\">rtm_flags</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_scope\">rtm_scope</a> = <a class=\"id\" href=\"#RT_SCOPE_UNIVERSE\">RT_SCOPE_UNIVERSE</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_protocol\">rtm_protocol</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_protocol\">rt6i_protocol</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a>&amp;<a class=\"id\" href=\"#RTF_DYNAMIC\">RTF_DYNAMIC</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_protocol\">rtm_protocol</a> = <a class=\"id\" href=\"#RTPROT_REDIRECT\">RTPROT_REDIRECT</a>;", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_ADDRCONF\">RTF_ADDRCONF</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_protocol\">rtm_protocol</a> = <a class=\"id\" href=\"#RTPROT_KERNEL\">RTPROT_KERNEL</a>;", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a>&amp;<a class=\"id\" href=\"#RTF_DEFAULT\">RTF_DEFAULT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_protocol\">rtm_protocol</a> = <a class=\"id\" href=\"#RTPROT_RA\">RTPROT_RA</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a>&amp;<a class=\"id\" href=\"#RTF_CACHE\">RTF_CACHE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_flags\">rtm_flags</a> |= <a class=\"id\" href=\"#RTM_F_CLONED\">RTM_F_CLONED</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#dst\">dst</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT\">NLA_PUT</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#RTA_DST\">RTA_DST</a>, 16, <a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_dst_len\">rtm_dst_len</a> = 128;", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_dst_len\">rtm_dst_len</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT\">NLA_PUT</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#RTA_DST\">RTA_DST</a>, 16, &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#addr\">addr</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_SUBTREES\">CONFIG_IPV6_SUBTREES</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#src\">src</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT\">NLA_PUT</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#RTA_SRC\">RTA_SRC</a>, 16, <a class=\"id\" href=\"#src\">src</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_src_len\">rtm_src_len</a> = 128;", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_src_len\">rtm_src_len</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT\">NLA_PUT</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#RTA_SRC\">RTA_SRC</a>, 16, &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>.<a class=\"id\" href=\"#addr\">addr</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#iif\">iif</a>) {", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_MROUTE\">CONFIG_IPV6_MROUTE</a>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ipv6_addr_is_multicast\">ipv6_addr_is_multicast</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#addr\">addr</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#ip6mr_get_route\">ip6mr_get_route</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#rtm\">rtm</a>, <a class=\"id\" href=\"#nowait\">nowait</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> <= 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#nowait\">nowait</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> == -<a class=\"id\" href=\"#EMSGSIZE\">EMSGSIZE</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>} else", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT_U32\">NLA_PUT_U32</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#RTA_IIF\">RTA_IIF</a>, <a class=\"id\" href=\"#iif\">iif</a>);", 
"<span class=\"ts\"/>} else if (<a class=\"id\" href=\"#dst\">dst</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#inet6_dev\">inet6_dev</a> *<a class=\"id\" href=\"#idev\">idev</a> = <a class=\"id\" href=\"#ip6_dst_idev\">ip6_dst_idev</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a> <a class=\"id\" href=\"#saddr_buf\">saddr_buf</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ipv6_dev_get_saddr\">ipv6_dev_get_saddr</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#idev\">idev</a> ? <a class=\"id\" href=\"#idev\">idev</a>-><a class=\"id\" href=\"#dev\">dev</a> : <a class=\"id\" href=\"#NULL\">NULL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#dst\">dst</a>, 0, &amp;<a class=\"id\" href=\"#saddr_buf\">saddr_buf</a>) == 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT\">NLA_PUT</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#RTA_PREFSRC\">RTA_PREFSRC</a>, 16, &amp;<a class=\"id\" href=\"#saddr_buf\">saddr_buf</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rtnetlink_put_metrics\">rtnetlink_put_metrics</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#metrics\">metrics</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#neighbour\">neighbour</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT\">NLA_PUT</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#RTA_GATEWAY\">RTA_GATEWAY</a>, 16, &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#neighbour\">neighbour</a>-><a class=\"id\" href=\"#primary_key\">primary_key</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT_U32\">NLA_PUT_U32</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#RTA_OIF\">RTA_OIF</a>, <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>-><a class=\"id\" href=\"#ifindex\">ifindex</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#NLA_PUT_U32\">NLA_PUT_U32</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#RTA_PRIORITY\">RTA_PRIORITY</a>, <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a>);", 
"", 
"<span class=\"ts\"/>if (!(<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a> &amp; <a class=\"id\" href=\"#RTF_EXPIRES\">RTF_EXPIRES</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#expires\">expires</a> = 0;", 
"<span class=\"ts\"/>else if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_expires\">rt6i_expires</a> - <a class=\"id\" href=\"#jiffies\">jiffies</a> &lt; <a class=\"id\" href=\"#INT_MAX\">INT_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#expires\">expires</a> = <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_expires\">rt6i_expires</a> - <a class=\"id\" href=\"#jiffies\">jiffies</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#expires\">expires</a> = <a class=\"id\" href=\"#INT_MAX\">INT_MAX</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rtnl_put_cacheinfo\">rtnl_put_cacheinfo</a>(<a class=\"id\" href=\"#skb\">skb</a>, &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>, 0, 0, 0,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#expires\">expires</a>, <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#error\">error</a>) &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#nlmsg_end\">nlmsg_end</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#nlh\">nlh</a>);", 
"", 
"<a class=\"id\" href=\"#nla_put_failure\">nla_put_failure</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#nlmsg_cancel\">nlmsg_cancel</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#nlh\">nlh</a>);", 
"<span class=\"ts\"/>return -<a class=\"id\" href=\"#EMSGSIZE\">EMSGSIZE</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#rt6_dump_route\">rt6_dump_route</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, void *<a class=\"id\" href=\"#p_arg\">p_arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_rtnl_dump_arg\">rt6_rtnl_dump_arg</a> *<a class=\"id\" href=\"#arg\">arg</a> = (struct <a class=\"id\" href=\"#rt6_rtnl_dump_arg\">rt6_rtnl_dump_arg</a> *) <a class=\"id\" href=\"#p_arg\">p_arg</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#prefix\">prefix</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#nlmsg_len\">nlmsg_len</a>(<a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>) >= sizeof(struct <a class=\"id\" href=\"#rtmsg\">rtmsg</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#rtmsg\">rtmsg</a> *<a class=\"id\" href=\"#rtm\">rtm</a> = <a class=\"id\" href=\"#nlmsg_data\">nlmsg_data</a>(<a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#prefix\">prefix</a> = (<a class=\"id\" href=\"#rtm\">rtm</a>-><a class=\"id\" href=\"#rtm_flags\">rtm_flags</a> &amp; <a class=\"id\" href=\"#RTM_F_PREFIX\">RTM_F_PREFIX</a>) != 0;", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#prefix\">prefix</a> = 0;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rt6_fill_node\">rt6_fill_node</a>(<a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#net\">net</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, 0, <a class=\"id\" href=\"#RTM_NEWROUTE\">RTM_NEWROUTE</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#skb\">skb</a>).<a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#arg\">arg</a>-><a class=\"id\" href=\"#cb\">cb</a>-><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#prefix\">prefix</a>, 0, <a class=\"id\" href=\"#NLM_F_MULTI\">NLM_F_MULTI</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#inet6_rtm_getroute\">inet6_rtm_getroute</a>(struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#in_skb\">in_skb</a>, struct <a class=\"id\" href=\"#nlmsghdr\">nlmsghdr</a>* <a class=\"id\" href=\"#nlh\">nlh</a>, void *<a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#sock_net\">sock_net</a>(<a class=\"id\" href=\"#in_skb\">in_skb</a>-><a class=\"id\" href=\"#sk\">sk</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#nlattr\">nlattr</a> *<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_MAX\">RTA_MAX</a>+1];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#rtmsg\">rtmsg</a> *<a class=\"id\" href=\"#rtm\">rtm</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#flowi\">flowi</a> <a class=\"id\" href=\"#fl\">fl</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>, <a class=\"id\" href=\"#iif\">iif</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#nlmsg_parse\">nlmsg_parse</a>(<a class=\"id\" href=\"#nlh\">nlh</a>, sizeof(*<a class=\"id\" href=\"#rtm\">rtm</a>), <a class=\"id\" href=\"#tb\">tb</a>, <a class=\"id\" href=\"#RTA_MAX\">RTA_MAX</a>, <a class=\"id\" href=\"#rtm_ipv6_policy\">rtm_ipv6_policy</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memset\">memset</a>(&amp;<a class=\"id\" href=\"#fl\">fl</a>, 0, sizeof(<a class=\"id\" href=\"#fl\">fl</a>));", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_SRC\">RTA_SRC</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nla_len\">nla_len</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_SRC\">RTA_SRC</a>]) &lt; sizeof(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#fl\">fl</a>.<a class=\"id\" href=\"#fl6_src\">fl6_src</a>, <a class=\"id\" href=\"#nla_data\">nla_data</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_SRC\">RTA_SRC</a>]));", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_DST\">RTA_DST</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#nla_len\">nla_len</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_DST\">RTA_DST</a>]) &lt; sizeof(struct <a class=\"id\" href=\"#in6_addr\">in6_addr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ipv6_addr_copy\">ipv6_addr_copy</a>(&amp;<a class=\"id\" href=\"#fl\">fl</a>.<a class=\"id\" href=\"#fl6_dst\">fl6_dst</a>, <a class=\"id\" href=\"#nla_data\">nla_data</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_DST\">RTA_DST</a>]));", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_IIF\">RTA_IIF</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#iif\">iif</a> = <a class=\"id\" href=\"#nla_get_u32\">nla_get_u32</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_IIF\">RTA_IIF</a>]);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_OIF\">RTA_OIF</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fl\">fl</a>.<a class=\"id\" href=\"#oif\">oif</a> = <a class=\"id\" href=\"#nla_get_u32\">nla_get_u32</a>(<a class=\"id\" href=\"#tb\">tb</a>[<a class=\"id\" href=\"#RTA_OIF\">RTA_OIF</a>]);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#iif\">iif</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#__dev_get_by_index\">__dev_get_by_index</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#iif\">iif</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb\">skb</a> = <a class=\"id\" href=\"#alloc_skb\">alloc_skb</a>(<a class=\"id\" href=\"#NLMSG_GOODSIZE\">NLMSG_GOODSIZE</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#skb\">skb</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOBUFS\">ENOBUFS</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Reserve room for dummy headers, this skb can pass</span>", 
"<span class=\"comment\"><span class=\"ts\"/>   through good chunk of routing engine.</span>", 
"<span class=\"comment\"><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb_reset_mac_header\">skb_reset_mac_header</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb_reserve\">skb_reserve</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#MAX_HEADER\">MAX_HEADER</a> + sizeof(struct <a class=\"id\" href=\"#ipv6hdr\">ipv6hdr</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rt\">rt</a> = (struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a>*) <a class=\"id\" href=\"#ip6_route_output\">ip6_route_output</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb_dst_set\">skb_dst_set</a>(<a class=\"id\" href=\"#skb\">skb</a>, &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#rt6_fill_node\">rt6_fill_node</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#rt\">rt</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>.<a class=\"id\" href=\"#fl6_dst\">fl6_dst</a>, &amp;<a class=\"id\" href=\"#fl\">fl</a>.<a class=\"id\" href=\"#fl6_src\">fl6_src</a>, <a class=\"id\" href=\"#iif\">iif</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#RTM_NEWROUTE\">RTM_NEWROUTE</a>, <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#in_skb\">in_skb</a>).<a class=\"id\" href=\"#pid\">pid</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a>, 0, 0, 0);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree_skb\">kfree_skb</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#rtnl_unicast\">rtnl_unicast</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#NETLINK_CB\">NETLINK_CB</a>(<a class=\"id\" href=\"#in_skb\">in_skb</a>).<a class=\"id\" href=\"#pid\">pid</a>);", 
"<a class=\"id\" href=\"#errout\">errout</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"void <a class=\"id\" href=\"#inet6_rt_notify\">inet6_rt_notify</a>(int <a class=\"id\" href=\"#event\">event</a>, struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, struct <a class=\"id\" href=\"#nl_info\">nl_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#sk_buff\">sk_buff</a> *<a class=\"id\" href=\"#skb\">skb</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#nl_net\">nl_net</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#seq\">seq</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#ENOBUFS\">ENOBUFS</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq\">seq</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#nlh\">nlh</a> != <a class=\"id\" href=\"#NULL\">NULL</a> ? <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#nlh\">nlh</a>-><a class=\"id\" href=\"#nlmsg_seq\">nlmsg_seq</a> : 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#skb\">skb</a> = <a class=\"id\" href=\"#nlmsg_new\">nlmsg_new</a>(<a class=\"id\" href=\"#rt6_nlmsg_size\">rt6_nlmsg_size</a>(), <a class=\"id\" href=\"#gfp_any\">gfp_any</a>());", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#skb\">skb</a> == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#rt6_fill_node\">rt6_fill_node</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#rt\">rt</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, <a class=\"id\" href=\"#NULL\">NULL</a>, 0,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>, <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#seq\">seq</a>, 0, 0, 0);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* -EMSGSIZE implies BUG in rt6_nlmsg_size() */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#WARN_ON\">WARN_ON</a>(<a class=\"id\" href=\"#err\">err</a> == -<a class=\"id\" href=\"#EMSGSIZE\">EMSGSIZE</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree_skb\">kfree_skb</a>(<a class=\"id\" href=\"#skb\">skb</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#errout\">errout</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rtnl_notify\">rtnl_notify</a>(<a class=\"id\" href=\"#skb\">skb</a>, <a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#pid\">pid</a>, <a class=\"id\" href=\"#RTNLGRP_IPV6_ROUTE\">RTNLGRP_IPV6_ROUTE</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#nlh\">nlh</a>, <a class=\"id\" href=\"#gfp_any\">gfp_any</a>());", 
"<span class=\"ts\"/>return;", 
"<a class=\"id\" href=\"#errout\">errout</a>:", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> &lt; 0)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#rtnl_set_sk_err\">rtnl_set_sk_err</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#RTNLGRP_IPV6_ROUTE\">RTNLGRP_IPV6_ROUTE</a>, <a class=\"id\" href=\"#err\">err</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ip6_route_dev_notify\">ip6_route_dev_notify</a>(struct <a class=\"id\" href=\"#notifier_block\">notifier_block</a> *<a class=\"id\" href=\"#this\">this</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#event\">event</a>, void *<a class=\"id\" href=\"#data\">data</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net_device\">net_device</a> *<a class=\"id\" href=\"#dev\">dev</a> = (struct <a class=\"id\" href=\"#net_device\">net_device</a> *)<a class=\"id\" href=\"#data\">data</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#dev_net\">dev_net</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#event\">event</a> == <a class=\"id\" href=\"#NETDEV_REGISTER\">NETDEV_REGISTER</a> && (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#IFF_LOOPBACK\">IFF_LOOPBACK</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#in6_dev_get\">in6_dev_get</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_MULTIPLE_TABLES\">CONFIG_IPV6_MULTIPLE_TABLES</a>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#in6_dev_get\">in6_dev_get</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#dev\">dev</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#in6_dev_get\">in6_dev_get</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#NOTIFY_OK\">NOTIFY_OK</a>;", 
"}", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>/proc</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_PROC_FS\">CONFIG_PROC_FS</a>", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#RT6_INFO_LEN\">RT6_INFO_LEN</a> (32 + 4 + 32 + 4 + 32 + 40 + 5 + 1)", 
"", 
"struct <a class=\"id\" href=\"#rt6_proc_arg\">rt6_proc_arg</a>", 
"{", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#buffer\">buffer</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#offset\">offset</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#length\">length</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#skip\">skip</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#len\">len</a>;", 
"};", 
"", 
"static int <a class=\"id\" href=\"#rt6_info_route\">rt6_info_route</a>(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a> *<a class=\"id\" href=\"#rt\">rt</a>, void *<a class=\"id\" href=\"#p_arg\">p_arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#seq_file\">seq_file</a> *<a class=\"id\" href=\"#m\">m</a> = <a class=\"id\" href=\"#p_arg\">p_arg</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#m\">m</a>, \"%pi6 %02x \", &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dst\">rt6i_dst</a>.<a class=\"id\" href=\"#plen\">plen</a>);", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_SUBTREES\">CONFIG_IPV6_SUBTREES</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#m\">m</a>, \"%pi6 %02x \", &amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>.<a class=\"id\" href=\"#addr\">addr</a>, <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_src\">rt6i_src</a>.<a class=\"id\" href=\"#plen\">plen</a>);", 
"#else", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_puts\">seq_puts</a>(<a class=\"id\" href=\"#m\">m</a>, \"00000000000000000000000000000000 00 \");", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#m\">m</a>, \"%pi6\", <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_nexthop\">rt6i_nexthop</a>-><a class=\"id\" href=\"#primary_key\">primary_key</a>);", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#seq_puts\">seq_puts</a>(<a class=\"id\" href=\"#m\">m</a>, \"00000000000000000000000000000000\");", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#m\">m</a>, \" %08x %08x %08x %08x %8s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_metric\">rt6i_metric</a>, <a class=\"id\" href=\"#atomic_read\">atomic_read</a>(&amp;<a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#__refcnt\">__refcnt</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#__use\">__use</a>, <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_flags\">rt6i_flags</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a> ? <a class=\"id\" href=\"#rt\">rt</a>-><a class=\"id\" href=\"#rt6i_dev\">rt6i_dev</a>-><a class=\"id\" href=\"#name\">name</a> : \"\");", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ipv6_route_show\">ipv6_route_show</a>(struct <a class=\"id\" href=\"#seq_file\">seq_file</a> *<a class=\"id\" href=\"#m\">m</a>, void *<a class=\"id\" href=\"#v\">v</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = (struct <a class=\"id\" href=\"#net\">net</a> *)<a class=\"id\" href=\"#m\">m</a>-><a class=\"id\" href=\"#private\">private</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fib6_clean_all\">fib6_clean_all</a>(<a class=\"id\" href=\"#net\">net</a>, <a class=\"id\" href=\"#rt6_info_route\">rt6_info_route</a>, 0, <a class=\"id\" href=\"#m\">m</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#ipv6_route_open\">ipv6_route_open</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#single_open_net\">single_open_net</a>(<a class=\"id\" href=\"#inode\">inode</a>, <a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#ipv6_route_show\">ipv6_route_show</a>);", 
"}", 
"", 
"static const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> <a class=\"id\" href=\"#ipv6_route_proc_fops\">ipv6_route_proc_fops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#owner\">owner</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#THIS_MODULE\">THIS_MODULE</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#open\">open</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#ipv6_route_open\">ipv6_route_open</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#read\">read</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#seq_read\">seq_read</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#llseek\">llseek</a><span class=\"ts\"/><span class=\"ts\"/>= <a class=\"id\" href=\"#seq_lseek\">seq_lseek</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#release\">release</a><span class=\"ts\"/>= <a class=\"id\" href=\"#single_release_net\">single_release_net</a>,", 
"};", 
"", 
"static int <a class=\"id\" href=\"#rt6_stats_seq_show\">rt6_stats_seq_show</a>(struct <a class=\"id\" href=\"#seq_file\">seq_file</a> *<a class=\"id\" href=\"#seq\">seq</a>, void *<a class=\"id\" href=\"#v\">v</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = (struct <a class=\"id\" href=\"#net\">net</a> *)<a class=\"id\" href=\"#seq\">seq</a>-><a class=\"id\" href=\"#private\">private</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#seq_printf\">seq_printf</a>(<a class=\"id\" href=\"#seq\">seq</a>, \"%04x %04x %04x %04x %04x %04x %04x\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#rt6_stats\">rt6_stats</a>-><a class=\"id\" href=\"#fib_nodes\">fib_nodes</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#rt6_stats\">rt6_stats</a>-><a class=\"id\" href=\"#fib_route_nodes\">fib_route_nodes</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#rt6_stats\">rt6_stats</a>-><a class=\"id\" href=\"#fib_rt_alloc\">fib_rt_alloc</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#rt6_stats\">rt6_stats</a>-><a class=\"id\" href=\"#fib_rt_entries\">fib_rt_entries</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#rt6_stats\">rt6_stats</a>-><a class=\"id\" href=\"#fib_rt_cache\">fib_rt_cache</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#atomic_read\">atomic_read</a>(&amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>.<a class=\"id\" href=\"#entries\">entries</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#rt6_stats\">rt6_stats</a>-><a class=\"id\" href=\"#fib_discarded_routes\">fib_discarded_routes</a>);", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#rt6_stats_seq_open\">rt6_stats_seq_open</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>)", 
"{", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#single_open_net\">single_open_net</a>(<a class=\"id\" href=\"#inode\">inode</a>, <a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#rt6_stats_seq_show\">rt6_stats_seq_show</a>);", 
"}", 
"", 
"static const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> <a class=\"id\" href=\"#rt6_stats_seq_fops\">rt6_stats_seq_fops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#owner\">owner</a><span class=\"ts\"/> = <a class=\"id\" href=\"#THIS_MODULE\">THIS_MODULE</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#open\">open</a><span class=\"ts\"/> = <a class=\"id\" href=\"#rt6_stats_seq_open\">rt6_stats_seq_open</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#read\">read</a><span class=\"ts\"/> = <a class=\"id\" href=\"#seq_read\">seq_read</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#llseek\">llseek</a><span class=\"ts\"/> = <a class=\"id\" href=\"#seq_lseek\">seq_lseek</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#release\">release</a> = <a class=\"id\" href=\"#single_release_net\">single_release_net</a>,", 
"};", 
"#<a class=\"id\" href=\"#endif\">endif</a><span class=\"ts\"/><span class=\"comment\">/* CONFIG_PROC_FS */</span>", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_SYSCTL\">CONFIG_SYSCTL</a>", 
"", 
"static", 
"int <a class=\"id\" href=\"#ipv6_sysctl_rtcache_flush\">ipv6_sysctl_rtcache_flush</a>(<a class=\"id\" href=\"#ctl_table\">ctl_table</a> *<a class=\"id\" href=\"#ctl\">ctl</a>, int <a class=\"id\" href=\"#write\">write</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#buffer\">buffer</a>, <a class=\"id\" href=\"#size_t\">size_t</a> *<a class=\"id\" href=\"#lenp\">lenp</a>, <a class=\"id\" href=\"#loff_t\">loff_t</a> *<a class=\"id\" href=\"#ppos\">ppos</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a> = <a class=\"id\" href=\"#current\">current</a>-><a class=\"id\" href=\"#nsproxy\">nsproxy</a>-><a class=\"id\" href=\"#net_ns\">net_ns</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#delay\">delay</a> = <a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#flush_delay\">flush_delay</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#write\">write</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#proc_dointvec\">proc_dointvec</a>(<a class=\"id\" href=\"#ctl\">ctl</a>, <a class=\"id\" href=\"#write\">write</a>, <a class=\"id\" href=\"#buffer\">buffer</a>, <a class=\"id\" href=\"#lenp\">lenp</a>, <a class=\"id\" href=\"#ppos\">ppos</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fib6_run_gc\">fib6_run_gc</a>(<a class=\"id\" href=\"#delay\">delay</a> <= 0 ? ~0UL : (unsigned long)<a class=\"id\" href=\"#delay\">delay</a>, <a class=\"id\" href=\"#net\">net</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"}", 
"", 
"<a class=\"id\" href=\"#ctl_table\">ctl_table</a> <a class=\"id\" href=\"#ipv6_route_table_template\">ipv6_route_table_template</a>[] = {", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#procname\">procname</a><span class=\"ts\"/>=<span class=\"ts\"/>\"flush\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#data\">data</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#flush_delay\">flush_delay</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#maxlen\">maxlen</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>sizeof(int),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mode\">mode</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>0200,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proc_handler\">proc_handler</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#ipv6_sysctl_rtcache_flush\">ipv6_sysctl_rtcache_flush</a>", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#procname\">procname</a><span class=\"ts\"/>=<span class=\"ts\"/>\"gc_thresh\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#data\">data</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#ip6_dst_ops_template\">ip6_dst_ops_template</a>.<a class=\"id\" href=\"#gc_thresh\">gc_thresh</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#maxlen\">maxlen</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>sizeof(int),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mode\">mode</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>0644,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proc_handler\">proc_handler</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#proc_dointvec\">proc_dointvec</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#procname\">procname</a><span class=\"ts\"/>=<span class=\"ts\"/>\"max_size\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#data\">data</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_max_size\">ip6_rt_max_size</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#maxlen\">maxlen</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>sizeof(int),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mode\">mode</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>0644,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proc_handler\">proc_handler</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#proc_dointvec\">proc_dointvec</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#procname\">procname</a><span class=\"ts\"/>=<span class=\"ts\"/>\"gc_min_interval\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#data\">data</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_min_interval\">ip6_rt_gc_min_interval</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#maxlen\">maxlen</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>sizeof(int),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mode\">mode</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>0644,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proc_handler\">proc_handler</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#proc_dointvec_jiffies\">proc_dointvec_jiffies</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#procname\">procname</a><span class=\"ts\"/>=<span class=\"ts\"/>\"gc_timeout\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#data\">data</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_timeout\">ip6_rt_gc_timeout</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#maxlen\">maxlen</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>sizeof(int),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mode\">mode</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>0644,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proc_handler\">proc_handler</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#proc_dointvec_jiffies\">proc_dointvec_jiffies</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#procname\">procname</a><span class=\"ts\"/>=<span class=\"ts\"/>\"gc_interval\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#data\">data</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_interval\">ip6_rt_gc_interval</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#maxlen\">maxlen</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>sizeof(int),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mode\">mode</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>0644,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proc_handler\">proc_handler</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#proc_dointvec_jiffies\">proc_dointvec_jiffies</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#procname\">procname</a><span class=\"ts\"/>=<span class=\"ts\"/>\"gc_elasticity\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#data\">data</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_elasticity\">ip6_rt_gc_elasticity</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#maxlen\">maxlen</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>sizeof(int),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mode\">mode</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>0644,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proc_handler\">proc_handler</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#proc_dointvec\">proc_dointvec</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#procname\">procname</a><span class=\"ts\"/>=<span class=\"ts\"/>\"mtu_expires\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#data\">data</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_mtu_expires\">ip6_rt_mtu_expires</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#maxlen\">maxlen</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>sizeof(int),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mode\">mode</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>0644,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proc_handler\">proc_handler</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#proc_dointvec_jiffies\">proc_dointvec_jiffies</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#procname\">procname</a><span class=\"ts\"/>=<span class=\"ts\"/>\"min_adv_mss\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#data\">data</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_min_advmss\">ip6_rt_min_advmss</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#maxlen\">maxlen</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>sizeof(int),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mode\">mode</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>0644,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proc_handler\">proc_handler</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#proc_dointvec\">proc_dointvec</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#procname\">procname</a><span class=\"ts\"/>=<span class=\"ts\"/>\"gc_min_interval_ms\",", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#data\">data</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>&amp;<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_min_interval\">ip6_rt_gc_min_interval</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#maxlen\">maxlen</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>sizeof(int),", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#mode\">mode</a><span class=\"ts\"/><span class=\"ts\"/>=<span class=\"ts\"/>0644,", 
"<span class=\"ts\"/><span class=\"ts\"/>.<a class=\"id\" href=\"#proc_handler\">proc_handler</a><span class=\"ts\"/>=<span class=\"ts\"/><a class=\"id\" href=\"#proc_dointvec_ms_jiffies\">proc_dointvec_ms_jiffies</a>,", 
"<span class=\"ts\"/>},", 
"<span class=\"ts\"/>{ }", 
"};", 
"", 
"struct <a class=\"id\" href=\"#ctl_table\">ctl_table</a> * <a class=\"id\" href=\"#__net_init\">__net_init</a> <a class=\"id\" href=\"#ipv6_route_sysctl_init\">ipv6_route_sysctl_init</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#ctl_table\">ctl_table</a> *<a class=\"id\" href=\"#table\">table</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a> = <a class=\"id\" href=\"#kmemdup\">kmemdup</a>(<a class=\"id\" href=\"#ipv6_route_table_template\">ipv6_route_table_template</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>sizeof(<a class=\"id\" href=\"#ipv6_route_table_template\">ipv6_route_table_template</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#table\">table</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a>[0].<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#flush_delay\">flush_delay</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a>[1].<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>.<a class=\"id\" href=\"#gc_thresh\">gc_thresh</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a>[2].<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_max_size\">ip6_rt_max_size</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a>[3].<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_min_interval\">ip6_rt_gc_min_interval</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a>[4].<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_timeout\">ip6_rt_gc_timeout</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a>[5].<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_interval\">ip6_rt_gc_interval</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a>[6].<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_elasticity\">ip6_rt_gc_elasticity</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a>[7].<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_mtu_expires\">ip6_rt_mtu_expires</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a>[8].<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_min_advmss\">ip6_rt_min_advmss</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#table\">table</a>[9].<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_min_interval\">ip6_rt_gc_min_interval</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#table\">table</a>;", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static int <a class=\"id\" href=\"#__net_init\">__net_init</a> <a class=\"id\" href=\"#ip6_route_net_init\">ip6_route_net_init</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#memcpy\">memcpy</a>(&amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>, &amp;<a class=\"id\" href=\"#ip6_dst_ops_template\">ip6_dst_ops_template</a>,", 
"<span class=\"ts\"/>       sizeof(<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a> = <a class=\"id\" href=\"#kmemdup\">kmemdup</a>(&amp;<a class=\"id\" href=\"#ip6_null_entry_template\">ip6_null_entry_template</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   sizeof(*<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>   <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_ip6_dst_ops\">out_ip6_dst_ops</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#path\">path</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *)<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#ops\">ops</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>;", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_MULTIPLE_TABLES\">CONFIG_IPV6_MULTIPLE_TABLES</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a> = <a class=\"id\" href=\"#kmemdup\">kmemdup</a>(&amp;<a class=\"id\" href=\"#ip6_prohibit_entry_template\">ip6_prohibit_entry_template</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       sizeof(*<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_ip6_null_entry\">out_ip6_null_entry</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#path\">path</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *)<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#ops\">ops</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a> = <a class=\"id\" href=\"#kmemdup\">kmemdup</a>(&amp;<a class=\"id\" href=\"#ip6_blk_hole_entry_template\">ip6_blk_hole_entry_template</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       sizeof(*<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_ip6_prohibit_entry\">out_ip6_prohibit_entry</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#path\">path</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/>(struct <a class=\"id\" href=\"#dst_entry\">dst_entry</a> *)<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#ops\">ops</a> = &amp;<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_dst_ops\">ip6_dst_ops</a>;", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#flush_delay\">flush_delay</a> = 0;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_max_size\">ip6_rt_max_size</a> = 4096;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_min_interval\">ip6_rt_gc_min_interval</a> = <a class=\"id\" href=\"#HZ\">HZ</a> / 2;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_timeout\">ip6_rt_gc_timeout</a> = 60*<a class=\"id\" href=\"#HZ\">HZ</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_interval\">ip6_rt_gc_interval</a> = 30*<a class=\"id\" href=\"#HZ\">HZ</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_gc_elasticity\">ip6_rt_gc_elasticity</a> = 9;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_mtu_expires\">ip6_rt_mtu_expires</a> = 10*60*<a class=\"id\" href=\"#HZ\">HZ</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#sysctl\">sysctl</a>.<a class=\"id\" href=\"#ip6_rt_min_advmss\">ip6_rt_min_advmss</a> = <a class=\"id\" href=\"#IPV6_MIN_MTU\">IPV6_MIN_MTU</a> - 20 - 40;", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_PROC_FS\">CONFIG_PROC_FS</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#proc_net_fops_create\">proc_net_fops_create</a>(<a class=\"id\" href=\"#net\">net</a>, \"ipv6_route\", 0, &amp;<a class=\"id\" href=\"#ipv6_route_proc_fops\">ipv6_route_proc_fops</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#proc_net_fops_create\">proc_net_fops_create</a>(<a class=\"id\" href=\"#net\">net</a>, \"rt6_stats\", <a class=\"id\" href=\"#S_IRUGO\">S_IRUGO</a>, &amp;<a class=\"id\" href=\"#rt6_stats_seq_fops\">rt6_stats_seq_fops</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_rt_gc_expire\">ip6_rt_gc_expire</a> = 30*<a class=\"id\" href=\"#HZ\">HZ</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_MULTIPLE_TABLES\">CONFIG_IPV6_MULTIPLE_TABLES</a>", 
"<a class=\"id\" href=\"#out_ip6_prohibit_entry\">out_ip6_prohibit_entry</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>);", 
"<a class=\"id\" href=\"#out_ip6_null_entry\">out_ip6_null_entry</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<a class=\"id\" href=\"#out_ip6_dst_ops\">out_ip6_dst_ops</a>:", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#__net_exit\">__net_exit</a> <a class=\"id\" href=\"#ip6_route_net_exit\">ip6_route_net_exit</a>(struct <a class=\"id\" href=\"#net\">net</a> *<a class=\"id\" href=\"#net\">net</a>)", 
"{", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_PROC_FS\">CONFIG_PROC_FS</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#proc_net_remove\">proc_net_remove</a>(<a class=\"id\" href=\"#net\">net</a>, \"ipv6_route\");", 
"<span class=\"ts\"/><a class=\"id\" href=\"#proc_net_remove\">proc_net_remove</a>(<a class=\"id\" href=\"#net\">net</a>, \"rt6_stats\");", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>);", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_MULTIPLE_TABLES\">CONFIG_IPV6_MULTIPLE_TABLES</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#net\">net</a>-><a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"}", 
"", 
"static struct <a class=\"id\" href=\"#pernet_operations\">pernet_operations</a> <a class=\"id\" href=\"#ip6_route_net_ops\">ip6_route_net_ops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#init\">init</a> = <a class=\"id\" href=\"#ip6_route_net_init\">ip6_route_net_init</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#exit\">exit</a> = <a class=\"id\" href=\"#ip6_route_net_exit\">ip6_route_net_exit</a>,", 
"};", 
"", 
"static struct <a class=\"id\" href=\"#notifier_block\">notifier_block</a> <a class=\"id\" href=\"#ip6_route_dev_notifier\">ip6_route_dev_notifier</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#notifier_call\">notifier_call</a> = <a class=\"id\" href=\"#ip6_route_dev_notify\">ip6_route_dev_notify</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#priority\">priority</a> = 0,", 
"};", 
"", 
"int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#ip6_route_init\">ip6_route_init</a>(void)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_ops_template\">ip6_dst_ops_template</a>.<a class=\"id\" href=\"#kmem_cachep\">kmem_cachep</a> =", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kmem_cache_create\">kmem_cache_create</a>(\"ip6_dst_cache\", sizeof(struct <a class=\"id\" href=\"#rt6_info\">rt6_info</a>), 0,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#SLAB_HWCACHE_ALIGN\">SLAB_HWCACHE_ALIGN</a>, <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#ip6_dst_ops_template\">ip6_dst_ops_template</a>.<a class=\"id\" href=\"#kmem_cachep\">kmem_cachep</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#register_pernet_subsys\">register_pernet_subsys</a>(&amp;<a class=\"id\" href=\"#ip6_route_net_ops\">ip6_route_net_ops</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_kmem_cache\">out_kmem_cache</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ip6_dst_blackhole_ops\">ip6_dst_blackhole_ops</a>.<a class=\"id\" href=\"#kmem_cachep\">kmem_cachep</a> = <a class=\"id\" href=\"#ip6_dst_ops_template\">ip6_dst_ops_template</a>.<a class=\"id\" href=\"#kmem_cachep\">kmem_cachep</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Registering of the loopback is done before this portion of code,</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * the loopback reference in rt6_info will not be taken, do it</span>", 
"<span class=\"comment\"><span class=\"ts\"/> * manually for init_net */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_null_entry\">ip6_null_entry</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#in6_dev_get\">in6_dev_get</a>(<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>);", 
"  #<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_IPV6_MULTIPLE_TABLES\">CONFIG_IPV6_MULTIPLE_TABLES</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_prohibit_entry\">ip6_prohibit_entry</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#in6_dev_get\">in6_dev_get</a>(<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a>-><a class=\"id\" href=\"#dst\">dst</a>.<a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#ipv6\">ipv6</a>.<a class=\"id\" href=\"#ip6_blk_hole_entry\">ip6_blk_hole_entry</a>-><a class=\"id\" href=\"#rt6i_idev\">rt6i_idev</a> = <a class=\"id\" href=\"#in6_dev_get\">in6_dev_get</a>(<a class=\"id\" href=\"#init_net\">init_net</a>.<a class=\"id\" href=\"#loopback_dev\">loopback_dev</a>);", 
"  #<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fib6_init\">fib6_init</a>();", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_register_subsys\">out_register_subsys</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#xfrm6_init\">xfrm6_init</a>();", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out_fib6_init\">out_fib6_init</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fib6_rules_init\">fib6_rules_init</a>();", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#xfrm6_init\">xfrm6_init</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENOBUFS\">ENOBUFS</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#__rtnl_register\">__rtnl_register</a>(<a class=\"id\" href=\"#PF_INET6\">PF_INET6</a>, <a class=\"id\" href=\"#RTM_NEWROUTE\">RTM_NEWROUTE</a>, <a class=\"id\" href=\"#inet6_rtm_newroute\">inet6_rtm_newroute</a>, <a class=\"id\" href=\"#NULL\">NULL</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__rtnl_register\">__rtnl_register</a>(<a class=\"id\" href=\"#PF_INET6\">PF_INET6</a>, <a class=\"id\" href=\"#RTM_DELROUTE\">RTM_DELROUTE</a>, <a class=\"id\" href=\"#inet6_rtm_delroute\">inet6_rtm_delroute</a>, <a class=\"id\" href=\"#NULL\">NULL</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#__rtnl_register\">__rtnl_register</a>(<a class=\"id\" href=\"#PF_INET6\">PF_INET6</a>, <a class=\"id\" href=\"#RTM_GETROUTE\">RTM_GETROUTE</a>, <a class=\"id\" href=\"#inet6_rtm_getroute\">inet6_rtm_getroute</a>, <a class=\"id\" href=\"#NULL\">NULL</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#fib6_rules_init\">fib6_rules_init</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#register_netdevice_notifier\">register_netdevice_notifier</a>(&amp;<a class=\"id\" href=\"#ip6_route_dev_notifier\">ip6_route_dev_notifier</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#fib6_rules_init\">fib6_rules_init</a>;", 
"", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"", 
"<a class=\"id\" href=\"#fib6_rules_init\">fib6_rules_init</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fib6_rules_cleanup\">fib6_rules_cleanup</a>();", 
"<a class=\"id\" href=\"#xfrm6_init\">xfrm6_init</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#xfrm6_fini\">xfrm6_fini</a>();", 
"<a class=\"id\" href=\"#out_fib6_init\">out_fib6_init</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fib6_gc_cleanup\">fib6_gc_cleanup</a>();", 
"<a class=\"id\" href=\"#out_register_subsys\">out_register_subsys</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unregister_pernet_subsys\">unregister_pernet_subsys</a>(&amp;<a class=\"id\" href=\"#ip6_route_net_ops\">ip6_route_net_ops</a>);", 
"<a class=\"id\" href=\"#out_kmem_cache\">out_kmem_cache</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kmem_cache_destroy\">kmem_cache_destroy</a>(<a class=\"id\" href=\"#ip6_dst_ops_template\">ip6_dst_ops_template</a>.<a class=\"id\" href=\"#kmem_cachep\">kmem_cachep</a>);", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"}", 
"", 
"void <a class=\"id\" href=\"#ip6_route_cleanup\">ip6_route_cleanup</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unregister_netdevice_notifier\">unregister_netdevice_notifier</a>(&amp;<a class=\"id\" href=\"#ip6_route_dev_notifier\">ip6_route_dev_notifier</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fib6_rules_cleanup\">fib6_rules_cleanup</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#xfrm6_fini\">xfrm6_fini</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fib6_gc_cleanup\">fib6_gc_cleanup</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unregister_pernet_subsys\">unregister_pernet_subsys</a>(&amp;<a class=\"id\" href=\"#ip6_route_net_ops\">ip6_route_net_ops</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kmem_cache_destroy\">kmem_cache_destroy</a>(<a class=\"id\" href=\"#ip6_dst_ops_template\">ip6_dst_ops_template</a>.<a class=\"id\" href=\"#kmem_cachep\">kmem_cachep</a>);", 
"}", 
];
xr_frag_insert('l/f4/a5c21a789d87a9d60ac200c36e0987983e45da.xr', __xr_tmp);
