var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> *  LEDs triggers for power supply class</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Copyright © 2007  Anton Vorontsov &lt;cbou@mail.ru&gt;</span>", 
"<span class=\"comment\"> *  Copyright © 2004  Szabolcs Gyurko</span>", 
"<span class=\"comment\"> *  Copyright © 2003  Ian Molton &lt;spyro@f2s.com&gt;</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  Modified: 2004, Oct     Szabolcs Gyurko</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *  You may use this code as per GPL version 2</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#power_supply\">power_supply</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#slab\">slab</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> \"power_supply.h\"", 
"", 
"<span class=\"comment\">/* Battery specific LEDs triggers. */</span>", 
"", 
"static void <a class=\"id\" href=\"#power_supply_update_bat_leds\">power_supply_update_bat_leds</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>)", 
"{", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#power_supply_propval\">power_supply_propval</a> <a class=\"id\" href=\"#status\">status</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#get_property\">get_property</a>(<a class=\"id\" href=\"#psy\">psy</a>, <a class=\"id\" href=\"#POWER_SUPPLY_PROP_STATUS\">POWER_SUPPLY_PROP_STATUS</a>, &amp;<a class=\"id\" href=\"#status\">status</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_dbg\">dev_dbg</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#dev\">dev</a>, \"%s %d\\n\", <a class=\"id\" href=\"#__func__\">__func__</a>, <a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#intval\">intval</a>);", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#status\">status</a>.<a class=\"id\" href=\"#intval\">intval</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_STATUS_FULL\">POWER_SUPPLY_STATUS_FULL</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_full_trig\">charging_full_trig</a>, <a class=\"id\" href=\"#LED_FULL\">LED_FULL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_trig\">charging_trig</a>, <a class=\"id\" href=\"#LED_OFF\">LED_OFF</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#full_trig\">full_trig</a>, <a class=\"id\" href=\"#LED_FULL\">LED_FULL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#POWER_SUPPLY_STATUS_CHARGING\">POWER_SUPPLY_STATUS_CHARGING</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_full_trig\">charging_full_trig</a>, <a class=\"id\" href=\"#LED_FULL\">LED_FULL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_trig\">charging_trig</a>, <a class=\"id\" href=\"#LED_FULL\">LED_FULL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#full_trig\">full_trig</a>, <a class=\"id\" href=\"#LED_OFF\">LED_OFF</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_full_trig\">charging_full_trig</a>, <a class=\"id\" href=\"#LED_OFF\">LED_OFF</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_trig\">charging_trig</a>, <a class=\"id\" href=\"#LED_OFF\">LED_OFF</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#full_trig\">full_trig</a>, <a class=\"id\" href=\"#LED_OFF\">LED_OFF</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"}", 
"", 
"static int <a class=\"id\" href=\"#power_supply_create_bat_triggers\">power_supply_create_bat_triggers</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rc\">rc</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_full_trig_name\">charging_full_trig_name</a> = <a class=\"id\" href=\"#kasprintf\">kasprintf</a>(<a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"%s-charging-or-full\", <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_full_trig_name\">charging_full_trig_name</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#charging_full_failed\">charging_full_failed</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_trig_name\">charging_trig_name</a> = <a class=\"id\" href=\"#kasprintf\">kasprintf</a>(<a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"%s-charging\", <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_trig_name\">charging_trig_name</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#charging_failed\">charging_failed</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#full_trig_name\">full_trig_name</a> = <a class=\"id\" href=\"#kasprintf\">kasprintf</a>(<a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>, \"%s-full\", <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#full_trig_name\">full_trig_name</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#full_failed\">full_failed</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_register_simple\">led_trigger_register_simple</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_full_trig_name\">charging_full_trig_name</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    &amp;<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_full_trig\">charging_full_trig</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_register_simple\">led_trigger_register_simple</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_trig_name\">charging_trig_name</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    &amp;<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_trig\">charging_trig</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_register_simple\">led_trigger_register_simple</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#full_trig_name\">full_trig_name</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    &amp;<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#full_trig\">full_trig</a>);", 
"", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#success\">success</a>;", 
"", 
"<a class=\"id\" href=\"#full_failed\">full_failed</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_trig_name\">charging_trig_name</a>);", 
"<a class=\"id\" href=\"#charging_failed\">charging_failed</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_full_trig_name\">charging_full_trig_name</a>);", 
"<a class=\"id\" href=\"#charging_full_failed\">charging_full_failed</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<a class=\"id\" href=\"#success\">success</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#power_supply_remove_bat_triggers\">power_supply_remove_bat_triggers</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_unregister_simple\">led_trigger_unregister_simple</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_full_trig\">charging_full_trig</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_unregister_simple\">led_trigger_unregister_simple</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_trig\">charging_trig</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_unregister_simple\">led_trigger_unregister_simple</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#full_trig\">full_trig</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#full_trig_name\">full_trig_name</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_trig_name\">charging_trig_name</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#charging_full_trig_name\">charging_full_trig_name</a>);", 
"}", 
"", 
"<span class=\"comment\">/* Generated power specific LEDs triggers. */</span>", 
"", 
"static void <a class=\"id\" href=\"#power_supply_update_gen_leds\">power_supply_update_gen_leds</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>)", 
"{", 
"<span class=\"ts\"/>union <a class=\"id\" href=\"#power_supply_propval\">power_supply_propval</a> <a class=\"id\" href=\"#online\">online</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#get_property\">get_property</a>(<a class=\"id\" href=\"#psy\">psy</a>, <a class=\"id\" href=\"#POWER_SUPPLY_PROP_ONLINE\">POWER_SUPPLY_PROP_ONLINE</a>, &amp;<a class=\"id\" href=\"#online\">online</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dev_dbg\">dev_dbg</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#dev\">dev</a>, \"%s %d\\n\", <a class=\"id\" href=\"#__func__\">__func__</a>, <a class=\"id\" href=\"#online\">online</a>.<a class=\"id\" href=\"#intval\">intval</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#online\">online</a>.<a class=\"id\" href=\"#intval\">intval</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#online_trig\">online_trig</a>, <a class=\"id\" href=\"#LED_FULL\">LED_FULL</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_event\">led_trigger_event</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#online_trig\">online_trig</a>, <a class=\"id\" href=\"#LED_OFF\">LED_OFF</a>);", 
"}", 
"", 
"static int <a class=\"id\" href=\"#power_supply_create_gen_triggers\">power_supply_create_gen_triggers</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#rc\">rc</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#online_trig_name\">online_trig_name</a> = <a class=\"id\" href=\"#kasprintf\">kasprintf</a>(<a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>, \"%s-online\", <a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#name\">name</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#online_trig_name\">online_trig_name</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#online_failed\">online_failed</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_register_simple\">led_trigger_register_simple</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#online_trig_name\">online_trig_name</a>, &amp;<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#online_trig\">online_trig</a>);", 
"", 
"<span class=\"ts\"/>goto <a class=\"id\" href=\"#success\">success</a>;", 
"", 
"<a class=\"id\" href=\"#online_failed\">online_failed</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#rc\">rc</a> = -<a class=\"id\" href=\"#ENOMEM\">ENOMEM</a>;", 
"<a class=\"id\" href=\"#success\">success</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#rc\">rc</a>;", 
"}", 
"", 
"static void <a class=\"id\" href=\"#power_supply_remove_gen_triggers\">power_supply_remove_gen_triggers</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#led_trigger_unregister_simple\">led_trigger_unregister_simple</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#online_trig\">online_trig</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#online_trig_name\">online_trig_name</a>);", 
"}", 
"", 
"<span class=\"comment\">/* Choice what triggers to create&amp;update. */</span>", 
"", 
"void <a class=\"id\" href=\"#power_supply_update_leds\">power_supply_update_leds</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#POWER_SUPPLY_TYPE_BATTERY\">POWER_SUPPLY_TYPE_BATTERY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#power_supply_update_bat_leds\">power_supply_update_bat_leds</a>(<a class=\"id\" href=\"#psy\">psy</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#power_supply_update_gen_leds\">power_supply_update_gen_leds</a>(<a class=\"id\" href=\"#psy\">psy</a>);", 
"}", 
"", 
"int <a class=\"id\" href=\"#power_supply_create_triggers\">power_supply_create_triggers</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#POWER_SUPPLY_TYPE_BATTERY\">POWER_SUPPLY_TYPE_BATTERY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#power_supply_create_bat_triggers\">power_supply_create_bat_triggers</a>(<a class=\"id\" href=\"#psy\">psy</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#power_supply_create_gen_triggers\">power_supply_create_gen_triggers</a>(<a class=\"id\" href=\"#psy\">psy</a>);", 
"}", 
"", 
"void <a class=\"id\" href=\"#power_supply_remove_triggers\">power_supply_remove_triggers</a>(struct <a class=\"id\" href=\"#power_supply\">power_supply</a> *<a class=\"id\" href=\"#psy\">psy</a>)", 
"{", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#psy\">psy</a>-><a class=\"id\" href=\"#type\">type</a> == <a class=\"id\" href=\"#POWER_SUPPLY_TYPE_BATTERY\">POWER_SUPPLY_TYPE_BATTERY</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#power_supply_remove_bat_triggers\">power_supply_remove_bat_triggers</a>(<a class=\"id\" href=\"#psy\">psy</a>);", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#power_supply_remove_gen_triggers\">power_supply_remove_gen_triggers</a>(<a class=\"id\" href=\"#psy\">psy</a>);", 
"}", 
];
xr_frag_insert('l/f6/0114359b9c3283121e4ed6555701aa3666b6c1.xr', __xr_tmp);
