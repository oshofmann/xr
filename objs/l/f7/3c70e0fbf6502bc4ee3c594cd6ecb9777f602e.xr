var __xr_tmp = [
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * CompactPCI Hot Plug Driver PCI functions</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Copyright (C) 2002,2005 by SOMA Networks, Inc.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * All rights reserved.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This program is free software; you can redistribute it and/or modify</span>", 
"<span class=\"comment\"> * it under the terms of the GNU General Public License as published by</span>", 
"<span class=\"comment\"> * the Free Software Foundation; either version 2 of the License, or (at</span>", 
"<span class=\"comment\"> * your option) any later version.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * This program is distributed in the hope that it will be useful, but</span>", 
"<span class=\"comment\"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>", 
"<span class=\"comment\"> * MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, GOOD TITLE or</span>", 
"<span class=\"comment\"> * NON INFRINGEMENT.  See the GNU General Public License for more</span>", 
"<span class=\"comment\"> * details.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * You should have received a copy of the GNU General Public License</span>", 
"<span class=\"comment\"> * along with this program; if not, write to the Free Software</span>", 
"<span class=\"comment\"> * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * Send feedback to &lt;scottm@somanetworks.com&gt;</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#module\">module</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#kernel\">kernel</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#pci\">pci</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#pci_hotplug\">pci_hotplug</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> &lt;<a class=\"id\" href=\"#linux\">linux</a>/<a class=\"id\" href=\"#proc_fs\">proc_fs</a>.<a class=\"id\" href=\"#h\">h</a>&gt;", 
"#<a class=\"id\" href=\"#include\">include</a> \"../pci.h\"", 
"#<a class=\"id\" href=\"#include\">include</a> \"cpci_hotplug.h\"", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#MY_NAME\">MY_NAME</a><span class=\"ts\"/>\"cpci_hotplug\"", 
"", 
"extern int <a class=\"id\" href=\"#cpci_debug\">cpci_debug</a>;", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#dbg\">dbg</a>(<a class=\"id\" href=\"#format\">format</a>, <a class=\"id\" href=\"#arg\">arg</a>...)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>do {<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#cpci_debug\">cpci_debug</a>)<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a> (<a class=\"id\" href=\"#KERN_DEBUG\">KERN_DEBUG</a> \"%s: \" <a class=\"id\" href=\"#format\">format</a> \"\\n\",<span class=\"ts\"/>\\", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#MY_NAME\">MY_NAME</a> , ## <a class=\"id\" href=\"#arg\">arg</a>); <span class=\"ts\"/><span class=\"ts\"/>\\", 
"<span class=\"ts\"/>} while (0)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#err\">err</a>(<a class=\"id\" href=\"#format\">format</a>, <a class=\"id\" href=\"#arg\">arg</a>...) <a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"%s: \" <a class=\"id\" href=\"#format\">format</a> \"\\n\", <a class=\"id\" href=\"#MY_NAME\">MY_NAME</a> , ## <a class=\"id\" href=\"#arg\">arg</a>)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#info\">info</a>(<a class=\"id\" href=\"#format\">format</a>, <a class=\"id\" href=\"#arg\">arg</a>...) <a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_INFO\">KERN_INFO</a> \"%s: \" <a class=\"id\" href=\"#format\">format</a> \"\\n\", <a class=\"id\" href=\"#MY_NAME\">MY_NAME</a> , ## <a class=\"id\" href=\"#arg\">arg</a>)", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#warn\">warn</a>(<a class=\"id\" href=\"#format\">format</a>, <a class=\"id\" href=\"#arg\">arg</a>...) <a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> \"%s: \" <a class=\"id\" href=\"#format\">format</a> \"\\n\", <a class=\"id\" href=\"#MY_NAME\">MY_NAME</a> , ## <a class=\"id\" href=\"#arg\">arg</a>)", 
"", 
"", 
"<a class=\"id\" href=\"#u8\">u8</a> <a class=\"id\" href=\"#cpci_get_attention_status\">cpci_get_attention_status</a>(struct <a class=\"id\" href=\"#slot\">slot</a>* <a class=\"id\" href=\"#slot\">slot</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#hs_cap\">hs_cap</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#hs_csr\">hs_csr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hs_cap\">hs_cap</a> = <a class=\"id\" href=\"#pci_bus_find_capability\">pci_bus_find_capability</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#PCI_CAP_ID_CHSWP\">PCI_CAP_ID_CHSWP</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hs_cap\">hs_cap</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_read_config_word\">pci_bus_read_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     &amp;<a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#hs_csr\">hs_csr</a> &amp; 0x0008 ? 1 : 0;", 
"}", 
"", 
"int <a class=\"id\" href=\"#cpci_set_attention_status\">cpci_set_attention_status</a>(struct <a class=\"id\" href=\"#slot\">slot</a>* <a class=\"id\" href=\"#slot\">slot</a>, int <a class=\"id\" href=\"#status\">status</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#hs_cap\">hs_cap</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#hs_csr\">hs_csr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hs_cap\">hs_cap</a> = <a class=\"id\" href=\"#pci_bus_find_capability\">pci_bus_find_capability</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#PCI_CAP_ID_CHSWP\">PCI_CAP_ID_CHSWP</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hs_cap\">hs_cap</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_read_config_word\">pci_bus_read_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     &amp;<a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#status\">status</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hs_csr\">hs_csr</a> |= <a class=\"id\" href=\"#HS_CSR_LOO\">HS_CSR_LOO</a>;", 
"<span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hs_csr\">hs_csr</a> &= ~<a class=\"id\" href=\"#HS_CSR_LOO\">HS_CSR_LOO</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_write_config_word\">pci_bus_write_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>return 1;", 
"}", 
"", 
"<a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#cpci_get_hs_csr\">cpci_get_hs_csr</a>(struct <a class=\"id\" href=\"#slot\">slot</a>* <a class=\"id\" href=\"#slot\">slot</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#hs_cap\">hs_cap</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#hs_csr\">hs_csr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hs_cap\">hs_cap</a> = <a class=\"id\" href=\"#pci_bus_find_capability\">pci_bus_find_capability</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#PCI_CAP_ID_CHSWP\">PCI_CAP_ID_CHSWP</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hs_cap\">hs_cap</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0xFFFF;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_read_config_word\">pci_bus_read_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     &amp;<a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0xFFFF;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#hs_csr\">hs_csr</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#cpci_check_and_clear_ins\">cpci_check_and_clear_ins</a>(struct <a class=\"id\" href=\"#slot\">slot</a>* <a class=\"id\" href=\"#slot\">slot</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#hs_cap\">hs_cap</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#hs_csr\">hs_csr</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ins\">ins</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hs_cap\">hs_cap</a> = <a class=\"id\" href=\"#pci_bus_find_capability\">pci_bus_find_capability</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#PCI_CAP_ID_CHSWP\">PCI_CAP_ID_CHSWP</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hs_cap\">hs_cap</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_read_config_word\">pci_bus_read_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     &amp;<a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#hs_csr\">hs_csr</a> &amp; <a class=\"id\" href=\"#HS_CSR_INS\">HS_CSR_INS</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Clear INS (by setting it) */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_write_config_word\">pci_bus_write_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ins\">ins</a> = 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ins\">ins</a> = 1;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ins\">ins</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#cpci_check_ext\">cpci_check_ext</a>(struct <a class=\"id\" href=\"#slot\">slot</a>* <a class=\"id\" href=\"#slot\">slot</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#hs_cap\">hs_cap</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#hs_csr\">hs_csr</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#ext\">ext</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hs_cap\">hs_cap</a> = <a class=\"id\" href=\"#pci_bus_find_capability\">pci_bus_find_capability</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#PCI_CAP_ID_CHSWP\">PCI_CAP_ID_CHSWP</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hs_cap\">hs_cap</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_read_config_word\">pci_bus_read_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     &amp;<a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return 0;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#hs_csr\">hs_csr</a> &amp; <a class=\"id\" href=\"#HS_CSR_EXT\">HS_CSR_EXT</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ext\">ext</a> = 1;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ext\">ext</a>;", 
"}", 
"", 
"int <a class=\"id\" href=\"#cpci_clear_ext\">cpci_clear_ext</a>(struct <a class=\"id\" href=\"#slot\">slot</a>* <a class=\"id\" href=\"#slot\">slot</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#hs_cap\">hs_cap</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#hs_csr\">hs_csr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hs_cap\">hs_cap</a> = <a class=\"id\" href=\"#pci_bus_find_capability\">pci_bus_find_capability</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#PCI_CAP_ID_CHSWP\">PCI_CAP_ID_CHSWP</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hs_cap\">hs_cap</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_read_config_word\">pci_bus_read_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     &amp;<a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#hs_csr\">hs_csr</a> &amp; <a class=\"id\" href=\"#HS_CSR_EXT\">HS_CSR_EXT</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Clear EXT (by setting it) */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_write_config_word\">pci_bus_write_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"int <a class=\"id\" href=\"#cpci_led_on\">cpci_led_on</a>(struct <a class=\"id\" href=\"#slot\">slot</a>* <a class=\"id\" href=\"#slot\">slot</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#hs_cap\">hs_cap</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#hs_csr\">hs_csr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hs_cap\">hs_cap</a> = <a class=\"id\" href=\"#pci_bus_find_capability\">pci_bus_find_capability</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#PCI_CAP_ID_CHSWP\">PCI_CAP_ID_CHSWP</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hs_cap\">hs_cap</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_read_config_word\">pci_bus_read_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     &amp;<a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#hs_csr\">hs_csr</a> &amp; <a class=\"id\" href=\"#HS_CSR_LOO\">HS_CSR_LOO</a>) != <a class=\"id\" href=\"#HS_CSR_LOO\">HS_CSR_LOO</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hs_csr\">hs_csr</a> |= <a class=\"id\" href=\"#HS_CSR_LOO\">HS_CSR_LOO</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_write_config_word\">pci_bus_write_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hs_csr\">hs_csr</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>(\"Could not set LOO for slot %s\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#hotplug_slot_name\">hotplug_slot_name</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#hotplug_slot\">hotplug_slot</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"int <a class=\"id\" href=\"#cpci_led_off\">cpci_led_off</a>(struct <a class=\"id\" href=\"#slot\">slot</a>* <a class=\"id\" href=\"#slot\">slot</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#hs_cap\">hs_cap</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a> <a class=\"id\" href=\"#hs_csr\">hs_csr</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#hs_cap\">hs_cap</a> = <a class=\"id\" href=\"#pci_bus_find_capability\">pci_bus_find_capability</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#PCI_CAP_ID_CHSWP\">PCI_CAP_ID_CHSWP</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hs_cap\">hs_cap</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_read_config_word\">pci_bus_read_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     &amp;<a class=\"id\" href=\"#hs_csr\">hs_csr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#hs_csr\">hs_csr</a> &amp; <a class=\"id\" href=\"#HS_CSR_LOO\">HS_CSR_LOO</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#hs_csr\">hs_csr</a> &= ~<a class=\"id\" href=\"#HS_CSR_LOO\">HS_CSR_LOO</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#pci_bus_write_config_word\">pci_bus_write_config_word</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hs_cap\">hs_cap</a> + 2,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      <a class=\"id\" href=\"#hs_csr\">hs_csr</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>(\"Could not clear LOO for slot %s\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#hotplug_slot_name\">hotplug_slot_name</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#hotplug_slot\">hotplug_slot</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"", 
"<span class=\"comment\">/*</span>", 
"<span class=\"comment\"> * Device configuration functions</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"int <a class=\"id\" href=\"#__ref\">__ref</a> <a class=\"id\" href=\"#cpci_configure_slot\">cpci_configure_slot</a>(struct <a class=\"id\" href=\"#slot\">slot</a> *<a class=\"id\" href=\"#slot\">slot</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_bus\">pci_bus</a> *<a class=\"id\" href=\"#parent\">parent</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#fn\">fn</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"%s - enter\", <a class=\"id\" href=\"#__func__\">__func__</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#dev\">dev</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"pci_dev null, finding %02x:%02x:%x\",", 
"<span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>-><a class=\"id\" href=\"#number\">number</a>, <a class=\"id\" href=\"#PCI_SLOT\">PCI_SLOT</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>), <a class=\"id\" href=\"#PCI_FUNC\">PCI_FUNC</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#pci_get_slot\">pci_get_slot</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>, <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* Still NULL? Well then scan for it! */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#dev\">dev</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#n\">n</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"pci_dev still null\");", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/*</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * This will generate pci_dev structures for all functions, but</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> * we will only call this case when lookup fails.</span>", 
"<span class=\"comment\"><span class=\"ts\"/><span class=\"ts\"/> */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#n\">n</a> = <a class=\"id\" href=\"#pci_scan_slot\">pci_scan_slot</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>, <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"%s: pci_scan_slot returned %d\", <a class=\"id\" href=\"#__func__\">__func__</a>, <a class=\"id\" href=\"#n\">n</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#pci_get_slot\">pci_get_slot</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>, <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#dev\">dev</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>(\"Could not find PCI device for slot %02x\", <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#number\">number</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#parent\">parent</a> = <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#bus\">bus</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#fn\">fn</a> = 0; <a class=\"id\" href=\"#fn\">fn</a> &lt; 8; <a class=\"id\" href=\"#fn\">fn</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_dev\">pci_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#pci_get_slot\">pci_get_slot</a>(<a class=\"id\" href=\"#parent\">parent</a>, <a class=\"id\" href=\"#PCI_DEVFN\">PCI_DEVFN</a>(<a class=\"id\" href=\"#PCI_SLOT\">PCI_SLOT</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>), <a class=\"id\" href=\"#fn\">fn</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#dev\">dev</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/>if ((<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#hdr_type\">hdr_type</a> == <a class=\"id\" href=\"#PCI_HEADER_TYPE_BRIDGE\">PCI_HEADER_TYPE_BRIDGE</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/>    (<a class=\"id\" href=\"#dev\">dev</a>-><a class=\"id\" href=\"#hdr_type\">hdr_type</a> == <a class=\"id\" href=\"#PCI_HEADER_TYPE_CARDBUS\">PCI_HEADER_TYPE_CARDBUS</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Find an unused bus number for the new bridge */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_bus\">pci_bus</a> *<a class=\"id\" href=\"#child\">child</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>unsigned char <a class=\"id\" href=\"#busnr\">busnr</a>, <a class=\"id\" href=\"#start\">start</a> = <a class=\"id\" href=\"#parent\">parent</a>-><a class=\"id\" href=\"#secondary\">secondary</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>unsigned char <a class=\"id\" href=\"#end\">end</a> = <a class=\"id\" href=\"#parent\">parent</a>-><a class=\"id\" href=\"#subordinate\">subordinate</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#busnr\">busnr</a> = <a class=\"id\" href=\"#start\">start</a>; <a class=\"id\" href=\"#busnr\">busnr</a> <= <a class=\"id\" href=\"#end\">end</a>; <a class=\"id\" href=\"#busnr\">busnr</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#pci_find_bus\">pci_find_bus</a>(<a class=\"id\" href=\"#pci_domain_nr\">pci_domain_nr</a>(<a class=\"id\" href=\"#parent\">parent</a>),", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  <a class=\"id\" href=\"#busnr\">busnr</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#busnr\">busnr</a> >= <a class=\"id\" href=\"#end\">end</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>(\"No free bus for hot-added bridge\\n\");", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_dev_put\">pci_dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#child\">child</a> = <a class=\"id\" href=\"#pci_add_new_bus\">pci_add_new_bus</a>(<a class=\"id\" href=\"#parent\">parent</a>, <a class=\"id\" href=\"#dev\">dev</a>, <a class=\"id\" href=\"#busnr\">busnr</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#child\">child</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>(\"Cannot add new bus for %s\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#pci_name\">pci_name</a>(<a class=\"id\" href=\"#dev\">dev</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_dev_put\">pci_dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#child\">child</a>-><a class=\"id\" href=\"#subordinate\">subordinate</a> = <a class=\"id\" href=\"#pci_do_scan_bus\">pci_do_scan_bus</a>(<a class=\"id\" href=\"#child\">child</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_bus_size_bridges\">pci_bus_size_bridges</a>(<a class=\"id\" href=\"#child\">child</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_dev_put\">pci_dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_bus_assign_resources\">pci_bus_assign_resources</a>(<a class=\"id\" href=\"#parent\">parent</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_bus_add_devices\">pci_bus_add_devices</a>(<a class=\"id\" href=\"#parent\">parent</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_enable_bridges\">pci_enable_bridges</a>(<a class=\"id\" href=\"#parent\">parent</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"%s - exit\", <a class=\"id\" href=\"#__func__\">__func__</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"int <a class=\"id\" href=\"#cpci_unconfigure_slot\">cpci_unconfigure_slot</a>(struct <a class=\"id\" href=\"#slot\">slot</a>* <a class=\"id\" href=\"#slot\">slot</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#pci_dev\">pci_dev</a> *<a class=\"id\" href=\"#dev\">dev</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"%s - enter\", <a class=\"id\" href=\"#__func__\">__func__</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a>(\"No device for slot %02x\\n\", <a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#number\">number</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; 8; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#pci_get_slot\">pci_get_slot</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#bus\">bus</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#PCI_DEVFN\">PCI_DEVFN</a>(<a class=\"id\" href=\"#PCI_SLOT\">PCI_SLOT</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#devfn\">devfn</a>), <a class=\"id\" href=\"#i\">i</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#dev\">dev</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_remove_bus_device\">pci_remove_bus_device</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pci_dev_put\">pci_dev_put</a>(<a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#pci_dev_put\">pci_dev_put</a>(<a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#dev\">dev</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#slot\">slot</a>-><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#dbg\">dbg</a>(\"%s - exit\", <a class=\"id\" href=\"#__func__\">__func__</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
];
xr_frag_insert('l/f7/3c70e0fbf6502bc4ee3c594cd6ecb9777f602e.xr', __xr_tmp);
