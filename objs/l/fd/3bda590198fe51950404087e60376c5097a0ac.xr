var __xr_tmp = [
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#old_var\">old_var</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a> = *<a class=\"id\" href=\"#var\">var</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_set_par\">fb_set_par</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_set_par\">fb_set_par</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a> = <a class=\"id\" href=\"#old_var\">old_var</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> \"detected \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"fb_set_par error, \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>\"error code: %d\\n\", <a class=\"id\" href=\"#ret\">ret</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_pan_display\">fb_pan_display</a>(<a class=\"id\" href=\"#info\">info</a>, &amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_set_cmap\">fb_set_cmap</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#cmap\">cmap</a>, <a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_var_to_videomode\">fb_var_to_videomode</a>(&amp;<a class=\"id\" href=\"#mode\">mode</a>, &amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>.<a class=\"id\" href=\"#prev\">prev</a> && <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>.<a class=\"id\" href=\"#next\">next</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    !<a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb_add_videomode\">fb_add_videomode</a>(&amp;<a class=\"id\" href=\"#mode\">mode</a>, &amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a> && (<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#FBINFO_MISC_USEREVENT\">FBINFO_MISC_USEREVENT</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_event\">fb_event</a> <a class=\"id\" href=\"#event\">event</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#evnt\">evnt</a> = (<a class=\"id\" href=\"#activate\">activate</a> &amp; <a class=\"id\" href=\"#FB_ACTIVATE_ALL\">FB_ACTIVATE_ALL</a>) ?", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#FB_EVENT_MODE_CHANGE_ALL\">FB_EVENT_MODE_CHANGE_ALL</a> :", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#FB_EVENT_MODE_CHANGE\">FB_EVENT_MODE_CHANGE</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#flags\">flags</a> &= ~<a class=\"id\" href=\"#FBINFO_MISC_USEREVENT\">FBINFO_MISC_USEREVENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_notifier_call_chain\">fb_notifier_call_chain</a>(<a class=\"id\" href=\"#evnt\">evnt</a>, &amp;<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
" <a class=\"id\" href=\"#done\">done</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"int", 
"<a class=\"id\" href=\"#fb_blank\">fb_blank</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>, int <a class=\"id\" href=\"#blank\">blank</a>)", 
"{<span class=\"ts\"/>", 
" <span class=\"ts\"/>int <a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"", 
" <span class=\"ts\"/>if (<a class=\"id\" href=\"#blank\">blank</a> &gt; <a class=\"id\" href=\"#FB_BLANK_POWERDOWN\">FB_BLANK_POWERDOWN</a>)", 
" <span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#blank\">blank</a> = <a class=\"id\" href=\"#FB_BLANK_POWERDOWN\">FB_BLANK_POWERDOWN</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_blank\">fb_blank</a>)", 
" <span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_blank\">fb_blank</a>(<a class=\"id\" href=\"#blank\">blank</a>, <a class=\"id\" href=\"#info\">info</a>);", 
"", 
" <span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_event\">fb_event</a> <a class=\"id\" href=\"#event\">event</a>;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#blank\">blank</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_notifier_call_chain\">fb_notifier_call_chain</a>(<a class=\"id\" href=\"#FB_EVENT_BLANK\">FB_EVENT_BLANK</a>, &amp;<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/>}", 
"", 
" <span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"static long <a class=\"id\" href=\"#do_fb_ioctl\">do_fb_ioctl</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_ops\">fb_ops</a> *<a class=\"id\" href=\"#fb\">fb</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> <a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_fix_screeninfo\">fb_fix_screeninfo</a> <a class=\"id\" href=\"#fix\">fix</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_con2fbmap\">fb_con2fbmap</a> <a class=\"id\" href=\"#con2fb\">con2fb</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_cmap\">fb_cmap</a> <a class=\"id\" href=\"#cmap_from\">cmap_from</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_cmap_user\">fb_cmap_user</a> <a class=\"id\" href=\"#cmap\">cmap</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_event\">fb_event</a> <a class=\"id\" href=\"#event\">event</a>;", 
"<span class=\"ts\"/>void <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#argp\">argp</a> = (void <a class=\"id\" href=\"#__user\">__user</a> *)<a class=\"id\" href=\"#arg\">arg</a>;", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"", 
"<span class=\"ts\"/>switch (<a class=\"id\" href=\"#cmd\">cmd</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOGET_VSCREENINFO\">FBIOGET_VSCREENINFO</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#argp\">argp</a>, &amp;<a class=\"id\" href=\"#var\">var</a>, sizeof(<a class=\"id\" href=\"#var\">var</a>)) ? -<a class=\"id\" href=\"#EFAULT\">EFAULT</a> : 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOPUT_VSCREENINFO\">FBIOPUT_VSCREENINFO</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#var\">var</a>, <a class=\"id\" href=\"#argp\">argp</a>, sizeof(<a class=\"id\" href=\"#var\">var</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acquire_console_sem\">acquire_console_sem</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#FBINFO_MISC_USEREVENT\">FBINFO_MISC_USEREVENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb_set_var\">fb_set_var</a>(<a class=\"id\" href=\"#info\">info</a>, &amp;<a class=\"id\" href=\"#var\">var</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#flags\">flags</a> &= ~<a class=\"id\" href=\"#FBINFO_MISC_USEREVENT\">FBINFO_MISC_USEREVENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#release_console_sem\">release_console_sem</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#ret\">ret</a> && <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#argp\">argp</a>, &amp;<a class=\"id\" href=\"#var\">var</a>, sizeof(<a class=\"id\" href=\"#var\">var</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOGET_FSCREENINFO\">FBIOGET_FSCREENINFO</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fix\">fix</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#argp\">argp</a>, &amp;<a class=\"id\" href=\"#fix\">fix</a>, sizeof(<a class=\"id\" href=\"#fix\">fix</a>)) ? -<a class=\"id\" href=\"#EFAULT\">EFAULT</a> : 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOPUTCMAP\">FBIOPUTCMAP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#cmap\">cmap</a>, <a class=\"id\" href=\"#argp\">argp</a>, sizeof(<a class=\"id\" href=\"#cmap\">cmap</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb_set_user_cmap\">fb_set_user_cmap</a>(&amp;<a class=\"id\" href=\"#cmap\">cmap</a>, <a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOGETCMAP\">FBIOGETCMAP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#cmap\">cmap</a>, <a class=\"id\" href=\"#argp\">argp</a>, sizeof(<a class=\"id\" href=\"#cmap\">cmap</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#cmap_from\">cmap_from</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#cmap\">cmap</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb_cmap_to_user\">fb_cmap_to_user</a>(&amp;<a class=\"id\" href=\"#cmap_from\">cmap_from</a>, &amp;<a class=\"id\" href=\"#cmap\">cmap</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOPAN_DISPLAY\">FBIOPAN_DISPLAY</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#var\">var</a>, <a class=\"id\" href=\"#argp\">argp</a>, sizeof(<a class=\"id\" href=\"#var\">var</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acquire_console_sem\">acquire_console_sem</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb_pan_display\">fb_pan_display</a>(<a class=\"id\" href=\"#info\">info</a>, &amp;<a class=\"id\" href=\"#var\">var</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#release_console_sem\">release_console_sem</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a> == 0 && <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#argp\">argp</a>, &amp;<a class=\"id\" href=\"#var\">var</a>, sizeof(<a class=\"id\" href=\"#var\">var</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIO_CURSOR\">FBIO_CURSOR</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOGET_CON2FBMAP\">FBIOGET_CON2FBMAP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#con2fb\">con2fb</a>, <a class=\"id\" href=\"#argp\">argp</a>, sizeof(<a class=\"id\" href=\"#con2fb\">con2fb</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#con2fb\">con2fb</a>.<a class=\"id\" href=\"#console\">console</a> &lt; 1 || <a class=\"id\" href=\"#con2fb\">con2fb</a>.<a class=\"id\" href=\"#console\">console</a> &gt; <a class=\"id\" href=\"#MAX_NR_CONSOLES\">MAX_NR_CONSOLES</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#con2fb\">con2fb</a>.<a class=\"id\" href=\"#framebuffer\">framebuffer</a> = -1;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#con2fb\">con2fb</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_notifier_call_chain\">fb_notifier_call_chain</a>(<a class=\"id\" href=\"#FB_EVENT_GET_CONSOLE_MAP\">FB_EVENT_GET_CONSOLE_MAP</a>, &amp;<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#argp\">argp</a>, &amp;<a class=\"id\" href=\"#con2fb\">con2fb</a>, sizeof(<a class=\"id\" href=\"#con2fb\">con2fb</a>)) ? -<a class=\"id\" href=\"#EFAULT\">EFAULT</a> : 0;", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOPUT_CON2FBMAP\">FBIOPUT_CON2FBMAP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_from_user\">copy_from_user</a>(&amp;<a class=\"id\" href=\"#con2fb\">con2fb</a>, <a class=\"id\" href=\"#argp\">argp</a>, sizeof(<a class=\"id\" href=\"#con2fb\">con2fb</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#con2fb\">con2fb</a>.<a class=\"id\" href=\"#console\">console</a> &lt; 1 || <a class=\"id\" href=\"#con2fb\">con2fb</a>.<a class=\"id\" href=\"#console\">console</a> &gt; <a class=\"id\" href=\"#MAX_NR_CONSOLES\">MAX_NR_CONSOLES</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#con2fb\">con2fb</a>.<a class=\"id\" href=\"#framebuffer\">framebuffer</a> &lt; 0 || <a class=\"id\" href=\"#con2fb\">con2fb</a>.<a class=\"id\" href=\"#framebuffer\">framebuffer</a> >= <a class=\"id\" href=\"#FB_MAX\">FB_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#con2fb\">con2fb</a>.<a class=\"id\" href=\"#framebuffer\">framebuffer</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#request_module\">request_module</a>(\"fb%d\", <a class=\"id\" href=\"#con2fb\">con2fb</a>.<a class=\"id\" href=\"#framebuffer\">framebuffer</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#con2fb\">con2fb</a>.<a class=\"id\" href=\"#framebuffer\">framebuffer</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#data\">data</a> = &amp;<a class=\"id\" href=\"#con2fb\">con2fb</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb_notifier_call_chain\">fb_notifier_call_chain</a>(<a class=\"id\" href=\"#FB_EVENT_SET_CONSOLE_MAP\">FB_EVENT_SET_CONSOLE_MAP</a>, &amp;<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOBLANK\">FBIOBLANK</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#acquire_console_sem\">acquire_console_sem</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#FBINFO_MISC_USEREVENT\">FBINFO_MISC_USEREVENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb_blank\">fb_blank</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#flags\">flags</a> &= ~<a class=\"id\" href=\"#FBINFO_MISC_USEREVENT\">FBINFO_MISC_USEREVENT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#release_console_sem\">release_console_sem</a>();", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb\">fb</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#fb\">fb</a>-><a class=\"id\" href=\"#fb_ioctl\">fb_ioctl</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb\">fb</a>-><a class=\"id\" href=\"#fb_ioctl\">fb_ioctl</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>else", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENOTTY\">ENOTTY</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"static long <a class=\"id\" href=\"#fb_ioctl\">fb_ioctl</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>, unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a> = <a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#f_path\">f_path</a>.<a class=\"id\" href=\"#dentry\">dentry</a>-><a class=\"id\" href=\"#d_inode\">d_inode</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#fbidx\">fbidx</a> = <a class=\"id\" href=\"#iminor\">iminor</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#fbidx\">fbidx</a>];", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#do_fb_ioctl\">do_fb_ioctl</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_COMPAT\">CONFIG_COMPAT</a>", 
"struct <a class=\"id\" href=\"#fb_fix_screeninfo32\">fb_fix_screeninfo32</a> {", 
"<span class=\"ts\"/>char<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#id\">id</a>[16];", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_caddr_t\">compat_caddr_t</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#smem_start\">smem_start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#smem_len\">smem_len</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#type\">type</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#type_aux\">type_aux</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#visual\">visual</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#xpanstep\">xpanstep</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ypanstep\">ypanstep</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ywrapstep\">ywrapstep</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#line_length\">line_length</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_caddr_t\">compat_caddr_t</a><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mmio_start\">mmio_start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mmio_len\">mmio_len</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#accel\">accel</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u16\">u16</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#reserved\">reserved</a>[3];", 
"};", 
"", 
"struct <a class=\"id\" href=\"#fb_cmap32\">fb_cmap32</a> {", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_caddr_t\">compat_caddr_t</a><span class=\"ts\"/><a class=\"id\" href=\"#red\">red</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_caddr_t\">compat_caddr_t</a><span class=\"ts\"/><a class=\"id\" href=\"#green\">green</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_caddr_t\">compat_caddr_t</a><span class=\"ts\"/><a class=\"id\" href=\"#blue\">blue</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#compat_caddr_t\">compat_caddr_t</a><span class=\"ts\"/><a class=\"id\" href=\"#transp\">transp</a>;", 
"};", 
"", 
"static int <a class=\"id\" href=\"#fb_getput_cmap\">fb_getput_cmap</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_cmap_user\">fb_cmap_user</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#cmap\">cmap</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_cmap32\">fb_cmap32</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#cmap32\">cmap32</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__u32\">__u32</a> <a class=\"id\" href=\"#data\">data</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmap\">cmap</a> = <a class=\"id\" href=\"#compat_alloc_user_space\">compat_alloc_user_space</a>(sizeof(*<a class=\"id\" href=\"#cmap\">cmap</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#cmap32\">cmap32</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#arg\">arg</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(&amp;<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#start\">start</a>, &amp;<a class=\"id\" href=\"#cmap32\">cmap32</a>-><a class=\"id\" href=\"#start\">start</a>, 2 * sizeof(<a class=\"id\" href=\"#__u32\">__u32</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#data\">data</a>, &amp;<a class=\"id\" href=\"#cmap32\">cmap32</a>-><a class=\"id\" href=\"#red\">red</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#data\">data</a>), &amp;<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#red\">red</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#data\">data</a>, &amp;<a class=\"id\" href=\"#cmap32\">cmap32</a>-><a class=\"id\" href=\"#green\">green</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#data\">data</a>), &amp;<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#green\">green</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#data\">data</a>, &amp;<a class=\"id\" href=\"#cmap32\">cmap32</a>-><a class=\"id\" href=\"#blue\">blue</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#data\">data</a>), &amp;<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#blue\">blue</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#get_user\">get_user</a>(<a class=\"id\" href=\"#data\">data</a>, &amp;<a class=\"id\" href=\"#cmap32\">cmap32</a>-><a class=\"id\" href=\"#transp\">transp</a>) ||", 
"<span class=\"ts\"/>    <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#data\">data</a>), &amp;<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#transp\">transp</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#do_fb_ioctl\">do_fb_ioctl</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, (unsigned long) <a class=\"id\" href=\"#cmap\">cmap</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#err\">err</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#copy_in_user\">copy_in_user</a>(&amp;<a class=\"id\" href=\"#cmap32\">cmap32</a>-><a class=\"id\" href=\"#start\">start</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> &amp;<a class=\"id\" href=\"#cmap\">cmap</a>-><a class=\"id\" href=\"#start\">start</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> 2 * sizeof(<a class=\"id\" href=\"#__u32\">__u32</a>)))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = -<a class=\"id\" href=\"#EFAULT\">EFAULT</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#do_fscreeninfo_to_user\">do_fscreeninfo_to_user</a>(struct <a class=\"id\" href=\"#fb_fix_screeninfo\">fb_fix_screeninfo</a> *<a class=\"id\" href=\"#fix\">fix</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>  struct <a class=\"id\" href=\"#fb_fix_screeninfo32\">fb_fix_screeninfo32</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#fix32\">fix32</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#__u32\">__u32</a> <a class=\"id\" href=\"#data\">data</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(&amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#id\">id</a>, &amp;<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#id\">id</a>, sizeof(<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#id\">id</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#data\">data</a> = (<a class=\"id\" href=\"#__u32\">__u32</a>) (unsigned long) <a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#smem_start\">smem_start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#data\">data</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#smem_start\">smem_start</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#smem_len\">smem_len</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#smem_len\">smem_len</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#type\">type</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#type\">type</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#type_aux\">type_aux</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#type_aux\">type_aux</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#visual\">visual</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#visual\">visual</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#xpanstep\">xpanstep</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#xpanstep\">xpanstep</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#ypanstep\">ypanstep</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#ypanstep\">ypanstep</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#ywrapstep\">ywrapstep</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#ywrapstep\">ywrapstep</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#line_length\">line_length</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#line_length\">line_length</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#data\">data</a> = (<a class=\"id\" href=\"#__u32\">__u32</a>) (unsigned long) <a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#mmio_start\">mmio_start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#data\">data</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#mmio_start\">mmio_start</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#mmio_len\">mmio_len</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#mmio_len\">mmio_len</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#put_user\">put_user</a>(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#accel\">accel</a>, &amp;<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#accel\">accel</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> |= <a class=\"id\" href=\"#copy_to_user\">copy_to_user</a>(<a class=\"id\" href=\"#fix32\">fix32</a>-><a class=\"id\" href=\"#reserved\">reserved</a>, <a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#reserved\">reserved</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    sizeof(<a class=\"id\" href=\"#fix\">fix</a>-><a class=\"id\" href=\"#reserved\">reserved</a>));", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static int <a class=\"id\" href=\"#fb_get_fscreeninfo\">fb_get_fscreeninfo</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>      unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mm_segment_t\">mm_segment_t</a> <a class=\"id\" href=\"#old_fs\">old_fs</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_fix_screeninfo\">fb_fix_screeninfo</a> <a class=\"id\" href=\"#fix\">fix</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_fix_screeninfo32\">fb_fix_screeninfo32</a> <a class=\"id\" href=\"#__user\">__user</a> *<a class=\"id\" href=\"#fix32\">fix32</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fix32\">fix32</a> = <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#arg\">arg</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#old_fs\">old_fs</a> = <a class=\"id\" href=\"#get_fs\">get_fs</a>();", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#KERNEL_DS\">KERNEL_DS</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#do_fb_ioctl\">do_fb_ioctl</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, (unsigned long) &amp;<a class=\"id\" href=\"#fix\">fix</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#set_fs\">set_fs</a>(<a class=\"id\" href=\"#old_fs\">old_fs</a>);", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#err\">err</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#do_fscreeninfo_to_user\">do_fscreeninfo_to_user</a>(&amp;<a class=\"id\" href=\"#fix\">fix</a>, <a class=\"id\" href=\"#fix32\">fix32</a>);", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static long <a class=\"id\" href=\"#fb_compat_ioctl\">fb_compat_ioctl</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, unsigned int <a class=\"id\" href=\"#cmd\">cmd</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    unsigned long <a class=\"id\" href=\"#arg\">arg</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a> = <a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#f_path\">f_path</a>.<a class=\"id\" href=\"#dentry\">dentry</a>-><a class=\"id\" href=\"#d_inode\">d_inode</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#fbidx\">fbidx</a> = <a class=\"id\" href=\"#iminor\">iminor</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#fbidx\">fbidx</a>];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_ops\">fb_ops</a> *<a class=\"id\" href=\"#fb\">fb</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>;", 
"<span class=\"ts\"/>long <a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#ENOIOCTLCMD\">ENOIOCTLCMD</a>;", 
"", 
"<span class=\"ts\"/>switch(<a class=\"id\" href=\"#cmd\">cmd</a>) {", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOGET_VSCREENINFO\">FBIOGET_VSCREENINFO</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOPUT_VSCREENINFO\">FBIOPUT_VSCREENINFO</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOPAN_DISPLAY\">FBIOPAN_DISPLAY</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOGET_CON2FBMAP\">FBIOGET_CON2FBMAP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOPUT_CON2FBMAP\">FBIOPUT_CON2FBMAP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#arg\">arg</a> = (unsigned long) <a class=\"id\" href=\"#compat_ptr\">compat_ptr</a>(<a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOBLANK\">FBIOBLANK</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#do_fb_ioctl\">do_fb_ioctl</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOGET_FSCREENINFO\">FBIOGET_FSCREENINFO</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb_get_fscreeninfo\">fb_get_fscreeninfo</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOGETCMAP\">FBIOGETCMAP</a>:", 
"<span class=\"ts\"/>case <a class=\"id\" href=\"#FBIOPUTCMAP\">FBIOPUTCMAP</a>:", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb_getput_cmap\">fb_getput_cmap</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"", 
"<span class=\"ts\"/>default:", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#fb\">fb</a>-><a class=\"id\" href=\"#fb_compat_ioctl\">fb_compat_ioctl</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb\">fb</a>-><a class=\"id\" href=\"#fb_compat_ioctl\">fb_compat_ioctl</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#cmd\">cmd</a>, <a class=\"id\" href=\"#arg\">arg</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"static int", 
"<a class=\"id\" href=\"#fb_mmap\">fb_mmap</a>(struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>, struct <a class=\"id\" href=\"#vm_area_struct\">vm_area_struct</a> * <a class=\"id\" href=\"#vma\">vma</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#fbidx\">fbidx</a> = <a class=\"id\" href=\"#iminor\">iminor</a>(<a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#f_path\">f_path</a>.<a class=\"id\" href=\"#dentry\">dentry</a>-><a class=\"id\" href=\"#d_inode\">d_inode</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#fbidx\">fbidx</a>];", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_ops\">fb_ops</a> *<a class=\"id\" href=\"#fb\">fb</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#off\">off</a>;", 
"<span class=\"ts\"/>unsigned long <a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#u32\">u32</a> <a class=\"id\" href=\"#len\">len</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_pgoff\">vm_pgoff</a> &gt; (~0UL >> <a class=\"id\" href=\"#PAGE_SHIFT\">PAGE_SHIFT</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#off\">off</a> = <a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_pgoff\">vm_pgoff</a> << <a class=\"id\" href=\"#PAGE_SHIFT\">PAGE_SHIFT</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#fb\">fb</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#mm_lock\">mm_lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fb\">fb</a>-><a class=\"id\" href=\"#fb_mmap\">fb_mmap</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>int <a class=\"id\" href=\"#res\">res</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#res\">res</a> = <a class=\"id\" href=\"#fb\">fb</a>-><a class=\"id\" href=\"#fb_mmap\">fb_mmap</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#vma\">vma</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#mm_lock\">mm_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#res\">res</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* frame buffer memory */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#start\">start</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#smem_start\">smem_start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#PAGE_ALIGN\">PAGE_ALIGN</a>((<a class=\"id\" href=\"#start\">start</a> &amp; ~<a class=\"id\" href=\"#PAGE_MASK\">PAGE_MASK</a>) + <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#smem_len\">smem_len</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#off\">off</a> >= <a class=\"id\" href=\"#len\">len</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* memory mapped io */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#off\">off</a> -= <a class=\"id\" href=\"#len\">len</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#accel_flags\">accel_flags</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#mm_lock\">mm_lock</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#start\">start</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#mmio_start\">mmio_start</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#len\">len</a> = <a class=\"id\" href=\"#PAGE_ALIGN\">PAGE_ALIGN</a>((<a class=\"id\" href=\"#start\">start</a> &amp; ~<a class=\"id\" href=\"#PAGE_MASK\">PAGE_MASK</a>) + <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#mmio_len\">mmio_len</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#mm_lock\">mm_lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#start\">start</a> &= <a class=\"id\" href=\"#PAGE_MASK\">PAGE_MASK</a>;", 
"<span class=\"ts\"/>if ((<a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_end\">vm_end</a> - <a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_start\">vm_start</a> + <a class=\"id\" href=\"#off\">off</a>) &gt; <a class=\"id\" href=\"#len\">len</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#off\">off</a> += <a class=\"id\" href=\"#start\">start</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_pgoff\">vm_pgoff</a> = <a class=\"id\" href=\"#off\">off</a> >> <a class=\"id\" href=\"#PAGE_SHIFT\">PAGE_SHIFT</a>;", 
"<span class=\"ts\"/><span class=\"comment\">/* This is an IO map - tell maydump to skip this VMA */</span>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_flags\">vm_flags</a> |= <a class=\"id\" href=\"#VM_IO\">VM_IO</a> | <a class=\"id\" href=\"#VM_RESERVED\">VM_RESERVED</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_page_prot\">vm_page_prot</a> = <a class=\"id\" href=\"#vm_get_page_prot\">vm_get_page_prot</a>(<a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_flags\">vm_flags</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_pgprotect\">fb_pgprotect</a>(<a class=\"id\" href=\"#file\">file</a>, <a class=\"id\" href=\"#vma\">vma</a>, <a class=\"id\" href=\"#off\">off</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#io_remap_pfn_range\">io_remap_pfn_range</a>(<a class=\"id\" href=\"#vma\">vma</a>, <a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_start\">vm_start</a>, <a class=\"id\" href=\"#off\">off</a> >> <a class=\"id\" href=\"#PAGE_SHIFT\">PAGE_SHIFT</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_end\">vm_end</a> - <a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_start\">vm_start</a>, <a class=\"id\" href=\"#vma\">vma</a>-><a class=\"id\" href=\"#vm_page_prot\">vm_page_prot</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#EAGAIN\">EAGAIN</a>;", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static int", 
"<a class=\"id\" href=\"#fb_open\">fb_open</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>)", 
"<a class=\"id\" href=\"#__acquires\">__acquires</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#lock\">lock</a>)", 
"<a class=\"id\" href=\"#__releases\">__releases</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#lock\">lock</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#fbidx\">fbidx</a> = <a class=\"id\" href=\"#iminor\">iminor</a>(<a class=\"id\" href=\"#inode\">inode</a>);", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#res\">res</a> = 0;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fbidx\">fbidx</a> >= <a class=\"id\" href=\"#FB_MAX\">FB_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#fbidx\">fbidx</a>];", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#info\">info</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#request_module\">request_module</a>(\"fb%d\", <a class=\"id\" href=\"#fbidx\">fbidx</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#fbidx\">fbidx</a>];", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#info\">info</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#try_module_get\">try_module_get</a>(<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#owner\">owner</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#res\">res</a> = -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#out\">out</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#private_data\">private_data</a> = <a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_open\">fb_open</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#res\">res</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_open\">fb_open</a>(<a class=\"id\" href=\"#info\">info</a>,1);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#res\">res</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#module_put\">module_put</a>(<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#owner\">owner</a>);", 
"<span class=\"ts\"/>}", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_FB_DEFERRED_IO\">CONFIG_FB_DEFERRED_IO</a>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbdefio\">fbdefio</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_deferred_io_open\">fb_deferred_io_open</a>(<a class=\"id\" href=\"#info\">info</a>, <a class=\"id\" href=\"#inode\">inode</a>, <a class=\"id\" href=\"#file\">file</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<a class=\"id\" href=\"#out\">out</a>:", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#res\">res</a>;", 
"}", 
"", 
"static int ", 
"<a class=\"id\" href=\"#fb_release\">fb_release</a>(struct <a class=\"id\" href=\"#inode\">inode</a> *<a class=\"id\" href=\"#inode\">inode</a>, struct <a class=\"id\" href=\"#file\">file</a> *<a class=\"id\" href=\"#file\">file</a>)", 
"<a class=\"id\" href=\"#__acquires\">__acquires</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#lock\">lock</a>)", 
"<a class=\"id\" href=\"#__releases\">__releases</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#lock\">lock</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_info\">fb_info</a> * const <a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#file\">file</a>-><a class=\"id\" href=\"#private_data\">private_data</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_lock\">mutex_lock</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_release\">fb_release</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_release\">fb_release</a>(<a class=\"id\" href=\"#info\">info</a>,1);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#module_put\">module_put</a>(<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#owner\">owner</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_unlock\">mutex_unlock</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static const struct <a class=\"id\" href=\"#file_operations\">file_operations</a> <a class=\"id\" href=\"#fb_fops\">fb_fops</a> = {", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#owner\">owner</a> =<span class=\"ts\"/><a class=\"id\" href=\"#THIS_MODULE\">THIS_MODULE</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#read\">read</a> =<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_read\">fb_read</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#write\">write</a> =<span class=\"ts\"/><a class=\"id\" href=\"#fb_write\">fb_write</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#unlocked_ioctl\">unlocked_ioctl</a> = <a class=\"id\" href=\"#fb_ioctl\">fb_ioctl</a>,", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_COMPAT\">CONFIG_COMPAT</a>", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#compat_ioctl\">compat_ioctl</a> = <a class=\"id\" href=\"#fb_compat_ioctl\">fb_compat_ioctl</a>,", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#mmap\">mmap</a> =<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_mmap\">fb_mmap</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#open\">open</a> =<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_open\">fb_open</a>,", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#release\">release</a> =<span class=\"ts\"/><a class=\"id\" href=\"#fb_release\">fb_release</a>,", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#HAVE_ARCH_FB_UNMAPPED_AREA\">HAVE_ARCH_FB_UNMAPPED_AREA</a>", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#get_unmapped_area\">get_unmapped_area</a> = <a class=\"id\" href=\"#get_fb_unmapped_area\">get_fb_unmapped_area</a>,", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#CONFIG_FB_DEFERRED_IO\">CONFIG_FB_DEFERRED_IO</a>", 
"<span class=\"ts\"/>.<a class=\"id\" href=\"#fsync\">fsync</a> =<span class=\"ts\"/><a class=\"id\" href=\"#fb_deferred_io_fsync\">fb_deferred_io_fsync</a>,", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"};", 
"", 
"struct <a class=\"id\" href=\"#class\">class</a> *<a class=\"id\" href=\"#fb_class\">fb_class</a>;", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_class\">fb_class</a>);", 
"", 
"static int <a class=\"id\" href=\"#fb_check_foreignness\">fb_check_foreignness</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fi\">fi</a>)", 
"{", 
"<span class=\"ts\"/>const <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#foreign_endian\">foreign_endian</a> = <a class=\"id\" href=\"#fi\">fi</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#FBINFO_FOREIGN_ENDIAN\">FBINFO_FOREIGN_ENDIAN</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fi\">fi</a>-><a class=\"id\" href=\"#flags\">flags</a> &= ~<a class=\"id\" href=\"#FBINFO_FOREIGN_ENDIAN\">FBINFO_FOREIGN_ENDIAN</a>;", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#__BIG_ENDIAN\">__BIG_ENDIAN</a>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fi\">fi</a>-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#foreign_endian\">foreign_endian</a> ? 0 : <a class=\"id\" href=\"#FBINFO_BE_MATH\">FBINFO_BE_MATH</a>;", 
"#else", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fi\">fi</a>-><a class=\"id\" href=\"#flags\">flags</a> |= <a class=\"id\" href=\"#foreign_endian\">foreign_endian</a> ? <a class=\"id\" href=\"#FBINFO_BE_MATH\">FBINFO_BE_MATH</a> : 0;", 
"#<a class=\"id\" href=\"#endif\">endif</a> <span class=\"comment\">/* __BIG_ENDIAN */</span>", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fi\">fi</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#FBINFO_BE_MATH\">FBINFO_BE_MATH</a> && !<a class=\"id\" href=\"#fb_be_math\">fb_be_math</a>(<a class=\"id\" href=\"#fi\">fi</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_err\">pr_err</a>(\"%s: enable CONFIG_FB_BIG_ENDIAN to \"", 
"<span class=\"ts\"/><span class=\"ts\"/>       \"support this framebuffer\\n\", <a class=\"id\" href=\"#fi\">fi</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOSYS\">ENOSYS</a>;", 
"<span class=\"ts\"/>} else if (!(<a class=\"id\" href=\"#fi\">fi</a>-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#FBINFO_BE_MATH\">FBINFO_BE_MATH</a>) && <a class=\"id\" href=\"#fb_be_math\">fb_be_math</a>(<a class=\"id\" href=\"#fi\">fi</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#pr_err\">pr_err</a>(\"%s: enable CONFIG_FB_LITTLE_ENDIAN to \"", 
"<span class=\"ts\"/><span class=\"ts\"/>       \"support this framebuffer\\n\", <a class=\"id\" href=\"#fi\">fi</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOSYS\">ENOSYS</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"static <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#apertures_overlap\">apertures_overlap</a>(struct <a class=\"id\" href=\"#aperture\">aperture</a> *<a class=\"id\" href=\"#gen\">gen</a>, struct <a class=\"id\" href=\"#aperture\">aperture</a> *<a class=\"id\" href=\"#hw\">hw</a>)", 
"{", 
"<span class=\"ts\"/><span class=\"comment\">/* is the generic aperture base the same as the HW one */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gen\">gen</a>-><a class=\"id\" href=\"#base\">base</a> == <a class=\"id\" href=\"#hw\">hw</a>-><a class=\"id\" href=\"#base\">base</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#true\">true</a>;", 
"<span class=\"ts\"/><span class=\"comment\">/* is the generic aperture base inside the hw base-&gt;hw base+size */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#gen\">gen</a>-><a class=\"id\" href=\"#base\">base</a> &gt; <a class=\"id\" href=\"#hw\">hw</a>-><a class=\"id\" href=\"#base\">base</a> && <a class=\"id\" href=\"#gen\">gen</a>-><a class=\"id\" href=\"#base\">base</a> <= <a class=\"id\" href=\"#hw\">hw</a>-><a class=\"id\" href=\"#base\">base</a> + <a class=\"id\" href=\"#hw\">hw</a>-><a class=\"id\" href=\"#size\">size</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#true\">true</a>;", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#false\">false</a>;", 
"}", 
"", 
"static <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#fb_do_apertures_overlap\">fb_do_apertures_overlap</a>(struct <a class=\"id\" href=\"#apertures_struct\">apertures_struct</a> *<a class=\"id\" href=\"#gena\">gena</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    struct <a class=\"id\" href=\"#apertures_struct\">apertures_struct</a> *<a class=\"id\" href=\"#hwa\">hwa</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#j\">j</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#hwa\">hwa</a> || !<a class=\"id\" href=\"#gena\">gena</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#false\">false</a>;", 
"", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#hwa\">hwa</a>-><a class=\"id\" href=\"#count\">count</a>; ++<a class=\"id\" href=\"#i\">i</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#aperture\">aperture</a> *<a class=\"id\" href=\"#h\">h</a> = &amp;<a class=\"id\" href=\"#hwa\">hwa</a>-><a class=\"id\" href=\"#ranges\">ranges</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#j\">j</a> = 0; <a class=\"id\" href=\"#j\">j</a> &lt; <a class=\"id\" href=\"#gena\">gena</a>-><a class=\"id\" href=\"#count\">count</a>; ++<a class=\"id\" href=\"#j\">j</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#aperture\">aperture</a> *<a class=\"id\" href=\"#g\">g</a> = &amp;<a class=\"id\" href=\"#gena\">gena</a>-><a class=\"id\" href=\"#ranges\">ranges</a>[<a class=\"id\" href=\"#j\">j</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_DEBUG\">KERN_DEBUG</a> \"checking generic (%llx %llx) vs hw (%llx %llx)\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(unsigned long long)<a class=\"id\" href=\"#g\">g</a>-><a class=\"id\" href=\"#base\">base</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(unsigned long long)<a class=\"id\" href=\"#g\">g</a>-><a class=\"id\" href=\"#size\">size</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(unsigned long long)<a class=\"id\" href=\"#h\">h</a>-><a class=\"id\" href=\"#base\">base</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(unsigned long long)<a class=\"id\" href=\"#h\">h</a>-><a class=\"id\" href=\"#size\">size</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#apertures_overlap\">apertures_overlap</a>(<a class=\"id\" href=\"#g\">g</a>, <a class=\"id\" href=\"#h\">h</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return <a class=\"id\" href=\"#true\">true</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#false\">false</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#define\">define</a> <a class=\"id\" href=\"#VGA_FB_PHYS\">VGA_FB_PHYS</a> 0xA0000", 
"void <a class=\"id\" href=\"#remove_conflicting_framebuffers\">remove_conflicting_framebuffers</a>(struct <a class=\"id\" href=\"#apertures_struct\">apertures_struct</a> *<a class=\"id\" href=\"#a\">a</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     const char *<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#bool\">bool</a> <a class=\"id\" href=\"#primary\">primary</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* check all firmware fbs and kick off if the base addr overlaps */</span>", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0 ; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#FB_MAX\">FB_MAX</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/>struct <a class=\"id\" href=\"#apertures_struct\">apertures_struct</a> *<a class=\"id\" href=\"#gen_aper\">gen_aper</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#i\">i</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!(<a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#i\">i</a>]-><a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#FBINFO_MISC_FIRMWARE\">FBINFO_MISC_FIRMWARE</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#gen_aper\">gen_aper</a> = <a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#i\">i</a>]-><a class=\"id\" href=\"#apertures\">apertures</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#fb_do_apertures_overlap\">fb_do_apertures_overlap</a>(<a class=\"id\" href=\"#gen_aper\">gen_aper</a>, <a class=\"id\" href=\"#a\">a</a>) ||", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>(<a class=\"id\" href=\"#primary\">primary</a> && <a class=\"id\" href=\"#gen_aper\">gen_aper</a> && <a class=\"id\" href=\"#gen_aper\">gen_aper</a>-><a class=\"id\" href=\"#count\">count</a> &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#gen_aper\">gen_aper</a>-><a class=\"id\" href=\"#ranges\">ranges</a>[0].<a class=\"id\" href=\"#base\">base</a> == <a class=\"id\" href=\"#VGA_FB_PHYS\">VGA_FB_PHYS</a>)) {", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_ERR\">KERN_ERR</a> \"fb: conflicting fb hw usage \"", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       \"%s vs %s - removing generic driver\\n\",", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>       <a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#i\">i</a>]-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#id\">id</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unregister_framebuffer\">unregister_framebuffer</a>(<a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#i\">i</a>]);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"}", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#remove_conflicting_framebuffers\">remove_conflicting_framebuffers</a>);", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>register_framebuffer - registers a frame buffer device</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@fb_info: frame buffer info structure</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Registers a frame buffer device @fb_info.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Returns negative errno on error, or zero for success.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"int", 
"<a class=\"id\" href=\"#register_framebuffer\">register_framebuffer</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_event\">fb_event</a> <a class=\"id\" href=\"#event\">event</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> <a class=\"id\" href=\"#mode\">mode</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#num_registered_fb\">num_registered_fb</a> == <a class=\"id\" href=\"#FB_MAX\">FB_MAX</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENXIO\">ENXIO</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fb_check_foreignness\">fb_check_foreignness</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENOSYS\">ENOSYS</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#remove_conflicting_framebuffers\">remove_conflicting_framebuffers</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#apertures\">apertures</a>, <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#fix\">fix</a>.<a class=\"id\" href=\"#id\">id</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/> <a class=\"id\" href=\"#fb_is_primary_device\">fb_is_primary_device</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>));", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#num_registered_fb\">num_registered_fb</a>++;", 
"<span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0 ; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#FB_MAX\">FB_MAX</a>; <a class=\"id\" href=\"#i\">i</a>++)", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#i\">i</a>])", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#node\">node</a> = <a class=\"id\" href=\"#i\">i</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_init\">mutex_init</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#lock\">lock</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#mutex_init\">mutex_init</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#mm_lock\">mm_lock</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#device_create\">device_create</a>(<a class=\"id\" href=\"#fb_class\">fb_class</a>, <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#device\">device</a>,", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>     <a class=\"id\" href=\"#MKDEV\">MKDEV</a>(<a class=\"id\" href=\"#FB_MAJOR\">FB_MAJOR</a>, <a class=\"id\" href=\"#i\">i</a>), <a class=\"id\" href=\"#NULL\">NULL</a>, \"fb%d\", <a class=\"id\" href=\"#i\">i</a>);", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#dev\">dev</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"comment\">/* Not fatal */</span>", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> \"Unable to create device for framebuffer %d; errno = %ld\\n\", <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#dev\">dev</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#dev\">dev</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>} else", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_init_device\">fb_init_device</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#addr\">addr</a> == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#addr\">addr</a> = <a class=\"id\" href=\"#kmalloc\">kmalloc</a>(<a class=\"id\" href=\"#FBPIXMAPSIZE\">FBPIXMAPSIZE</a>, <a class=\"id\" href=\"#GFP_KERNEL\">GFP_KERNEL</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#addr\">addr</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#size\">size</a> = <a class=\"id\" href=\"#FBPIXMAPSIZE\">FBPIXMAPSIZE</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#buf_align\">buf_align</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#scan_align\">scan_align</a> = 1;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#access_align\">access_align</a> = 32;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#flags\">flags</a> = <a class=\"id\" href=\"#FB_PIXMAP_DEFAULT\">FB_PIXMAP_DEFAULT</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}<span class=\"ts\"/>", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#offset\">offset</a> = 0;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#blit_x\">blit_x</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#blit_x\">blit_x</a> = ~(<a class=\"id\" href=\"#u32\">u32</a>)0;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#blit_y\">blit_y</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#blit_y\">blit_y</a> = ~(<a class=\"id\" href=\"#u32\">u32</a>)0;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>.<a class=\"id\" href=\"#prev\">prev</a> || !<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>.<a class=\"id\" href=\"#next\">next</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#INIT_LIST_HEAD\">INIT_LIST_HEAD</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_var_to_videomode\">fb_var_to_videomode</a>(&amp;<a class=\"id\" href=\"#mode\">mode</a>, &amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#var\">var</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_add_videomode\">fb_add_videomode</a>(&amp;<a class=\"id\" href=\"#mode\">mode</a>, &amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#i\">i</a>] = <a class=\"id\" href=\"#fb_info\">fb_info</a>;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#fb_info\">fb_info</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_notifier_call_chain\">fb_notifier_call_chain</a>(<a class=\"id\" href=\"#FB_EVENT_FB_REGISTERED\">FB_EVENT_FB_REGISTERED</a>, &amp;<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>);", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>unregister_framebuffer - releases a frame buffer device</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@fb_info: frame buffer info structure</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Unregisters a frame buffer device @fb_info.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Returns negative errno on error, or zero for success.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *      This function will also notify the framebuffer console</span>", 
"<span class=\"comment\"> *      to release the driver.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *      This is meant to be called within a driver's module_exit()</span>", 
"<span class=\"comment\"> *      function. If this is called outside module_exit(), ensure</span>", 
"<span class=\"comment\"> *      that the driver implements fb_open() and fb_release() to</span>", 
"<span class=\"comment\"> *      check that no processes are using the device.</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"int", 
"<a class=\"id\" href=\"#unregister_framebuffer\">unregister_framebuffer</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#fb_info\">fb_info</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_event\">fb_event</a> <a class=\"id\" href=\"#event\">event</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#ret\">ret</a> = 0;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#i\">i</a> = <a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#node\">node</a>;", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#i\">i</a>]) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"<span class=\"ts\"/>}", 
"", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#fb_info\">fb_info</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = <a class=\"id\" href=\"#fb_notifier_call_chain\">fb_notifier_call_chain</a>(<a class=\"id\" href=\"#FB_EVENT_FB_UNBIND\">FB_EVENT_FB_UNBIND</a>, &amp;<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#ret\">ret</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ret\">ret</a> = -<a class=\"id\" href=\"#EINVAL\">EINVAL</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/>goto <a class=\"id\" href=\"#done\">done</a>;", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#addr\">addr</a> &&", 
"<span class=\"ts\"/>    (<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#flags\">flags</a> &amp; <a class=\"id\" href=\"#FB_PIXMAP_DEFAULT\">FB_PIXMAP_DEFAULT</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#pixmap\">pixmap</a>.<a class=\"id\" href=\"#addr\">addr</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_destroy_modelist\">fb_destroy_modelist</a>(&amp;<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#registered_fb\">registered_fb</a>[<a class=\"id\" href=\"#i\">i</a>]=<a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#num_registered_fb\">num_registered_fb</a>--;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_cleanup_device\">fb_cleanup_device</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#device_destroy\">device_destroy</a>(<a class=\"id\" href=\"#fb_class\">fb_class</a>, <a class=\"id\" href=\"#MKDEV\">MKDEV</a>(<a class=\"id\" href=\"#FB_MAJOR\">FB_MAJOR</a>, <a class=\"id\" href=\"#i\">i</a>));", 
"<span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#fb_info\">fb_info</a>;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_notifier_call_chain\">fb_notifier_call_chain</a>(<a class=\"id\" href=\"#FB_EVENT_FB_UNREGISTERED\">FB_EVENT_FB_UNREGISTERED</a>, &amp;<a class=\"id\" href=\"#event\">event</a>);", 
"", 
"<span class=\"ts\"/><span class=\"comment\">/* this may free fb info */</span>", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_destroy\">fb_destroy</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_info\">fb_info</a>-><a class=\"id\" href=\"#fbops\">fbops</a>-><a class=\"id\" href=\"#fb_destroy\">fb_destroy</a>(<a class=\"id\" href=\"#fb_info\">fb_info</a>);", 
"<a class=\"id\" href=\"#done\">done</a>:", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#ret\">ret</a>;", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>fb_set_suspend - low level driver signals suspend</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@info: framebuffer affected</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@state: 0 = resuming, !=0 = suspending</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>This is meant to be used by low level drivers to</span>", 
"<span class=\"comment\"> * <span class=\"ts\"/>signal suspend/resume to the core &amp; clients.</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>It must be called with the console semaphore held</span>", 
"<span class=\"comment\"> */</span>", 
"void <a class=\"id\" href=\"#fb_set_suspend\">fb_set_suspend</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>, int <a class=\"id\" href=\"#state\">state</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_event\">fb_event</a> <a class=\"id\" href=\"#event\">event</a>;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/>return;", 
"<span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#state\">state</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_notifier_call_chain\">fb_notifier_call_chain</a>(<a class=\"id\" href=\"#FB_EVENT_SUSPEND\">FB_EVENT_SUSPEND</a>, &amp;<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#state\">state</a> = <a class=\"id\" href=\"#FBINFO_STATE_SUSPENDED\">FBINFO_STATE_SUSPENDED</a>;", 
"<span class=\"ts\"/>} else {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#state\">state</a> = <a class=\"id\" href=\"#FBINFO_STATE_RUNNING\">FBINFO_STATE_RUNNING</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_notifier_call_chain\">fb_notifier_call_chain</a>(<a class=\"id\" href=\"#FB_EVENT_RESUME\">FB_EVENT_RESUME</a>, &amp;<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"}", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>fbmem_init - init frame buffer subsystem</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Initialize the frame buffer subsystem.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>NOTE: This function is _only_ to be called by drivers/char/mem.c.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"", 
"static int <a class=\"id\" href=\"#__init\">__init</a>", 
"<a class=\"id\" href=\"#fbmem_init\">fbmem_init</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#proc_create\">proc_create</a>(\"fb\", 0, <a class=\"id\" href=\"#NULL\">NULL</a>, &amp;<a class=\"id\" href=\"#fb_proc_fops\">fb_proc_fops</a>);", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#register_chrdev\">register_chrdev</a>(<a class=\"id\" href=\"#FB_MAJOR\">FB_MAJOR</a>,\"fb\",&amp;<a class=\"id\" href=\"#fb_fops\">fb_fops</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(\"unable to get major %d for fb devs\\n\", <a class=\"id\" href=\"#FB_MAJOR\">FB_MAJOR</a>);", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#fb_class\">fb_class</a> = <a class=\"id\" href=\"#class_create\">class_create</a>(<a class=\"id\" href=\"#THIS_MODULE\">THIS_MODULE</a>, \"graphics\");", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#IS_ERR\">IS_ERR</a>(<a class=\"id\" href=\"#fb_class\">fb_class</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#printk\">printk</a>(<a class=\"id\" href=\"#KERN_WARNING\">KERN_WARNING</a> \"Unable to create fb class; errno = %ld\\n\", <a class=\"id\" href=\"#PTR_ERR\">PTR_ERR</a>(<a class=\"id\" href=\"#fb_class\">fb_class</a>));", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_class\">fb_class</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>return 0;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifdef\">ifdef</a> <a class=\"id\" href=\"#MODULE\">MODULE</a>", 
"<a class=\"id\" href=\"#module_init\">module_init</a>(<a class=\"id\" href=\"#fbmem_init\">fbmem_init</a>);", 
"static void <a class=\"id\" href=\"#__exit\">__exit</a>", 
"<a class=\"id\" href=\"#fbmem_exit\">fbmem_exit</a>(void)", 
"{", 
"<span class=\"ts\"/><a class=\"id\" href=\"#remove_proc_entry\">remove_proc_entry</a>(\"fb\", <a class=\"id\" href=\"#NULL\">NULL</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#class_destroy\">class_destroy</a>(<a class=\"id\" href=\"#fb_class\">fb_class</a>);", 
"<span class=\"ts\"/><a class=\"id\" href=\"#unregister_chrdev\">unregister_chrdev</a>(<a class=\"id\" href=\"#FB_MAJOR\">FB_MAJOR</a>, \"fb\");", 
"}", 
"", 
"<a class=\"id\" href=\"#module_exit\">module_exit</a>(<a class=\"id\" href=\"#fbmem_exit\">fbmem_exit</a>);", 
"<a class=\"id\" href=\"#MODULE_LICENSE\">MODULE_LICENSE</a>(\"GPL\");", 
"<a class=\"id\" href=\"#MODULE_DESCRIPTION\">MODULE_DESCRIPTION</a>(\"Framebuffer base\");", 
"#else", 
"<a class=\"id\" href=\"#subsys_initcall\">subsys_initcall</a>(<a class=\"id\" href=\"#fbmem_init\">fbmem_init</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"int <a class=\"id\" href=\"#fb_new_modelist\">fb_new_modelist</a>(struct <a class=\"id\" href=\"#fb_info\">fb_info</a> *<a class=\"id\" href=\"#info\">info</a>)", 
"{", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_event\">fb_event</a> <a class=\"id\" href=\"#event\">event</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_var_screeninfo\">fb_var_screeninfo</a> <a class=\"id\" href=\"#var\">var</a> = <a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#var\">var</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#list_head\">list_head</a> *<a class=\"id\" href=\"#pos\">pos</a>, *<a class=\"id\" href=\"#n\">n</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_modelist\">fb_modelist</a> *<a class=\"id\" href=\"#modelist\">modelist</a>;", 
"<span class=\"ts\"/>struct <a class=\"id\" href=\"#fb_videomode\">fb_videomode</a> *<a class=\"id\" href=\"#m\">m</a>, <a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#err\">err</a> = 1;", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#list_for_each_safe\">list_for_each_safe</a>(<a class=\"id\" href=\"#pos\">pos</a>, <a class=\"id\" href=\"#n\">n</a>, &amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#modelist\">modelist</a> = <a class=\"id\" href=\"#list_entry\">list_entry</a>(<a class=\"id\" href=\"#pos\">pos</a>, struct <a class=\"id\" href=\"#fb_modelist\">fb_modelist</a>, <a class=\"id\" href=\"#list\">list</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#m\">m</a> = &amp;<a class=\"id\" href=\"#modelist\">modelist</a>-><a class=\"id\" href=\"#mode\">mode</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_videomode_to_var\">fb_videomode_to_var</a>(&amp;<a class=\"id\" href=\"#var\">var</a>, <a class=\"id\" href=\"#m\">m</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#var\">var</a>.<a class=\"id\" href=\"#activate\">activate</a> = <a class=\"id\" href=\"#FB_ACTIVATE_TEST\">FB_ACTIVATE_TEST</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#fb_set_var\">fb_set_var</a>(<a class=\"id\" href=\"#info\">info</a>, &amp;<a class=\"id\" href=\"#var\">var</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_var_to_videomode\">fb_var_to_videomode</a>(&amp;<a class=\"id\" href=\"#mode\">mode</a>, &amp;<a class=\"id\" href=\"#var\">var</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#err\">err</a> || !<a class=\"id\" href=\"#fb_mode_is_equal\">fb_mode_is_equal</a>(<a class=\"id\" href=\"#m\">m</a>, &amp;<a class=\"id\" href=\"#mode\">mode</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#list_del\">list_del</a>(<a class=\"id\" href=\"#pos\">pos</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#kfree\">kfree</a>(<a class=\"id\" href=\"#pos\">pos</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = 1;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#list_empty\">list_empty</a>(&amp;<a class=\"id\" href=\"#info\">info</a>-><a class=\"id\" href=\"#modelist\">modelist</a>)) {", 
"<span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#lock_fb_info\">lock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>))", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>return -<a class=\"id\" href=\"#ENODEV\">ENODEV</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#event\">event</a>.<a class=\"id\" href=\"#info\">info</a> = <a class=\"id\" href=\"#info\">info</a>;", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#err\">err</a> = <a class=\"id\" href=\"#fb_notifier_call_chain\">fb_notifier_call_chain</a>(<a class=\"id\" href=\"#FB_EVENT_NEW_MODELIST\">FB_EVENT_NEW_MODELIST</a>, &amp;<a class=\"id\" href=\"#event\">event</a>);", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#unlock_fb_info\">unlock_fb_info</a>(<a class=\"id\" href=\"#info\">info</a>);", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#err\">err</a>;", 
"}", 
"", 
"static char *<a class=\"id\" href=\"#video_options\">video_options</a>[<a class=\"id\" href=\"#FB_MAX\">FB_MAX</a>] <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a>;", 
"static int <a class=\"id\" href=\"#ofonly\">ofonly</a> <a class=\"id\" href=\"#__read_mostly\">__read_mostly</a>;", 
"", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> * fb_get_options - get kernel boot parameters</span>", 
"<span class=\"comment\"> * @name:   framebuffer name as it would appear in</span>", 
"<span class=\"comment\"> *          the boot parameter line</span>", 
"<span class=\"comment\"> *          (video=&lt;name&gt;:&lt;options&gt;)</span>", 
"<span class=\"comment\"> * @option: the option will be stored here</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> * NOTE: Needed to maintain backwards compatibility</span>", 
"<span class=\"comment\"> */</span>", 
"int <a class=\"id\" href=\"#fb_get_options\">fb_get_options</a>(char *<a class=\"id\" href=\"#name\">name</a>, char **<a class=\"id\" href=\"#option\">option</a>)", 
"{", 
"<span class=\"ts\"/>char *<a class=\"id\" href=\"#opt\">opt</a>, *<a class=\"id\" href=\"#options\">options</a> = <a class=\"id\" href=\"#NULL\">NULL</a>;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#retval\">retval</a> = 0;", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#name_len\">name_len</a> = <a class=\"id\" href=\"#strlen\">strlen</a>(<a class=\"id\" href=\"#name\">name</a>), <a class=\"id\" href=\"#i\">i</a>;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#name_len\">name_len</a> && <a class=\"id\" href=\"#ofonly\">ofonly</a> && <a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#name\">name</a>, \"offb\", 4))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = 1;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#name_len\">name_len</a> && !<a class=\"id\" href=\"#retval\">retval</a>) {", 
"<span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#FB_MAX\">FB_MAX</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#video_options\">video_options</a>[<a class=\"id\" href=\"#i\">i</a>] == <a class=\"id\" href=\"#NULL\">NULL</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#video_options\">video_options</a>[<a class=\"id\" href=\"#i\">i</a>][0])", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>continue;", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#opt\">opt</a> = <a class=\"id\" href=\"#video_options\">video_options</a>[<a class=\"id\" href=\"#i\">i</a>];", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (!<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#name\">name</a>, <a class=\"id\" href=\"#opt\">opt</a>, <a class=\"id\" href=\"#name_len\">name_len</a>) &&", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>    <a class=\"id\" href=\"#opt\">opt</a>[<a class=\"id\" href=\"#name_len\">name_len</a>] == ':')", 
"<span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#options\">options</a> = <a class=\"id\" href=\"#opt\">opt</a> + <a class=\"id\" href=\"#name_len\">name_len</a> + 1;", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#options\">options</a> && !<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#options\">options</a>, \"off\", 3))", 
"<span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#retval\">retval</a> = 1;", 
"", 
"<span class=\"ts\"/>if (<a class=\"id\" href=\"#option\">option</a>)", 
"<span class=\"ts\"/><span class=\"ts\"/>*<a class=\"id\" href=\"#option\">option</a> = <a class=\"id\" href=\"#options\">options</a>;", 
"", 
"<span class=\"ts\"/>return <a class=\"id\" href=\"#retval\">retval</a>;", 
"}", 
"", 
"#<a class=\"id\" href=\"#ifndef\">ifndef</a> <a class=\"id\" href=\"#MODULE\">MODULE</a>", 
"<span class=\"comment\">/**</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>video_setup - process command line options</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>@options: string of options</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Process command line options for frame buffer subsystem.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>NOTE: This function is a __setup and __init function.</span>", 
"<span class=\"comment\"> *            It only stores the options.  Drivers have to call</span>", 
"<span class=\"comment\"> *            fb_get_options() as necessary.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> *<span class=\"ts\"/>Returns zero.</span>", 
"<span class=\"comment\"> *</span>", 
"<span class=\"comment\"> */</span>", 
"static int <a class=\"id\" href=\"#__init\">__init</a> <a class=\"id\" href=\"#video_setup\">video_setup</a>(char *<a class=\"id\" href=\"#options\">options</a>)", 
"{", 
"<span class=\"ts\"/>int <a class=\"id\" href=\"#i\">i</a>, <a class=\"id\" href=\"#global\">global</a> = 0;", 
"", 
"<span class=\"ts\"/>if (!<a class=\"id\" href=\"#options\">options</a> || !*<a class=\"id\" href=\"#options\">options</a>)", 
" <span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#global\">global</a> = 1;", 
"", 
" <span class=\"ts\"/>if (!<a class=\"id\" href=\"#global\">global</a> && !<a class=\"id\" href=\"#strncmp\">strncmp</a>(<a class=\"id\" href=\"#options\">options</a>, \"ofonly\", 6)) {", 
" <span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#ofonly\">ofonly</a> = 1;", 
" <span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#global\">global</a> = 1;", 
" <span class=\"ts\"/>}", 
"", 
" <span class=\"ts\"/>if (!<a class=\"id\" href=\"#global\">global</a> && !<a class=\"id\" href=\"#strchr\">strchr</a>(<a class=\"id\" href=\"#options\">options</a>, ':')) {", 
" <span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#fb_mode_option\">fb_mode_option</a> = <a class=\"id\" href=\"#options\">options</a>;", 
" <span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#global\">global</a> = 1;", 
" <span class=\"ts\"/>}", 
"", 
" <span class=\"ts\"/>if (!<a class=\"id\" href=\"#global\">global</a>) {", 
" <span class=\"ts\"/><span class=\"ts\"/>for (<a class=\"id\" href=\"#i\">i</a> = 0; <a class=\"id\" href=\"#i\">i</a> &lt; <a class=\"id\" href=\"#FB_MAX\">FB_MAX</a>; <a class=\"id\" href=\"#i\">i</a>++) {", 
" <span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>if (<a class=\"id\" href=\"#video_options\">video_options</a>[<a class=\"id\" href=\"#i\">i</a>] == <a class=\"id\" href=\"#NULL\">NULL</a>) {", 
" <span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><a class=\"id\" href=\"#video_options\">video_options</a>[<a class=\"id\" href=\"#i\">i</a>] = <a class=\"id\" href=\"#options\">options</a>;", 
" <span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>break;", 
" <span class=\"ts\"/><span class=\"ts\"/><span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/><span class=\"ts\"/>}", 
"<span class=\"ts\"/>}", 
"", 
"<span class=\"ts\"/>return 1;", 
"}", 
"<a class=\"id\" href=\"#__setup\">__setup</a>(\"video=\", <a class=\"id\" href=\"#video_setup\">video_setup</a>);", 
"#<a class=\"id\" href=\"#endif\">endif</a>", 
"", 
"    <span class=\"comment\">/*</span>", 
"<span class=\"comment\">     *  Visible symbols for modules</span>", 
"<span class=\"comment\">     */</span>", 
"", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#register_framebuffer\">register_framebuffer</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#unregister_framebuffer\">unregister_framebuffer</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#num_registered_fb\">num_registered_fb</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#registered_fb\">registered_fb</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_show_logo\">fb_show_logo</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_set_var\">fb_set_var</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_blank\">fb_blank</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_pan_display\">fb_pan_display</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_get_buffer_offset\">fb_get_buffer_offset</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_set_suspend\">fb_set_suspend</a>);", 
"<a class=\"id\" href=\"#EXPORT_SYMBOL\">EXPORT_SYMBOL</a>(<a class=\"id\" href=\"#fb_get_options\">fb_get_options</a>);", 
"", 
"<a class=\"id\" href=\"#MODULE_LICENSE\">MODULE_LICENSE</a>(\"GPL\");", 
];
xr_frag_insert('l/fd/3bda590198fe51950404087e60376c5097a0ac.xr', __xr_tmp);
